/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	__webpack_require__(1);
	__webpack_require__(2);
	__webpack_require__(19);
	__webpack_require__(20);
	var config_1 = __webpack_require__(21);
	var i18n_1 = __webpack_require__(22);
	var application_service_1 = __webpack_require__(24);
	var feedback_app_1 = __webpack_require__(47);
	var mock_backend_1 = __webpack_require__(112);
	var mockData = __webpack_require__(113);
	exports.feedbackPluginModule = function ($, window, document) {
	    $.fn.feedbackPlugin = function (options) {
	        if ($.fn.droppable === undefined) {
	            $.getScript('https://platform.supersede.eu/web_library/senercon/dist/jquery.ui.droppable.js');
	        }
	        var button = this;
	        var options = $.extend({}, $.fn.feedbackPlugin.defaults, options);
	        var mockBackend = new mock_backend_1.MockBackend(mockData);
	        i18n_1.I18nHelper.initializeI18n(options, function (language) {
	            var applicationService = new application_service_1.ApplicationService(options.apiEndpointOrchestrator, language);
	            exports.feedbackApp = new feedback_app_1.FeedbackApp(applicationService, options.applicationId, options, button);
	            exports.feedbackApp.loadApplicationConfiguration();
	        });
	        return this;
	    };
	    $.fn.feedbackPlugin.defaults = {
	        'color': '#ffffff',
	        'lang': 'de',
	        'fallbackLang': 'en',
	        'localesOverride': null,
	        'backgroundColor': '#7c9009',
	        'distPath': 'dist/',
	        'userId': '',
	        'dialogCSSClass': 'feedback-dialog',
	        'colorPickerCSSClass': 'color-picker',
	        'defaultStrokeWidth': 4,
	        'dialogPositionMy': 'center top',
	        'dialogPositionAt': 'center top+30',
	        'dialogPositionOf': window,
	        'apiEndpointOrchestrator': config_1.apiEndpointOrchestrator,
	        'apiEndpointRepository': config_1.apiEndpointRepository,
	        'applicationId': config_1.applicationId
	    };
	};
	(function ($, window, document) {
	    exports.feedbackPluginModule($, window, document);
	})(jQuery, window, document);
	;;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9qcy9qcXVlcnkuZmVlZGJhY2sudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSxzREFBb0Q7QUFDcEQsNkJBQTJCO0FBQzNCLHNDQUFvQztBQUNwQywrQkFBNkI7QUFDN0IsbUNBQXVGO0FBQ3ZGLHVDQUEwQztBQUUxQyx1RUFBbUU7QUFHbkUsK0NBQTJDO0FBQzNDLGtFQUE4RDtBQUc5RCxJQUFJLFFBQVEsR0FBRyxPQUFPLENBQUMseURBQXlELENBQUMsQ0FBQztBQUt2RSxRQUFBLG9CQUFvQixHQUFHLFVBQVUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxRQUFRO0lBVzNELENBQUMsQ0FBQyxFQUFFLENBQUMsY0FBYyxHQUFHLFVBQVUsT0FBTztRQUNuQyxFQUFFLENBQUEsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLFNBQVMsS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBQzlCLENBQUMsQ0FBQyxTQUFTLENBQUMsZ0ZBQWdGLENBQUMsQ0FBQztRQUNsRyxDQUFDO1FBQ0QsSUFBSSxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ2xCLElBQUksT0FBTyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsY0FBYyxDQUFDLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQztRQUNsRSxJQUFJLFdBQVcsR0FBZSxJQUFJLDBCQUFXLENBQUMsUUFBUSxDQUFDLENBQUM7UUFFeEQsaUJBQVUsQ0FBQyxjQUFjLENBQUMsT0FBTyxFQUFFLFVBQVMsUUFBUTtZQUNoRCxJQUFJLGtCQUFrQixHQUFHLElBQUksd0NBQWtCLENBQUMsT0FBTyxDQUFDLHVCQUF1QixFQUFFLFFBQVEsQ0FBQyxDQUFDO1lBQzNGLG1CQUFXLEdBQUcsSUFBSSwwQkFBVyxDQUFDLGtCQUFrQixFQUFFLE9BQU8sQ0FBQyxhQUFhLEVBQUUsT0FBTyxFQUFFLE1BQU0sQ0FBQyxDQUFDO1lBQzFGLG1CQUFXLENBQUMsNEJBQTRCLEVBQUUsQ0FBQztRQUMvQyxDQUFDLENBQUMsQ0FBQztRQUVILE1BQU0sQ0FBQyxJQUFJLENBQUM7SUFDaEIsQ0FBQyxDQUFDO0lBRUYsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxjQUFjLENBQUMsUUFBUSxHQUFHO1FBQzNCLE9BQU8sRUFBRSxTQUFTO1FBQ2xCLE1BQU0sRUFBRSxJQUFJO1FBQ1osY0FBYyxFQUFFLElBQUk7UUFDcEIsaUJBQWlCLEVBQUUsSUFBSTtRQUN2QixpQkFBaUIsRUFBRSxTQUFTO1FBQzVCLFVBQVUsRUFBRSxPQUFPO1FBQ25CLFFBQVEsRUFBRSxFQUFFO1FBQ1osZ0JBQWdCLEVBQUUsaUJBQWlCO1FBQ25DLHFCQUFxQixFQUFFLGNBQWM7UUFDckMsb0JBQW9CLEVBQUUsQ0FBQztRQUN2QixrQkFBa0IsRUFBRSxZQUFZO1FBQ2hDLGtCQUFrQixFQUFFLGVBQWU7UUFDbkMsa0JBQWtCLEVBQUUsTUFBTTtRQUMxQix5QkFBeUIsRUFBRSxnQ0FBdUI7UUFDbEQsdUJBQXVCLEVBQUUsOEJBQXFCO1FBQzlDLGVBQWUsRUFBRSxzQkFBYTtLQUNqQyxDQUFDO0FBQ04sQ0FBQyxDQUFDO0FBRUYsQ0FBQyxVQUFVLENBQUMsRUFBRSxNQUFNLEVBQUUsUUFBUTtJQUMxQiw0QkFBb0IsQ0FBQyxDQUFDLEVBQUUsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQzlDLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFFN0IsU0FBUyxDQUFDLE1BQU0sQ0FBQztJQUNiLE1BQU0sRUFBRTtRQUNKLGdCQUFnQixFQUFFLENBQUMsUUFBUSxDQUFDO0tBQy9CO0NBQ0osQ0FBQyxDQUFDIiwiZmlsZSI6ImFwcC9qcy9qcXVlcnkuZmVlZGJhY2suanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSGFuZGxlYmFycyA9IHJlcXVpcmUoJ2hhbmRsZWJhcnMnKTtcbmltcG9ydCAnLi9saWIvcmF0aW5nL2pxdWVyeS5zdGFyLXJhdGluZy1zdmcubWluLmpzJztcbmltcG9ydCAnLi9qcXVlcnkudmFsaWRhdGUnO1xuaW1wb3J0ICcuL2pxdWVyeS52YWxpZGF0ZV9jYXRlZ29yeSc7XG5pbXBvcnQgJy4vanF1ZXJ5LmZpbGV1cGxvYWQnO1xuaW1wb3J0IHthcHBsaWNhdGlvbklkLCBhcGlFbmRwb2ludE9yY2hlc3RyYXRvciwgYXBpRW5kcG9pbnRSZXBvc2l0b3J5fSBmcm9tICcuL2NvbmZpZyc7XG5pbXBvcnQge0kxOG5IZWxwZXJ9IGZyb20gJy4vaGVscGVycy9pMThuJztcbmltcG9ydCBpMThuID0gcmVxdWlyZSgnaTE4bmV4dCcpO1xuaW1wb3J0IHtBcHBsaWNhdGlvblNlcnZpY2V9IGZyb20gJy4uL3NlcnZpY2VzL2FwcGxpY2F0aW9uX3NlcnZpY2UnO1xuaW1wb3J0ICogYXMgdCBmcm9tICcuLi90ZW1wbGF0ZXMvdCc7XG5pbXBvcnQgKiBhcyBjb21wYXJlIGZyb20gJy4uL3RlbXBsYXRlcy9jb21wYXJlJztcbmltcG9ydCB7RmVlZGJhY2tBcHB9IGZyb20gJy4vZmVlZGJhY2tfYXBwJztcbmltcG9ydCB7TW9ja0JhY2tlbmR9IGZyb20gJy4uL3NlcnZpY2VzL2JhY2tlbmRzL21vY2tfYmFja2VuZCc7XG5pbXBvcnQge1F1ZXN0aW9uRGlhbG9nVmlld30gZnJvbSAnLi4vdmlld3MvZGlhbG9nL3F1ZXN0aW9uX2RpYWxvZ192aWV3JztcbmltcG9ydCAqIGFzIGkxOG5leHQgZnJvbSAnaTE4bmV4dCc7XG5sZXQgbW9ja0RhdGEgPSByZXF1aXJlKCdqc29uIS4uL3NlcnZpY2VzL21vY2tzL2Rldi9hcHBsaWNhdGlvbl9zZW5lcmNvbl8yMC5qc29uJyk7XG5cblxuZXhwb3J0IGRlY2xhcmUgdmFyIGZlZWRiYWNrQXBwOkZlZWRiYWNrQXBwO1xuXG5leHBvcnQgdmFyIGZlZWRiYWNrUGx1Z2luTW9kdWxlID0gZnVuY3Rpb24gKCQsIHdpbmRvdywgZG9jdW1lbnQpIHtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogIENsaWVudCBzaWRlIGNvbmZpZ3VyYXRpb24gb2YgdGhlIGZlZWRiYWNrIGxpYnJhcnlcbiAgICAgKiBAcmV0dXJucyB7alF1ZXJ5fVxuICAgICAqXG4gICAgICogVGhlIGZlZWRiYWNrUGx1Z2luKCkgZnVuY3Rpb24gY2FuIGdldCBhcHBsaWVkIHRvIGEgSFRNTCBlbGVtZW50LiBUaGlzIGVsZW1lbnQgaXMgdGhlbiBjb25maWd1cmVkIHZpYSB0aGUgcGFzc2VkXG4gICAgICogb3B0aW9ucyBhbmQgdGhlIGRlZmF1bHQgb3B0aW9ucy4gSWYgYSBjbGljayBldmVudCBvbiB0aGlzIGVsZW1lbnQgaGFwcGVucyB0aGUgY29uZmlndXJhdGlvbiBpcyBmZXRjaGVkIGZyb20gdGhlXG4gICAgICogc2VydmVyIGFuZCB0aGUgZmVlZGJhY2sgbWVjaGFuaXNtIGlzIGludm9rZWQuXG4gICAgICovXG4gICAgJC5mbi5mZWVkYmFja1BsdWdpbiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgICAgIGlmKCQuZm4uZHJvcHBhYmxlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICQuZ2V0U2NyaXB0KCdodHRwczovL3BsYXRmb3JtLnN1cGVyc2VkZS5ldS93ZWJfbGlicmFyeS9zZW5lcmNvbi9kaXN0L2pxdWVyeS51aS5kcm9wcGFibGUuanMnKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYnV0dG9uID0gdGhpcztcbiAgICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgJC5mbi5mZWVkYmFja1BsdWdpbi5kZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICAgIGxldCBtb2NrQmFja2VuZDpNb2NrQmFja2VuZCA9IG5ldyBNb2NrQmFja2VuZChtb2NrRGF0YSk7XG5cbiAgICAgICAgSTE4bkhlbHBlci5pbml0aWFsaXplSTE4bihvcHRpb25zLCBmdW5jdGlvbihsYW5ndWFnZSkge1xuICAgICAgICAgICAgbGV0IGFwcGxpY2F0aW9uU2VydmljZSA9IG5ldyBBcHBsaWNhdGlvblNlcnZpY2Uob3B0aW9ucy5hcGlFbmRwb2ludE9yY2hlc3RyYXRvciwgbGFuZ3VhZ2UpOyAvLywgbW9ja0JhY2tlbmQpO1xuICAgICAgICAgICAgZmVlZGJhY2tBcHAgPSBuZXcgRmVlZGJhY2tBcHAoYXBwbGljYXRpb25TZXJ2aWNlLCBvcHRpb25zLmFwcGxpY2F0aW9uSWQsIG9wdGlvbnMsIGJ1dHRvbik7XG4gICAgICAgICAgICBmZWVkYmFja0FwcC5sb2FkQXBwbGljYXRpb25Db25maWd1cmF0aW9uKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAkLmZuLmZlZWRiYWNrUGx1Z2luLmRlZmF1bHRzID0ge1xuICAgICAgICAnY29sb3InOiAnI2ZmZmZmZicsXG4gICAgICAgICdsYW5nJzogJ2RlJyxcbiAgICAgICAgJ2ZhbGxiYWNrTGFuZyc6ICdlbicsXG4gICAgICAgICdsb2NhbGVzT3ZlcnJpZGUnOiBudWxsLFxuICAgICAgICAnYmFja2dyb3VuZENvbG9yJzogJyM3YzkwMDknLFxuICAgICAgICAnZGlzdFBhdGgnOiAnZGlzdC8nLFxuICAgICAgICAndXNlcklkJzogJycsXG4gICAgICAgICdkaWFsb2dDU1NDbGFzcyc6ICdmZWVkYmFjay1kaWFsb2cnLFxuICAgICAgICAnY29sb3JQaWNrZXJDU1NDbGFzcyc6ICdjb2xvci1waWNrZXInLFxuICAgICAgICAnZGVmYXVsdFN0cm9rZVdpZHRoJzogNCxcbiAgICAgICAgJ2RpYWxvZ1Bvc2l0aW9uTXknOiAnY2VudGVyIHRvcCcsXG4gICAgICAgICdkaWFsb2dQb3NpdGlvbkF0JzogJ2NlbnRlciB0b3ArMzAnLFxuICAgICAgICAnZGlhbG9nUG9zaXRpb25PZic6IHdpbmRvdyxcbiAgICAgICAgJ2FwaUVuZHBvaW50T3JjaGVzdHJhdG9yJzogYXBpRW5kcG9pbnRPcmNoZXN0cmF0b3IsXG4gICAgICAgICdhcGlFbmRwb2ludFJlcG9zaXRvcnknOiBhcGlFbmRwb2ludFJlcG9zaXRvcnksXG4gICAgICAgICdhcHBsaWNhdGlvbklkJzogYXBwbGljYXRpb25JZFxuICAgIH07XG59O1xuXG4oZnVuY3Rpb24gKCQsIHdpbmRvdywgZG9jdW1lbnQpIHtcbiAgICBmZWVkYmFja1BsdWdpbk1vZHVsZSgkLCB3aW5kb3csIGRvY3VtZW50KTtcbn0pKGpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XG5cbnJlcXVpcmVqcy5jb25maWcoe1xuICAgIFwic2hpbVwiOiB7XG4gICAgICAgIFwiZmVlZGJhY2tQbHVnaW5cIjogW1wianF1ZXJ5XCJdXG4gICAgfVxufSk7Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/***/ }),
/* 1 */
/***/ (function(module, exports) {

	!function(a){"use strict";var b="starRating",c=function(){},d={totalStars:5,useFullStars:!1,starShape:"straight",emptyColor:"lightgray",hoverColor:"orange",activeColor:"gold",useGradient:!0,readOnly:!1,disableAfterRate:!0,baseUrl:!1,starGradient:{start:"#FEF7CD",end:"#FF9511"},strokeWidth:4,strokeColor:"black",initialRating:0,starSize:40,callback:c,onHover:c,onLeave:c},e=function(c,e){var f;this.element=c,this.$el=a(c),this.settings=a.extend({},d,e),f=this.$el.data("rating")||this.settings.initialRating,this._state={rating:(Math.round(2*f)/2).toFixed(1)},this._uid=Math.floor(999*Math.random()),e.starGradient||this.settings.useGradient||(this.settings.starGradient.start=this.settings.starGradient.end=this.settings.activeColor),this._defaults=d,this._name=b,this.init()},f={init:function(){this.renderMarkup(),this.addListeners(),this.initRating()},addListeners:function(){this.settings.readOnly||(this.$stars.on("mouseover",this.hoverRating.bind(this)),this.$stars.on("mouseout",this.restoreState.bind(this)),this.$stars.on("click",this.handleRating.bind(this)))},hoverRating:function(a){var b=this.getIndex(a);this.paintStars(b,"hovered"),this.settings.onHover(b+1,this._state.rating,this.$el)},handleRating:function(a){var b=this.getIndex(a),c=b+1;this.applyRating(c,this.$el),this.executeCallback(c,this.$el),this.settings.disableAfterRate&&this.$stars.off()},applyRating:function(a){var b=a-1;this.paintStars(b,"active"),this._state.rating=b+1},restoreState:function(a){var b=this.getIndex(a),c=this._state.rating||-1;this.paintStars(c-1,"active"),this.settings.onLeave(b+1,this._state.rating,this.$el)},getIndex:function(b){var c=a(b.currentTarget),d=c.width(),e=a(b.target).attr("data-side");e=e?e:this.getOffsetByPixel(b,c,d),e=this.settings.useFullStars?"right":e;var f=c.index()-("left"===e?.5:0);return f=.5>f&&b.offsetX<d/4?-1:f},getOffsetByPixel:function(a,b,c){var d=a.pageX-b.offset().left;return c/2>=d&&!this.settings.useFullStars?"left":"right"},initRating:function(){this.paintStars(this._state.rating-1,"active")},paintStars:function(b,c){var d,e,f,g;a.each(this.$stars,function(h,i){d=a(i).find('[data-side="left"]'),e=a(i).find('[data-side="right"]'),f=g=b>=h?c:"empty",f=h-b===.5?c:f,d.attr("class","svg-"+f+"-"+this._uid),e.attr("class","svg-"+g+"-"+this._uid)}.bind(this))},renderMarkup:function(){for(var a=this.settings,b=a.baseUrl?location.href.split("#")[0]:"",c='<div class="jq-star" style="width:'+a.starSize+"px;  height:"+a.starSize+'px;"><svg version="1.0" class="jq-star-svg" shape-rendering="geometricPrecision" xmlns="http://www.w3.org/2000/svg" '+this.getSvgDimensions(a.starShape)+" stroke-width:"+a.strokeWidth+'px;" xml:space="preserve"><style type="text/css">.svg-empty-'+this._uid+"{fill:url("+b+"#"+this._uid+"_SVGID_1_);}.svg-hovered-"+this._uid+"{fill:url("+b+"#"+this._uid+"_SVGID_2_);}.svg-active-"+this._uid+"{fill:url("+b+"#"+this._uid+"_SVGID_3_);}</style>"+this.getLinearGradient(this._uid+"_SVGID_1_",a.emptyColor,a.emptyColor,a.starShape)+this.getLinearGradient(this._uid+"_SVGID_2_",a.hoverColor,a.hoverColor,a.starShape)+this.getLinearGradient(this._uid+"_SVGID_3_",a.starGradient.start,a.starGradient.end,a.starShape)+this.getVectorPath(this._uid,{starShape:a.starShape,strokeWidth:a.strokeWidth,strokeColor:a.strokeColor})+"</svg></div>",d="",e=0;e<a.totalStars;e++)d+=c;this.$el.append(d),this.$stars=this.$el.find(".jq-star")},getVectorPath:function(a,b){return"rounded"===b.starShape?this.getRoundedVectorPath(a,b):this.getSpikeVectorPath(a,b)},getSpikeVectorPath:function(a,b){return'<polygon data-side="center" class="svg-empty-'+a+'" points="281.1,129.8 364,55.7 255.5,46.8 214,-59 172.5,46.8 64,55.4 146.8,129.7 121.1,241 212.9,181.1 213.9,181 306.5,241 " style="fill: transparent; stroke: '+b.strokeColor+';" /><polygon data-side="left" class="svg-empty-'+a+'" points="281.1,129.8 364,55.7 255.5,46.8 214,-59 172.5,46.8 64,55.4 146.8,129.7 121.1,241 213.9,181.1 213.9,181 306.5,241 " style="stroke-opacity: 0;" /><polygon data-side="right" class="svg-empty-'+a+'" points="364,55.7 255.5,46.8 214,-59 213.9,181 306.5,241 281.1,129.8 " style="stroke-opacity: 0;" />'},getRoundedVectorPath:function(a,b){var c="M520.9,336.5c-3.8-11.8-14.2-20.5-26.5-22.2l-140.9-20.5l-63-127.7 c-5.5-11.2-16.8-18.2-29.3-18.2c-12.5,0-23.8,7-29.3,18.2l-63,127.7L28,314.2C15.7,316,5.4,324.7,1.6,336.5S1,361.3,9.9,370 l102,99.4l-24,140.3c-2.1,12.3,2.9,24.6,13,32c5.7,4.2,12.4,6.2,19.2,6.2c5.2,0,10.5-1.2,15.2-3.8l126-66.3l126,66.2 c4.8,2.6,10,3.8,15.2,3.8c6.8,0,13.5-2.1,19.2-6.2c10.1-7.3,15.1-19.7,13-32l-24-140.3l102-99.4 C521.6,361.3,524.8,348.3,520.9,336.5z";return'<path data-side="center" class="svg-empty-'+a+'" d="'+c+'" style="stroke: '+b.strokeColor+'; fill: transparent; " /><path data-side="right" class="svg-empty-'+a+'" d="'+c+'" style="stroke-opacity: 0;" /><path data-side="left" class="svg-empty-'+a+'" d="M121,648c-7.3,0-14.1-2.2-19.8-6.4c-10.4-7.6-15.6-20.3-13.4-33l24-139.9l-101.6-99 c-9.1-8.9-12.4-22.4-8.6-34.5c3.9-12.1,14.6-21.1,27.2-23l140.4-20.4L232,164.6c5.7-11.6,17.3-18.8,30.2-16.8c0.6,0,1,0.4,1,1 v430.1c0,0.4-0.2,0.7-0.5,0.9l-126,66.3C132,646.6,126.6,648,121,648z" style="stroke: '+b.strokeColor+'; stroke-opacity: 0;" />'},getSvgDimensions:function(a){return"rounded"===a?'width="550px" height="500.2px" viewBox="0 146.8 550 500.2" style="enable-background:new 0 0 550 500.2;':'x="0px" y="0px" width="305px" height="305px" viewBox="60 -62 309 309" style="enable-background:new 64 -59 305 305;'},getLinearGradient:function(a,b,c,d){var e="rounded"===d?500:250;return'<linearGradient id="'+a+'" gradientUnits="userSpaceOnUse" x1="0" y1="-50" x2="0" y2="'+e+'"><stop  offset="0" style="stop-color:'+b+'"/><stop  offset="1" style="stop-color:'+c+'"/> </linearGradient>'},executeCallback:function(a,b){var c=this.settings.callback;c(a,b)}},g={unload:function(){var c="plugin_"+b,d=a(this),e=d.data(c).$stars;e.off(),d.removeData(c).remove()},setRating:function(c,d){var e="plugin_"+b,f=a(this),g=f.data(e);c>g.settings.totalStars||0>c||(d&&(c=Math.round(c)),g.applyRating(c))},getRating:function(){var c="plugin_"+b,d=a(this),e=d.data(c);return e._state.rating},resize:function(c){var d="plugin_"+b,e=a(this),f=e.data(d),g=f.$stars;return 1>=c||c>200?void console.log("star size out of bounds"):(g=Array.prototype.slice.call(g),void g.forEach(function(b){a(b).css({width:c+"px",height:c+"px"})}))},setReadOnly:function(c){var d="plugin_"+b,e=a(this),f=e.data(d);c===!0?f.$stars.off("mouseover mouseout click"):(f.settings.readOnly=!1,f.addListeners())}};a.extend(e.prototype,f),a.fn[b]=function(c){if(!a.isPlainObject(c)){if(g.hasOwnProperty(c))return g[c].apply(this,Array.prototype.slice.call(arguments,1));a.error("Method "+c+" does not exist on "+b+".js")}return this.each(function(){a.data(this,"plugin_"+b)||a.data(this,"plugin_"+b,new e(this,c))})}}(jQuery,window,document);

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var i18n = __webpack_require__(3);
	exports.validatePluginModule = (function ($, window, document) {
	    $.fn.validate = function () {
	        var content = this.val(), mandatory = this.data('mandatory'), defaultText = this.data('mandatory-default-text'), manualText = this.data('mandatory-manual-text'), maxLength = this.data('validation-max-length'), validMandatory = true, validMaxLength = true, validEmail = true, validationEmail = this.data('validation-email'), emailRegex = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
	        var showValidationError = function (errorMessage, element) {
	            element.after('<span class="feedback-form-error">' + errorMessage + '</span>');
	        };
	        var isElementInViewport = function (el) {
	            if (typeof jQuery === "function" && el instanceof jQuery) {
	                el = el[0];
	            }
	            if (el === undefined) {
	                return true;
	            }
	            var rect = el.getBoundingClientRect();
	            return (rect.top >= 0 &&
	                rect.left >= 0 &&
	                rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
	                rect.right <= (window.innerWidth || document.documentElement.clientWidth));
	        };
	        this.next('.feedback-form-error').remove();
	        this.removeClass('invalid');
	        if (mandatory && content === '') {
	            validMandatory = false;
	        }
	        if (maxLength && content.length > maxLength) {
	            validMaxLength = false;
	        }
	        if (validationEmail && content !== '' && !emailRegex.test(content)) {
	            validEmail = false;
	        }
	        if (!validMandatory) {
	            this.addClass('invalid');
	            if (manualText === null || manualText === '') {
	                showValidationError(defaultText, this);
	            }
	            else {
	                showValidationError(manualText, this);
	            }
	            if (!isElementInViewport(invalidElement)) {
	                var invalidElement = this;
	                $('html, body').animate({
	                    scrollTop: invalidElement.offset().top
	                }, 500);
	            }
	        }
	        if (!validMaxLength) {
	            this.addClass('invalid');
	            var errorMessageMaxLength = i18n.t('general.validation_max_length_error_message', {
	                maxLength: maxLength,
	                currentLength: content.length
	            });
	            showValidationError(errorMessageMaxLength, this);
	            var invalidElement = this;
	            if (!isElementInViewport(invalidElement)) {
	                $('html, body').animate({
	                    scrollTop: invalidElement.offset().top
	                }, 500);
	            }
	        }
	        if (!validEmail) {
	            this.addClass('invalid');
	            var errorMessage = i18n.t('general.validation_invalid_email');
	            showValidationError(errorMessage, this);
	            var invalidElement = this;
	            if (!isElementInViewport(invalidElement)) {
	                $('html, body').animate({
	                    scrollTop: invalidElement.offset().top
	                }, 500);
	            }
	        }
	        return this;
	    };
	});
	(function ($, window, document) {
	    exports.validatePluginModule($, window, document);
	})(jQuery, window, document);
	;;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9qcy9qcXVlcnkudmFsaWRhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw4QkFBaUM7QUFXdEIsUUFBQSxvQkFBb0IsR0FBRyxDQUFDLFVBQVMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxRQUFRO0lBTzNELENBQUMsQ0FBQyxFQUFFLENBQUMsUUFBUSxHQUFHO1FBQ1osSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDLEdBQUcsRUFBRSxFQUNwQixTQUFTLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsRUFDbEMsV0FBVyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsd0JBQXdCLENBQUMsRUFDakQsVUFBVSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUMsRUFDL0MsU0FBUyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsdUJBQXVCLENBQUMsRUFDOUMsY0FBYyxHQUFHLElBQUksRUFDckIsY0FBYyxHQUFHLElBQUksRUFDckIsVUFBVSxHQUFHLElBQUksRUFDakIsZUFBZSxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsRUFDL0MsVUFBVSxHQUFHLHdKQUF3SixDQUFDO1FBRTFLLElBQUksbUJBQW1CLEdBQUcsVUFBVSxZQUFZLEVBQUUsT0FBTztZQUNyRCxPQUFPLENBQUMsS0FBSyxDQUFDLG9DQUFvQyxHQUFHLFlBQVksR0FBRyxTQUFTLENBQUMsQ0FBQztRQUNuRixDQUFDLENBQUM7UUFFRixJQUFJLG1CQUFtQixHQUFHLFVBQVUsRUFBRTtZQUNsQyxFQUFFLENBQUMsQ0FBQyxPQUFPLE1BQU0sS0FBSyxVQUFVLElBQUksRUFBRSxZQUFZLE1BQU0sQ0FBQyxDQUFDLENBQUM7Z0JBQ3ZELEVBQUUsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDZixDQUFDO1lBQ0QsRUFBRSxDQUFBLENBQUMsRUFBRSxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2xCLE1BQU0sQ0FB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QyxVQUFVLENBQUMsQ0FBQyxDQUFDO1lBQ2IsSUFBSSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUN6QixJQUFJLFlBQVksR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLGtDQUFrQyxDQUFDLENBQUM7WUFDOUQsbUJBQW1CLENBQUMsWUFBWSxFQUFFLElBQUksQ0FBQyxDQUFDO1lBRXhDLElBQUksY0FBYyxHQUFHLElBQUksQ0FBQztZQUUxQixFQUFFLENBQUEsQ0FBQyxDQUFDLG1CQUFtQixDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDdEMsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLE9BQU8sQ0FBQztvQkFDcEIsU0FBUyxFQUFFLGNBQWMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHO2lCQUN6QyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1lBQ1osQ0FBQztRQUNMLENBQUM7UUFDRCxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2hCLENBQUMsQ0FBQztBQUNOLENBQUMsQ0FBQyxDQUFDO0FBRUgsQ0FBQyxVQUFTLENBQUMsRUFBRSxNQUFNLEVBQUUsUUFBUTtJQUN6Qiw0QkFBb0IsQ0FBQyxDQUFDLEVBQUUsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBQzlDLENBQUMsQ0FBQyxDQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUUsUUFBUSxDQUFDLENBQUM7QUFFN0IsU0FBUyxDQUFDLE1BQU0sQ0FBRTtJQUNkLE1BQU0sRUFBRTtRQUNKLFVBQVUsRUFBSSxDQUFDLFFBQVEsQ0FBQztLQUMzQjtDQUNKLENBQUUsQ0FBQyIsImZpbGUiOiJhcHAvanMvanF1ZXJ5LnZhbGlkYXRlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGkxOG4gPSByZXF1aXJlKCdpMThuZXh0Jyk7XG5cblxuZXhwb3J0IGludGVyZmFjZSBKUXVlcnkge1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgaGFuZGxlciB0byB2YWxpZGF0ZSBhIEhUTUwgZWxlbWVudC5cbiAgICAgKlxuICAgICAqL1xuICAgIHZhbGlkYXRlKCk6SlF1ZXJ5O1xufVxuXG5leHBvcnQgdmFyIHZhbGlkYXRlUGx1Z2luTW9kdWxlID0gKGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQpIHtcbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyB7alF1ZXJ5fVxuICAgICAqXG4gICAgICogVGhlIHZhbGlkYXRlIGZ1bmN0aW9uIGltcGxlbWVudHMgdGhlIGN1c3RvbSB2YWxpZGF0aW9uIGxvZ2ljIHdpdGggdGhlIHZhbGlkYXRpb24gZWl0aGVyIHRha2luZyBwbGFjZSBvbiB0aGVcbiAgICAgKiBmaW5hbCBzdWJtaXQgb3Igb24gc2tpcC4gRGVmYXVsdCBvciBjdXN0b20gbWVzc2FnZXMgYXJlIHN1cHBvcnRlZCBhcyB3ZWxsLlxuICAgICAqL1xuICAgICQuZm4udmFsaWRhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjb250ZW50ID0gdGhpcy52YWwoKSxcbiAgICAgICAgICAgIG1hbmRhdG9yeSA9IHRoaXMuZGF0YSgnbWFuZGF0b3J5JyksXG4gICAgICAgICAgICBkZWZhdWx0VGV4dCA9IHRoaXMuZGF0YSgnbWFuZGF0b3J5LWRlZmF1bHQtdGV4dCcpLFxuICAgICAgICAgICAgbWFudWFsVGV4dCA9IHRoaXMuZGF0YSgnbWFuZGF0b3J5LW1hbnVhbC10ZXh0JyksXG4gICAgICAgICAgICBtYXhMZW5ndGggPSB0aGlzLmRhdGEoJ3ZhbGlkYXRpb24tbWF4LWxlbmd0aCcpLFxuICAgICAgICAgICAgdmFsaWRNYW5kYXRvcnkgPSB0cnVlLFxuICAgICAgICAgICAgdmFsaWRNYXhMZW5ndGggPSB0cnVlLFxuICAgICAgICAgICAgdmFsaWRFbWFpbCA9IHRydWUsXG4gICAgICAgICAgICB2YWxpZGF0aW9uRW1haWwgPSB0aGlzLmRhdGEoJ3ZhbGlkYXRpb24tZW1haWwnKSxcbiAgICAgICAgICAgIGVtYWlsUmVnZXggPSAvXigoW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKyhcXC5bXjw+KClcXFtcXF1cXFxcLiw7Olxcc0BcIl0rKSopfChcIi4rXCIpKUAoKFxcW1swLTldezEsM31cXC5bMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31dKXwoKFthLXpBLVpcXC0wLTldK1xcLikrW2EtekEtWl17Mix9KSkkLztcblxuICAgICAgICB2YXIgc2hvd1ZhbGlkYXRpb25FcnJvciA9IGZ1bmN0aW9uIChlcnJvck1lc3NhZ2UsIGVsZW1lbnQpIHtcbiAgICAgICAgICAgIGVsZW1lbnQuYWZ0ZXIoJzxzcGFuIGNsYXNzPVwiZmVlZGJhY2stZm9ybS1lcnJvclwiPicgKyBlcnJvck1lc3NhZ2UgKyAnPC9zcGFuPicpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBpc0VsZW1lbnRJblZpZXdwb3J0ID0gZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGpRdWVyeSA9PT0gXCJmdW5jdGlvblwiICYmIGVsIGluc3RhbmNlb2YgalF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgZWwgPSBlbFswXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGVsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHJlY3QgPSBlbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICByZWN0LnRvcCA+PSAwICYmXG4gICAgICAgICAgICAgICAgcmVjdC5sZWZ0ID49IDAgJiZcbiAgICAgICAgICAgICAgICByZWN0LmJvdHRvbSA8PSAod2luZG93LmlubmVySGVpZ2h0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpICYmIC8qb3IgJCh3aW5kb3cpLmhlaWdodCgpICovXG4gICAgICAgICAgICAgICAgcmVjdC5yaWdodCA8PSAod2luZG93LmlubmVyV2lkdGggfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoKSAvKm9yICQod2luZG93KS53aWR0aCgpICovXG4gICAgICAgICAgICApO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIHJlc2V0XG4gICAgICAgIHRoaXMubmV4dCgnLmZlZWRiYWNrLWZvcm0tZXJyb3InKS5yZW1vdmUoKTtcbiAgICAgICAgdGhpcy5yZW1vdmVDbGFzcygnaW52YWxpZCcpO1xuXG4gICAgICAgIC8vIHZhbGlkYXRlIG1hbmRhdG9yeVxuICAgICAgICBpZihtYW5kYXRvcnkgJiYgY29udGVudCA9PT0gJycpIHtcbiAgICAgICAgICAgIHZhbGlkTWFuZGF0b3J5ID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB2YWxpZGF0ZSBtYXggbGVuZ3RoXG4gICAgICAgIGlmKG1heExlbmd0aCAmJiBjb250ZW50Lmxlbmd0aCA+IG1heExlbmd0aCkge1xuICAgICAgICAgICAgdmFsaWRNYXhMZW5ndGggPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHZhbGlkYXRpb25FbWFpbCAmJiBjb250ZW50ICE9PSAnJyAmJiAhZW1haWxSZWdleC50ZXN0KGNvbnRlbnQpKSB7XG4gICAgICAgICAgICB2YWxpZEVtYWlsID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkaXNwbGF5IG1lc3NhZ2VzXG4gICAgICAgIGlmKCF2YWxpZE1hbmRhdG9yeSkge1xuICAgICAgICAgICAgdGhpcy5hZGRDbGFzcygnaW52YWxpZCcpO1xuICAgICAgICAgICAgaWYobWFudWFsVGV4dCA9PT0gbnVsbCB8fCBtYW51YWxUZXh0ID09PSAnJykge1xuICAgICAgICAgICAgICAgIHNob3dWYWxpZGF0aW9uRXJyb3IoZGVmYXVsdFRleHQsIHRoaXMpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzaG93VmFsaWRhdGlvbkVycm9yKG1hbnVhbFRleHQsIHRoaXMpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBUT0RPIHJlZmFjdG9yXG4gICAgICAgICAgICBpZighaXNFbGVtZW50SW5WaWV3cG9ydChpbnZhbGlkRWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgaW52YWxpZEVsZW1lbnQgPSB0aGlzO1xuICAgICAgICAgICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiBpbnZhbGlkRWxlbWVudC5vZmZzZXQoKS50b3BcbiAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYoIXZhbGlkTWF4TGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmFkZENsYXNzKCdpbnZhbGlkJyk7XG4gICAgICAgICAgICB2YXIgZXJyb3JNZXNzYWdlTWF4TGVuZ3RoID0gaTE4bi50KCdnZW5lcmFsLnZhbGlkYXRpb25fbWF4X2xlbmd0aF9lcnJvcl9tZXNzYWdlJywge1xuICAgICAgICAgICAgICAgIG1heExlbmd0aDogbWF4TGVuZ3RoLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRMZW5ndGg6IGNvbnRlbnQubGVuZ3RoXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHNob3dWYWxpZGF0aW9uRXJyb3IoZXJyb3JNZXNzYWdlTWF4TGVuZ3RoLCB0aGlzKTtcblxuICAgICAgICAgICAgdmFyIGludmFsaWRFbGVtZW50ID0gdGhpcztcbiAgICAgICAgICAgIGlmKCFpc0VsZW1lbnRJblZpZXdwb3J0KGludmFsaWRFbGVtZW50KSkge1xuICAgICAgICAgICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiBpbnZhbGlkRWxlbWVudC5vZmZzZXQoKS50b3BcbiAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYoIXZhbGlkRW1haWwpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkQ2xhc3MoJ2ludmFsaWQnKTtcbiAgICAgICAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBpMThuLnQoJ2dlbmVyYWwudmFsaWRhdGlvbl9pbnZhbGlkX2VtYWlsJyk7XG4gICAgICAgICAgICBzaG93VmFsaWRhdGlvbkVycm9yKGVycm9yTWVzc2FnZSwgdGhpcyk7XG5cbiAgICAgICAgICAgIHZhciBpbnZhbGlkRWxlbWVudCA9IHRoaXM7XG5cbiAgICAgICAgICAgIGlmKCFpc0VsZW1lbnRJblZpZXdwb3J0KGludmFsaWRFbGVtZW50KSkge1xuICAgICAgICAgICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiBpbnZhbGlkRWxlbWVudC5vZmZzZXQoKS50b3BcbiAgICAgICAgICAgICAgICB9LCA1MDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG59KTtcblxuKGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQpIHtcbiAgICB2YWxpZGF0ZVBsdWdpbk1vZHVsZSgkLCB3aW5kb3csIGRvY3VtZW50KTtcbn0pKGpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XG5cbnJlcXVpcmVqcy5jb25maWcoIHtcbiAgICBcInNoaW1cIjoge1xuICAgICAgICBcInZhbGlkYXRlXCIgIDogW1wianF1ZXJ5XCJdXG4gICAgfVxufSApOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

	module.exports = __webpack_require__(4).default;


/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	exports.use = exports.t = exports.setDefaultNamespace = exports.on = exports.off = exports.loadResources = exports.loadNamespaces = exports.loadLanguages = exports.init = exports.getFixedT = exports.exists = exports.dir = exports.createInstance = exports.cloneInstance = exports.changeLanguage = undefined;

	var _i18next = __webpack_require__(5);

	var _i18next2 = _interopRequireDefault(_i18next);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	exports.default = _i18next2.default;
	var changeLanguage = exports.changeLanguage = _i18next2.default.changeLanguage.bind(_i18next2.default);
	var cloneInstance = exports.cloneInstance = _i18next2.default.cloneInstance.bind(_i18next2.default);
	var createInstance = exports.createInstance = _i18next2.default.createInstance.bind(_i18next2.default);
	var dir = exports.dir = _i18next2.default.dir.bind(_i18next2.default);
	var exists = exports.exists = _i18next2.default.exists.bind(_i18next2.default);
	var getFixedT = exports.getFixedT = _i18next2.default.getFixedT.bind(_i18next2.default);
	var init = exports.init = _i18next2.default.init.bind(_i18next2.default);
	var loadLanguages = exports.loadLanguages = _i18next2.default.loadLanguages.bind(_i18next2.default);
	var loadNamespaces = exports.loadNamespaces = _i18next2.default.loadNamespaces.bind(_i18next2.default);
	var loadResources = exports.loadResources = _i18next2.default.loadResources.bind(_i18next2.default);
	var off = exports.off = _i18next2.default.off.bind(_i18next2.default);
	var on = exports.on = _i18next2.default.on.bind(_i18next2.default);
	var setDefaultNamespace = exports.setDefaultNamespace = _i18next2.default.setDefaultNamespace.bind(_i18next2.default);
	var t = exports.t = _i18next2.default.t.bind(_i18next2.default);
	var use = exports.use = _i18next2.default.use.bind(_i18next2.default);

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

	var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

	var _logger = __webpack_require__(6);

	var _logger2 = _interopRequireDefault(_logger);

	var _EventEmitter2 = __webpack_require__(7);

	var _EventEmitter3 = _interopRequireDefault(_EventEmitter2);

	var _ResourceStore = __webpack_require__(8);

	var _ResourceStore2 = _interopRequireDefault(_ResourceStore);

	var _Translator = __webpack_require__(10);

	var _Translator2 = _interopRequireDefault(_Translator);

	var _LanguageUtils = __webpack_require__(13);

	var _LanguageUtils2 = _interopRequireDefault(_LanguageUtils);

	var _PluralResolver = __webpack_require__(14);

	var _PluralResolver2 = _interopRequireDefault(_PluralResolver);

	var _Interpolator = __webpack_require__(15);

	var _Interpolator2 = _interopRequireDefault(_Interpolator);

	var _BackendConnector = __webpack_require__(16);

	var _BackendConnector2 = _interopRequireDefault(_BackendConnector);

	var _CacheConnector = __webpack_require__(17);

	var _CacheConnector2 = _interopRequireDefault(_CacheConnector);

	var _defaults2 = __webpack_require__(18);

	var _postProcessor = __webpack_require__(11);

	var _postProcessor2 = _interopRequireDefault(_postProcessor);

	var _v = __webpack_require__(12);

	var compat = _interopRequireWildcard(_v);

	function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }

	function noop() {}

	var I18n = function (_EventEmitter) {
	  _inherits(I18n, _EventEmitter);

	  function I18n() {
	    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	    var callback = arguments[1];

	    _classCallCheck(this, I18n);

	    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));

	    _this.options = (0, _defaults2.transformOptions)(options);
	    _this.services = {};
	    _this.logger = _logger2.default;
	    _this.modules = { external: [] };

	    if (callback && !_this.isInitialized && !options.isClone) {
	      var _ret;

	      // https://github.com/i18next/i18next/issues/879
	      if (!_this.options.initImmediate) return _ret = _this.init(options, callback), _possibleConstructorReturn(_this, _ret);
	      setTimeout(function () {
	        _this.init(options, callback);
	      }, 0);
	    }
	    return _this;
	  }

	  I18n.prototype.init = function init(options, callback) {
	    var _this2 = this;

	    if (typeof options === 'function') {
	      callback = options;
	      options = {};
	    }
	    if (!options) options = {};

	    if (options.compatibilityAPI === 'v1') {
	      this.options = _extends({}, (0, _defaults2.get)(), (0, _defaults2.transformOptions)(compat.convertAPIOptions(options)), {});
	    } else if (options.compatibilityJSON === 'v1') {
	      this.options = _extends({}, (0, _defaults2.get)(), (0, _defaults2.transformOptions)(compat.convertJSONOptions(options)), {});
	    } else {
	      this.options = _extends({}, (0, _defaults2.get)(), this.options, (0, _defaults2.transformOptions)(options));
	    }
	    this.format = this.options.interpolation.format;
	    if (!callback) callback = noop;

	    function createClassOnDemand(ClassOrObject) {
	      if (!ClassOrObject) return null;
	      if (typeof ClassOrObject === 'function') return new ClassOrObject();
	      return ClassOrObject;
	    }

	    // init services
	    if (!this.options.isClone) {
	      (function () {
	        if (_this2.modules.logger) {
	          _logger2.default.init(createClassOnDemand(_this2.modules.logger), _this2.options);
	        } else {
	          _logger2.default.init(null, _this2.options);
	        }

	        var lu = new _LanguageUtils2.default(_this2.options);
	        _this2.store = new _ResourceStore2.default(_this2.options.resources, _this2.options);

	        var s = _this2.services;
	        s.logger = _logger2.default;
	        s.resourceStore = _this2.store;
	        s.resourceStore.on('added removed', function (lng, ns) {
	          s.cacheConnector.save();
	        });
	        s.languageUtils = lu;
	        s.pluralResolver = new _PluralResolver2.default(lu, { prepend: _this2.options.pluralSeparator, compatibilityJSON: _this2.options.compatibilityJSON, simplifyPluralSuffix: _this2.options.simplifyPluralSuffix });
	        s.interpolator = new _Interpolator2.default(_this2.options);

	        s.backendConnector = new _BackendConnector2.default(createClassOnDemand(_this2.modules.backend), s.resourceStore, s, _this2.options);
	        // pipe events from backendConnector
	        s.backendConnector.on('*', function (event) {
	          for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
	            args[_key - 1] = arguments[_key];
	          }

	          _this2.emit.apply(_this2, [event].concat(args));
	        });

	        s.backendConnector.on('loaded', function (loaded) {
	          s.cacheConnector.save();
	        });

	        s.cacheConnector = new _CacheConnector2.default(createClassOnDemand(_this2.modules.cache), s.resourceStore, s, _this2.options);
	        // pipe events from backendConnector
	        s.cacheConnector.on('*', function (event) {
	          for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {
	            args[_key2 - 1] = arguments[_key2];
	          }

	          _this2.emit.apply(_this2, [event].concat(args));
	        });

	        if (_this2.modules.languageDetector) {
	          s.languageDetector = createClassOnDemand(_this2.modules.languageDetector);
	          s.languageDetector.init(s, _this2.options.detection, _this2.options);
	        }

	        _this2.translator = new _Translator2.default(_this2.services, _this2.options);
	        // pipe events from translator
	        _this2.translator.on('*', function (event) {
	          for (var _len3 = arguments.length, args = Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {
	            args[_key3 - 1] = arguments[_key3];
	          }

	          _this2.emit.apply(_this2, [event].concat(args));
	        });

	        _this2.modules.external.forEach(function (m) {
	          if (m.init) m.init(_this2);
	        });
	      })();
	    }

	    // append api
	    var storeApi = ['getResource', 'addResource', 'addResources', 'addResourceBundle', 'removeResourceBundle', 'hasResourceBundle', 'getResourceBundle'];
	    storeApi.forEach(function (fcName) {
	      _this2[fcName] = function () {
	        var _store;

	        return (_store = _this2.store)[fcName].apply(_store, arguments);
	      };
	    });

	    // COMPATIBILITY: remove this
	    if (this.options.compatibilityAPI === 'v1') compat.appendBackwardsAPI(this);

	    var load = function load() {
	      _this2.changeLanguage(_this2.options.lng, function (err, t) {
	        _this2.isInitialized = true;
	        _this2.logger.log('initialized', _this2.options);
	        _this2.emit('initialized', _this2.options);

	        callback(err, t);
	      });
	    };

	    if (this.options.resources || !this.options.initImmediate) {
	      load();
	    } else {
	      setTimeout(load, 0);
	    }

	    return this;
	  };

	  /* eslint consistent-return: 0 */


	  I18n.prototype.loadResources = function loadResources() {
	    var _this3 = this;

	    var callback = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : noop;

	    if (!this.options.resources) {
	      var _ret3 = function () {
	        if (_this3.language && _this3.language.toLowerCase() === 'cimode') return {
	            v: callback()
	          }; // avoid loading resources for cimode

	        var toLoad = [];

	        var append = function append(lng) {
	          if (!lng) return;
	          var lngs = _this3.services.languageUtils.toResolveHierarchy(lng);
	          lngs.forEach(function (l) {
	            if (toLoad.indexOf(l) < 0) toLoad.push(l);
	          });
	        };

	        if (!_this3.language) {
	          // at least load fallbacks in this case
	          var fallbacks = _this3.services.languageUtils.getFallbackCodes(_this3.options.fallbackLng);
	          fallbacks.forEach(function (l) {
	            return append(l);
	          });
	        } else {
	          append(_this3.language);
	        }

	        if (_this3.options.preload) {
	          _this3.options.preload.forEach(function (l) {
	            return append(l);
	          });
	        }

	        _this3.services.cacheConnector.load(toLoad, _this3.options.ns, function () {
	          _this3.services.backendConnector.load(toLoad, _this3.options.ns, callback);
	        });
	      }();

	      if ((typeof _ret3 === 'undefined' ? 'undefined' : _typeof(_ret3)) === "object") return _ret3.v;
	    } else {
	      callback(null);
	    }
	  };

	  I18n.prototype.reloadResources = function reloadResources(lngs, ns) {
	    if (!lngs) lngs = this.languages;
	    if (!ns) ns = this.options.ns;
	    this.services.backendConnector.reload(lngs, ns);
	  };

	  I18n.prototype.use = function use(module) {
	    if (module.type === 'backend') {
	      this.modules.backend = module;
	    }

	    if (module.type === 'cache') {
	      this.modules.cache = module;
	    }

	    if (module.type === 'logger' || module.log && module.warn && module.error) {
	      this.modules.logger = module;
	    }

	    if (module.type === 'languageDetector') {
	      this.modules.languageDetector = module;
	    }

	    if (module.type === 'postProcessor') {
	      _postProcessor2.default.addPostProcessor(module);
	    }

	    if (module.type === '3rdParty') {
	      this.modules.external.push(module);
	    }

	    return this;
	  };

	  I18n.prototype.changeLanguage = function changeLanguage(lng, callback) {
	    var _this4 = this;

	    var done = function done(err, l) {
	      if (l) {
	        _this4.emit('languageChanged', l);
	        _this4.logger.log('languageChanged', l);
	      }

	      if (callback) callback(err, function () {
	        return _this4.t.apply(_this4, arguments);
	      });
	    };

	    var setLng = function setLng(l) {
	      if (l) {
	        _this4.language = l;
	        _this4.languages = _this4.services.languageUtils.toResolveHierarchy(l);

	        _this4.translator.changeLanguage(l);

	        if (_this4.services.languageDetector) _this4.services.languageDetector.cacheUserLanguage(l);
	      }

	      _this4.loadResources(function (err) {
	        done(err, l);
	      });
	    };

	    if (!lng && this.services.languageDetector && !this.services.languageDetector.async) {
	      setLng(this.services.languageDetector.detect());
	    } else if (!lng && this.services.languageDetector && this.services.languageDetector.async) {
	      this.services.languageDetector.detect(setLng);
	    } else {
	      setLng(lng);
	    }
	  };

	  I18n.prototype.getFixedT = function getFixedT(lng, ns) {
	    var _this5 = this;

	    var fixedT = function fixedT(key) {
	      var opts = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

	      var options = _extends({}, opts);
	      options.lng = options.lng || fixedT.lng;
	      options.ns = options.ns || fixedT.ns;
	      return _this5.t(key, options);
	    };
	    fixedT.lng = lng;
	    fixedT.ns = ns;
	    return fixedT;
	  };

	  I18n.prototype.t = function t() {
	    var _translator;

	    return this.translator && (_translator = this.translator).translate.apply(_translator, arguments);
	  };

	  I18n.prototype.exists = function exists() {
	    var _translator2;

	    return this.translator && (_translator2 = this.translator).exists.apply(_translator2, arguments);
	  };

	  I18n.prototype.setDefaultNamespace = function setDefaultNamespace(ns) {
	    this.options.defaultNS = ns;
	  };

	  I18n.prototype.loadNamespaces = function loadNamespaces(ns, callback) {
	    var _this6 = this;

	    if (!this.options.ns) return callback && callback();
	    if (typeof ns === 'string') ns = [ns];

	    ns.forEach(function (n) {
	      if (_this6.options.ns.indexOf(n) < 0) _this6.options.ns.push(n);
	    });

	    this.loadResources(callback);
	  };

	  I18n.prototype.loadLanguages = function loadLanguages(lngs, callback) {
	    if (typeof lngs === 'string') lngs = [lngs];
	    var preloaded = this.options.preload || [];

	    var newLngs = lngs.filter(function (lng) {
	      return preloaded.indexOf(lng) < 0;
	    });
	    // Exit early if all given languages are already preloaded
	    if (!newLngs.length) return callback();

	    this.options.preload = preloaded.concat(newLngs);
	    this.loadResources(callback);
	  };

	  I18n.prototype.dir = function dir(lng) {
	    if (!lng) lng = this.languages && this.languages.length > 0 ? this.languages[0] : this.language;
	    if (!lng) return 'rtl';

	    var rtlLngs = ['ar', 'shu', 'sqr', 'ssh', 'xaa', 'yhd', 'yud', 'aao', 'abh', 'abv', 'acm', 'acq', 'acw', 'acx', 'acy', 'adf', 'ads', 'aeb', 'aec', 'afb', 'ajp', 'apc', 'apd', 'arb', 'arq', 'ars', 'ary', 'arz', 'auz', 'avl', 'ayh', 'ayl', 'ayn', 'ayp', 'bbz', 'pga', 'he', 'iw', 'ps', 'pbt', 'pbu', 'pst', 'prp', 'prd', 'ur', 'ydd', 'yds', 'yih', 'ji', 'yi', 'hbo', 'men', 'xmn', 'fa', 'jpr', 'peo', 'pes', 'prs', 'dv', 'sam'];

	    return rtlLngs.indexOf(this.services.languageUtils.getLanguagePartFromCode(lng)) >= 0 ? 'rtl' : 'ltr';
	  };

	  /* eslint class-methods-use-this: 0 */


	  I18n.prototype.createInstance = function createInstance() {
	    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	    var callback = arguments[1];

	    return new I18n(options, callback);
	  };

	  I18n.prototype.cloneInstance = function cloneInstance() {
	    var _this7 = this;

	    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	    var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : noop;

	    var mergedOptions = _extends({}, this.options, options, { isClone: true });
	    var clone = new I18n(mergedOptions, callback);
	    var membersToCopy = ['store', 'services', 'language'];
	    membersToCopy.forEach(function (m) {
	      clone[m] = _this7[m];
	    });
	    clone.translator = new _Translator2.default(clone.services, clone.options);
	    clone.translator.on('*', function (event) {
	      for (var _len4 = arguments.length, args = Array(_len4 > 1 ? _len4 - 1 : 0), _key4 = 1; _key4 < _len4; _key4++) {
	        args[_key4 - 1] = arguments[_key4];
	      }

	      clone.emit.apply(clone, [event].concat(args));
	    });
	    clone.init(mergedOptions, callback);

	    return clone;
	  };

	  return I18n;
	}(_EventEmitter3.default);

	exports.default = new I18n();

/***/ }),
/* 6 */
/***/ (function(module, exports) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }

	var consoleLogger = {
	  type: 'logger',

	  log: function log(args) {
	    this.output('log', args);
	  },
	  warn: function warn(args) {
	    this.output('warn', args);
	  },
	  error: function error(args) {
	    this.output('error', args);
	  },
	  output: function output(type, args) {
	    var _console;

	    /* eslint no-console: 0 */
	    if (console && console[type]) (_console = console)[type].apply(_console, _toConsumableArray(args));
	  }
	};

	var Logger = function () {
	  function Logger(concreteLogger) {
	    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

	    _classCallCheck(this, Logger);

	    this.init(concreteLogger, options);
	  }

	  Logger.prototype.init = function init(concreteLogger) {
	    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

	    this.prefix = options.prefix || 'i18next:';
	    this.logger = concreteLogger || consoleLogger;
	    this.options = options;
	    this.debug = options.debug;
	  };

	  Logger.prototype.setDebug = function setDebug(bool) {
	    this.debug = bool;
	  };

	  Logger.prototype.log = function log() {
	    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
	      args[_key] = arguments[_key];
	    }

	    return this.forward(args, 'log', '', true);
	  };

	  Logger.prototype.warn = function warn() {
	    for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {
	      args[_key2] = arguments[_key2];
	    }

	    return this.forward(args, 'warn', '', true);
	  };

	  Logger.prototype.error = function error() {
	    for (var _len3 = arguments.length, args = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {
	      args[_key3] = arguments[_key3];
	    }

	    return this.forward(args, 'error', '');
	  };

	  Logger.prototype.deprecate = function deprecate() {
	    for (var _len4 = arguments.length, args = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {
	      args[_key4] = arguments[_key4];
	    }

	    return this.forward(args, 'warn', 'WARNING DEPRECATED: ', true);
	  };

	  Logger.prototype.forward = function forward(args, lvl, prefix, debugOnly) {
	    if (debugOnly && !this.debug) return null;
	    if (typeof args[0] === 'string') args[0] = '' + prefix + this.prefix + ' ' + args[0];
	    return this.logger[lvl](args);
	  };

	  Logger.prototype.create = function create(moduleName) {
	    return new Logger(this.logger, _extends({ prefix: this.prefix + ':' + moduleName + ':' }, this.options));
	  };

	  return Logger;
	}();

	exports.default = new Logger();

/***/ }),
/* 7 */
/***/ (function(module, exports) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	var EventEmitter = function () {
	  function EventEmitter() {
	    _classCallCheck(this, EventEmitter);

	    this.observers = {};
	  }

	  EventEmitter.prototype.on = function on(events, listener) {
	    var _this = this;

	    events.split(' ').forEach(function (event) {
	      _this.observers[event] = _this.observers[event] || [];
	      _this.observers[event].push(listener);
	    });
	  };

	  EventEmitter.prototype.off = function off(event, listener) {
	    var _this2 = this;

	    if (!this.observers[event]) {
	      return;
	    }

	    this.observers[event].forEach(function () {
	      if (!listener) {
	        delete _this2.observers[event];
	      } else {
	        var index = _this2.observers[event].indexOf(listener);
	        if (index > -1) {
	          _this2.observers[event].splice(index, 1);
	        }
	      }
	    });
	  };

	  EventEmitter.prototype.emit = function emit(event) {
	    for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
	      args[_key - 1] = arguments[_key];
	    }

	    if (this.observers[event]) {
	      var cloned = [].concat(this.observers[event]);
	      cloned.forEach(function (observer) {
	        observer.apply(undefined, args);
	      });
	    }

	    if (this.observers['*']) {
	      var _cloned = [].concat(this.observers['*']);
	      _cloned.forEach(function (observer) {
	        var _ref;

	        observer.apply(observer, (_ref = [event]).concat.apply(_ref, args));
	      });
	    }
	  };

	  return EventEmitter;
	}();

	exports.default = EventEmitter;

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

	var _EventEmitter2 = __webpack_require__(7);

	var _EventEmitter3 = _interopRequireDefault(_EventEmitter2);

	var _utils = __webpack_require__(9);

	var utils = _interopRequireWildcard(_utils);

	function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }

	var ResourceStore = function (_EventEmitter) {
	  _inherits(ResourceStore, _EventEmitter);

	  function ResourceStore() {
	    var data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { ns: ['translation'], defaultNS: 'translation' };

	    _classCallCheck(this, ResourceStore);

	    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));

	    _this.data = data;
	    _this.options = options;
	    return _this;
	  }

	  ResourceStore.prototype.addNamespaces = function addNamespaces(ns) {
	    if (this.options.ns.indexOf(ns) < 0) {
	      this.options.ns.push(ns);
	    }
	  };

	  ResourceStore.prototype.removeNamespaces = function removeNamespaces(ns) {
	    var index = this.options.ns.indexOf(ns);
	    if (index > -1) {
	      this.options.ns.splice(index, 1);
	    }
	  };

	  ResourceStore.prototype.getResource = function getResource(lng, ns, key) {
	    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};

	    var keySeparator = options.keySeparator || this.options.keySeparator;
	    if (keySeparator === undefined) keySeparator = '.';

	    var path = [lng, ns];
	    if (key && typeof key !== 'string') path = path.concat(key);
	    if (key && typeof key === 'string') path = path.concat(keySeparator ? key.split(keySeparator) : key);

	    if (lng.indexOf('.') > -1) {
	      path = lng.split('.');
	    }

	    return utils.getPath(this.data, path);
	  };

	  ResourceStore.prototype.addResource = function addResource(lng, ns, key, value) {
	    var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : { silent: false };

	    var keySeparator = this.options.keySeparator;
	    if (keySeparator === undefined) keySeparator = '.';

	    var path = [lng, ns];
	    if (key) path = path.concat(keySeparator ? key.split(keySeparator) : key);

	    if (lng.indexOf('.') > -1) {
	      path = lng.split('.');
	      value = ns;
	      ns = path[1];
	    }

	    this.addNamespaces(ns);

	    utils.setPath(this.data, path, value);

	    if (!options.silent) this.emit('added', lng, ns, key, value);
	  };

	  ResourceStore.prototype.addResources = function addResources(lng, ns, resources) {
	    /* eslint no-restricted-syntax: 0 */
	    for (var m in resources) {
	      if (typeof resources[m] === 'string') this.addResource(lng, ns, m, resources[m], { silent: true });
	    }
	    this.emit('added', lng, ns, resources);
	  };

	  ResourceStore.prototype.addResourceBundle = function addResourceBundle(lng, ns, resources, deep, overwrite) {
	    var path = [lng, ns];
	    if (lng.indexOf('.') > -1) {
	      path = lng.split('.');
	      deep = resources;
	      resources = ns;
	      ns = path[1];
	    }

	    this.addNamespaces(ns);

	    var pack = utils.getPath(this.data, path) || {};

	    if (deep) {
	      utils.deepExtend(pack, resources, overwrite);
	    } else {
	      pack = _extends({}, pack, resources);
	    }

	    utils.setPath(this.data, path, pack);

	    this.emit('added', lng, ns, resources);
	  };

	  ResourceStore.prototype.removeResourceBundle = function removeResourceBundle(lng, ns) {
	    if (this.hasResourceBundle(lng, ns)) {
	      delete this.data[lng][ns];
	    }
	    this.removeNamespaces(ns);

	    this.emit('removed', lng, ns);
	  };

	  ResourceStore.prototype.hasResourceBundle = function hasResourceBundle(lng, ns) {
	    return this.getResource(lng, ns) !== undefined;
	  };

	  ResourceStore.prototype.getResourceBundle = function getResourceBundle(lng, ns) {
	    if (!ns) ns = this.options.defaultNS;

	    // COMPATIBILITY: remove extend in v2.1.0
	    if (this.options.compatibilityAPI === 'v1') return _extends({}, this.getResource(lng, ns));

	    return this.getResource(lng, ns);
	  };

	  ResourceStore.prototype.toJSON = function toJSON() {
	    return this.data;
	  };

	  return ResourceStore;
	}(_EventEmitter3.default);

	exports.default = ResourceStore;

/***/ }),
/* 9 */
/***/ (function(module, exports) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	exports.makeString = makeString;
	exports.copy = copy;
	exports.setPath = setPath;
	exports.pushPath = pushPath;
	exports.getPath = getPath;
	exports.deepExtend = deepExtend;
	exports.regexEscape = regexEscape;
	exports.escape = escape;
	function makeString(object) {
	  if (object == null) return '';
	  /* eslint prefer-template: 0 */
	  return '' + object;
	}

	function copy(a, s, t) {
	  a.forEach(function (m) {
	    if (s[m]) t[m] = s[m];
	  });
	}

	function getLastOfPath(object, path, Empty) {
	  function cleanKey(key) {
	    return key && key.indexOf('###') > -1 ? key.replace(/###/g, '.') : key;
	  }

	  function canNotTraverseDeeper() {
	    return !object || typeof object === 'string';
	  }

	  var stack = typeof path !== 'string' ? [].concat(path) : path.split('.');
	  while (stack.length > 1) {
	    if (canNotTraverseDeeper()) return {};

	    var key = cleanKey(stack.shift());
	    if (!object[key] && Empty) object[key] = new Empty();
	    object = object[key];
	  }

	  if (canNotTraverseDeeper()) return {};
	  return {
	    obj: object,
	    k: cleanKey(stack.shift())
	  };
	}

	function setPath(object, path, newValue) {
	  var _getLastOfPath = getLastOfPath(object, path, Object),
	      obj = _getLastOfPath.obj,
	      k = _getLastOfPath.k;

	  obj[k] = newValue;
	}

	function pushPath(object, path, newValue, concat) {
	  var _getLastOfPath2 = getLastOfPath(object, path, Object),
	      obj = _getLastOfPath2.obj,
	      k = _getLastOfPath2.k;

	  obj[k] = obj[k] || [];
	  if (concat) obj[k] = obj[k].concat(newValue);
	  if (!concat) obj[k].push(newValue);
	}

	function getPath(object, path) {
	  var _getLastOfPath3 = getLastOfPath(object, path),
	      obj = _getLastOfPath3.obj,
	      k = _getLastOfPath3.k;

	  if (!obj) return undefined;
	  return obj[k];
	}

	function deepExtend(target, source, overwrite) {
	  /* eslint no-restricted-syntax: 0 */
	  for (var prop in source) {
	    if (prop in target) {
	      // If we reached a leaf string in target or source then replace with source or skip depending on the 'overwrite' switch
	      if (typeof target[prop] === 'string' || target[prop] instanceof String || typeof source[prop] === 'string' || source[prop] instanceof String) {
	        if (overwrite) target[prop] = source[prop];
	      } else {
	        deepExtend(target[prop], source[prop], overwrite);
	      }
	    } else {
	      target[prop] = source[prop];
	    }
	  }
	  return target;
	}

	function regexEscape(str) {
	  /* eslint no-useless-escape: 0 */
	  return str.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, '\\$&');
	}

	/* eslint-disable */
	var _entityMap = {
	  "&": "&amp;",
	  "<": "&lt;",
	  ">": "&gt;",
	  '"': '&quot;',
	  "'": '&#39;',
	  "/": '&#x2F;'
	};
	/* eslint-enable */

	function escape(data) {
	  if (typeof data === 'string') {
	    return data.replace(/[&<>"'\/]/g, function (s) {
	      return _entityMap[s];
	    });
	  }

	  return data;
	}

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

	var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

	var _logger = __webpack_require__(6);

	var _logger2 = _interopRequireDefault(_logger);

	var _EventEmitter2 = __webpack_require__(7);

	var _EventEmitter3 = _interopRequireDefault(_EventEmitter2);

	var _postProcessor = __webpack_require__(11);

	var _postProcessor2 = _interopRequireDefault(_postProcessor);

	var _v = __webpack_require__(12);

	var compat = _interopRequireWildcard(_v);

	var _utils = __webpack_require__(9);

	var utils = _interopRequireWildcard(_utils);

	function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }

	var Translator = function (_EventEmitter) {
	  _inherits(Translator, _EventEmitter);

	  function Translator(services) {
	    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

	    _classCallCheck(this, Translator);

	    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));

	    utils.copy(['resourceStore', 'languageUtils', 'pluralResolver', 'interpolator', 'backendConnector'], services, _this);

	    _this.options = options;
	    _this.logger = _logger2.default.create('translator');
	    return _this;
	  }

	  Translator.prototype.changeLanguage = function changeLanguage(lng) {
	    if (lng) this.language = lng;
	  };

	  Translator.prototype.exists = function exists(key) {
	    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { interpolation: {} };

	    if (this.options.compatibilityAPI === 'v1') {
	      options = compat.convertTOptions(options);
	    }

	    return this.resolve(key, options) !== undefined;
	  };

	  Translator.prototype.extractFromKey = function extractFromKey(key, options) {
	    var nsSeparator = options.nsSeparator || this.options.nsSeparator;
	    if (nsSeparator === undefined) nsSeparator = ':';
	    var keySeparator = options.keySeparator || this.options.keySeparator || '.';

	    var namespaces = options.ns || this.options.defaultNS;
	    if (nsSeparator && key.indexOf(nsSeparator) > -1) {
	      var parts = key.split(nsSeparator);
	      if (nsSeparator !== keySeparator || nsSeparator === keySeparator && this.options.ns.indexOf(parts[0]) > -1) namespaces = parts.shift();
	      key = parts.join(keySeparator);
	    }
	    if (typeof namespaces === 'string') namespaces = [namespaces];

	    return {
	      key: key,
	      namespaces: namespaces
	    };
	  };

	  Translator.prototype.translate = function translate(keys) {
	    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

	    if ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) !== 'object') {
	      /* eslint prefer-rest-params: 0 */
	      options = this.options.overloadTranslationOptionHandler(arguments);
	    } else if (this.options.compatibilityAPI === 'v1') {
	      options = compat.convertTOptions(options);
	    }

	    // non valid keys handling
	    if (keys === undefined || keys === null || keys === '') return '';
	    if (typeof keys === 'number') keys = String(keys);
	    if (typeof keys === 'string') keys = [keys];

	    // separators
	    var keySeparator = options.keySeparator || this.options.keySeparator || '.';

	    // get namespace(s)

	    var _extractFromKey = this.extractFromKey(keys[keys.length - 1], options),
	        key = _extractFromKey.key,
	        namespaces = _extractFromKey.namespaces;

	    var namespace = namespaces[namespaces.length - 1];

	    // return key on CIMode
	    var lng = options.lng || this.language;
	    var appendNamespaceToCIMode = options.appendNamespaceToCIMode || this.options.appendNamespaceToCIMode;
	    if (lng && lng.toLowerCase() === 'cimode') {
	      if (appendNamespaceToCIMode) {
	        var nsSeparator = options.nsSeparator || this.options.nsSeparator;
	        return namespace + nsSeparator + key;
	      }

	      return key;
	    }

	    // resolve from store
	    var res = this.resolve(keys, options);

	    var resType = Object.prototype.toString.apply(res);
	    var noObject = ['[object Number]', '[object Function]', '[object RegExp]'];
	    var joinArrays = options.joinArrays !== undefined ? options.joinArrays : this.options.joinArrays;

	    // object
	    if (res && typeof res !== 'string' && noObject.indexOf(resType) < 0 && !(joinArrays && resType === '[object Array]')) {
	      if (!options.returnObjects && !this.options.returnObjects) {
	        this.logger.warn('accessing an object - but returnObjects options is not enabled!');
	        return this.options.returnedObjectHandler ? this.options.returnedObjectHandler(key, res, options) : 'key \'' + key + ' (' + this.language + ')\' returned an object instead of string.';
	      }

	      // if we got a separator we loop over children - else we just return object as is
	      // as having it set to false means no hierarchy so no lookup for nested values
	      if (options.keySeparator || this.options.keySeparator) {
	        var copy = resType === '[object Array]' ? [] : {}; // apply child translation on a copy

	        /* eslint no-restricted-syntax: 0 */
	        for (var m in res) {
	          if (Object.prototype.hasOwnProperty.call(res, m)) {
	            copy[m] = this.translate('' + key + keySeparator + m, _extends({}, options, { joinArrays: false, ns: namespaces }));
	          }
	        }
	        res = copy;
	      }
	    } else if (joinArrays && resType === '[object Array]') {
	      // array special treatment
	      res = res.join(joinArrays);
	      if (res) res = this.extendTranslation(res, key, options);
	    } else {
	      // string, empty or null
	      var usedDefault = false;
	      var usedKey = false;

	      // fallback value
	      if (!this.isValidLookup(res) && options.defaultValue !== undefined) {
	        usedDefault = true;
	        res = options.defaultValue;
	      }
	      if (!this.isValidLookup(res)) {
	        usedKey = true;
	        res = key;
	      }

	      // save missing
	      if (usedKey || usedDefault) {
	        this.logger.log('missingKey', lng, namespace, key, res);

	        var lngs = [];
	        var fallbackLngs = this.languageUtils.getFallbackCodes(this.options.fallbackLng, options.lng || this.language);
	        if (this.options.saveMissingTo === 'fallback' && fallbackLngs && fallbackLngs[0]) {
	          for (var i = 0; i < fallbackLngs.length; i++) {
	            lngs.push(fallbackLngs[i]);
	          }
	        } else if (this.options.saveMissingTo === 'all') {
	          lngs = this.languageUtils.toResolveHierarchy(options.lng || this.language);
	        } else {
	          lngs.push(options.lng || this.language);
	        }

	        if (this.options.saveMissing) {
	          if (this.options.missingKeyHandler) {
	            this.options.missingKeyHandler(lngs, namespace, key, res);
	          } else if (this.backendConnector && this.backendConnector.saveMissing) {
	            this.backendConnector.saveMissing(lngs, namespace, key, res);
	          }
	        }

	        this.emit('missingKey', lngs, namespace, key, res);
	      }

	      // extend
	      res = this.extendTranslation(res, key, options);

	      // append namespace if still key
	      if (usedKey && res === key && this.options.appendNamespaceToMissingKey) res = namespace + ':' + key;

	      // parseMissingKeyHandler
	      if (usedKey && this.options.parseMissingKeyHandler) res = this.options.parseMissingKeyHandler(res);
	    }

	    // return
	    return res;
	  };

	  Translator.prototype.extendTranslation = function extendTranslation(res, key, options) {
	    var _this2 = this;

	    if (options.interpolation) this.interpolator.init(_extends({}, options, { interpolation: _extends({}, this.options.interpolation, options.interpolation) }));

	    // interpolate
	    var data = options.replace && typeof options.replace !== 'string' ? options.replace : options;
	    if (this.options.interpolation.defaultVariables) data = _extends({}, this.options.interpolation.defaultVariables, data);
	    res = this.interpolator.interpolate(res, data, options.lng || this.language);

	    // nesting
	    if (options.nest !== false) res = this.interpolator.nest(res, function () {
	      return _this2.translate.apply(_this2, arguments);
	    }, options);

	    if (options.interpolation) this.interpolator.reset();

	    // post process
	    var postProcess = options.postProcess || this.options.postProcess;
	    var postProcessorNames = typeof postProcess === 'string' ? [postProcess] : postProcess;

	    if (res !== undefined && postProcessorNames && postProcessorNames.length && options.applyPostProcessor !== false) {
	      res = _postProcessor2.default.handle(postProcessorNames, res, key, options, this);
	    }

	    return res;
	  };

	  Translator.prototype.resolve = function resolve(keys) {
	    var _this3 = this;

	    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

	    var found = void 0;

	    if (typeof keys === 'string') keys = [keys];

	    // forEach possible key
	    keys.forEach(function (k) {
	      if (_this3.isValidLookup(found)) return;

	      var extracted = _this3.extractFromKey(k, options);
	      var key = extracted.key;
	      var namespaces = extracted.namespaces;
	      if (_this3.options.fallbackNS) namespaces = namespaces.concat(_this3.options.fallbackNS);

	      var needsPluralHandling = options.count !== undefined && typeof options.count !== 'string';
	      var needsContextHandling = options.context !== undefined && typeof options.context === 'string' && options.context !== '';

	      var codes = options.lngs ? options.lngs : _this3.languageUtils.toResolveHierarchy(options.lng || _this3.language);

	      namespaces.forEach(function (ns) {
	        if (_this3.isValidLookup(found)) return;

	        codes.forEach(function (code) {
	          if (_this3.isValidLookup(found)) return;

	          var finalKey = key;
	          var finalKeys = [finalKey];

	          var pluralSuffix = void 0;
	          if (needsPluralHandling) pluralSuffix = _this3.pluralResolver.getSuffix(code, options.count);

	          // fallback for plural if context not found
	          if (needsPluralHandling && needsContextHandling) finalKeys.push(finalKey + pluralSuffix);

	          // get key for context if needed
	          if (needsContextHandling) finalKeys.push(finalKey += '' + _this3.options.contextSeparator + options.context);

	          // get key for plural if needed
	          if (needsPluralHandling) finalKeys.push(finalKey += pluralSuffix);

	          // iterate over finalKeys starting with most specific pluralkey (-> contextkey only) -> singularkey only
	          var possibleKey = void 0;
	          /* eslint no-cond-assign: 0 */
	          while (possibleKey = finalKeys.pop()) {
	            if (!_this3.isValidLookup(found)) {
	              found = _this3.getResource(code, ns, possibleKey, options);
	            }
	          }
	        });
	      });
	    });

	    return found;
	  };

	  Translator.prototype.isValidLookup = function isValidLookup(res) {
	    return res !== undefined && !(!this.options.returnNull && res === null) && !(!this.options.returnEmptyString && res === '');
	  };

	  Translator.prototype.getResource = function getResource(code, ns, key) {
	    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};

	    return this.resourceStore.getResource(code, ns, key, options);
	  };

	  return Translator;
	}(_EventEmitter3.default);

	exports.default = Translator;

/***/ }),
/* 11 */
/***/ (function(module, exports) {

	"use strict";

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	exports.default = {

	  processors: {},

	  addPostProcessor: function addPostProcessor(module) {
	    this.processors[module.name] = module;
	  },
	  handle: function handle(processors, value, key, options, translator) {
	    var _this = this;

	    processors.forEach(function (processor) {
	      if (_this.processors[processor]) value = _this.processors[processor].process(value, key, options, translator);
	    });

	    return value;
	  }
	};

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	exports.convertAPIOptions = convertAPIOptions;
	exports.convertJSONOptions = convertJSONOptions;
	exports.convertTOptions = convertTOptions;
	exports.appendBackwardsAPI = appendBackwardsAPI;

	var _logger = __webpack_require__(6);

	var _logger2 = _interopRequireDefault(_logger);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function convertInterpolation(options) {

	  options.interpolation = {
	    unescapeSuffix: 'HTML'
	  };

	  options.interpolation.prefix = options.interpolationPrefix || '__';
	  options.interpolation.suffix = options.interpolationSuffix || '__';
	  options.interpolation.escapeValue = options.escapeInterpolation || false;

	  options.interpolation.nestingPrefix = options.reusePrefix || '$t(';
	  options.interpolation.nestingSuffix = options.reuseSuffix || ')';

	  return options;
	} /* eslint no-param-reassign: 0 */
	function convertAPIOptions(options) {
	  if (options.resStore) options.resources = options.resStore;

	  if (options.ns && options.ns.defaultNs) {
	    options.defaultNS = options.ns.defaultNs;
	    options.ns = options.ns.namespaces;
	  } else {
	    options.defaultNS = options.ns || 'translation';
	  }

	  if (options.fallbackToDefaultNS && options.defaultNS) options.fallbackNS = options.defaultNS;

	  options.saveMissing = options.sendMissing;
	  options.saveMissingTo = options.sendMissingTo || 'current';
	  options.returnNull = !options.fallbackOnNull;
	  options.returnEmptyString = !options.fallbackOnEmpty;
	  options.returnObjects = options.returnObjectTrees;
	  options.joinArrays = '\n';

	  options.returnedObjectHandler = options.objectTreeKeyHandler;
	  options.parseMissingKeyHandler = options.parseMissingKey;
	  options.appendNamespaceToMissingKey = true;

	  options.nsSeparator = options.nsseparator || ':';
	  options.keySeparator = options.keyseparator || '.';

	  if (options.shortcutFunction === 'sprintf') {
	    options.overloadTranslationOptionHandler = function handle(args) {
	      var values = [];

	      for (var i = 1; i < args.length; i++) {
	        values.push(args[i]);
	      }

	      return {
	        postProcess: 'sprintf',
	        sprintf: values
	      };
	    };
	  }

	  options.whitelist = options.lngWhitelist;
	  options.preload = options.preload;
	  if (options.load === 'current') options.load = 'currentOnly';
	  if (options.load === 'unspecific') options.load = 'languageOnly';

	  // backend
	  options.backend = options.backend || {};
	  options.backend.loadPath = options.resGetPath || 'locales/__lng__/__ns__.json';
	  options.backend.addPath = options.resPostPath || 'locales/add/__lng__/__ns__';
	  options.backend.allowMultiLoading = options.dynamicLoad;

	  // cache
	  options.cache = options.cache || {};
	  options.cache.prefix = 'res_';
	  options.cache.expirationTime = 7 * 24 * 60 * 60 * 1000;
	  options.cache.enabled = options.useLocalStorage;

	  options = convertInterpolation(options);
	  if (options.defaultVariables) options.interpolation.defaultVariables = options.defaultVariables;

	  // COMPATIBILITY: deprecation
	  // if (options.getAsync === false) throw deprecation error

	  return options;
	}

	function convertJSONOptions(options) {
	  options = convertInterpolation(options);
	  options.joinArrays = '\n';

	  return options;
	}

	function convertTOptions(options) {
	  if (options.interpolationPrefix || options.interpolationSuffix || options.escapeInterpolation !== undefined) {
	    options = convertInterpolation(options);
	  }

	  options.nsSeparator = options.nsseparator;
	  options.keySeparator = options.keyseparator;

	  options.returnObjects = options.returnObjectTrees;

	  return options;
	}

	function appendBackwardsAPI(i18n) {
	  i18n.lng = function () {
	    _logger2.default.deprecate('i18next.lng() can be replaced by i18next.language for detected language or i18next.languages for languages ordered by translation lookup.');
	    return i18n.services.languageUtils.toResolveHierarchy(i18n.language)[0];
	  };

	  i18n.preload = function (lngs, cb) {
	    _logger2.default.deprecate('i18next.preload() can be replaced with i18next.loadLanguages()');
	    i18n.loadLanguages(lngs, cb);
	  };

	  i18n.setLng = function (lng, options, callback) {
	    _logger2.default.deprecate('i18next.setLng() can be replaced with i18next.changeLanguage() or i18next.getFixedT() to get a translation function with fixed language or namespace.');
	    if (typeof options === 'function') {
	      callback = options;
	      options = {};
	    }
	    if (!options) options = {};

	    if (options.fixLng === true) {
	      if (callback) return callback(null, i18n.getFixedT(lng));
	    }

	    return i18n.changeLanguage(lng, callback);
	  };

	  i18n.addPostProcessor = function (name, fc) {
	    _logger2.default.deprecate('i18next.addPostProcessor() can be replaced by i18next.use({ type: \'postProcessor\', name: \'name\', process: fc })');
	    i18n.use({
	      type: 'postProcessor',
	      name: name,
	      process: fc
	    });
	  };
	}

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _logger = __webpack_require__(6);

	var _logger2 = _interopRequireDefault(_logger);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function capitalize(string) {
	  return string.charAt(0).toUpperCase() + string.slice(1);
	}

	var LanguageUtil = function () {
	  function LanguageUtil(options) {
	    _classCallCheck(this, LanguageUtil);

	    this.options = options;

	    this.whitelist = this.options.whitelist || false;
	    this.logger = _logger2.default.create('languageUtils');
	  }

	  LanguageUtil.prototype.getScriptPartFromCode = function getScriptPartFromCode(code) {
	    if (!code || code.indexOf('-') < 0) return null;

	    var p = code.split('-');
	    if (p.length === 2) return null;
	    p.pop();
	    return this.formatLanguageCode(p.join('-'));
	  };

	  LanguageUtil.prototype.getLanguagePartFromCode = function getLanguagePartFromCode(code) {
	    if (!code || code.indexOf('-') < 0) return code;

	    var p = code.split('-');
	    return this.formatLanguageCode(p[0]);
	  };

	  LanguageUtil.prototype.formatLanguageCode = function formatLanguageCode(code) {
	    // http://www.iana.org/assignments/language-tags/language-tags.xhtml
	    if (typeof code === 'string' && code.indexOf('-') > -1) {
	      var specialCases = ['hans', 'hant', 'latn', 'cyrl', 'cans', 'mong', 'arab'];
	      var p = code.split('-');

	      if (this.options.lowerCaseLng) {
	        p = p.map(function (part) {
	          return part.toLowerCase();
	        });
	      } else if (p.length === 2) {
	        p[0] = p[0].toLowerCase();
	        p[1] = p[1].toUpperCase();

	        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());
	      } else if (p.length === 3) {
	        p[0] = p[0].toLowerCase();

	        // if lenght 2 guess it's a country
	        if (p[1].length === 2) p[1] = p[1].toUpperCase();
	        if (p[0] !== 'sgn' && p[2].length === 2) p[2] = p[2].toUpperCase();

	        if (specialCases.indexOf(p[1].toLowerCase()) > -1) p[1] = capitalize(p[1].toLowerCase());
	        if (specialCases.indexOf(p[2].toLowerCase()) > -1) p[2] = capitalize(p[2].toLowerCase());
	      }

	      return p.join('-');
	    }

	    return this.options.cleanCode || this.options.lowerCaseLng ? code.toLowerCase() : code;
	  };

	  LanguageUtil.prototype.isWhitelisted = function isWhitelisted(code) {
	    if (this.options.load === 'languageOnly' || this.options.nonExplicitWhitelist) {
	      code = this.getLanguagePartFromCode(code);
	    }
	    return !this.whitelist || !this.whitelist.length || this.whitelist.indexOf(code) > -1;
	  };

	  LanguageUtil.prototype.getFallbackCodes = function getFallbackCodes(fallbacks, code) {
	    if (!fallbacks) return [];
	    if (typeof fallbacks === 'string') fallbacks = [fallbacks];
	    if (Object.prototype.toString.apply(fallbacks) === '[object Array]') return fallbacks;

	    if (!code) return fallbacks.default || [];

	    // asume we have an object defining fallbacks
	    var found = fallbacks[code];
	    if (!found) found = fallbacks[this.getScriptPartFromCode(code)];
	    if (!found) found = fallbacks[this.formatLanguageCode(code)];
	    if (!found) found = fallbacks.default;

	    return found || [];
	  };

	  LanguageUtil.prototype.toResolveHierarchy = function toResolveHierarchy(code, fallbackCode) {
	    var _this = this;

	    var fallbackCodes = this.getFallbackCodes(fallbackCode || this.options.fallbackLng || [], code);

	    var codes = [];
	    var addCode = function addCode(c) {
	      if (!c) return;
	      if (_this.isWhitelisted(c)) {
	        codes.push(c);
	      } else {
	        _this.logger.warn('rejecting non-whitelisted language code: ' + c);
	      }
	    };

	    if (typeof code === 'string' && code.indexOf('-') > -1) {
	      if (this.options.load !== 'languageOnly') addCode(this.formatLanguageCode(code));
	      if (this.options.load !== 'languageOnly' && this.options.load !== 'currentOnly') addCode(this.getScriptPartFromCode(code));
	      if (this.options.load !== 'currentOnly') addCode(this.getLanguagePartFromCode(code));
	    } else if (typeof code === 'string') {
	      addCode(this.formatLanguageCode(code));
	    }

	    fallbackCodes.forEach(function (fc) {
	      if (codes.indexOf(fc) < 0) addCode(_this.formatLanguageCode(fc));
	    });

	    return codes;
	  };

	  return LanguageUtil;
	}();

	exports.default = LanguageUtil;

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

	var _logger = __webpack_require__(6);

	var _logger2 = _interopRequireDefault(_logger);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	// definition http://translate.sourceforge.net/wiki/l10n/pluralforms
	/* eslint-disable */
	var sets = [{ lngs: ['ach', 'ak', 'am', 'arn', 'br', 'fil', 'gun', 'ln', 'mfe', 'mg', 'mi', 'oc', 'tg', 'ti', 'tr', 'uz', 'wa'], nr: [1, 2], fc: 1 }, { lngs: ['af', 'an', 'ast', 'az', 'bg', 'bn', 'ca', 'da', 'de', 'dev', 'el', 'en', 'eo', 'es', 'es_ar', 'et', 'eu', 'fi', 'fo', 'fur', 'fy', 'gl', 'gu', 'ha', 'he', 'hi', 'hu', 'hy', 'ia', 'it', 'kn', 'ku', 'lb', 'mai', 'ml', 'mn', 'mr', 'nah', 'nap', 'nb', 'ne', 'nl', 'nn', 'no', 'nso', 'pa', 'pap', 'pms', 'ps', 'pt', 'pt_br', 'rm', 'sco', 'se', 'si', 'so', 'son', 'sq', 'sv', 'sw', 'ta', 'te', 'tk', 'ur', 'yo'], nr: [1, 2], fc: 2 }, { lngs: ['ay', 'bo', 'cgg', 'fa', 'id', 'ja', 'jbo', 'ka', 'kk', 'km', 'ko', 'ky', 'lo', 'ms', 'sah', 'su', 'th', 'tt', 'ug', 'vi', 'wo', 'zh'], nr: [1], fc: 3 }, { lngs: ['be', 'bs', 'dz', 'hr', 'ru', 'sr', 'uk'], nr: [1, 2, 5], fc: 4 }, { lngs: ['ar'], nr: [0, 1, 2, 3, 11, 100], fc: 5 }, { lngs: ['cs', 'sk'], nr: [1, 2, 5], fc: 6 }, { lngs: ['csb', 'pl'], nr: [1, 2, 5], fc: 7 }, { lngs: ['cy'], nr: [1, 2, 3, 8], fc: 8 }, { lngs: ['fr'], nr: [1, 2], fc: 9 }, { lngs: ['ga'], nr: [1, 2, 3, 7, 11], fc: 10 }, { lngs: ['gd'], nr: [1, 2, 3, 20], fc: 11 }, { lngs: ['is'], nr: [1, 2], fc: 12 }, { lngs: ['jv'], nr: [0, 1], fc: 13 }, { lngs: ['kw'], nr: [1, 2, 3, 4], fc: 14 }, { lngs: ['lt'], nr: [1, 2, 10], fc: 15 }, { lngs: ['lv'], nr: [1, 2, 0], fc: 16 }, { lngs: ['mk'], nr: [1, 2], fc: 17 }, { lngs: ['mnk'], nr: [0, 1, 2], fc: 18 }, { lngs: ['mt'], nr: [1, 2, 11, 20], fc: 19 }, { lngs: ['or'], nr: [2, 1], fc: 2 }, { lngs: ['ro'], nr: [1, 2, 20], fc: 20 }, { lngs: ['sl'], nr: [5, 1, 2, 3], fc: 21 }];

	var _rulesPluralsTypes = {
	  1: function _(n) {
	    return Number(n > 1);
	  },
	  2: function _(n) {
	    return Number(n != 1);
	  },
	  3: function _(n) {
	    return 0;
	  },
	  4: function _(n) {
	    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
	  },
	  5: function _(n) {
	    return Number(n === 0 ? 0 : n == 1 ? 1 : n == 2 ? 2 : n % 100 >= 3 && n % 100 <= 10 ? 3 : n % 100 >= 11 ? 4 : 5);
	  },
	  6: function _(n) {
	    return Number(n == 1 ? 0 : n >= 2 && n <= 4 ? 1 : 2);
	  },
	  7: function _(n) {
	    return Number(n == 1 ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
	  },
	  8: function _(n) {
	    return Number(n == 1 ? 0 : n == 2 ? 1 : n != 8 && n != 11 ? 2 : 3);
	  },
	  9: function _(n) {
	    return Number(n >= 2);
	  },
	  10: function _(n) {
	    return Number(n == 1 ? 0 : n == 2 ? 1 : n < 7 ? 2 : n < 11 ? 3 : 4);
	  },
	  11: function _(n) {
	    return Number(n == 1 || n == 11 ? 0 : n == 2 || n == 12 ? 1 : n > 2 && n < 20 ? 2 : 3);
	  },
	  12: function _(n) {
	    return Number(n % 10 != 1 || n % 100 == 11);
	  },
	  13: function _(n) {
	    return Number(n !== 0);
	  },
	  14: function _(n) {
	    return Number(n == 1 ? 0 : n == 2 ? 1 : n == 3 ? 2 : 3);
	  },
	  15: function _(n) {
	    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n % 10 >= 2 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2);
	  },
	  16: function _(n) {
	    return Number(n % 10 == 1 && n % 100 != 11 ? 0 : n !== 0 ? 1 : 2);
	  },
	  17: function _(n) {
	    return Number(n == 1 || n % 10 == 1 ? 0 : 1);
	  },
	  18: function _(n) {
	    return Number(n == 0 ? 0 : n == 1 ? 1 : 2);
	  },
	  19: function _(n) {
	    return Number(n == 1 ? 0 : n === 0 || n % 100 > 1 && n % 100 < 11 ? 1 : n % 100 > 10 && n % 100 < 20 ? 2 : 3);
	  },
	  20: function _(n) {
	    return Number(n == 1 ? 0 : n === 0 || n % 100 > 0 && n % 100 < 20 ? 1 : 2);
	  },
	  21: function _(n) {
	    return Number(n % 100 == 1 ? 1 : n % 100 == 2 ? 2 : n % 100 == 3 || n % 100 == 4 ? 3 : 0);
	  }
	};
	/* eslint-enable */

	function createRules() {
	  var rules = {};
	  sets.forEach(function (set) {
	    set.lngs.forEach(function (l) {
	      rules[l] = {
	        numbers: set.nr,
	        plurals: _rulesPluralsTypes[set.fc]
	      };
	    });
	  });
	  return rules;
	}

	var PluralResolver = function () {
	  function PluralResolver(languageUtils) {
	    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};

	    _classCallCheck(this, PluralResolver);

	    this.languageUtils = languageUtils;
	    this.options = options;

	    this.logger = _logger2.default.create('pluralResolver');

	    this.rules = createRules();
	  }

	  PluralResolver.prototype.addRule = function addRule(lng, obj) {
	    this.rules[lng] = obj;
	  };

	  PluralResolver.prototype.getRule = function getRule(code) {
	    return this.rules[this.languageUtils.getLanguagePartFromCode(code)];
	  };

	  PluralResolver.prototype.needsPlural = function needsPlural(code) {
	    var rule = this.getRule(code);

	    return rule && rule.numbers.length > 1;
	  };

	  PluralResolver.prototype.getSuffix = function getSuffix(code, count) {
	    var _this = this;

	    var rule = this.getRule(code);

	    if (rule) {
	      var _ret = function () {
	        if (rule.numbers.length === 1) return {
	            v: ''
	          }; // only singular

	        var idx = rule.noAbs ? rule.plurals(count) : rule.plurals(Math.abs(count));
	        var suffix = rule.numbers[idx];

	        // special treatment for lngs only having singular and plural
	        if (_this.options.simplifyPluralSuffix && rule.numbers.length === 2 && rule.numbers[0] === 1) {
	          if (suffix === 2) {
	            suffix = 'plural';
	          } else if (suffix === 1) {
	            suffix = '';
	          }
	        }

	        var returnSuffix = function returnSuffix() {
	          return _this.options.prepend && suffix.toString() ? _this.options.prepend + suffix.toString() : suffix.toString();
	        };

	        // COMPATIBILITY JSON
	        // v1
	        if (_this.options.compatibilityJSON === 'v1') {
	          if (suffix === 1) return {
	              v: ''
	            };
	          if (typeof suffix === 'number') return {
	              v: '_plural_' + suffix.toString()
	            };
	          return {
	            v: returnSuffix()
	          };
	        } else if ( /* v2 */_this.options.compatibilityJSON === 'v2' || rule.numbers.length === 2 && rule.numbers[0] === 1) {
	          return {
	            v: returnSuffix()
	          };
	        } else if ( /* v3 - gettext index */rule.numbers.length === 2 && rule.numbers[0] === 1) {
	          return {
	            v: returnSuffix()
	          };
	        }
	        return {
	          v: _this.options.prepend && idx.toString() ? _this.options.prepend + idx.toString() : idx.toString()
	        };
	      }();

	      if ((typeof _ret === 'undefined' ? 'undefined' : _typeof(_ret)) === "object") return _ret.v;
	    }

	    this.logger.warn('no plural rule found for: ' + code);
	    return '';
	  };

	  return PluralResolver;
	}();

	exports.default = PluralResolver;

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

	var _utils = __webpack_require__(9);

	var utils = _interopRequireWildcard(_utils);

	var _logger = __webpack_require__(6);

	var _logger2 = _interopRequireDefault(_logger);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	var Interpolator = function () {
	  function Interpolator() {
	    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};

	    _classCallCheck(this, Interpolator);

	    this.logger = _logger2.default.create('interpolator');

	    this.init(options, true);
	  }

	  /* eslint no-param-reassign: 0 */


	  Interpolator.prototype.init = function init() {
	    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
	    var reset = arguments[1];

	    if (reset) {
	      this.options = options;
	      this.format = options.interpolation && options.interpolation.format || function (value) {
	        return value;
	      };
	      this.escape = options.interpolation && options.interpolation.escape || utils.escape;
	    }
	    if (!options.interpolation) options.interpolation = { escapeValue: true };

	    var iOpts = options.interpolation;

	    this.escapeValue = iOpts.escapeValue !== undefined ? iOpts.escapeValue : true;

	    this.prefix = iOpts.prefix ? utils.regexEscape(iOpts.prefix) : iOpts.prefixEscaped || '{{';
	    this.suffix = iOpts.suffix ? utils.regexEscape(iOpts.suffix) : iOpts.suffixEscaped || '}}';

	    this.formatSeparator = iOpts.formatSeparator ? iOpts.formatSeparator : iOpts.formatSeparator || ',';

	    this.unescapePrefix = iOpts.unescapeSuffix ? '' : iOpts.unescapePrefix || '-';
	    this.unescapeSuffix = this.unescapePrefix ? '' : iOpts.unescapeSuffix || '';

	    this.nestingPrefix = iOpts.nestingPrefix ? utils.regexEscape(iOpts.nestingPrefix) : iOpts.nestingPrefixEscaped || utils.regexEscape('$t(');
	    this.nestingSuffix = iOpts.nestingSuffix ? utils.regexEscape(iOpts.nestingSuffix) : iOpts.nestingSuffixEscaped || utils.regexEscape(')');

	    // the regexp
	    this.resetRegExp();
	  };

	  Interpolator.prototype.reset = function reset() {
	    if (this.options) this.init(this.options);
	  };

	  Interpolator.prototype.resetRegExp = function resetRegExp() {
	    // the regexp
	    var regexpStr = this.prefix + '(.+?)' + this.suffix;
	    this.regexp = new RegExp(regexpStr, 'g');

	    var regexpUnescapeStr = '' + this.prefix + this.unescapePrefix + '(.+?)' + this.unescapeSuffix + this.suffix;
	    this.regexpUnescape = new RegExp(regexpUnescapeStr, 'g');

	    var nestingRegexpStr = this.nestingPrefix + '(.+?)' + this.nestingSuffix;
	    this.nestingRegexp = new RegExp(nestingRegexpStr, 'g');
	  };

	  Interpolator.prototype.interpolate = function interpolate(str, data, lng) {
	    var _this = this;

	    var match = void 0;
	    var value = void 0;

	    function regexSafe(val) {
	      return val.replace(/\$/g, '$$$$');
	    }

	    var handleFormat = function handleFormat(key) {
	      if (key.indexOf(_this.formatSeparator) < 0) return utils.getPath(data, key);

	      var p = key.split(_this.formatSeparator);
	      var k = p.shift().trim();
	      var f = p.join(_this.formatSeparator).trim();

	      return _this.format(utils.getPath(data, k), f, lng);
	    };

	    this.resetRegExp();

	    // unescape if has unescapePrefix/Suffix
	    /* eslint no-cond-assign: 0 */
	    while (match = this.regexpUnescape.exec(str)) {
	      value = handleFormat(match[1].trim());
	      str = str.replace(match[0], value);
	      this.regexpUnescape.lastIndex = 0;
	    }

	    // regular escape on demand
	    while (match = this.regexp.exec(str)) {
	      value = handleFormat(match[1].trim());
	      if (typeof value !== 'string') value = utils.makeString(value);
	      if (!value) {
	        this.logger.warn('missed to pass in variable ' + match[1] + ' for interpolating ' + str);
	        value = '';
	      }
	      value = this.escapeValue ? regexSafe(this.escape(value)) : regexSafe(value);
	      str = str.replace(match[0], value);
	      this.regexp.lastIndex = 0;
	    }
	    return str;
	  };

	  Interpolator.prototype.nest = function nest(str, fc) {
	    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};

	    var match = void 0;
	    var value = void 0;

	    var clonedOptions = _extends({}, options);
	    clonedOptions.applyPostProcessor = false; // avoid post processing on nested lookup

	    // if value is something like "myKey": "lorem $(anotherKey, { "count": {{aValueInOptions}} })"
	    function handleHasOptions(key) {
	      if (key.indexOf(',') < 0) return key;

	      var p = key.split(',');
	      key = p.shift();
	      var optionsString = p.join(',');
	      optionsString = this.interpolate(optionsString, clonedOptions);
	      optionsString = optionsString.replace(/'/g, '"');

	      try {
	        clonedOptions = JSON.parse(optionsString);
	      } catch (e) {
	        this.logger.error('failed parsing options string in nesting for key ' + key, e);
	      }

	      return key;
	    }

	    // regular escape on demand
	    while (match = this.nestingRegexp.exec(str)) {
	      value = fc(handleHasOptions.call(this, match[1].trim()), clonedOptions);

	      // is only the nesting key (key1 = '$(key2)') return the value without stringify
	      if (value && match[0] === str && typeof value !== 'string') return value;

	      // no string to include or empty
	      if (typeof value !== 'string') value = utils.makeString(value);
	      if (!value) {
	        this.logger.warn('missed to resolve ' + match[1] + ' for nesting ' + str);
	        value = '';
	      }
	      // Nested keys should not be escaped by default #854
	      // value = this.escapeValue ? regexSafe(utils.escape(value)) : regexSafe(value);
	      str = str.replace(match[0], value);
	      this.regexp.lastIndex = 0;
	    }
	    return str;
	  };

	  return Interpolator;
	}();

	exports.default = Interpolator;

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

	var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

	var _utils = __webpack_require__(9);

	var utils = _interopRequireWildcard(_utils);

	var _logger = __webpack_require__(6);

	var _logger2 = _interopRequireDefault(_logger);

	var _EventEmitter2 = __webpack_require__(7);

	var _EventEmitter3 = _interopRequireDefault(_EventEmitter2);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

	function _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }

	function remove(arr, what) {
	  var found = arr.indexOf(what);

	  while (found !== -1) {
	    arr.splice(found, 1);
	    found = arr.indexOf(what);
	  }
	}

	var Connector = function (_EventEmitter) {
	  _inherits(Connector, _EventEmitter);

	  function Connector(backend, store, services) {
	    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};

	    _classCallCheck(this, Connector);

	    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));

	    _this.backend = backend;
	    _this.store = store;
	    _this.services = services;
	    _this.options = options;
	    _this.logger = _logger2.default.create('backendConnector');

	    _this.state = {};
	    _this.queue = [];

	    if (_this.backend && _this.backend.init) {
	      _this.backend.init(services, options.backend, options);
	    }
	    return _this;
	  }

	  Connector.prototype.queueLoad = function queueLoad(languages, namespaces, callback) {
	    var _this2 = this;

	    // find what needs to be loaded
	    var toLoad = [];
	    var pending = [];
	    var toLoadLanguages = [];
	    var toLoadNamespaces = [];

	    languages.forEach(function (lng) {
	      var hasAllNamespaces = true;

	      namespaces.forEach(function (ns) {
	        var name = lng + '|' + ns;

	        if (_this2.store.hasResourceBundle(lng, ns)) {
	          _this2.state[name] = 2; // loaded
	        } else if (_this2.state[name] < 0) {
	          // nothing to do for err
	        } else if (_this2.state[name] === 1) {
	          if (pending.indexOf(name) < 0) pending.push(name);
	        } else {
	          _this2.state[name] = 1; // pending

	          hasAllNamespaces = false;

	          if (pending.indexOf(name) < 0) pending.push(name);
	          if (toLoad.indexOf(name) < 0) toLoad.push(name);
	          if (toLoadNamespaces.indexOf(ns) < 0) toLoadNamespaces.push(ns);
	        }
	      });

	      if (!hasAllNamespaces) toLoadLanguages.push(lng);
	    });

	    if (toLoad.length || pending.length) {
	      this.queue.push({
	        pending: pending,
	        loaded: {},
	        errors: [],
	        callback: callback
	      });
	    }

	    return {
	      toLoad: toLoad,
	      pending: pending,
	      toLoadLanguages: toLoadLanguages,
	      toLoadNamespaces: toLoadNamespaces
	    };
	  };

	  Connector.prototype.loaded = function loaded(name, err, data) {
	    var _this3 = this;

	    var _name$split = name.split('|'),
	        _name$split2 = _slicedToArray(_name$split, 2),
	        lng = _name$split2[0],
	        ns = _name$split2[1];

	    if (err) this.emit('failedLoading', lng, ns, err);

	    if (data) {
	      this.store.addResourceBundle(lng, ns, data);
	    }

	    // set loaded
	    this.state[name] = err ? -1 : 2;

	    // callback if ready
	    this.queue.forEach(function (q) {
	      utils.pushPath(q.loaded, [lng], ns);
	      remove(q.pending, name);

	      if (err) q.errors.push(err);

	      if (q.pending.length === 0 && !q.done) {
	        _this3.emit('loaded', q.loaded);
	        /* eslint no-param-reassign: 0 */
	        q.done = true;
	        if (q.errors.length) {
	          q.callback(q.errors);
	        } else {
	          q.callback();
	        }
	      }
	    });

	    // remove done load requests
	    this.queue = this.queue.filter(function (q) {
	      return !q.done;
	    });
	  };

	  Connector.prototype.read = function read(lng, ns, fcName) {
	    var tried = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;

	    var _this4 = this;

	    var wait = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 250;
	    var callback = arguments[5];

	    if (!lng.length) return callback(null, {}); // noting to load

	    return this.backend[fcName](lng, ns, function (err, data) {
	      if (err && data /* = retryFlag */ && tried < 5) {
	        setTimeout(function () {
	          _this4.read.call(_this4, lng, ns, fcName, tried + 1, wait * 2, callback);
	        }, wait);
	        return;
	      }
	      callback(err, data);
	    });
	  };

	  /* eslint consistent-return: 0 */


	  Connector.prototype.load = function load(languages, namespaces, callback) {
	    var _this5 = this;

	    if (!this.backend) {
	      this.logger.warn('No backend was added via i18next.use. Will not load resources.');
	      return callback && callback();
	    }
	    var options = _extends({}, this.backend.options, this.options.backend);

	    if (typeof languages === 'string') languages = this.services.languageUtils.toResolveHierarchy(languages);
	    if (typeof namespaces === 'string') namespaces = [namespaces];

	    var toLoad = this.queueLoad(languages, namespaces, callback);
	    if (!toLoad.toLoad.length) {
	      if (!toLoad.pending.length) callback(); // nothing to load and no pendings...callback now
	      return null; // pendings will trigger callback
	    }

	    // load with multi-load
	    if (options.allowMultiLoading && this.backend.readMulti) {
	      this.read(toLoad.toLoadLanguages, toLoad.toLoadNamespaces, 'readMulti', null, null, function (err, data) {
	        if (err) _this5.logger.warn('loading namespaces ' + toLoad.toLoadNamespaces.join(', ') + ' for languages ' + toLoad.toLoadLanguages.join(', ') + ' via multiloading failed', err);
	        if (!err && data) _this5.logger.log('successfully loaded namespaces ' + toLoad.toLoadNamespaces.join(', ') + ' for languages ' + toLoad.toLoadLanguages.join(', ') + ' via multiloading', data);

	        toLoad.toLoad.forEach(function (name) {
	          var _name$split3 = name.split('|'),
	              _name$split4 = _slicedToArray(_name$split3, 2),
	              l = _name$split4[0],
	              n = _name$split4[1];

	          var bundle = utils.getPath(data, [l, n]);
	          if (bundle) {
	            _this5.loaded(name, err, bundle);
	          } else {
	            var error = 'loading namespace ' + n + ' for language ' + l + ' via multiloading failed';
	            _this5.loaded(name, error);
	            _this5.logger.error(error);
	          }
	        });
	      });
	    } else {
	      toLoad.toLoad.forEach(function (name) {
	        _this5.loadOne(name);
	      });
	    }
	  };

	  Connector.prototype.reload = function reload(languages, namespaces) {
	    var _this6 = this;

	    if (!this.backend) {
	      this.logger.warn('No backend was added via i18next.use. Will not load resources.');
	    }
	    var options = _extends({}, this.backend.options, this.options.backend);

	    if (typeof languages === 'string') languages = this.services.languageUtils.toResolveHierarchy(languages);
	    if (typeof namespaces === 'string') namespaces = [namespaces];

	    // load with multi-load
	    if (options.allowMultiLoading && this.backend.readMulti) {
	      this.read(languages, namespaces, 'readMulti', null, null, function (err, data) {
	        if (err) _this6.logger.warn('reloading namespaces ' + namespaces.join(', ') + ' for languages ' + languages.join(', ') + ' via multiloading failed', err);
	        if (!err && data) _this6.logger.log('successfully reloaded namespaces ' + namespaces.join(', ') + ' for languages ' + languages.join(', ') + ' via multiloading', data);

	        languages.forEach(function (l) {
	          namespaces.forEach(function (n) {
	            var bundle = utils.getPath(data, [l, n]);
	            if (bundle) {
	              _this6.loaded(l + '|' + n, err, bundle);
	            } else {
	              var error = 'reloading namespace ' + n + ' for language ' + l + ' via multiloading failed';
	              _this6.loaded(l + '|' + n, error);
	              _this6.logger.error(error);
	            }
	          });
	        });
	      });
	    } else {
	      languages.forEach(function (l) {
	        namespaces.forEach(function (n) {
	          _this6.loadOne(l + '|' + n, 're');
	        });
	      });
	    }
	  };

	  Connector.prototype.loadOne = function loadOne(name) {
	    var _this7 = this;

	    var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';

	    var _name$split5 = name.split('|'),
	        _name$split6 = _slicedToArray(_name$split5, 2),
	        lng = _name$split6[0],
	        ns = _name$split6[1];

	    this.read(lng, ns, 'read', null, null, function (err, data) {
	      if (err) _this7.logger.warn(prefix + 'loading namespace ' + ns + ' for language ' + lng + ' failed', err);
	      if (!err && data) _this7.logger.log(prefix + 'loaded namespace ' + ns + ' for language ' + lng, data);

	      _this7.loaded(name, err, data);
	    });
	  };

	  Connector.prototype.saveMissing = function saveMissing(languages, namespace, key, fallbackValue) {
	    if (this.backend && this.backend.create) this.backend.create(languages, namespace, key, fallbackValue);

	    // write to store to avoid resending
	    if (!languages || !languages[0]) return;
	    this.store.addResource(languages[0], namespace, key, fallbackValue);
	  };

	  return Connector;
	}(_EventEmitter3.default);

	exports.default = Connector;

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

	var _logger = __webpack_require__(6);

	var _logger2 = _interopRequireDefault(_logger);

	var _EventEmitter2 = __webpack_require__(7);

	var _EventEmitter3 = _interopRequireDefault(_EventEmitter2);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }

	var Connector = function (_EventEmitter) {
	  _inherits(Connector, _EventEmitter);

	  function Connector(cache, store, services) {
	    var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};

	    _classCallCheck(this, Connector);

	    var _this = _possibleConstructorReturn(this, _EventEmitter.call(this));

	    _this.cache = cache;
	    _this.store = store;
	    _this.services = services;
	    _this.options = options;
	    _this.logger = _logger2.default.create('cacheConnector');

	    if (_this.cache && _this.cache.init) _this.cache.init(services, options.cache, options);
	    return _this;
	  }

	  /* eslint consistent-return: 0 */


	  Connector.prototype.load = function load(languages, namespaces, callback) {
	    var _this2 = this;

	    if (!this.cache) return callback && callback();
	    var options = _extends({}, this.cache.options, this.options.cache);

	    var loadLngs = typeof languages === 'string' ? this.services.languageUtils.toResolveHierarchy(languages) : languages;

	    if (options.enabled) {
	      this.cache.load(loadLngs, function (err, data) {
	        if (err) _this2.logger.error('loading languages ' + loadLngs.join(', ') + ' from cache failed', err);
	        if (data) {
	          /* eslint no-restricted-syntax: 0 */
	          for (var l in data) {
	            if (Object.prototype.hasOwnProperty.call(data, l)) {
	              for (var n in data[l]) {
	                if (Object.prototype.hasOwnProperty.call(data[l], n)) {
	                  if (n !== 'i18nStamp') {
	                    var bundle = data[l][n];
	                    if (bundle) _this2.store.addResourceBundle(l, n, bundle);
	                  }
	                }
	              }
	            }
	          }
	        }
	        if (callback) callback();
	      });
	    } else if (callback) {
	      callback();
	    }
	  };

	  Connector.prototype.save = function save() {
	    if (this.cache && this.options.cache && this.options.cache.enabled) this.cache.save(this.store.data);
	  };

	  return Connector;
	}(_EventEmitter3.default);

	exports.default = Connector;

/***/ }),
/* 18 */
/***/ (function(module, exports) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});
	exports.transformOptions = transformOptions;
	function get() {
	  return {
	    debug: false,
	    initImmediate: true,

	    ns: ['translation'],
	    defaultNS: ['translation'],
	    fallbackLng: ['dev'],
	    fallbackNS: false, // string or array of namespaces

	    whitelist: false, // array with whitelisted languages
	    nonExplicitWhitelist: false,
	    load: 'all', // | currentOnly | languageOnly
	    preload: false, // array with preload languages

	    simplifyPluralSuffix: true,
	    keySeparator: '.',
	    nsSeparator: ':',
	    pluralSeparator: '_',
	    contextSeparator: '_',

	    saveMissing: false, // enable to send missing values
	    saveMissingTo: 'fallback', // 'current' || 'all'
	    missingKeyHandler: false, // function(lng, ns, key, fallbackValue) -> override if prefer on handling

	    postProcess: false, // string or array of postProcessor names
	    returnNull: true, // allows null value as valid translation
	    returnEmptyString: true, // allows empty string value as valid translation
	    returnObjects: false,
	    joinArrays: false, // or string to join array
	    returnedObjectHandler: function returnedObjectHandler() {}, // function(key, value, options) triggered if key returns object but returnObjects is set to false
	    parseMissingKeyHandler: false, // function(key) parsed a key that was not found in t() before returning
	    appendNamespaceToMissingKey: false,
	    appendNamespaceToCIMode: false,
	    overloadTranslationOptionHandler: function handle(args) {
	      return { defaultValue: args[1] };
	    },

	    interpolation: {
	      escapeValue: true,
	      format: function format(value, _format, lng) {
	        return value;
	      },
	      prefix: '{{',
	      suffix: '}}',
	      formatSeparator: ',',
	      // prefixEscaped: '{{',
	      // suffixEscaped: '}}',
	      // unescapeSuffix: '',
	      unescapePrefix: '-',

	      nestingPrefix: '$t(',
	      nestingSuffix: ')',
	      // nestingPrefixEscaped: '$t(',
	      // nestingSuffixEscaped: ')',
	      defaultVariables: undefined // object that can have values to interpolate on - extends passed in interpolation data
	    }
	  };
	}

	/* eslint no-param-reassign: 0 */
	exports.get = get;
	function transformOptions(options) {
	  // create namespace object if namespace is passed in as string
	  if (typeof options.ns === 'string') options.ns = [options.ns];
	  if (typeof options.fallbackLng === 'string') options.fallbackLng = [options.fallbackLng];
	  if (typeof options.fallbackNS === 'string') options.fallbackNS = [options.fallbackNS];

	  // extend whitelist with cimode
	  if (options.whitelist && options.whitelist.indexOf('cimode') < 0) options.whitelist.push('cimode');

	  return options;
	}

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	exports.validateCategoryPluginModule = (function ($, window, document) {
	    $.fn.validateCategory = function () {
	        var mandatory = this.data('mandatory'), manualText = this.data('mandatory-manual-text'), validMandatory = true;
	        var showValidationError = function (errorMessage, element) {
	            element.append('<span class="feedback-form-error">' + errorMessage + '</span>');
	        };
	        this.find('.feedback-form-error').remove();
	        this.removeClass('invalid');
	        if (mandatory &&
	            (this.find('input:checked').length === 0 && jQuery(this).find('.own-category').val().length === 0)) {
	            validMandatory = false;
	        }
	        if (!validMandatory) {
	            this.addClass('invalid');
	            showValidationError(manualText, this);
	            var invalidElement = this;
	            $('html, body').animate({
	                scrollTop: invalidElement.offset().top
	            }, 500);
	        }
	        return this;
	    };
	});
	(function ($, window, document) {
	    exports.validateCategoryPluginModule($, window, document);
	})(jQuery, window, document);
	;;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9qcy9qcXVlcnkudmFsaWRhdGVfY2F0ZWdvcnkudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFXVyxRQUFBLDRCQUE0QixHQUFHLENBQUMsVUFBUyxDQUFDLEVBQUUsTUFBTSxFQUFFLFFBQVE7SUFLbkUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxnQkFBZ0IsR0FBRztRQUNwQixJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUNsQyxVQUFVLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyx1QkFBdUIsQ0FBQyxFQUMvQyxjQUFjLEdBQUcsSUFBSSxDQUFDO1FBQzFCLElBQUksbUJBQW1CLEdBQUcsVUFBVSxZQUFZLEVBQUUsT0FBTztZQUNyRCxPQUFPLENBQUMsTUFBTSxDQUFDLG9DQUFvQyxHQUFHLFlBQVksR0FBRyxTQUFTLENBQUMsQ0FBQztRQUNwRixDQUFDLENBQUM7UUFHRixJQUFJLENBQUMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDM0MsSUFBSSxDQUFDLFdBQVcsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUc1QixFQUFFLENBQUEsQ0FBQyxTQUFTO1lBQ1IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxlQUFlLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3JHLGNBQWMsR0FBRyxLQUFLLENBQUM7UUFDM0IsQ0FBQztRQUdELEVBQUUsQ0FBQSxDQUFDLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQztZQUNqQixJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ3pCLG1CQUFtQixDQUFDLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztZQUV0QyxJQUFJLGNBQWMsR0FBRyxJQUFJLENBQUM7WUFDMUIsQ0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDLE9BQU8sQ0FBQztnQkFDcEIsU0FBUyxFQUFFLGNBQWMsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHO2FBQ3pDLEVBQUUsR0FBRyxDQUFDLENBQUM7UUFDWixDQUFDO1FBRUQsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNoQixDQUFDLENBQUM7QUFDTixDQUFDLENBQUMsQ0FBQztBQUVILENBQUMsVUFBUyxDQUFDLEVBQUUsTUFBTSxFQUFFLFFBQVE7SUFDekIsb0NBQTRCLENBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUMsQ0FBQztBQUN0RCxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBRTdCLFNBQVMsQ0FBQyxNQUFNLENBQUU7SUFDZCxNQUFNLEVBQUU7UUFDSixrQkFBa0IsRUFBSSxDQUFDLFFBQVEsQ0FBQztLQUNuQztDQUNKLENBQUUsQ0FBQyIsImZpbGUiOiJhcHAvanMvanF1ZXJ5LnZhbGlkYXRlX2NhdGVnb3J5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGkxOG4gPSByZXF1aXJlKCdpMThuZXh0Jyk7XG5cblxuZXhwb3J0IGludGVyZmFjZSBKUXVlcnkge1xuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgaGFuZGxlciB0byB2YWxpZGF0ZSBhIEhUTUwgZWxlbWVudC5cbiAgICAgKlxuICAgICAqL1xuICAgIHZhbGlkYXRlQ2F0ZWdvcnkoKTpKUXVlcnk7XG59XG5cbmV4cG9ydCB2YXIgdmFsaWRhdGVDYXRlZ29yeVBsdWdpbk1vZHVsZSA9IChmdW5jdGlvbigkLCB3aW5kb3csIGRvY3VtZW50KSB7XG4gICAgLyoqXG4gICAgICogQHJldHVybnMge2pRdWVyeX1cbiAgICAgKlxuICAgICAqL1xuICAgICQuZm4udmFsaWRhdGVDYXRlZ29yeSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG1hbmRhdG9yeSA9IHRoaXMuZGF0YSgnbWFuZGF0b3J5JyksXG4gICAgICAgICAgICBtYW51YWxUZXh0ID0gdGhpcy5kYXRhKCdtYW5kYXRvcnktbWFudWFsLXRleHQnKSxcbiAgICAgICAgICAgIHZhbGlkTWFuZGF0b3J5ID0gdHJ1ZTtcbiAgICAgICAgdmFyIHNob3dWYWxpZGF0aW9uRXJyb3IgPSBmdW5jdGlvbiAoZXJyb3JNZXNzYWdlLCBlbGVtZW50KSB7XG4gICAgICAgICAgICBlbGVtZW50LmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJmZWVkYmFjay1mb3JtLWVycm9yXCI+JyArIGVycm9yTWVzc2FnZSArICc8L3NwYW4+Jyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gcmVzZXRcbiAgICAgICAgdGhpcy5maW5kKCcuZmVlZGJhY2stZm9ybS1lcnJvcicpLnJlbW92ZSgpO1xuICAgICAgICB0aGlzLnJlbW92ZUNsYXNzKCdpbnZhbGlkJyk7XG5cbiAgICAgICAgLy8gdmFsaWRhdGUgbWFuZGF0b3J5XG4gICAgICAgIGlmKG1hbmRhdG9yeSAmJlxuICAgICAgICAgICAgKHRoaXMuZmluZCgnaW5wdXQ6Y2hlY2tlZCcpLmxlbmd0aCA9PT0gMCAmJiBqUXVlcnkodGhpcykuZmluZCgnLm93bi1jYXRlZ29yeScpLnZhbCgpLmxlbmd0aCA9PT0gMCkpIHtcbiAgICAgICAgICAgIHZhbGlkTWFuZGF0b3J5ID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBkaXNwbGF5IG1lc3NhZ2VzXG4gICAgICAgIGlmKCF2YWxpZE1hbmRhdG9yeSkge1xuICAgICAgICAgICAgdGhpcy5hZGRDbGFzcygnaW52YWxpZCcpO1xuICAgICAgICAgICAgc2hvd1ZhbGlkYXRpb25FcnJvcihtYW51YWxUZXh0LCB0aGlzKTtcblxuICAgICAgICAgICAgdmFyIGludmFsaWRFbGVtZW50ID0gdGhpcztcbiAgICAgICAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IGludmFsaWRFbGVtZW50Lm9mZnNldCgpLnRvcFxuICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG59KTtcblxuKGZ1bmN0aW9uKCQsIHdpbmRvdywgZG9jdW1lbnQpIHtcbiAgICB2YWxpZGF0ZUNhdGVnb3J5UGx1Z2luTW9kdWxlKCQsIHdpbmRvdywgZG9jdW1lbnQpO1xufSkoalF1ZXJ5LCB3aW5kb3csIGRvY3VtZW50KTtcblxucmVxdWlyZWpzLmNvbmZpZygge1xuICAgIFwic2hpbVwiOiB7XG4gICAgICAgIFwidmFsaWRhdGVDYXRlZ29yeVwiICA6IFtcImpxdWVyeVwiXVxuICAgIH1cbn0gKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	exports.fileUploadPluginModule = (function ($, window, document) {
	    var distPath;
	    var dropArea;
	    var fileInput;
	    var fileTable;
	    var currentFiles = [];
	    var isAdvancedUpload = function () {
	        var div = document.createElement('div');
	        return (('draggable' in div) || ('ondragstart' in div && 'ondrop' in div)) && 'FormData' in window && 'FileReader' in window;
	    }();
	    var addToCurrentFiles = function (files) {
	        if (files.length > 1) {
	            for (var i = 0; i < files.length; i++) {
	                currentFiles.push(files[i]);
	            }
	        }
	        else {
	            var file = files[0];
	            currentFiles.push(file);
	        }
	        showFiles(currentFiles);
	    };
	    var showFiles = function (files) {
	        fileTable.empty();
	        for (var i = 0; i < files.length; i++) {
	            var fileLi = $('<tr>' +
	                '<td>' + files[i].name + '</td>' +
	                '<td>' + files[i].type + '</td>' +
	                '<td><a class="remove-file" data-index="' + i + '" href="#"><img src="' + distPath + 'img/ic_delete_black_24dp_1x.png" /></a></td>' +
	                '</tr>');
	            fileTable.append(fileLi);
	        }
	    };
	    $.fn.fileUpload = function (distPathString) {
	        this.currentFiles = currentFiles;
	        distPath = distPathString;
	        dropArea = this;
	        fileInput = this.find('input[type=file]');
	        fileTable = this.parent('.attachment-type').find('table.current-files');
	        if (isAdvancedUpload) {
	            var droppedFiles = false;
	            dropArea.on('drag dragstart dragend dragover dragenter dragleave drop', function (e) {
	                e.preventDefault();
	                e.stopPropagation();
	            }).on('dragover dragenter', function () {
	                dropArea.addClass('active');
	            }).on('dragleave dragend drop', function () {
	                dropArea.removeClass('active');
	            }).on('drop', function (e) {
	                droppedFiles = e.originalEvent.dataTransfer.files;
	                addToCurrentFiles(droppedFiles);
	            });
	        }
	        $(document.body).on('click', 'a.remove-file', function (event) {
	            event.stopPropagation();
	            event.preventDefault();
	            var index = $(this).data('index');
	            currentFiles.splice(index, 1);
	            showFiles(currentFiles);
	        });
	        fileInput.on('change', function (e) {
	            addToCurrentFiles(e.target.files);
	        });
	        return this;
	    };
	});
	(function ($, window, document) {
	    exports.fileUploadPluginModule($, window, document);
	})(jQuery, window, document);
	;;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9qcy9qcXVlcnkuZmlsZXVwbG9hZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUlXLFFBQUEsc0JBQXNCLEdBQUcsQ0FBQyxVQUFVLENBQUMsRUFBRSxNQUFNLEVBQUUsUUFBUTtJQUM5RCxJQUFJLFFBQVEsQ0FBQztJQUNiLElBQUksUUFBUSxDQUFDO0lBQ2IsSUFBSSxTQUFTLENBQUM7SUFDZCxJQUFJLFNBQVMsQ0FBQztJQUNkLElBQUksWUFBWSxHQUFHLEVBQUUsQ0FBQztJQUV0QixJQUFJLGdCQUFnQixHQUFHO1FBQ25CLElBQUksR0FBRyxHQUFHLFFBQVEsQ0FBQyxhQUFhLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDeEMsTUFBTSxDQUFDLENBQUMsQ0FBQyxXQUFXLElBQUksR0FBRyxDQUFDLElBQUksQ0FBQyxhQUFhLElBQUksR0FBRyxJQUFJLFFBQVEsSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLFVBQVUsSUFBSSxNQUFNLElBQUksWUFBWSxJQUFJLE1BQU0sQ0FBQztJQUNqSSxDQUFDLEVBQUUsQ0FBQztJQUVKLElBQUksaUJBQWlCLEdBQUcsVUFBUyxLQUFLO1FBQ2xDLEVBQUUsQ0FBQSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNsQixHQUFHLENBQUEsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztnQkFDbkMsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNoQyxDQUFDO1FBQ0wsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ0osSUFBSSxJQUFJLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3BCLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDNUIsQ0FBQztRQUNELFNBQVMsQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUM1QixDQUFDLENBQUM7SUFFRixJQUFJLFNBQVMsR0FBRyxVQUFTLEtBQUs7UUFDMUIsU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ2xCLEdBQUcsQ0FBQSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO1lBQ25DLElBQUksTUFBTSxHQUFHLENBQUMsQ0FBQyxNQUFNO2dCQUNqQixNQUFNLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksR0FBRyxPQUFPO2dCQUNoQyxNQUFNLEdBQUcsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksR0FBRyxPQUFPO2dCQUNoQyx5Q0FBeUMsR0FBRyxDQUFDLEdBQUcsdUJBQXVCLEdBQUcsUUFBUSxHQUFHLDhDQUE4QztnQkFDbkksT0FBTyxDQUFDLENBQUM7WUFDYixTQUFTLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzdCLENBQUM7SUFDTCxDQUFDLENBQUM7SUFFRixDQUFDLENBQUMsRUFBRSxDQUFDLFVBQVUsR0FBRyxVQUFVLGNBQXFCO1FBQzdDLElBQUksQ0FBQyxZQUFZLEdBQUcsWUFBWSxDQUFDO1FBQ2pDLFFBQVEsR0FBRyxjQUFjLENBQUM7UUFDMUIsUUFBUSxHQUFHLElBQUksQ0FBQztRQUNoQixTQUFTLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDO1FBQzFDLFNBQVMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLGtCQUFrQixDQUFDLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUM7UUFFeEUsRUFBRSxDQUFDLENBQUMsZ0JBQWdCLENBQUMsQ0FBQyxDQUFDO1lBQ25CLElBQUksWUFBWSxHQUFHLEtBQUssQ0FBQztZQUV6QixRQUFRLENBQUMsRUFBRSxDQUFDLDBEQUEwRCxFQUFFLFVBQVUsQ0FBQztnQkFDL0UsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO2dCQUNuQixDQUFDLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDeEIsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLG9CQUFvQixFQUFFO2dCQUN4QixRQUFRLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1lBQ2hDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyx3QkFBd0IsRUFBRTtnQkFDNUIsUUFBUSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztZQUNuQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsTUFBTSxFQUFFLFVBQVUsQ0FBQztnQkFDckIsWUFBWSxHQUFHLENBQUMsQ0FBQyxhQUFhLENBQUMsWUFBWSxDQUFDLEtBQUssQ0FBQztnQkFDbEQsaUJBQWlCLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDcEMsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDO1FBRUQsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxFQUFFLGVBQWUsRUFBRSxVQUFTLEtBQUs7WUFDeEQsS0FBSyxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBQ3hCLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUN2QixJQUFJLEtBQUssR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFDO1lBQ2xDLFlBQVksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQzlCLFNBQVMsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUM1QixDQUFDLENBQUMsQ0FBQztRQUVILFNBQVMsQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLFVBQVMsQ0FBQztZQUM3QixpQkFBaUIsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3RDLENBQUMsQ0FBQyxDQUFDO1FBRUgsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNoQixDQUFDLENBQUM7QUFDTixDQUFDLENBQUMsQ0FBQztBQUVILENBQUMsVUFBVSxDQUFDLEVBQUUsTUFBTSxFQUFFLFFBQVE7SUFDMUIsOEJBQXNCLENBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxRQUFRLENBQUMsQ0FBQztBQUNoRCxDQUFDLENBQUMsQ0FBQyxNQUFNLEVBQUUsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0FBRTdCLFNBQVMsQ0FBQyxNQUFNLENBQUM7SUFDYixNQUFNLEVBQUU7UUFDSixZQUFZLEVBQUUsQ0FBQyxRQUFRLENBQUM7S0FDM0I7Q0FDSixDQUFDLENBQUMiLCJmaWxlIjoiYXBwL2pzL2pxdWVyeS5maWxldXBsb2FkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGludGVyZmFjZSBKUXVlcnkge1xuICAgIGZpbGVVcGxvYWQoZGlzdFBhdGg6c3RyaW5nKTpKUXVlcnk7XG59XG5cbmV4cG9ydCB2YXIgZmlsZVVwbG9hZFBsdWdpbk1vZHVsZSA9IChmdW5jdGlvbiAoJCwgd2luZG93LCBkb2N1bWVudCkge1xuICAgIHZhciBkaXN0UGF0aDtcbiAgICB2YXIgZHJvcEFyZWE7XG4gICAgdmFyIGZpbGVJbnB1dDtcbiAgICB2YXIgZmlsZVRhYmxlO1xuICAgIHZhciBjdXJyZW50RmlsZXMgPSBbXTtcblxuICAgIHZhciBpc0FkdmFuY2VkVXBsb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHJldHVybiAoKCdkcmFnZ2FibGUnIGluIGRpdikgfHwgKCdvbmRyYWdzdGFydCcgaW4gZGl2ICYmICdvbmRyb3AnIGluIGRpdikpICYmICdGb3JtRGF0YScgaW4gd2luZG93ICYmICdGaWxlUmVhZGVyJyBpbiB3aW5kb3c7XG4gICAgfSgpO1xuXG4gICAgdmFyIGFkZFRvQ3VycmVudEZpbGVzID0gZnVuY3Rpb24oZmlsZXMpIHtcbiAgICAgICAgaWYoZmlsZXMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudEZpbGVzLnB1c2goZmlsZXNbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGZpbGUgPSBmaWxlc1swXTtcbiAgICAgICAgICAgIGN1cnJlbnRGaWxlcy5wdXNoKGZpbGUpO1xuICAgICAgICB9XG4gICAgICAgIHNob3dGaWxlcyhjdXJyZW50RmlsZXMpO1xuICAgIH07XG5cbiAgICB2YXIgc2hvd0ZpbGVzID0gZnVuY3Rpb24oZmlsZXMpIHtcbiAgICAgICAgZmlsZVRhYmxlLmVtcHR5KCk7XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBmaWxlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGZpbGVMaSA9ICQoJzx0cj4nICtcbiAgICAgICAgICAgICAgICAnPHRkPicgKyBmaWxlc1tpXS5uYW1lICsgJzwvdGQ+JyArXG4gICAgICAgICAgICAgICAgJzx0ZD4nICsgZmlsZXNbaV0udHlwZSArICc8L3RkPicgK1xuICAgICAgICAgICAgICAgICc8dGQ+PGEgY2xhc3M9XCJyZW1vdmUtZmlsZVwiIGRhdGEtaW5kZXg9XCInICsgaSArICdcIiBocmVmPVwiI1wiPjxpbWcgc3JjPVwiJyArIGRpc3RQYXRoICsgJ2ltZy9pY19kZWxldGVfYmxhY2tfMjRkcF8xeC5wbmdcIiAvPjwvYT48L3RkPicgK1xuICAgICAgICAgICAgICAgICc8L3RyPicpO1xuICAgICAgICAgICAgZmlsZVRhYmxlLmFwcGVuZChmaWxlTGkpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgICQuZm4uZmlsZVVwbG9hZCA9IGZ1bmN0aW9uIChkaXN0UGF0aFN0cmluZzpzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50RmlsZXMgPSBjdXJyZW50RmlsZXM7XG4gICAgICAgIGRpc3RQYXRoID0gZGlzdFBhdGhTdHJpbmc7XG4gICAgICAgIGRyb3BBcmVhID0gdGhpcztcbiAgICAgICAgZmlsZUlucHV0ID0gdGhpcy5maW5kKCdpbnB1dFt0eXBlPWZpbGVdJyk7XG4gICAgICAgIGZpbGVUYWJsZSA9IHRoaXMucGFyZW50KCcuYXR0YWNobWVudC10eXBlJykuZmluZCgndGFibGUuY3VycmVudC1maWxlcycpO1xuXG4gICAgICAgIGlmIChpc0FkdmFuY2VkVXBsb2FkKSB7XG4gICAgICAgICAgICB2YXIgZHJvcHBlZEZpbGVzID0gZmFsc2U7XG5cbiAgICAgICAgICAgIGRyb3BBcmVhLm9uKCdkcmFnIGRyYWdzdGFydCBkcmFnZW5kIGRyYWdvdmVyIGRyYWdlbnRlciBkcmFnbGVhdmUgZHJvcCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICB9KS5vbignZHJhZ292ZXIgZHJhZ2VudGVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRyb3BBcmVhLmFkZENsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIH0pLm9uKCdkcmFnbGVhdmUgZHJhZ2VuZCBkcm9wJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRyb3BBcmVhLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcbiAgICAgICAgICAgIH0pLm9uKCdkcm9wJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICBkcm9wcGVkRmlsZXMgPSBlLm9yaWdpbmFsRXZlbnQuZGF0YVRyYW5zZmVyLmZpbGVzO1xuICAgICAgICAgICAgICAgIGFkZFRvQ3VycmVudEZpbGVzKGRyb3BwZWRGaWxlcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgICQoZG9jdW1lbnQuYm9keSkub24oJ2NsaWNrJywgJ2EucmVtb3ZlLWZpbGUnLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdmFyIGluZGV4ID0gJCh0aGlzKS5kYXRhKCdpbmRleCcpO1xuICAgICAgICAgICAgY3VycmVudEZpbGVzLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICBzaG93RmlsZXMoY3VycmVudEZpbGVzKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZmlsZUlucHV0Lm9uKCdjaGFuZ2UnLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBhZGRUb0N1cnJlbnRGaWxlcyhlLnRhcmdldC5maWxlcyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG59KTtcblxuKGZ1bmN0aW9uICgkLCB3aW5kb3csIGRvY3VtZW50KSB7XG4gICAgZmlsZVVwbG9hZFBsdWdpbk1vZHVsZSgkLCB3aW5kb3csIGRvY3VtZW50KTtcbn0pKGpRdWVyeSwgd2luZG93LCBkb2N1bWVudCk7XG5cbnJlcXVpcmVqcy5jb25maWcoe1xuICAgIFwic2hpbVwiOiB7XG4gICAgICAgIFwiZmlsZVVwbG9hZFwiOiBbXCJqcXVlcnlcIl1cbiAgICB9XG59KTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

/***/ }),
/* 21 */
/***/ (function(module, exports) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	exports.defaultSuccessMessage = 'Your feedback was successfully sent';
	exports.dialogOptions = {
	    autoOpen: false,
	    height: 'auto',
	    width: 'auto',
	    minWidth: 500,
	    modal: true,
	    title: 'Feedback',
	    buttons: {},
	    resizable: false
	};
	exports.mechanismTypes = {
	    textType: 'TEXT_TYPE',
	    ratingType: 'RATING_TYPE',
	    screenshotType: 'SCREENSHOT_TYPE',
	    audioType: 'AUDIO_TYPE',
	    categoryType: 'CATEGORY_TYPE',
	    attachmentType: 'ATTACHMENT_TYPE',
	    infoType: 'INFO_TYPE'
	};
	exports.configurationTypes = {
	    push: 'PUSH',
	    pull: 'PULL',
	    elementSpecificPush: 'ELEMENT_SPECIFIC_PUSH'
	};
	exports.cookieNames = {
	    lastTriggered: 'lastTriggered'
	};
	exports.apiEndpointOrchestrator = 'http://supersede.es.atos.net:8081/';
	exports.applicationPath = 'orchestrator/feedback/{lang}/applications/';
	exports.apiEndpointRepository = 'http://supersede.es.atos.net:8081/';
	exports.feedbackPath = "feedback_repository/{lang}/applications/{applicationId}/feedbacks";
	exports.applicationId = 28;
	exports.applicationName = 'WIOT Test';
	exports.feedbackObjectTitle = 'Feedback WIOT';

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9qcy9jb25maWcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFFYSxRQUFBLHFCQUFxQixHQUFHLHFDQUFxQyxDQUFDO0FBQzlELFFBQUEsYUFBYSxHQUFHO0lBQ3pCLFFBQVEsRUFBRSxLQUFLO0lBQ2YsTUFBTSxFQUFFLE1BQU07SUFDZCxLQUFLLEVBQUUsTUFBTTtJQUNiLFFBQVEsRUFBRSxHQUFHO0lBQ2IsS0FBSyxFQUFFLElBQUk7SUFDWCxLQUFLLEVBQUUsVUFBVTtJQUNqQixPQUFPLEVBQUUsRUFBRTtJQUNYLFNBQVMsRUFBRSxLQUFLO0NBQ25CLENBQUM7QUFDVyxRQUFBLGNBQWMsR0FBRztJQUMxQixRQUFRLEVBQUUsV0FBVztJQUNyQixVQUFVLEVBQUUsYUFBYTtJQUN6QixjQUFjLEVBQUUsaUJBQWlCO0lBQ2pDLFNBQVMsRUFBRSxZQUFZO0lBQ3ZCLFlBQVksRUFBRSxlQUFlO0lBQzdCLGNBQWMsRUFBRSxpQkFBaUI7SUFDakMsUUFBUSxFQUFFLFdBQVc7Q0FDeEIsQ0FBQztBQUNXLFFBQUEsa0JBQWtCLEdBQUc7SUFDOUIsSUFBSSxFQUFFLE1BQU07SUFDWixJQUFJLEVBQUUsTUFBTTtJQUNaLG1CQUFtQixFQUFFLHVCQUF1QjtDQUMvQyxDQUFDO0FBQ1csUUFBQSxXQUFXLEdBQUc7SUFDdkIsYUFBYSxFQUFFLGVBQWU7Q0FDakMsQ0FBQztBQUNXLFFBQUEsdUJBQXVCLEdBQUcsb0NBQW9DLENBQUM7QUFDL0QsUUFBQSxlQUFlLEdBQUcsNENBQTRDLENBQUM7QUFDL0QsUUFBQSxxQkFBcUIsR0FBRyxvQ0FBb0MsQ0FBQztBQUM3RCxRQUFBLFlBQVksR0FBRyxtRUFBbUUsQ0FBQztBQUNuRixRQUFBLGFBQWEsR0FBRyxFQUFFLENBQUM7QUFDbkIsUUFBQSxlQUFlLEdBQUcsV0FBVyxDQUFDO0FBQzlCLFFBQUEsbUJBQW1CLEdBQUcsZUFBZSxDQUFDIiwiZmlsZSI6ImFwcC9qcy9jb25maWcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBEbyBub3QgZWRpdCB0aGlzIGZpbGUgYnV0IHRoZSBmaWxlcyBpbiB0aGUgY29uZmlndXJhdGlvbnMvIGZvbGRlclxuXG5leHBvcnQgY29uc3QgZGVmYXVsdFN1Y2Nlc3NNZXNzYWdlID0gJ1lvdXIgZmVlZGJhY2sgd2FzIHN1Y2Nlc3NmdWxseSBzZW50JztcbmV4cG9ydCBjb25zdCBkaWFsb2dPcHRpb25zID0ge1xuICAgIGF1dG9PcGVuOiBmYWxzZSxcbiAgICBoZWlnaHQ6ICdhdXRvJyxcbiAgICB3aWR0aDogJ2F1dG8nLFxuICAgIG1pbldpZHRoOiA1MDAsXG4gICAgbW9kYWw6IHRydWUsXG4gICAgdGl0bGU6ICdGZWVkYmFjaycsXG4gICAgYnV0dG9uczoge30sXG4gICAgcmVzaXphYmxlOiBmYWxzZVxufTtcbmV4cG9ydCBjb25zdCBtZWNoYW5pc21UeXBlcyA9IHtcbiAgICB0ZXh0VHlwZTogJ1RFWFRfVFlQRScsXG4gICAgcmF0aW5nVHlwZTogJ1JBVElOR19UWVBFJyxcbiAgICBzY3JlZW5zaG90VHlwZTogJ1NDUkVFTlNIT1RfVFlQRScsXG4gICAgYXVkaW9UeXBlOiAnQVVESU9fVFlQRScsXG4gICAgY2F0ZWdvcnlUeXBlOiAnQ0FURUdPUllfVFlQRScsXG4gICAgYXR0YWNobWVudFR5cGU6ICdBVFRBQ0hNRU5UX1RZUEUnLFxuICAgIGluZm9UeXBlOiAnSU5GT19UWVBFJ1xufTtcbmV4cG9ydCBjb25zdCBjb25maWd1cmF0aW9uVHlwZXMgPSB7XG4gICAgcHVzaDogJ1BVU0gnLFxuICAgIHB1bGw6ICdQVUxMJyxcbiAgICBlbGVtZW50U3BlY2lmaWNQdXNoOiAnRUxFTUVOVF9TUEVDSUZJQ19QVVNIJ1xufTtcbmV4cG9ydCBjb25zdCBjb29raWVOYW1lcyA9IHtcbiAgICBsYXN0VHJpZ2dlcmVkOiAnbGFzdFRyaWdnZXJlZCdcbn07XG5leHBvcnQgY29uc3QgYXBpRW5kcG9pbnRPcmNoZXN0cmF0b3IgPSAnaHR0cDovL3N1cGVyc2VkZS5lcy5hdG9zLm5ldDo4MDgxLyc7XG5leHBvcnQgY29uc3QgYXBwbGljYXRpb25QYXRoID0gJ29yY2hlc3RyYXRvci9mZWVkYmFjay97bGFuZ30vYXBwbGljYXRpb25zLyc7XG5leHBvcnQgY29uc3QgYXBpRW5kcG9pbnRSZXBvc2l0b3J5ID0gJ2h0dHA6Ly9zdXBlcnNlZGUuZXMuYXRvcy5uZXQ6ODA4MS8nO1xuZXhwb3J0IGNvbnN0IGZlZWRiYWNrUGF0aCA9IFwiZmVlZGJhY2tfcmVwb3NpdG9yeS97bGFuZ30vYXBwbGljYXRpb25zL3thcHBsaWNhdGlvbklkfS9mZWVkYmFja3NcIjtcbmV4cG9ydCBjb25zdCBhcHBsaWNhdGlvbklkID0gMjg7XG5leHBvcnQgY29uc3QgYXBwbGljYXRpb25OYW1lID0gJ1dJT1QgVGVzdCc7XG5leHBvcnQgY29uc3QgZmVlZGJhY2tPYmplY3RUaXRsZSA9ICdGZWVkYmFjayBXSU9UJztcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/***/ }),
/* 22 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var mocks_loader_1 = __webpack_require__(23);
	var i18next = __webpack_require__(3);
	var I18nHelper = (function () {
	    function I18nHelper() {
	    }
	    I18nHelper.initializeI18n = function (options, afterInitialization, resources) {
	        I18nHelper.getLanguage(options, function (language) {
	            if (resources == null || resources == undefined) {
	                resources = {};
	                var url = options.distPath + 'locales/' + language + '/translation.json';
	                mocks_loader_1.readJSONAsync(url, function (data) {
	                    data = I18nHelper.overrideLocales(data, options.localesOverride);
	                    resources[language] = {
	                        translation: data
	                    };
	                    i18next.init({
	                        resources: resources,
	                        debug: false,
	                        fallbackLng: options.fallbackLang,
	                        lng: options.lang,
	                        load: 'currentOnly'
	                    });
	                    afterInitialization(language);
	                });
	            }
	            else {
	                i18next.init({
	                    resources: resources,
	                    debug: false,
	                    fallbackLng: options.fallbackLang,
	                    lng: options.lang,
	                    load: 'currentOnly'
	                });
	                afterInitialization(language);
	            }
	        });
	    };
	    I18nHelper.overrideLocales = function (data, customLocales) {
	        if (customLocales && customLocales.dialog) {
	            data = jQuery.extend(true, data, customLocales.dialog);
	        }
	        return data;
	    };
	    I18nHelper.getLanguage = function (options, callbackLang) {
	        var url = options.distPath + 'locales/' + options.lang + '/translation.json';
	        mocks_loader_1.readJSONAsync(url, function (data) {
	            if (data === null) {
	                callbackLang(options.fallbackLang);
	            }
	            else {
	                callbackLang(options.lang);
	            }
	        });
	    };
	    return I18nHelper;
	}());
	exports.I18nHelper = I18nHelper;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9qcy9oZWxwZXJzL2kxOG4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxrRUFBZ0U7QUFDaEUsaUNBQW9DO0FBSXBDO0lBQUE7SUE0RUEsQ0FBQztJQTFEVSx5QkFBYyxHQUFHLFVBQVUsT0FBTyxFQUFFLG1CQUE2QyxFQUFFLFNBQWE7UUFDbkcsVUFBVSxDQUFDLFdBQVcsQ0FBQyxPQUFPLEVBQUUsVUFBUyxRQUFRO1lBQzdDLEVBQUUsQ0FBQyxDQUFDLFNBQVMsSUFBSSxJQUFJLElBQUksU0FBUyxJQUFJLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0JBQzlDLFNBQVMsR0FBRyxFQUFFLENBQUM7Z0JBQ2YsSUFBSSxHQUFHLEdBQUcsT0FBTyxDQUFDLFFBQVEsR0FBRyxVQUFVLEdBQUcsUUFBUSxHQUFHLG1CQUFtQixDQUFDO2dCQUN6RSw0QkFBYSxDQUFDLEdBQUcsRUFBRSxVQUFVLElBQUk7b0JBQzdCLElBQUksR0FBRyxVQUFVLENBQUMsZUFBZSxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUM7b0JBQ2pFLFNBQVMsQ0FBQyxRQUFRLENBQUMsR0FBRzt3QkFDbEIsV0FBVyxFQUFFLElBQUk7cUJBQ3BCLENBQUM7b0JBQ0YsT0FBTyxDQUFDLElBQUksQ0FBQzt3QkFDVCxTQUFTLEVBQWlCLFNBQVM7d0JBQ25DLEtBQUssRUFBRSxLQUFLO3dCQUNaLFdBQVcsRUFBRSxPQUFPLENBQUMsWUFBWTt3QkFDakMsR0FBRyxFQUFFLE9BQU8sQ0FBQyxJQUFJO3dCQUNqQixJQUFJLEVBQUUsYUFBYTtxQkFDdEIsQ0FBQyxDQUFDO29CQUNILG1CQUFtQixDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUNsQyxDQUFDLENBQUMsQ0FBQztZQUNQLENBQUM7WUFBQyxJQUFJLENBQUMsQ0FBQztnQkFDSixPQUFPLENBQUMsSUFBSSxDQUFDO29CQUNULFNBQVMsRUFBaUIsU0FBUztvQkFDbkMsS0FBSyxFQUFFLEtBQUs7b0JBQ1osV0FBVyxFQUFFLE9BQU8sQ0FBQyxZQUFZO29CQUNqQyxHQUFHLEVBQUUsT0FBTyxDQUFDLElBQUk7b0JBQ2pCLElBQUksRUFBRSxhQUFhO2lCQUN0QixDQUFDLENBQUM7Z0JBQ0gsbUJBQW1CLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDbEMsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQyxDQUFDO0lBV0ssMEJBQWUsR0FBRyxVQUFVLElBQUksRUFBRSxhQUFhO1FBQ2xELEVBQUUsQ0FBQSxDQUFDLGFBQWEsSUFBSSxhQUFhLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUN2QyxJQUFJLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMzRCxDQUFDO1FBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNoQixDQUFDLENBQUM7SUFFSyxzQkFBVyxHQUFHLFVBQVUsT0FBTyxFQUFFLFlBQXNDO1FBQzFFLElBQUksR0FBRyxHQUFHLE9BQU8sQ0FBQyxRQUFRLEdBQUcsVUFBVSxHQUFHLE9BQU8sQ0FBQyxJQUFJLEdBQUcsbUJBQW1CLENBQUM7UUFDN0UsNEJBQWEsQ0FBQyxHQUFHLEVBQUUsVUFBUyxJQUFJO1lBQzVCLEVBQUUsQ0FBQSxDQUFDLElBQUksS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUNmLFlBQVksQ0FBQyxPQUFPLENBQUMsWUFBWSxDQUFDLENBQUM7WUFDdkMsQ0FBQztZQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNKLFlBQVksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDL0IsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO0lBQ1AsQ0FBQyxDQUFDO0lBQ04saUJBQUM7Q0E1RUQsQUE0RUMsSUFBQTtBQTVFWSxnQ0FBVSIsImZpbGUiOiJhcHAvanMvaGVscGVycy9pMThuLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtyZWFkSlNPTkFzeW5jfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9tb2Nrcy9tb2Nrc19sb2FkZXInO1xuaW1wb3J0IGkxOG5leHQgPSByZXF1aXJlKCdpMThuZXh0Jyk7XG5pbXBvcnQgUmVzb3VyY2VTdG9yZSA9IEkxOG5leHQuUmVzb3VyY2VTdG9yZTtcblxuXG5leHBvcnQgY2xhc3MgSTE4bkhlbHBlciB7XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBkZWZhdWx0IGxhbmd1YWdlIGFuZCB0aGUgdHJhbnNsYXRpb25zLlxuICAgICAqXG4gICAgICogQHBhcmFtIG9wdGlvbnNcbiAgICAgKiAgQ29udGFpbmluZyB0aGUga2V5ICdsYW5nJyB0byBzZXQgdGhlIGxhbmd1YWdlXG4gICAgICogQHBhcmFtIGFmdGVySW5pdGlhbGl6YXRpb25cbiAgICAgKiAgRnVuY3Rpb24gdG8gZXhlY3V0ZSBhZnRlciB0aGUgaTE4bmV4dCBoYXMgbG9hZGVkIGl0cyBsYW5ndWFnZVxuICAgICAqIEBwYXJhbSByZXNvdXJjZXNcbiAgICAgKiAgSGFzaCBjb250YWluaW5nIGxhbmd1YWdlcyBhbmQgdGhlaXIgdHJhbnNsYXRpb25zLCBlLmcuOlxuICAgICAqICAnZGUnIDoge1xuICAgICAqICAgICAgJ3RyYW5zbGF0aW9uJzoge1xuICAgICAqICAgICAgICAgICdrZXkxJzogJ3ZhbHVlMScsXG4gICAgICogICAgICAgICAgJ2tleTInOiAndmFsdWUyJ1xuICAgICAqICAgICAgfVxuICAgICAqICB9XG4gICAgICovXG4gICAgc3RhdGljIGluaXRpYWxpemVJMThuID0gZnVuY3Rpb24gKG9wdGlvbnMsIGFmdGVySW5pdGlhbGl6YXRpb246KGxhbmd1YWdlOnN0cmluZykgPT4gdm9pZCwgcmVzb3VyY2VzPzp7fSkge1xuICAgICAgICBJMThuSGVscGVyLmdldExhbmd1YWdlKG9wdGlvbnMsIGZ1bmN0aW9uKGxhbmd1YWdlKSB7XG4gICAgICAgICAgICBpZiAocmVzb3VyY2VzID09IG51bGwgfHwgcmVzb3VyY2VzID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHJlc291cmNlcyA9IHt9O1xuICAgICAgICAgICAgICAgIGxldCB1cmwgPSBvcHRpb25zLmRpc3RQYXRoICsgJ2xvY2FsZXMvJyArIGxhbmd1YWdlICsgJy90cmFuc2xhdGlvbi5qc29uJztcbiAgICAgICAgICAgICAgICByZWFkSlNPTkFzeW5jKHVybCwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IEkxOG5IZWxwZXIub3ZlcnJpZGVMb2NhbGVzKGRhdGEsIG9wdGlvbnMubG9jYWxlc092ZXJyaWRlKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VzW2xhbmd1YWdlXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uOiBkYXRhXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIGkxOG5leHQuaW5pdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZXM6IDxSZXNvdXJjZVN0b3JlPnJlc291cmNlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYnVnOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhbGxiYWNrTG5nOiBvcHRpb25zLmZhbGxiYWNrTGFuZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxuZzogb3B0aW9ucy5sYW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbG9hZDogJ2N1cnJlbnRPbmx5J1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYWZ0ZXJJbml0aWFsaXphdGlvbihsYW5ndWFnZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGkxOG5leHQuaW5pdCh7XG4gICAgICAgICAgICAgICAgICAgIHJlc291cmNlczogPFJlc291cmNlU3RvcmU+cmVzb3VyY2VzLFxuICAgICAgICAgICAgICAgICAgICBkZWJ1ZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGZhbGxiYWNrTG5nOiBvcHRpb25zLmZhbGxiYWNrTGFuZyxcbiAgICAgICAgICAgICAgICAgICAgbG5nOiBvcHRpb25zLmxhbmcsXG4gICAgICAgICAgICAgICAgICAgIGxvYWQ6ICdjdXJyZW50T25seSdcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBhZnRlckluaXRpYWxpemF0aW9uKGxhbmd1YWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQHBhcmFtIGRhdGFcbiAgICAgKiAgRGVmYXVsdCBsb2NhbGUgb2JqZWN0LlxuICAgICAqIEBwYXJhbSBjdXN0b21Mb2NhbGVzXG4gICAgICogIEN1c3RvbSBsb2NhbGUgb2JqZWN0IHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0IHRyYW5zbGF0aW9ucy5cbiAgICAgKiBAcmV0dXJucyB7YW55fVxuICAgICAqICBUaGUgb3ZlcnJpZGVuIHRyYW5zbGF0aW9uIG9iamVjdFxuICAgICAqL1xuICAgIHN0YXRpYyBvdmVycmlkZUxvY2FsZXMgPSBmdW5jdGlvbiAoZGF0YSwgY3VzdG9tTG9jYWxlcyk6e30ge1xuICAgICAgICBpZihjdXN0b21Mb2NhbGVzICYmIGN1c3RvbUxvY2FsZXMuZGlhbG9nKSB7XG4gICAgICAgICAgICBkYXRhID0galF1ZXJ5LmV4dGVuZCh0cnVlLCBkYXRhLCBjdXN0b21Mb2NhbGVzLmRpYWxvZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfTtcblxuICAgIHN0YXRpYyBnZXRMYW5ndWFnZSA9IGZ1bmN0aW9uIChvcHRpb25zLCBjYWxsYmFja0xhbmc6KGxhbmd1YWdlOnN0cmluZykgPT4gdm9pZCk6dm9pZCB7XG4gICAgICAgIGxldCB1cmwgPSBvcHRpb25zLmRpc3RQYXRoICsgJ2xvY2FsZXMvJyArIG9wdGlvbnMubGFuZyArICcvdHJhbnNsYXRpb24uanNvbic7XG4gICAgICAgIHJlYWRKU09OQXN5bmModXJsLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICBpZihkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tMYW5nKG9wdGlvbnMuZmFsbGJhY2tMYW5nKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2tMYW5nKG9wdGlvbnMubGFuZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG59Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/***/ }),
/* 23 */
/***/ (function(module, exports) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	exports.readJSON = function (url, base) {
	    if (base === void 0) { base = ''; }
	    url = base + url;
	    var xhr = new XMLHttpRequest();
	    var json = null;
	    xhr.open("GET", url, false);
	    xhr.onload = function (e) {
	        if (xhr.status === 200) {
	            json = JSON.parse(xhr.responseText);
	        }
	        else {
	            console.error('readJSON', url, xhr.statusText);
	            return null;
	        }
	    };
	    xhr.onerror = function (e) {
	        console.error('readJSON', url, xhr.statusText);
	        return null;
	    };
	    xhr.send(null);
	    return json;
	};
	exports.readJSONAsync = function (url, callback, base) {
	    if (base === void 0) { base = ''; }
	    jQuery.ajax({
	        url: base + url,
	        async: true,
	        dataType: 'json',
	        success: function (response) {
	            callback(response);
	        },
	        error: function (error) {
	            console.error('jQuery JSON load error: ' + error);
	            callback(null);
	        }
	    });
	};

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9zZXJ2aWNlcy9tb2Nrcy9tb2Nrc19sb2FkZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFPYSxRQUFBLFFBQVEsR0FBRyxVQUFVLEdBQUcsRUFBRSxJQUFnQjtJQUFoQixxQkFBQSxFQUFBLFNBQWdCO0lBQ25ELEdBQUcsR0FBRyxJQUFJLEdBQUcsR0FBRyxDQUFDO0lBRWpCLElBQUksR0FBRyxHQUFHLElBQUksY0FBYyxFQUFFLENBQUM7SUFDL0IsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBRWhCLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQztJQUU1QixHQUFHLENBQUMsTUFBTSxHQUFHLFVBQVUsQ0FBQztRQUNwQixFQUFFLENBQUMsQ0FBQyxHQUFHLENBQUMsTUFBTSxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFDckIsSUFBSSxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ3hDLENBQUM7UUFFRCxJQUFJLENBQUMsQ0FBQztZQUNGLE9BQU8sQ0FBQyxLQUFLLENBQUMsVUFBVSxFQUFFLEdBQUcsRUFBRSxHQUFHLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDL0MsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO0lBQ0wsQ0FBQyxDQUFDO0lBRUYsR0FBRyxDQUFDLE9BQU8sR0FBRyxVQUFVLENBQUM7UUFDckIsT0FBTyxDQUFDLEtBQUssQ0FBQyxVQUFVLEVBQUUsR0FBRyxFQUFFLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUMvQyxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2hCLENBQUMsQ0FBQztJQUVGLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDZixNQUFNLENBQUMsSUFBSSxDQUFDO0FBQ2hCLENBQUMsQ0FBQztBQUVTLFFBQUEsYUFBYSxHQUFHLFVBQVMsR0FBRyxFQUFFLFFBQXVCLEVBQUUsSUFBZ0I7SUFBaEIscUJBQUEsRUFBQSxTQUFnQjtJQUM5RSxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ1IsR0FBRyxFQUFFLElBQUksR0FBRyxHQUFHO1FBQ2YsS0FBSyxFQUFFLElBQUk7UUFDWCxRQUFRLEVBQUUsTUFBTTtRQUNoQixPQUFPLEVBQUUsVUFBVSxRQUFRO1lBQ3ZCLFFBQVEsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUN2QixDQUFDO1FBQ0QsS0FBSyxFQUFFLFVBQVMsS0FBSztZQUNqQixPQUFPLENBQUMsS0FBSyxDQUFDLDBCQUEwQixHQUFHLEtBQUssQ0FBQyxDQUFDO1lBQ2xELFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUNsQixDQUFDO0tBQ0osQ0FBQyxDQUFDO0FBQ1AsQ0FBQyxDQUFDIiwiZmlsZSI6ImFwcC9zZXJ2aWNlcy9tb2Nrcy9tb2Nrc19sb2FkZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEZ1bmN0aW9uIHRvIGxvYWQgdGhlIG1vY2tzIEpTT04gZmlsZXMgZHVyaW5nIHRlc3RpbmcuXG4gKlxuICogQHBhcmFtIHVybFxuICogQHBhcmFtIGJhc2UgdG8gcHJlZml4IHRoZSB1cmxcbiAqIEByZXR1cm5zIHtudWxsfVxuICovXG5leHBvcnQgY29uc3QgcmVhZEpTT04gPSBmdW5jdGlvbiAodXJsLCBiYXNlOnN0cmluZyA9ICcnKSB7XG4gICAgdXJsID0gYmFzZSArIHVybDtcblxuICAgIGxldCB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICBsZXQganNvbiA9IG51bGw7XG5cbiAgICB4aHIub3BlbihcIkdFVFwiLCB1cmwsIGZhbHNlKTtcblxuICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBpZiAoeGhyLnN0YXR1cyA9PT0gMjAwKSB7XG4gICAgICAgICAgICBqc29uID0gSlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcigncmVhZEpTT04nLCB1cmwsIHhoci5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcigncmVhZEpTT04nLCB1cmwsIHhoci5zdGF0dXNUZXh0KTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfTtcblxuICAgIHhoci5zZW5kKG51bGwpO1xuICAgIHJldHVybiBqc29uO1xufTtcblxuZXhwb3J0IHZhciByZWFkSlNPTkFzeW5jID0gZnVuY3Rpb24odXJsLCBjYWxsYmFjazooZGF0YSkgPT4gdm9pZCwgYmFzZTpzdHJpbmcgPSAnJykge1xuICAgIGpRdWVyeS5hamF4KHtcbiAgICAgICAgdXJsOiBiYXNlICsgdXJsLFxuICAgICAgICBhc3luYzogdHJ1ZSxcbiAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhyZXNwb25zZSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbihlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignalF1ZXJ5IEpTT04gbG9hZCBlcnJvcjogJyArIGVycm9yKTtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwpXG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5cblxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var http_backend_1 = __webpack_require__(25);
	var application_1 = __webpack_require__(26);
	var config_1 = __webpack_require__(21);
	var ApplicationService = (function () {
	    function ApplicationService(apiEndpoint, language, backend) {
	        if (!backend) {
	            this.backend = new http_backend_1.HttpBackend(config_1.applicationPath, apiEndpoint, language);
	        }
	        else {
	            this.backend = backend;
	        }
	    }
	    ApplicationService.prototype.retrieveApplication = function (applicationId, callback, errorCallback) {
	        this.backend.retrieve(applicationId, function (applicationData) {
	            var application = application_1.Application.initByData(applicationData);
	            callback(application);
	        }, function (data) {
	            errorCallback(data);
	        });
	    };
	    return ApplicationService;
	}());
	exports.ApplicationService = ApplicationService;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9zZXJ2aWNlcy9hcHBsaWNhdGlvbl9zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0Esd0RBQW9EO0FBQ3BELGtFQUErRDtBQUMvRCx1Q0FBNkM7QUFNN0M7SUFXSSw0QkFBWSxXQUFrQixFQUFFLFFBQWUsRUFBRSxPQUFnQjtRQUM3RCxFQUFFLENBQUEsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7WUFDVixJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksMEJBQVcsQ0FBQyx3QkFBZSxFQUFFLFdBQVcsRUFBRSxRQUFRLENBQUMsQ0FBQztRQUMzRSxDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDSixJQUFJLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztRQUMzQixDQUFDO0lBQ0wsQ0FBQztJQUVELGdEQUFtQixHQUFuQixVQUFvQixhQUFvQixFQUFFLFFBQTBDLEVBQUUsYUFBaUM7UUFDbkgsSUFBSSxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsYUFBYSxFQUFFLFVBQUEsZUFBZTtZQUNoRCxJQUFJLFdBQVcsR0FBRyx5QkFBVyxDQUFDLFVBQVUsQ0FBQyxlQUFlLENBQUMsQ0FBQztZQUMxRCxRQUFRLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDMUIsQ0FBQyxFQUFFLFVBQUEsSUFBSTtZQUNILGFBQWEsQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN4QixDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFDTCx5QkFBQztBQUFELENBM0JBLEFBMkJDLElBQUE7QUEzQlksZ0RBQWtCIiwiZmlsZSI6ImFwcC9zZXJ2aWNlcy9hcHBsaWNhdGlvbl9zZXJ2aWNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtCYWNrZW5kfSBmcm9tICcuL2JhY2tlbmRzL2JhY2tlbmQnO1xuaW1wb3J0IHtIdHRwQmFja2VuZH0gZnJvbSAnLi9iYWNrZW5kcy9odHRwX2JhY2tlbmQnO1xuaW1wb3J0IHtBcHBsaWNhdGlvbn0gZnJvbSAnLi4vbW9kZWxzL2FwcGxpY2F0aW9ucy9hcHBsaWNhdGlvbic7XG5pbXBvcnQge2FwcGxpY2F0aW9uUGF0aH0gZnJvbSAnLi4vanMvY29uZmlnJztcblxuXG4vKipcbiAqIEhhbmRsZXMgdGhlIGNvbmZpZ3VyYXRpb24gZGF0YSByZXRyaWV2ZWQgZnJvbSB0aGUgb3JjaGVzdHJhdG9yIGNvcmUuXG4gKi9cbmV4cG9ydCBjbGFzcyBBcHBsaWNhdGlvblNlcnZpY2Uge1xuICAgIHByaXZhdGUgYmFja2VuZDpCYWNrZW5kO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIGFwaUVuZHBvaW50XG4gICAgICogIEJhc2UgVVJMIHRvIHRoZSBiYWNrZW5kIHNlcnZpY2VcbiAgICAgKiBAcGFyYW0gbGFuZ3VhZ2VcbiAgICAgKiAgTGFuZ3VhZ2UgdG8gdXNlIHdoZW4gZ2V0dGluZyB0aGUgZGF0YVxuICAgICAqIEBwYXJhbSBiYWNrZW5kXG4gICAgICogIEJhY2tlbmQgdG8gZ2V0IGRhdGEgZnJvbVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGFwaUVuZHBvaW50OnN0cmluZywgbGFuZ3VhZ2U6c3RyaW5nLCBiYWNrZW5kPzpCYWNrZW5kKSB7XG4gICAgICAgIGlmKCFiYWNrZW5kKSB7XG4gICAgICAgICAgICB0aGlzLmJhY2tlbmQgPSBuZXcgSHR0cEJhY2tlbmQoYXBwbGljYXRpb25QYXRoLCBhcGlFbmRwb2ludCwgbGFuZ3VhZ2UpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5iYWNrZW5kID0gYmFja2VuZDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHJpZXZlQXBwbGljYXRpb24oYXBwbGljYXRpb25JZDpudW1iZXIsIGNhbGxiYWNrOihhcHBsaWNhdGlvbjpBcHBsaWNhdGlvbikgPT4gdm9pZCwgZXJyb3JDYWxsYmFjaz86KGRhdGE6YW55KSA9PiB2b2lkKSB7XG4gICAgICAgIHRoaXMuYmFja2VuZC5yZXRyaWV2ZShhcHBsaWNhdGlvbklkLCBhcHBsaWNhdGlvbkRhdGEgPT4ge1xuICAgICAgICAgICAgdmFyIGFwcGxpY2F0aW9uID0gQXBwbGljYXRpb24uaW5pdEJ5RGF0YShhcHBsaWNhdGlvbkRhdGEpO1xuICAgICAgICAgICAgY2FsbGJhY2soYXBwbGljYXRpb24pO1xuICAgICAgICB9LCBkYXRhID0+IHtcbiAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soZGF0YSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/***/ }),
/* 25 */
/***/ (function(module, exports) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var HttpBackend = (function () {
	    function HttpBackend(path, apiEndpoint, language) {
	        this.path = path;
	        this.apiEndpoint = apiEndpoint;
	        this.language = language;
	    }
	    HttpBackend.prototype.list = function (callback, errorCallback) {
	        var url = this.getUrl();
	        jQuery.ajax({
	            url: url,
	            dataType: 'json',
	            type: 'GET',
	            success: function (data) {
	                callback(data);
	            },
	            error: function (data) {
	                errorCallback(data);
	            }
	        });
	    };
	    HttpBackend.prototype.retrieve = function (id, callback, errorCallback) {
	        var url = this.getUrl() + id;
	        jQuery.ajax({
	            url: url,
	            crossDomain: true,
	            dataType: 'json',
	            cache: false,
	            contentType: "application/json; charset=utf-8;",
	            type: 'GET',
	            success: function (data) {
	                callback(data);
	            },
	            error: function (data) {
	                errorCallback(data);
	            }
	        });
	    };
	    HttpBackend.prototype.create = function (object, callback, errorCallback) {
	        return null;
	    };
	    HttpBackend.prototype.update = function (id, attributes, callback, errorCallback) {
	        return null;
	    };
	    HttpBackend.prototype.destroy = function (id, callback, errorCallback) {
	        return null;
	    };
	    HttpBackend.prototype.getUrl = function () {
	        return (this.apiEndpoint + this.path).replace('{lang}', this.language);
	    };
	    return HttpBackend;
	}());
	exports.HttpBackend = HttpBackend;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9zZXJ2aWNlcy9iYWNrZW5kcy9odHRwX2JhY2tlbmQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFHQTtJQUtJLHFCQUFZLElBQVcsRUFBRSxXQUFrQixFQUFFLFFBQWU7UUFDeEQsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7UUFDL0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7SUFDN0IsQ0FBQztJQUVELDBCQUFJLEdBQUosVUFBSyxRQUEyQixFQUFFLGFBQWlDO1FBQy9ELElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUN4QixNQUFNLENBQUMsSUFBSSxDQUFDO1lBQ1IsR0FBRyxFQUFFLEdBQUc7WUFDUixRQUFRLEVBQUUsTUFBTTtZQUNoQixJQUFJLEVBQUUsS0FBSztZQUNYLE9BQU8sRUFBRSxVQUFVLElBQUk7Z0JBQ25CLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNuQixDQUFDO1lBQ0QsS0FBSyxFQUFFLFVBQVUsSUFBSTtnQkFDakIsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3hCLENBQUM7U0FDSixDQUFDLENBQUM7SUFDUCxDQUFDO0lBRUQsOEJBQVEsR0FBUixVQUFTLEVBQVMsRUFBRSxRQUEyQixFQUFFLGFBQWlDO1FBQzlFLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFDN0IsTUFBTSxDQUFDLElBQUksQ0FBQztZQUNSLEdBQUcsRUFBRSxHQUFHO1lBQ1IsV0FBVyxFQUFFLElBQUk7WUFDakIsUUFBUSxFQUFFLE1BQU07WUFDaEIsS0FBSyxFQUFFLEtBQUs7WUFDWixXQUFXLEVBQUUsa0NBQWtDO1lBQy9DLElBQUksRUFBRSxLQUFLO1lBQ1gsT0FBTyxFQUFFLFVBQVUsSUFBSTtnQkFDbkIsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ25CLENBQUM7WUFDRCxLQUFLLEVBQUUsVUFBVSxJQUFJO2dCQUNqQixhQUFhLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDeEIsQ0FBQztTQUNKLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCw0QkFBTSxHQUFOLFVBQU8sTUFBVSxFQUFFLFFBQTRCLEVBQUUsYUFBaUM7UUFDOUUsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsNEJBQU0sR0FBTixVQUFPLEVBQVMsRUFBRSxVQUFhLEVBQUUsUUFBNEIsRUFBRSxhQUFpQztRQUM1RixNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFRCw2QkFBTyxHQUFQLFVBQVEsRUFBUyxFQUFFLFFBQTRCLEVBQUUsYUFBaUM7UUFDOUUsTUFBTSxDQUFDLElBQUksQ0FBQztJQUNoQixDQUFDO0lBRUQsNEJBQU0sR0FBTjtRQUNJLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDO0lBQzNFLENBQUM7SUFDTCxrQkFBQztBQUFELENBM0RBLEFBMkRDLElBQUE7QUEzRFksa0NBQVciLCJmaWxlIjoiYXBwL3NlcnZpY2VzL2JhY2tlbmRzL2h0dHBfYmFja2VuZC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QmFja2VuZH0gZnJvbSAnLi9iYWNrZW5kJztcblxuXG5leHBvcnQgY2xhc3MgSHR0cEJhY2tlbmQgaW1wbGVtZW50cyBCYWNrZW5kIHtcbiAgICBwcml2YXRlIHBhdGg6c3RyaW5nO1xuICAgIHByaXZhdGUgYXBpRW5kcG9pbnQ6c3RyaW5nO1xuICAgIHByaXZhdGUgbGFuZ3VhZ2U6c3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IocGF0aDpzdHJpbmcsIGFwaUVuZHBvaW50OnN0cmluZywgbGFuZ3VhZ2U6c3RyaW5nKSB7XG4gICAgICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuYXBpRW5kcG9pbnQgPSBhcGlFbmRwb2ludDtcbiAgICAgICAgdGhpcy5sYW5ndWFnZSA9IGxhbmd1YWdlO1xuICAgIH1cblxuICAgIGxpc3QoY2FsbGJhY2s6KGRhdGE6YW55KSA9PiB2b2lkLCBlcnJvckNhbGxiYWNrPzooZGF0YTphbnkpID0+IHZvaWQpOiB2b2lkIHtcbiAgICAgICAgdmFyIHVybCA9IHRoaXMuZ2V0VXJsKCk7XG4gICAgICAgIGpRdWVyeS5hamF4KHtcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhkYXRhKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXRyaWV2ZShpZDpudW1iZXIsIGNhbGxiYWNrOihkYXRhOmFueSkgPT4gdm9pZCwgZXJyb3JDYWxsYmFjaz86KGRhdGE6YW55KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIHZhciB1cmwgPSB0aGlzLmdldFVybCgpICsgaWQ7XG4gICAgICAgIGpRdWVyeS5hamF4KHtcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgY3Jvc3NEb21haW46IHRydWUsXG4gICAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgICAgY2FjaGU6IGZhbHNlLFxuICAgICAgICAgICAgY29udGVudFR5cGU6IFwiYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtODtcIixcbiAgICAgICAgICAgIHR5cGU6ICdHRVQnLFxuICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhkYXRhKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjogZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgICAgICBlcnJvckNhbGxiYWNrKGRhdGEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjcmVhdGUob2JqZWN0OmFueSwgY2FsbGJhY2s/OihkYXRhOmFueSkgPT4gdm9pZCwgZXJyb3JDYWxsYmFjaz86KGRhdGE6YW55KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHVwZGF0ZShpZDpudW1iZXIsIGF0dHJpYnV0ZXM6e30sIGNhbGxiYWNrPzooZGF0YTphbnkpID0+IHZvaWQsIGVycm9yQ2FsbGJhY2s/OihkYXRhOmFueSkgPT4gdm9pZCk6IHZvaWQge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBkZXN0cm95KGlkOm51bWJlciwgY2FsbGJhY2s/OihkYXRhOmFueSkgPT4gdm9pZCwgZXJyb3JDYWxsYmFjaz86KGRhdGE6YW55KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGdldFVybCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gKHRoaXMuYXBpRW5kcG9pbnQgKyB0aGlzLnBhdGgpLnJlcGxhY2UoJ3tsYW5nfScsIHRoaXMubGFuZ3VhZ2UpO1xuICAgIH1cbn0iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var general_configuration_1 = __webpack_require__(27);
	var configuration_factory_1 = __webpack_require__(31);
	var config_1 = __webpack_require__(21);
	var parameter_value_property_pair_1 = __webpack_require__(41);
	var Application = (function () {
	    function Application(id, name, state, generalConfiguration, configurations) {
	        this.id = id;
	        this.name = name;
	        this.state = state;
	        this.generalConfiguration = generalConfiguration;
	        this.configurations = configurations;
	    }
	    Application.initByData = function (data) {
	        var generalConfiguration = general_configuration_1.GeneralConfiguration.initByData(data.generalConfiguration);
	        var configurations = [];
	        for (var _i = 0, _a = data.configurations; _i < _a.length; _i++) {
	            var configuration = _a[_i];
	            var configurationObject = configuration_factory_1.ConfigurationFactory.createByData(configuration);
	            if (configurationObject !== null) {
	                configurations.push(configurationObject);
	            }
	        }
	        return new Application(data.id, data.name, data.state, generalConfiguration, configurations);
	    };
	    Application.prototype.getPushConfiguration = function () {
	        return this.configurations.filter(function (configuration) { return configuration.type === config_1.configurationTypes.push; })[0];
	    };
	    Application.prototype.getElementSpecificPushConfigurations = function () {
	        return this.configurations.filter(function (configuration) { return configuration.type === config_1.configurationTypes.elementSpecificPush; });
	    };
	    Application.prototype.getPullConfigurations = function () {
	        return this.configurations.filter(function (configuration) { return configuration.type === config_1.configurationTypes.pull; });
	    };
	    Application.prototype.getContextForView = function () {
	        if (this.generalConfiguration.getParameterValue('reviewFontType') === 'bold') {
	            var reviewFontTypeCSSPair = new parameter_value_property_pair_1.ParameterValuePropertyPair('reviewFontType', 'font-weight');
	        }
	        else {
	            var reviewFontTypeCSSPair = new parameter_value_property_pair_1.ParameterValuePropertyPair('reviewFontType', 'font-style');
	        }
	        var reviewStyle = this.getCssStyle([
	            new parameter_value_property_pair_1.ParameterValuePropertyPair('reviewFontFamily', 'font-family'),
	            reviewFontTypeCSSPair
	        ]);
	        if (this.generalConfiguration.getParameterValue('mandatoryLabelStyle') === 'bold') {
	            var mandatoryLabelStyle = this.getCssStyle([
	                new parameter_value_property_pair_1.ParameterValuePropertyPair('mandatoryLabelStyle', 'font-weight')
	            ]);
	        }
	        else {
	            var mandatoryLabelStyle = this.getCssStyle([
	                new parameter_value_property_pair_1.ParameterValuePropertyPair('mandatoryLabelStyle', 'font-style')
	            ]);
	        }
	        var generalLabelStyle = '';
	        if (this.generalConfiguration.getParameterValue('labelFontColor')) {
	            generalLabelStyle += ' ' + this.getCssStyle([
	                new parameter_value_property_pair_1.ParameterValuePropertyPair('labelFontColor', 'color')
	            ]);
	        }
	        if (this.generalConfiguration.getParameterValue('labelFontSize')) {
	            generalLabelStyle += ' ' + this.getCssStyle([
	                new parameter_value_property_pair_1.ParameterValuePropertyPair('labelFontSize', 'font-size')
	            ]);
	        }
	        if (this.generalConfiguration.getParameterValue('labelFontWeight')) {
	            generalLabelStyle += ' ' + this.getCssStyle([
	                new parameter_value_property_pair_1.ParameterValuePropertyPair('labelFontWeight', 'font-weight')
	            ]);
	        }
	        return {
	            buttonRowStyle: this.generalConfiguration.getParameterValue('buttonRowStyle') || '',
	            reviewButtonPosition: this.generalConfiguration.getParameterValue('reviewButtonPosition'),
	            reviewStyle: reviewStyle,
	            mandatorySign: this.generalConfiguration.getParameterValue('mandatorySign'),
	            mandatoryLabelStyle: mandatoryLabelStyle,
	            discardAsButton: this.generalConfiguration.getParameterValue('discardAsButton'),
	            discardClass: this.generalConfiguration.getParameterValue('discardClass') || '',
	            submissionPageMessage: this.generalConfiguration.getParameterValue('submissionPageMessage'),
	            labelPositioning: this.generalConfiguration.getParameterValue('labelPositioning') === 'top' ? '' : 'horizontal',
	            feedbackFormTitle: this.generalConfiguration.getParameterValue('feedbackFormTitle'),
	            generalLabelStyle: generalLabelStyle,
	            dialogTitle: this.generalConfiguration.getParameterValue('dialogTitle')
	        };
	    };
	    Application.prototype.getCssStyle = function (parameterValuePropertyPair) {
	        var cssStyles = '';
	        for (var i = 0; i < parameterValuePropertyPair.length; i++) {
	            var parameterPropertyPair = parameterValuePropertyPair[i];
	            if (this.generalConfiguration.getParameterValue(parameterPropertyPair.parameter) !== null) {
	                var unit = this.getCSSPropertyUnit(parameterPropertyPair.property);
	                cssStyles += parameterPropertyPair.property + ': ' + this.generalConfiguration.getParameterValue(parameterPropertyPair.parameter) + unit + ';';
	                if (i !== parameterValuePropertyPair.length - 1) {
	                    cssStyles += ' ';
	                }
	            }
	        }
	        return cssStyles;
	    };
	    Application.prototype.getCSSPropertyUnit = function (property) {
	        if (property === 'font-size') {
	            return 'px';
	        }
	        else {
	            return '';
	        }
	    };
	    return Application;
	}());
	exports.Application = Application;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvYXBwbGljYXRpb25zL2FwcGxpY2F0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsaUZBQTZFO0FBSTdFLGlGQUE2RTtBQUM3RSwwQ0FBbUQ7QUFDbkQsNkZBQXVGO0FBR3ZGO0lBT0kscUJBQVksRUFBUyxFQUFFLElBQVcsRUFBRSxLQUFZLEVBQUUsb0JBQXlDLEVBQUUsY0FBdUM7UUFDaEksSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFDYixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsb0JBQW9CLEdBQUcsb0JBQW9CLENBQUM7UUFDakQsSUFBSSxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7SUFDekMsQ0FBQztJQUVNLHNCQUFVLEdBQWpCLFVBQWtCLElBQVE7UUFDdEIsSUFBSSxvQkFBb0IsR0FBRyw0Q0FBb0IsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUM7UUFDdEYsSUFBSSxjQUFjLEdBQUcsRUFBRSxDQUFDO1FBQ3hCLEdBQUcsQ0FBQSxDQUFzQixVQUFtQixFQUFuQixLQUFBLElBQUksQ0FBQyxjQUFjLEVBQW5CLGNBQW1CLEVBQW5CLElBQW1CO1lBQXhDLElBQUksYUFBYSxTQUFBO1lBQ2pCLElBQUksbUJBQW1CLEdBQUcsNENBQW9CLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1lBQzNFLEVBQUUsQ0FBQSxDQUFDLG1CQUFtQixLQUFLLElBQUksQ0FBQyxDQUFDLENBQUM7Z0JBQzlCLGNBQWMsQ0FBQyxJQUFJLENBQUMsbUJBQW1CLENBQUMsQ0FBQztZQUM3QyxDQUFDO1NBQ0o7UUFDRCxNQUFNLENBQUMsSUFBSSxXQUFXLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsb0JBQW9C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RSxDQUFDLEdBQUcsMEJBQTBCLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7WUFDeEQsSUFBSSxxQkFBcUIsR0FBRywwQkFBMEIsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxRCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsaUJBQWlCLENBQUMscUJBQXFCLENBQUMsU0FBUyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDeEYsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLHFCQUFxQixDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUNuRSxTQUFTLElBQUkscUJBQXFCLENBQUMsUUFBUSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsb0JBQW9CLENBQUMsaUJBQWlCLENBQUMscUJBQXFCLENBQUMsU0FBUyxDQUFDLEdBQUcsSUFBSSxHQUFHLEdBQUcsQ0FBQztnQkFDL0ksRUFBRSxDQUFBLENBQUMsQ0FBQyxLQUFLLDBCQUEwQixDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUM3QyxTQUFTLElBQUksR0FBRyxDQUFDO2dCQUNyQixDQUFDO1lBQ0wsQ0FBQztRQUNMLENBQUM7UUFDRCxNQUFNLENBQUMsU0FBUyxDQUFDO0lBQ3JCLENBQUM7SUFFRCx3Q0FBa0IsR0FBbEIsVUFBbUIsUUFBZ0I7UUFDL0IsRUFBRSxDQUFBLENBQUMsUUFBUSxLQUFLLFdBQVcsQ0FBQyxDQUFDLENBQUM7WUFDMUIsTUFBTSxDQUFDLElBQUksQ0FBQTtRQUNmLENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNKLE1BQU0sQ0FBQyxFQUFFLENBQUM7UUFDZCxDQUFDO0lBQ0wsQ0FBQztJQUNMLGtCQUFDO0FBQUQsQ0EvSEEsQUErSEMsSUFBQTtBQS9IWSxrQ0FBVyIsImZpbGUiOiJhcHAvbW9kZWxzL2FwcGxpY2F0aW9ucy9hcHBsaWNhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7R2VuZXJhbENvbmZpZ3VyYXRpb259IGZyb20gJy4uL2NvbmZpZ3VyYXRpb25zL2dlbmVyYWxfY29uZmlndXJhdGlvbic7XG5pbXBvcnQge0NvbmZpZ3VyYXRpb25JbnRlcmZhY2V9IGZyb20gJy4uL2NvbmZpZ3VyYXRpb25zL2NvbmZpZ3VyYXRpb25faW50ZXJmYWNlJztcbmltcG9ydCB7UHVsbENvbmZpZ3VyYXRpb259IGZyb20gJy4uL2NvbmZpZ3VyYXRpb25zL3B1bGxfY29uZmlndXJhdGlvbic7XG5pbXBvcnQge1B1c2hDb25maWd1cmF0aW9ufSBmcm9tICcuLi9jb25maWd1cmF0aW9ucy9wdXNoX2NvbmZpZ3VyYXRpb24nO1xuaW1wb3J0IHtDb25maWd1cmF0aW9uRmFjdG9yeX0gZnJvbSAnLi4vY29uZmlndXJhdGlvbnMvY29uZmlndXJhdGlvbl9mYWN0b3J5JztcbmltcG9ydCB7Y29uZmlndXJhdGlvblR5cGVzfSBmcm9tICcuLi8uLi9qcy9jb25maWcnO1xuaW1wb3J0IHtQYXJhbWV0ZXJWYWx1ZVByb3BlcnR5UGFpcn0gZnJvbSAnLi4vcGFyYW1ldGVycy9wYXJhbWV0ZXJfdmFsdWVfcHJvcGVydHlfcGFpcic7XG5cblxuZXhwb3J0IGNsYXNzIEFwcGxpY2F0aW9uIHtcbiAgICBpZDpudW1iZXI7XG4gICAgbmFtZTpzdHJpbmc7XG4gICAgc3RhdGU6bnVtYmVyO1xuICAgIGdlbmVyYWxDb25maWd1cmF0aW9uOkdlbmVyYWxDb25maWd1cmF0aW9uO1xuICAgIGNvbmZpZ3VyYXRpb25zOkNvbmZpZ3VyYXRpb25JbnRlcmZhY2VbXTtcblxuICAgIGNvbnN0cnVjdG9yKGlkOm51bWJlciwgbmFtZTpzdHJpbmcsIHN0YXRlOm51bWJlciwgZ2VuZXJhbENvbmZpZ3VyYXRpb246R2VuZXJhbENvbmZpZ3VyYXRpb24sIGNvbmZpZ3VyYXRpb25zOkNvbmZpZ3VyYXRpb25JbnRlcmZhY2VbXSkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgdGhpcy5nZW5lcmFsQ29uZmlndXJhdGlvbiA9IGdlbmVyYWxDb25maWd1cmF0aW9uO1xuICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb25zID0gY29uZmlndXJhdGlvbnM7XG4gICAgfVxuXG4gICAgc3RhdGljIGluaXRCeURhdGEoZGF0YTphbnkpIHtcbiAgICAgICAgdmFyIGdlbmVyYWxDb25maWd1cmF0aW9uID0gR2VuZXJhbENvbmZpZ3VyYXRpb24uaW5pdEJ5RGF0YShkYXRhLmdlbmVyYWxDb25maWd1cmF0aW9uKTtcbiAgICAgICAgdmFyIGNvbmZpZ3VyYXRpb25zID0gW107XG4gICAgICAgIGZvcih2YXIgY29uZmlndXJhdGlvbiBvZiBkYXRhLmNvbmZpZ3VyYXRpb25zKSB7XG4gICAgICAgICAgICBsZXQgY29uZmlndXJhdGlvbk9iamVjdCA9IENvbmZpZ3VyYXRpb25GYWN0b3J5LmNyZWF0ZUJ5RGF0YShjb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIGlmKGNvbmZpZ3VyYXRpb25PYmplY3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25maWd1cmF0aW9ucy5wdXNoKGNvbmZpZ3VyYXRpb25PYmplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgQXBwbGljYXRpb24oZGF0YS5pZCwgZGF0YS5uYW1lLCBkYXRhLnN0YXRlLCBnZW5lcmFsQ29uZmlndXJhdGlvbiwgY29uZmlndXJhdGlvbnMpO1xuICAgIH1cblxuICAgIGdldFB1c2hDb25maWd1cmF0aW9uKCk6IFB1c2hDb25maWd1cmF0aW9uIHtcbiAgICAgICAgcmV0dXJuIDxQdXNoQ29uZmlndXJhdGlvbj50aGlzLmNvbmZpZ3VyYXRpb25zLmZpbHRlcihjb25maWd1cmF0aW9uID0+IGNvbmZpZ3VyYXRpb24udHlwZSA9PT0gY29uZmlndXJhdGlvblR5cGVzLnB1c2gpWzBdO1xuICAgIH1cblxuICAgIGdldEVsZW1lbnRTcGVjaWZpY1B1c2hDb25maWd1cmF0aW9ucygpOiBbUHVzaENvbmZpZ3VyYXRpb25dIHtcbiAgICAgICAgcmV0dXJuIDxbUHVzaENvbmZpZ3VyYXRpb25dPnRoaXMuY29uZmlndXJhdGlvbnMuZmlsdGVyKGNvbmZpZ3VyYXRpb24gPT4gY29uZmlndXJhdGlvbi50eXBlID09PSBjb25maWd1cmF0aW9uVHlwZXMuZWxlbWVudFNwZWNpZmljUHVzaCk7XG4gICAgfVxuXG4gICAgZ2V0UHVsbENvbmZpZ3VyYXRpb25zKCk6IFB1bGxDb25maWd1cmF0aW9uW10ge1xuICAgICAgICByZXR1cm4gPFB1bGxDb25maWd1cmF0aW9uW10+dGhpcy5jb25maWd1cmF0aW9ucy5maWx0ZXIoY29uZmlndXJhdGlvbiA9PiBjb25maWd1cmF0aW9uLnR5cGUgPT09IGNvbmZpZ3VyYXRpb25UeXBlcy5wdWxsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBhbnlcbiAgICAgKiAgQ29udGV4dCBvYmplY3RcbiAgICAgKi9cbiAgICBnZXRDb250ZXh0Rm9yVmlldygpIHtcbiAgICAgICAgaWYodGhpcy5nZW5lcmFsQ29uZmlndXJhdGlvbi5nZXRQYXJhbWV0ZXJWYWx1ZSgncmV2aWV3Rm9udFR5cGUnKSA9PT0gJ2JvbGQnKSB7XG4gICAgICAgICAgICB2YXIgcmV2aWV3Rm9udFR5cGVDU1NQYWlyID0gbmV3IFBhcmFtZXRlclZhbHVlUHJvcGVydHlQYWlyKCdyZXZpZXdGb250VHlwZScsICdmb250LXdlaWdodCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIHJldmlld0ZvbnRUeXBlQ1NTUGFpciA9IG5ldyBQYXJhbWV0ZXJWYWx1ZVByb3BlcnR5UGFpcigncmV2aWV3Rm9udFR5cGUnLCAnZm9udC1zdHlsZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHJldmlld1N0eWxlID0gdGhpcy5nZXRDc3NTdHlsZShbXG4gICAgICAgICAgICBuZXcgUGFyYW1ldGVyVmFsdWVQcm9wZXJ0eVBhaXIoJ3Jldmlld0ZvbnRGYW1pbHknLCAnZm9udC1mYW1pbHknKSxcbiAgICAgICAgICAgIHJldmlld0ZvbnRUeXBlQ1NTUGFpclxuICAgICAgICBdKTtcblxuICAgICAgICBpZih0aGlzLmdlbmVyYWxDb25maWd1cmF0aW9uLmdldFBhcmFtZXRlclZhbHVlKCdtYW5kYXRvcnlMYWJlbFN0eWxlJykgPT09ICdib2xkJykge1xuICAgICAgICAgICAgdmFyIG1hbmRhdG9yeUxhYmVsU3R5bGUgPSB0aGlzLmdldENzc1N0eWxlKFtcbiAgICAgICAgICAgICAgICBuZXcgUGFyYW1ldGVyVmFsdWVQcm9wZXJ0eVBhaXIoJ21hbmRhdG9yeUxhYmVsU3R5bGUnLCAnZm9udC13ZWlnaHQnKVxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgbWFuZGF0b3J5TGFiZWxTdHlsZSA9IHRoaXMuZ2V0Q3NzU3R5bGUoW1xuICAgICAgICAgICAgICAgIG5ldyBQYXJhbWV0ZXJWYWx1ZVByb3BlcnR5UGFpcignbWFuZGF0b3J5TGFiZWxTdHlsZScsICdmb250LXN0eWxlJylcbiAgICAgICAgICAgIF0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGdlbmVyYWxMYWJlbFN0eWxlID0gJyc7XG4gICAgICAgIGlmKHRoaXMuZ2VuZXJhbENvbmZpZ3VyYXRpb24uZ2V0UGFyYW1ldGVyVmFsdWUoJ2xhYmVsRm9udENvbG9yJykpIHtcbiAgICAgICAgICAgIGdlbmVyYWxMYWJlbFN0eWxlICs9ICcgJyArIHRoaXMuZ2V0Q3NzU3R5bGUoW1xuICAgICAgICAgICAgICAgICAgICBuZXcgUGFyYW1ldGVyVmFsdWVQcm9wZXJ0eVBhaXIoJ2xhYmVsRm9udENvbG9yJywgJ2NvbG9yJylcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLmdlbmVyYWxDb25maWd1cmF0aW9uLmdldFBhcmFtZXRlclZhbHVlKCdsYWJlbEZvbnRTaXplJykpIHtcbiAgICAgICAgICAgIGdlbmVyYWxMYWJlbFN0eWxlICs9ICcgJyArIHRoaXMuZ2V0Q3NzU3R5bGUoW1xuICAgICAgICAgICAgICAgICAgICBuZXcgUGFyYW1ldGVyVmFsdWVQcm9wZXJ0eVBhaXIoJ2xhYmVsRm9udFNpemUnLCAnZm9udC1zaXplJylcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLmdlbmVyYWxDb25maWd1cmF0aW9uLmdldFBhcmFtZXRlclZhbHVlKCdsYWJlbEZvbnRXZWlnaHQnKSkge1xuICAgICAgICAgICAgZ2VuZXJhbExhYmVsU3R5bGUgKz0gJyAnICsgdGhpcy5nZXRDc3NTdHlsZShbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBQYXJhbWV0ZXJWYWx1ZVByb3BlcnR5UGFpcignbGFiZWxGb250V2VpZ2h0JywgJ2ZvbnQtd2VpZ2h0JylcbiAgICAgICAgICAgICAgICBdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBidXR0b25Sb3dTdHlsZTogdGhpcy5nZW5lcmFsQ29uZmlndXJhdGlvbi5nZXRQYXJhbWV0ZXJWYWx1ZSgnYnV0dG9uUm93U3R5bGUnKSB8fCAnJyxcbiAgICAgICAgICAgIHJldmlld0J1dHRvblBvc2l0aW9uOiB0aGlzLmdlbmVyYWxDb25maWd1cmF0aW9uLmdldFBhcmFtZXRlclZhbHVlKCdyZXZpZXdCdXR0b25Qb3NpdGlvbicpLFxuICAgICAgICAgICAgcmV2aWV3U3R5bGU6IHJldmlld1N0eWxlLFxuICAgICAgICAgICAgbWFuZGF0b3J5U2lnbjogdGhpcy5nZW5lcmFsQ29uZmlndXJhdGlvbi5nZXRQYXJhbWV0ZXJWYWx1ZSgnbWFuZGF0b3J5U2lnbicpLFxuICAgICAgICAgICAgbWFuZGF0b3J5TGFiZWxTdHlsZTogbWFuZGF0b3J5TGFiZWxTdHlsZSxcbiAgICAgICAgICAgIGRpc2NhcmRBc0J1dHRvbjogdGhpcy5nZW5lcmFsQ29uZmlndXJhdGlvbi5nZXRQYXJhbWV0ZXJWYWx1ZSgnZGlzY2FyZEFzQnV0dG9uJyksXG4gICAgICAgICAgICBkaXNjYXJkQ2xhc3M6IHRoaXMuZ2VuZXJhbENvbmZpZ3VyYXRpb24uZ2V0UGFyYW1ldGVyVmFsdWUoJ2Rpc2NhcmRDbGFzcycpIHx8ICcnLFxuICAgICAgICAgICAgc3VibWlzc2lvblBhZ2VNZXNzYWdlOiB0aGlzLmdlbmVyYWxDb25maWd1cmF0aW9uLmdldFBhcmFtZXRlclZhbHVlKCdzdWJtaXNzaW9uUGFnZU1lc3NhZ2UnKSxcbiAgICAgICAgICAgIGxhYmVsUG9zaXRpb25pbmc6IHRoaXMuZ2VuZXJhbENvbmZpZ3VyYXRpb24uZ2V0UGFyYW1ldGVyVmFsdWUoJ2xhYmVsUG9zaXRpb25pbmcnKSA9PT0gJ3RvcCcgPyAnJyA6ICdob3Jpem9udGFsJyxcbiAgICAgICAgICAgIGZlZWRiYWNrRm9ybVRpdGxlOiB0aGlzLmdlbmVyYWxDb25maWd1cmF0aW9uLmdldFBhcmFtZXRlclZhbHVlKCdmZWVkYmFja0Zvcm1UaXRsZScpLFxuICAgICAgICAgICAgZ2VuZXJhbExhYmVsU3R5bGU6IGdlbmVyYWxMYWJlbFN0eWxlLFxuICAgICAgICAgICAgZGlhbG9nVGl0bGU6IHRoaXMuZ2VuZXJhbENvbmZpZ3VyYXRpb24uZ2V0UGFyYW1ldGVyVmFsdWUoJ2RpYWxvZ1RpdGxlJylcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgdG8gZ2VuZXJhdGUgYSBodG1sIHN0eWxlIHZhbHVlIHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYXJhbWV0ZXJWYWx1ZVByb3BlcnR5UGFpclxuICAgICAqICBUaGUgcGFpcnMgb2YgMSkgcGFyYW1ldGVyIGluIHRoZSBwYXJhbWV0ZXJzIG9mIHRoZSBjb25maWcgYW5kIDIpIHRoZSBjc3MgcHJvcGVydHkgdG8gdXNlIGZvciB0aGlzIHBhcmFtZXRlcidzIHZhbHVlXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRDc3NTdHlsZShwYXJhbWV0ZXJWYWx1ZVByb3BlcnR5UGFpcjpQYXJhbWV0ZXJWYWx1ZVByb3BlcnR5UGFpcltdKTogc3RyaW5nIHtcbiAgICAgICAgdmFyIGNzc1N0eWxlcyA9ICcnO1xuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgcGFyYW1ldGVyVmFsdWVQcm9wZXJ0eVBhaXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJhbWV0ZXJQcm9wZXJ0eVBhaXIgPSBwYXJhbWV0ZXJWYWx1ZVByb3BlcnR5UGFpcltpXTtcbiAgICAgICAgICAgIGlmICh0aGlzLmdlbmVyYWxDb25maWd1cmF0aW9uLmdldFBhcmFtZXRlclZhbHVlKHBhcmFtZXRlclByb3BlcnR5UGFpci5wYXJhbWV0ZXIpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIHVuaXQgPSB0aGlzLmdldENTU1Byb3BlcnR5VW5pdChwYXJhbWV0ZXJQcm9wZXJ0eVBhaXIucHJvcGVydHkpO1xuICAgICAgICAgICAgICAgIGNzc1N0eWxlcyArPSBwYXJhbWV0ZXJQcm9wZXJ0eVBhaXIucHJvcGVydHkgKyAnOiAnICsgdGhpcy5nZW5lcmFsQ29uZmlndXJhdGlvbi5nZXRQYXJhbWV0ZXJWYWx1ZShwYXJhbWV0ZXJQcm9wZXJ0eVBhaXIucGFyYW1ldGVyKSArIHVuaXQgKyAnOyc7XG4gICAgICAgICAgICAgICAgaWYoaSAhPT0gcGFyYW1ldGVyVmFsdWVQcm9wZXJ0eVBhaXIubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICBjc3NTdHlsZXMgKz0gJyAnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3NzU3R5bGVzO1xuICAgIH1cblxuICAgIGdldENTU1Byb3BlcnR5VW5pdChwcm9wZXJ0eTogc3RyaW5nKSB7XG4gICAgICAgIGlmKHByb3BlcnR5ID09PSAnZm9udC1zaXplJykge1xuICAgICAgICAgICAgcmV0dXJuICdweCdcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgfVxuICAgIH1cbn0iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var parameterizable_1 = __webpack_require__(28);
	var mixin_helper_1 = __webpack_require__(29);
	var parameter_1 = __webpack_require__(30);
	var GeneralConfiguration = (function () {
	    function GeneralConfiguration(id, name, parameters) {
	        this.id = id;
	        this.name = name;
	        this.parameters = parameters;
	    }
	    GeneralConfiguration.initByData = function (data) {
	        if (!data) {
	            return null;
	        }
	        var parameters = [];
	        for (var _i = 0, _a = data.parameters; _i < _a.length; _i++) {
	            var parameter = _a[_i];
	            parameters.push(parameter_1.Parameter.initByData(parameter));
	        }
	        return new GeneralConfiguration(data.id, data.name, parameters);
	    };
	    return GeneralConfiguration;
	}());
	exports.GeneralConfiguration = GeneralConfiguration;
	mixin_helper_1.applyMixins(GeneralConfiguration, [parameterizable_1.Parameterizable]);

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvY29uZmlndXJhdGlvbnMvZ2VuZXJhbF9jb25maWd1cmF0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0EsNkRBQTBEO0FBQzFELDhEQUEwRDtBQUMxRCxxREFBa0Q7QUFHbEQ7SUFLSSw4QkFBWSxFQUFTLEVBQUUsSUFBVyxFQUFFLFVBQStCO1FBQy9ELElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO1FBQ2IsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7SUFDakMsQ0FBQztJQUVNLCtCQUFVLEdBQWpCLFVBQWtCLElBQVE7UUFDdEIsRUFBRSxDQUFBLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ1AsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBQ0QsSUFBSSxVQUFVLEdBQUcsRUFBRSxDQUFDO1FBQ3BCLEdBQUcsQ0FBQSxDQUFrQixVQUFlLEVBQWYsS0FBQSxJQUFJLENBQUMsVUFBVSxFQUFmLGNBQWUsRUFBZixJQUFlO1lBQWhDLElBQUksU0FBUyxTQUFBO1lBQ2IsVUFBVSxDQUFDLElBQUksQ0FBQyxxQkFBUyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO1NBQ3BEO1FBQ0QsTUFBTSxDQUFDLElBQUksb0JBQW9CLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLFVBQVUsQ0FBQyxDQUFDO0lBQ3BFLENBQUM7SUFJTCwyQkFBQztBQUFELENBeEJBLEFBd0JDLElBQUE7QUF4Qlksb0RBQW9CO0FBMEJqQywwQkFBVyxDQUFDLG9CQUFvQixFQUFFLENBQUMsaUNBQWUsQ0FBQyxDQUFDLENBQUMiLCJmaWxlIjoiYXBwL21vZGVscy9jb25maWd1cmF0aW9ucy9nZW5lcmFsX2NvbmZpZ3VyYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1BhcmFtZXRlckludGVyZmFjZX0gZnJvbSAnLi4vcGFyYW1ldGVycy9wYXJhbWV0ZXJfaW50ZXJmYWNlJztcbmltcG9ydCB7UGFyYW1ldGVyaXphYmxlfSBmcm9tICcuLi9taXhpbnMvcGFyYW1ldGVyaXphYmxlJztcbmltcG9ydCB7YXBwbHlNaXhpbnN9IGZyb20gJy4uLy4uL2pzL2hlbHBlcnMvbWl4aW5faGVscGVyJztcbmltcG9ydCB7UGFyYW1ldGVyfSBmcm9tICcuLi9wYXJhbWV0ZXJzL3BhcmFtZXRlcic7XG5cblxuZXhwb3J0IGNsYXNzIEdlbmVyYWxDb25maWd1cmF0aW9uIGltcGxlbWVudHMgUGFyYW1ldGVyaXphYmxlIHtcbiAgICBpZDpudW1iZXI7XG4gICAgbmFtZTpzdHJpbmc7XG4gICAgcGFyYW1ldGVyczpQYXJhbWV0ZXJJbnRlcmZhY2VbXTtcblxuICAgIGNvbnN0cnVjdG9yKGlkOm51bWJlciwgbmFtZTpzdHJpbmcsIHBhcmFtZXRlcnM6UGFyYW1ldGVySW50ZXJmYWNlW10pIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnBhcmFtZXRlcnMgPSBwYXJhbWV0ZXJzO1xuICAgIH1cblxuICAgIHN0YXRpYyBpbml0QnlEYXRhKGRhdGE6YW55KTogR2VuZXJhbENvbmZpZ3VyYXRpb24ge1xuICAgICAgICBpZighZGF0YSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSBbXTtcbiAgICAgICAgZm9yKHZhciBwYXJhbWV0ZXIgb2YgZGF0YS5wYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICBwYXJhbWV0ZXJzLnB1c2goUGFyYW1ldGVyLmluaXRCeURhdGEocGFyYW1ldGVyKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBHZW5lcmFsQ29uZmlndXJhdGlvbihkYXRhLmlkLCBkYXRhLm5hbWUsIHBhcmFtZXRlcnMpO1xuICAgIH1cblxuICAgIGdldFBhcmFtZXRlcjogKGtleTpzdHJpbmcpID0+IFBhcmFtZXRlckludGVyZmFjZTtcbiAgICBnZXRQYXJhbWV0ZXJWYWx1ZTogKGtleTpzdHJpbmcpID0+IGFueTtcbn1cblxuYXBwbHlNaXhpbnMoR2VuZXJhbENvbmZpZ3VyYXRpb24sIFtQYXJhbWV0ZXJpemFibGVdKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

/***/ }),
/* 28 */
/***/ (function(module, exports) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var Parameterizable = (function () {
	    function Parameterizable() {
	    }
	    Parameterizable.prototype.getParameter = function (key) {
	        var filteredArray = this.parameters.filter(function (parameter) { return parameter.key === key; });
	        if (filteredArray.length > 0) {
	            return filteredArray[0];
	        }
	        else {
	            return null;
	        }
	    };
	    Parameterizable.prototype.getParameterValue = function (key) {
	        var parameter = this.getParameter(key);
	        if (parameter === null || !parameter.hasOwnProperty('value')) {
	            return null;
	        }
	        else {
	            return parameter.value;
	        }
	    };
	    return Parameterizable;
	}());
	exports.Parameterizable = Parameterizable;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvbWl4aW5zL3BhcmFtZXRlcml6YWJsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQW1CQTtJQUFBO0lBZ0NBLENBQUM7SUF2Qkcsc0NBQVksR0FBWixVQUFhLEdBQVU7UUFDbkIsSUFBSSxhQUFhLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsVUFBQSxTQUFTLElBQUksT0FBQSxTQUFTLENBQUMsR0FBRyxLQUFLLEdBQUcsRUFBckIsQ0FBcUIsQ0FBQyxDQUFDO1FBQy9FLEVBQUUsQ0FBQSxDQUFDLGFBQWEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxQixNQUFNLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVCLENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNKLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztJQUNMLENBQUM7SUFRRCwyQ0FBaUIsR0FBakIsVUFBa0IsR0FBVTtRQUN4QixJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZDLEVBQUUsQ0FBQSxDQUFDLFNBQVMsS0FBSyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxRCxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNKLE1BQU0sQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFBO1FBQzFCLENBQUM7SUFDTCxDQUFDO0lBQ0wsc0JBQUM7QUFBRCxDQWhDQSxBQWdDQyxJQUFBO0FBaENZLDBDQUFlIiwiZmlsZSI6ImFwcC9tb2RlbHMvbWl4aW5zL3BhcmFtZXRlcml6YWJsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7UGFyYW1ldGVySW50ZXJmYWNlfSBmcm9tICcuLi9wYXJhbWV0ZXJzL3BhcmFtZXRlcl9pbnRlcmZhY2UnO1xuXG5cbi8qKlxuICogQ2xhc3MgdG8gYmUgdXNlZCBhcyBhIG1peGluIGluIGNsYXNzZXMgdGhhdCBjb250YWluIGFuIGFycmF5IG9mIHBhcmFtZXRlcnMuIFVzYWdlIGFzIGZvbGxvd3M6XG4gKlxuICogY2xhc3MgRXhhbXBsZSBpbXBsZW1lbnRzIFBhcmFtZXRlcml6YWJsZSB7XG4gKiAgICAgIHBhcmFtZXRlcnM6UGFyYW1ldGVySW50ZXJmYWNlW107XG4gKlxuICogICAgICAuLi5cbiAqXG4gKiAgICAgIGdldFBhcmFtZXRlcjogKGtleTpzdHJpbmcpID0+IFBhcmFtZXRlckludGVyZmFjZTtcbiAqICAgICAgZ2V0UGFyYW1ldGVyVmFsdWU6IChrZXk6c3RyaW5nKSA9PiBhbnk7XG4gKiB9XG4gKlxuICogYXBwbHlNaXhpbnMoRXhhbXBsZSwgW1BhcmFtZXRlcml6YWJsZV0pO1xuICpcbiAqIFRoaXMgbWFrZXMgdGhlIGltcGxlbWVudGF0aW9uIGF2YWlsYWJsZSBpbiB0aGUgRXhhbXBsZSBjbGFzcywgdGhlcmVmb3JlIGl0IHByb3ZpZGVzIGEga2luZCBvZiBtaXhpbi5cbiAqL1xuZXhwb3J0IGNsYXNzIFBhcmFtZXRlcml6YWJsZSB7XG4gICAgcGFyYW1ldGVyczogUGFyYW1ldGVySW50ZXJmYWNlW107XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ga2V5XG4gICAgICogIFRoZSBrZXkgb2YgdGhlIGtleSB2YWx1ZSBwYWlyIG9mIGEgcGFyYW1ldGVyIG9iamVjdFxuICAgICAqIEByZXR1cm5zIHthbnl9XG4gICAgICogIFRoZSBwYXJhbWV0ZXIgb2JqZWN0LCBjb250YWluaW5nIHRoZSB2YWx1ZSBhbmQgZnVydGhlciBkYXRhXG4gICAgICovXG4gICAgZ2V0UGFyYW1ldGVyKGtleTpzdHJpbmcpOiBQYXJhbWV0ZXJJbnRlcmZhY2Uge1xuICAgICAgICB2YXIgZmlsdGVyZWRBcnJheSA9IHRoaXMucGFyYW1ldGVycy5maWx0ZXIocGFyYW1ldGVyID0+IHBhcmFtZXRlci5rZXkgPT09IGtleSk7XG4gICAgICAgIGlmKGZpbHRlcmVkQXJyYXkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZpbHRlcmVkQXJyYXlbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSBrZXlcbiAgICAgKiAgVGhlIGtleSBvZiB0aGUga2V5IHZhbHVlIHBhaXIgb2YgYSBwYXJhbWV0ZXIgb2JqZWN0XG4gICAgICogQHJldHVybnMgYW55XG4gICAgICogIFRoZSBwYXJhbWV0ZXIgdmFsdWUgb3IgbnVsbFxuICAgICAqL1xuICAgIGdldFBhcmFtZXRlclZhbHVlKGtleTpzdHJpbmcpOiBhbnkge1xuICAgICAgICB2YXIgcGFyYW1ldGVyID0gdGhpcy5nZXRQYXJhbWV0ZXIoa2V5KTtcbiAgICAgICAgaWYocGFyYW1ldGVyID09PSBudWxsIHx8ICFwYXJhbWV0ZXIuaGFzT3duUHJvcGVydHkoJ3ZhbHVlJykpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmFtZXRlci52YWx1ZVxuICAgICAgICB9XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/***/ }),
/* 29 */
/***/ (function(module, exports) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	function applyMixins(derivedCtor, baseCtors) {
	    baseCtors.forEach(function (baseCtor) {
	        Object.getOwnPropertyNames(baseCtor.prototype).forEach(function (name) {
	            derivedCtor.prototype[name] = baseCtor.prototype[name];
	        });
	    });
	}
	exports.applyMixins = applyMixins;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9qcy9oZWxwZXJzL21peGluX2hlbHBlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQU1BLHFCQUE0QixXQUFnQixFQUFFLFNBQWdCO0lBQzFELFNBQVMsQ0FBQyxPQUFPLENBQUMsVUFBQSxRQUFRO1FBQ3RCLE1BQU0sQ0FBQyxtQkFBbUIsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsT0FBTyxDQUFDLFVBQUEsSUFBSTtZQUN2RCxXQUFXLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxHQUFHLFFBQVEsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDM0QsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDLENBQUMsQ0FBQztBQUNQLENBQUM7QUFORCxrQ0FNQyIsImZpbGUiOiJhcHAvanMvaGVscGVycy9taXhpbl9oZWxwZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEEgaGVscGVyIGZ1bmN0aW9uIHRvIHJlYWxpemUgbWl4aW5zLlxuICpcbiAqIEBwYXJhbSBkZXJpdmVkQ3RvciBUaGUgY2xhc3MgdGhhdCBzaG91bGQgZ2V0IGV4dGVuZGVkLlxuICogQHBhcmFtIGJhc2VDdG9ycyBUaGUgYXJyYXkgb2YgbWl4aW5zIHRoYXQgc2hvdWxkIGdldCBhcHBsaWVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwbHlNaXhpbnMoZGVyaXZlZEN0b3I6IGFueSwgYmFzZUN0b3JzOiBhbnlbXSkge1xuICAgIGJhc2VDdG9ycy5mb3JFYWNoKGJhc2VDdG9yID0+IHtcbiAgICAgICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoYmFzZUN0b3IucHJvdG90eXBlKS5mb3JFYWNoKG5hbWUgPT4ge1xuICAgICAgICAgICAgZGVyaXZlZEN0b3IucHJvdG90eXBlW25hbWVdID0gYmFzZUN0b3IucHJvdG90eXBlW25hbWVdO1xuICAgICAgICB9KTtcbiAgICB9KTtcbn0iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

/***/ }),
/* 30 */
/***/ (function(module, exports) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var Parameter = (function () {
	    function Parameter(id, key, value) {
	        this.id = id;
	        this.key = key;
	        this.value = value;
	    }
	    Parameter.initByData = function (data) {
	        return new Parameter(data.id, data.key, data.value);
	    };
	    return Parameter;
	}());
	exports.Parameter = Parameter;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvcGFyYW1ldGVycy9wYXJhbWV0ZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFHQTtJQUtJLG1CQUFZLEVBQVMsRUFBRSxHQUFVLEVBQUUsS0FBUztRQUN4QyxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO1FBQ2YsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7SUFDdkIsQ0FBQztJQUVNLG9CQUFVLEdBQWpCLFVBQWtCLElBQVE7UUFDdEIsTUFBTSxDQUFDLElBQUksU0FBUyxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUVMLGdCQUFDO0FBQUQsQ0FmQSxBQWVDLElBQUE7QUFmWSw4QkFBUyIsImZpbGUiOiJhcHAvbW9kZWxzL3BhcmFtZXRlcnMvcGFyYW1ldGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtQYXJhbWV0ZXJJbnRlcmZhY2V9IGZyb20gJy4vcGFyYW1ldGVyX2ludGVyZmFjZSc7XG5cblxuZXhwb3J0IGNsYXNzIFBhcmFtZXRlciBpbXBsZW1lbnRzIFBhcmFtZXRlckludGVyZmFjZSB7XG4gICAgaWQ6bnVtYmVyO1xuICAgIGtleTpzdHJpbmc7XG4gICAgdmFsdWU6YW55O1xuXG4gICAgY29uc3RydWN0b3IoaWQ6bnVtYmVyLCBrZXk6c3RyaW5nLCB2YWx1ZTphbnkpIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLmtleSA9IGtleTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHN0YXRpYyBpbml0QnlEYXRhKGRhdGE6YW55KSB7XG4gICAgICAgIHJldHVybiBuZXcgUGFyYW1ldGVyKGRhdGEuaWQsIGRhdGEua2V5LCBkYXRhLnZhbHVlKTtcbiAgICB9XG5cbn1cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var config_1 = __webpack_require__(21);
	var push_configuration_1 = __webpack_require__(32);
	var mechanism_factory_1 = __webpack_require__(34);
	var general_configuration_1 = __webpack_require__(27);
	var pull_configuration_1 = __webpack_require__(45);
	var element_specific_push_configuration_1 = __webpack_require__(46);
	var ConfigurationFactory = (function () {
	    function ConfigurationFactory() {
	    }
	    ConfigurationFactory.createByData = function (data) {
	        if (!data.hasOwnProperty('type')) {
	            return null;
	        }
	        var generalConfiguration = general_configuration_1.GeneralConfiguration.initByData(data.generalConfiguration);
	        var mechanisms = [];
	        for (var _i = 0, _a = data.mechanisms; _i < _a.length; _i++) {
	            var mechanism = _a[_i];
	            var mechanismObject = mechanism_factory_1.MechanismFactory.createByData(mechanism);
	            if (mechanismObject !== null) {
	                mechanisms.push(mechanismObject);
	            }
	        }
	        if (data.type === config_1.configurationTypes.push) {
	            return new push_configuration_1.PushConfiguration(data.id, mechanisms, generalConfiguration);
	        }
	        else if (data.type === config_1.configurationTypes.pull) {
	            return new pull_configuration_1.PullConfiguration(data.id, mechanisms, generalConfiguration);
	        }
	        else if (data.type === config_1.configurationTypes.elementSpecificPush) {
	            return new element_specific_push_configuration_1.ElementSpecificPushConfiguration(data.id, mechanisms, generalConfiguration);
	        }
	        else {
	            return null;
	        }
	    };
	    return ConfigurationFactory;
	}());
	exports.ConfigurationFactory = ConfigurationFactory;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvY29uZmlndXJhdGlvbnMvY29uZmlndXJhdGlvbl9mYWN0b3J5LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsMENBQW1EO0FBQ25ELDJEQUF1RDtBQUN2RCxxRUFBaUU7QUFDakUsaUVBQTZEO0FBQzdELDJEQUF1RDtBQUd2RCw2RkFBdUY7QUFHdkY7SUFBQTtJQStCQSxDQUFDO0lBdkJVLGlDQUFZLEdBQW5CLFVBQW9CLElBQVE7UUFDeEIsRUFBRSxDQUFBLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM5QixNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFDRCxJQUFJLG9CQUFvQixHQUF3Qiw0Q0FBb0IsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLG9CQUFvQixDQUFDLENBQUM7UUFDM0csSUFBSSxVQUFVLEdBQUcsRUFBRSxDQUFDO1FBQ3BCLEdBQUcsQ0FBQSxDQUFrQixVQUFlLEVBQWYsS0FBQSxJQUFJLENBQUMsVUFBVSxFQUFmLGNBQWUsRUFBZixJQUFlO1lBQWhDLElBQUksU0FBUyxTQUFBO1lBQ2IsSUFBSSxlQUFlLEdBQWEsb0NBQWdCLENBQUMsWUFBWSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1lBQ3pFLEVBQUUsQ0FBQSxDQUFDLGVBQWUsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO2dCQUMxQixVQUFVLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1lBQ3JDLENBQUM7U0FDSjtRQUVELEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssMkJBQWtCLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztZQUN2QyxNQUFNLENBQUMsSUFBSSxzQ0FBaUIsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLFVBQVUsRUFBRSxvQkFBb0IsQ0FBQyxDQUFDO1FBQzVFLENBQUM7UUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSywyQkFBa0IsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQy9DLE1BQU0sQ0FBQyxJQUFJLHNDQUFpQixDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsVUFBVSxFQUFFLG9CQUFvQixDQUFDLENBQUM7UUFDNUUsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLDJCQUFrQixDQUFDLG1CQUFtQixDQUFDLENBQUMsQ0FBQztZQUM5RCxNQUFNLENBQUMsSUFBSSxzRUFBZ0MsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLFVBQVUsRUFBRSxvQkFBb0IsQ0FBQyxDQUFDO1FBQzNGLENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNKLE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztJQUNMLENBQUM7SUFDTCwyQkFBQztBQUFELENBL0JBLEFBK0JDLElBQUE7QUEvQlksb0RBQW9CIiwiZmlsZSI6ImFwcC9tb2RlbHMvY29uZmlndXJhdGlvbnMvY29uZmlndXJhdGlvbl9mYWN0b3J5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtjb25maWd1cmF0aW9uVHlwZXN9IGZyb20gJy4uLy4uL2pzL2NvbmZpZyc7XG5pbXBvcnQge1B1c2hDb25maWd1cmF0aW9ufSBmcm9tICcuL3B1c2hfY29uZmlndXJhdGlvbic7XG5pbXBvcnQge01lY2hhbmlzbUZhY3Rvcnl9IGZyb20gJy4uL21lY2hhbmlzbXMvbWVjaGFuaXNtX2ZhY3RvcnknO1xuaW1wb3J0IHtHZW5lcmFsQ29uZmlndXJhdGlvbn0gZnJvbSAnLi9nZW5lcmFsX2NvbmZpZ3VyYXRpb24nO1xuaW1wb3J0IHtQdWxsQ29uZmlndXJhdGlvbn0gZnJvbSAnLi9wdWxsX2NvbmZpZ3VyYXRpb24nO1xuaW1wb3J0IHtNZWNoYW5pc219IGZyb20gJy4uL21lY2hhbmlzbXMvbWVjaGFuaXNtJztcbmltcG9ydCB7Q29uZmlndXJhdGlvbkludGVyZmFjZX0gZnJvbSAnLi9jb25maWd1cmF0aW9uX2ludGVyZmFjZSc7XG5pbXBvcnQge0VsZW1lbnRTcGVjaWZpY1B1c2hDb25maWd1cmF0aW9ufSBmcm9tICcuL2VsZW1lbnRfc3BlY2lmaWNfcHVzaF9jb25maWd1cmF0aW9uJztcblxuXG5leHBvcnQgY2xhc3MgQ29uZmlndXJhdGlvbkZhY3Rvcnkge1xuICAgIC8qKlxuICAgICAqIEZhY3RvcnkgdG8gY3JlYXRlIGNvcnJlc3BvbmRpbmcgY29uZmlndXJhdGlvbiB0eXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGRhdGFcbiAgICAgKiBAcmV0dXJucyBDb25maWd1cmF0aW9uSW50ZXJmYWNlXG4gICAgICogIFRoZSBtZWNoYW5pc20gb2JqZWN0IHBhcnNlZCBmcm9tIGpzb24uXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZUJ5RGF0YShkYXRhOmFueSk6IFB1c2hDb25maWd1cmF0aW9uIHwgUHVsbENvbmZpZ3VyYXRpb24ge1xuICAgICAgICBpZighZGF0YS5oYXNPd25Qcm9wZXJ0eSgndHlwZScpKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZ2VuZXJhbENvbmZpZ3VyYXRpb246R2VuZXJhbENvbmZpZ3VyYXRpb24gPSBHZW5lcmFsQ29uZmlndXJhdGlvbi5pbml0QnlEYXRhKGRhdGEuZ2VuZXJhbENvbmZpZ3VyYXRpb24pO1xuICAgICAgICB2YXIgbWVjaGFuaXNtcyA9IFtdO1xuICAgICAgICBmb3IodmFyIG1lY2hhbmlzbSBvZiBkYXRhLm1lY2hhbmlzbXMpIHtcbiAgICAgICAgICAgIHZhciBtZWNoYW5pc21PYmplY3Q6TWVjaGFuaXNtID0gTWVjaGFuaXNtRmFjdG9yeS5jcmVhdGVCeURhdGEobWVjaGFuaXNtKTtcbiAgICAgICAgICAgIGlmKG1lY2hhbmlzbU9iamVjdCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIG1lY2hhbmlzbXMucHVzaChtZWNoYW5pc21PYmplY3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYoZGF0YS50eXBlID09PSBjb25maWd1cmF0aW9uVHlwZXMucHVzaCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQdXNoQ29uZmlndXJhdGlvbihkYXRhLmlkLCBtZWNoYW5pc21zLCBnZW5lcmFsQ29uZmlndXJhdGlvbik7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBjb25maWd1cmF0aW9uVHlwZXMucHVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQdWxsQ29uZmlndXJhdGlvbihkYXRhLmlkLCBtZWNoYW5pc21zLCBnZW5lcmFsQ29uZmlndXJhdGlvbik7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBjb25maWd1cmF0aW9uVHlwZXMuZWxlbWVudFNwZWNpZmljUHVzaCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBFbGVtZW50U3BlY2lmaWNQdXNoQ29uZmlndXJhdGlvbihkYXRhLmlkLCBtZWNoYW5pc21zLCBnZW5lcmFsQ29uZmlndXJhdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	var __extends = (this && this.__extends) || (function () {
	    var extendStatics = Object.setPrototypeOf ||
	        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
	        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
	    return function (d, b) {
	        extendStatics(d, b);
	        function __() { this.constructor = d; }
	        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
	    };
	})();
	Object.defineProperty(exports, "__esModule", { value: true });
	var configuration_1 = __webpack_require__(33);
	var config_1 = __webpack_require__(21);
	var PushConfiguration = (function (_super) {
	    __extends(PushConfiguration, _super);
	    function PushConfiguration(id, mechanisms, generalConfiguration) {
	        var _this = _super.call(this, id, mechanisms, config_1.configurationTypes.push, generalConfiguration) || this;
	        _this.dialogId = 'pushConfiguration';
	        return _this;
	    }
	    PushConfiguration.prototype.getContext = function () {
	        return _super.prototype.getContext.call(this);
	    };
	    return PushConfiguration;
	}(configuration_1.Configuration));
	exports.PushConfiguration = PushConfiguration;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvY29uZmlndXJhdGlvbnMvcHVzaF9jb25maWd1cmF0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUNBLGlEQUE4QztBQUU5QywwQ0FBbUQ7QUFNbkQ7SUFBdUMscUNBQWE7SUFFaEQsMkJBQVksRUFBUyxFQUFFLFVBQXNCLEVBQUUsb0JBQXlDO1FBQXhGLFlBQ0ksa0JBQU0sRUFBRSxFQUFFLFVBQVUsRUFBRSwyQkFBa0IsQ0FBQyxJQUFJLEVBQUUsb0JBQW9CLENBQUMsU0FFdkU7UUFERyxLQUFJLENBQUMsUUFBUSxHQUFHLG1CQUFtQixDQUFDOztJQUN4QyxDQUFDO0lBS0Qsc0NBQVUsR0FBVjtRQUNJLE1BQU0sQ0FBQyxpQkFBTSxVQUFVLFdBQUUsQ0FBQztJQUM5QixDQUFDO0lBQ0wsd0JBQUM7QUFBRCxDQWJBLEFBYUMsQ0Fic0MsNkJBQWEsR0FhbkQ7QUFiWSw4Q0FBaUIiLCJmaWxlIjoiYXBwL21vZGVscy9jb25maWd1cmF0aW9ucy9wdXNoX2NvbmZpZ3VyYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge01lY2hhbmlzbX0gZnJvbSAnLi4vbWVjaGFuaXNtcy9tZWNoYW5pc20nO1xuaW1wb3J0IHtDb25maWd1cmF0aW9ufSBmcm9tICcuL2NvbmZpZ3VyYXRpb24nO1xuaW1wb3J0IHtHZW5lcmFsQ29uZmlndXJhdGlvbn0gZnJvbSAnLi9nZW5lcmFsX2NvbmZpZ3VyYXRpb24nO1xuaW1wb3J0IHtjb25maWd1cmF0aW9uVHlwZXN9IGZyb20gJy4uLy4uL2pzL2NvbmZpZyc7XG5cblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIG9iamVjdCBmb3IgdGhlIGNhc2Ugd2hlbiB0aGUgdXNlciBhY3RpdmVseSBpbnZva2VzIHRoZSBmZWVkYmFjayBtZWNoYW5pc21zIGluIG9yZGVyIHRvIGdpdmUgZmVlZGJhY2suXG4gKi9cbmV4cG9ydCBjbGFzcyBQdXNoQ29uZmlndXJhdGlvbiBleHRlbmRzIENvbmZpZ3VyYXRpb24ge1xuXG4gICAgY29uc3RydWN0b3IoaWQ6bnVtYmVyLCBtZWNoYW5pc21zOk1lY2hhbmlzbVtdLCBnZW5lcmFsQ29uZmlndXJhdGlvbjpHZW5lcmFsQ29uZmlndXJhdGlvbikge1xuICAgICAgICBzdXBlcihpZCwgbWVjaGFuaXNtcywgY29uZmlndXJhdGlvblR5cGVzLnB1c2gsIGdlbmVyYWxDb25maWd1cmF0aW9uKTtcbiAgICAgICAgdGhpcy5kaWFsb2dJZCA9ICdwdXNoQ29uZmlndXJhdGlvbic7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29udGV4dCBmb3IgdGVtcGxhdGVzIHdpdGhvdXQgdGhlIGNvbnRleHRzIG9mIHRoZSBtZWNoYW5pc21zLlxuICAgICAqL1xuICAgIGdldENvbnRleHQoKTphbnkge1xuICAgICAgICByZXR1cm4gc3VwZXIuZ2V0Q29udGV4dCgpO1xuICAgIH1cbn1cblxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/***/ }),
/* 33 */
/***/ (function(module, exports) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var Configuration = (function () {
	    function Configuration(id, mechanisms, type, generalConfiguration) {
	        this.id = id;
	        this.mechanisms = mechanisms;
	        this.type = type;
	        this.generalConfiguration = generalConfiguration;
	    }
	    Configuration.prototype.getMechanismConfig = function (mechanismTypeConstant) {
	        var filteredArray = this.mechanisms.filter(function (mechanism) { return mechanism.type === mechanismTypeConstant; });
	        if (filteredArray.length > 0) {
	            return filteredArray;
	        }
	        else {
	            return [];
	        }
	    };
	    Configuration.prototype.getActiveMechanismConfig = function (mechanismTypeConstant) {
	        var filteredArray = this.mechanisms.filter(function (mechanism) { return mechanism.active && mechanism.type === mechanismTypeConstant; });
	        if (filteredArray.length > 0) {
	            return filteredArray;
	        }
	        else {
	            return [];
	        }
	    };
	    Configuration.prototype.getMechanismsSorted = function () {
	        return this.mechanisms.sort(function (a, b) {
	            return (a.order > b.order) ? 1 : ((b.order > a.order) ? -1 : 0);
	        });
	    };
	    Configuration.prototype.getContext = function () {
	        var context = {
	            dialogId: this.dialogId,
	            mechanisms: []
	        };
	        for (var _i = 0, _a = this.getMechanismsSorted(); _i < _a.length; _i++) {
	            var mechanism = _a[_i];
	            var mechanismContext = jQuery.extend({}, mechanism.defaultContext(), mechanism.getContext());
	            context.mechanisms.push(mechanismContext);
	        }
	        return context;
	    };
	    return Configuration;
	}());
	exports.Configuration = Configuration;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvY29uZmlndXJhdGlvbnMvY29uZmlndXJhdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUtBO0lBT0ksdUJBQVksRUFBUyxFQUFFLFVBQXNCLEVBQUUsSUFBVyxFQUFFLG9CQUF5QztRQUNqRyxJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxVQUFVLEdBQUcsVUFBVSxDQUFDO1FBQzdCLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO1FBQ2pCLElBQUksQ0FBQyxvQkFBb0IsR0FBRyxvQkFBb0IsQ0FBQztJQUNyRCxDQUFDO0lBUUQsMENBQWtCLEdBQWxCLFVBQW1CLHFCQUE0QjtRQUMzQyxJQUFJLGFBQWEsR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLE1BQU0sQ0FBQyxVQUFBLFNBQVMsSUFBSSxPQUFBLFNBQVMsQ0FBQyxJQUFJLEtBQUsscUJBQXFCLEVBQXhDLENBQXdDLENBQUMsQ0FBQztRQUNsRyxFQUFFLENBQUEsQ0FBQyxhQUFhLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDMUIsTUFBTSxDQUFDLGFBQWEsQ0FBQztRQUN6QixDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDSixNQUFNLENBQUMsRUFBRSxDQUFDO1FBQ2QsQ0FBQztJQUNMLENBQUM7SUFFRCxnREFBd0IsR0FBeEIsVUFBeUIscUJBQTRCO1FBQ2pELElBQUksYUFBYSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxDQUFDLFVBQUEsU0FBUyxJQUFJLE9BQUEsU0FBUyxDQUFDLE1BQU0sSUFBSSxTQUFTLENBQUMsSUFBSSxLQUFLLHFCQUFxQixFQUE1RCxDQUE0RCxDQUFDLENBQUM7UUFDdEgsRUFBRSxDQUFBLENBQUMsYUFBYSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzFCLE1BQU0sQ0FBQyxhQUFhLENBQUM7UUFDekIsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ0osTUFBTSxDQUFDLEVBQUUsQ0FBQztRQUNkLENBQUM7SUFDTCxDQUFDO0lBRUQsMkNBQW1CLEdBQW5CO1FBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFVBQVMsQ0FBQyxFQUFDLENBQUM7WUFDcEMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUFBLENBQUMsQ0FDcEUsQ0FBQztJQUNOLENBQUM7SUFNRCxrQ0FBVSxHQUFWO1FBQ0ksSUFBSSxPQUFPLEdBQUc7WUFDVixRQUFRLEVBQUUsSUFBSSxDQUFDLFFBQVE7WUFDdkIsVUFBVSxFQUFFLEVBQUU7U0FDakIsQ0FBQztRQUVGLEdBQUcsQ0FBQSxDQUFrQixVQUEwQixFQUExQixLQUFBLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxFQUExQixjQUEwQixFQUExQixJQUEwQjtZQUEzQyxJQUFJLFNBQVMsU0FBQTtZQUNiLElBQUksZ0JBQWdCLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsU0FBUyxDQUFDLGNBQWMsRUFBRSxFQUFFLFNBQVMsQ0FBQyxVQUFVLEVBQUUsQ0FBQyxDQUFDO1lBQzdGLE9BQU8sQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7U0FDN0M7UUFFRCxNQUFNLENBQUMsT0FBTyxDQUFDO0lBQ25CLENBQUM7SUFHTCxvQkFBQztBQUFELENBL0RBLEFBK0RDLElBQUE7QUEvRHFCLHNDQUFhIiwiZmlsZSI6ImFwcC9tb2RlbHMvY29uZmlndXJhdGlvbnMvY29uZmlndXJhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29uZmlndXJhdGlvbkludGVyZmFjZX0gZnJvbSAnLi9jb25maWd1cmF0aW9uX2ludGVyZmFjZSc7XG5pbXBvcnQge01lY2hhbmlzbX0gZnJvbSAnLi4vbWVjaGFuaXNtcy9tZWNoYW5pc20nO1xuaW1wb3J0IHtHZW5lcmFsQ29uZmlndXJhdGlvbn0gZnJvbSAnLi9nZW5lcmFsX2NvbmZpZ3VyYXRpb24nO1xuXG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDb25maWd1cmF0aW9uIGltcGxlbWVudHMgQ29uZmlndXJhdGlvbkludGVyZmFjZSB7XG4gICAgaWQ6bnVtYmVyO1xuICAgIG1lY2hhbmlzbXM6TWVjaGFuaXNtW107XG4gICAgdHlwZTpzdHJpbmc7XG4gICAgZ2VuZXJhbENvbmZpZ3VyYXRpb246R2VuZXJhbENvbmZpZ3VyYXRpb247XG4gICAgZGlhbG9nSWQ6c3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IoaWQ6bnVtYmVyLCBtZWNoYW5pc21zOk1lY2hhbmlzbVtdLCB0eXBlOnN0cmluZywgZ2VuZXJhbENvbmZpZ3VyYXRpb246R2VuZXJhbENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLm1lY2hhbmlzbXMgPSBtZWNoYW5pc21zO1xuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgICAgICB0aGlzLmdlbmVyYWxDb25maWd1cmF0aW9uID0gZ2VuZXJhbENvbmZpZ3VyYXRpb247XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIG1lY2hhbmlzbVR5cGVDb25zdGFudFxuICAgICAqICBUaGUgSUQgb2YgdGhlIG1lY2hhbmlzbSB0byBnZXQgY29uZmlnIG9mXG4gICAgICogQHJldHVybnMgTWVjaGFuaXNtc1xuICAgICAqICBUaGUgbWF0Y2hlZCBtZWNoYW5pc21zXG4gICAgICovXG4gICAgZ2V0TWVjaGFuaXNtQ29uZmlnKG1lY2hhbmlzbVR5cGVDb25zdGFudDpzdHJpbmcpOiBNZWNoYW5pc21bXSB7XG4gICAgICAgIGxldCBmaWx0ZXJlZEFycmF5ID0gdGhpcy5tZWNoYW5pc21zLmZpbHRlcihtZWNoYW5pc20gPT4gbWVjaGFuaXNtLnR5cGUgPT09IG1lY2hhbmlzbVR5cGVDb25zdGFudCk7XG4gICAgICAgIGlmKGZpbHRlcmVkQXJyYXkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIGZpbHRlcmVkQXJyYXk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRBY3RpdmVNZWNoYW5pc21Db25maWcobWVjaGFuaXNtVHlwZUNvbnN0YW50OnN0cmluZyk6IE1lY2hhbmlzbVtdIHtcbiAgICAgICAgbGV0IGZpbHRlcmVkQXJyYXkgPSB0aGlzLm1lY2hhbmlzbXMuZmlsdGVyKG1lY2hhbmlzbSA9PiBtZWNoYW5pc20uYWN0aXZlICYmIG1lY2hhbmlzbS50eXBlID09PSBtZWNoYW5pc21UeXBlQ29uc3RhbnQpO1xuICAgICAgICBpZihmaWx0ZXJlZEFycmF5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmaWx0ZXJlZEFycmF5O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0TWVjaGFuaXNtc1NvcnRlZCgpOiBNZWNoYW5pc21bXSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lY2hhbmlzbXMuc29ydChmdW5jdGlvbihhLGIpIHtcbiAgICAgICAgICAgIHJldHVybiAoYS5vcmRlciA+IGIub3JkZXIpID8gMSA6ICgoYi5vcmRlciA+IGEub3JkZXIpID8gLTEgOiAwKTt9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHJldHVybnMgYW55XG4gICAgICogIENvbnRleHQgb2JqZWN0IHRoYXQgY29udGFpbnMgYWxsIHRoZSBkYXRhIHRvIGNvbmZpZ3VyZSB0aGUgZmVlZGJhY2sgbWVjaGFuaXNtIGluIHRoZSB2aWV3LlxuICAgICAqL1xuICAgIGdldENvbnRleHQoKTphbnkge1xuICAgICAgICBsZXQgY29udGV4dCA9IHtcbiAgICAgICAgICAgIGRpYWxvZ0lkOiB0aGlzLmRpYWxvZ0lkLFxuICAgICAgICAgICAgbWVjaGFuaXNtczogW11cbiAgICAgICAgfTtcblxuICAgICAgICBmb3IobGV0IG1lY2hhbmlzbSBvZiB0aGlzLmdldE1lY2hhbmlzbXNTb3J0ZWQoKSkge1xuICAgICAgICAgICAgbGV0IG1lY2hhbmlzbUNvbnRleHQgPSBqUXVlcnkuZXh0ZW5kKHt9LCBtZWNoYW5pc20uZGVmYXVsdENvbnRleHQoKSwgbWVjaGFuaXNtLmdldENvbnRleHQoKSk7XG4gICAgICAgICAgICBjb250ZXh0Lm1lY2hhbmlzbXMucHVzaChtZWNoYW5pc21Db250ZXh0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH1cblxuXG59Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var rating_mechanism_1 = __webpack_require__(35);
	var config_1 = __webpack_require__(21);
	var screenshot_mechanism_1 = __webpack_require__(37);
	var parameter_1 = __webpack_require__(30);
	var category_mechanism_1 = __webpack_require__(38);
	var text_mechanism_1 = __webpack_require__(40);
	var audio_mechanism_1 = __webpack_require__(42);
	var attachment_mechanism_1 = __webpack_require__(43);
	var info_mechanism_1 = __webpack_require__(44);
	var MechanismFactory = (function () {
	    function MechanismFactory() {
	    }
	    MechanismFactory.createByData = function (data) {
	        if (!data.hasOwnProperty('type')) {
	            return null;
	        }
	        var parameters = [];
	        for (var _i = 0, _a = data.parameters; _i < _a.length; _i++) {
	            var parameter = _a[_i];
	            parameters.push(parameter_1.Parameter.initByData(parameter));
	        }
	        if (data.type === config_1.mechanismTypes.ratingType) {
	            return new rating_mechanism_1.RatingMechanism(data.id, data.type, data.active, data.order, data.canBeActivated, parameters);
	        }
	        else if (data.type === config_1.mechanismTypes.screenshotType) {
	            return new screenshot_mechanism_1.ScreenshotMechanism(data.id, data.type, data.active, data.order, data.canBeActivated, parameters);
	        }
	        else if (data.type === config_1.mechanismTypes.categoryType) {
	            return new category_mechanism_1.CategoryMechanism(data.id, data.type, data.active, data.order, data.canBeActivated, parameters);
	        }
	        else if (data.type === config_1.mechanismTypes.textType) {
	            return new text_mechanism_1.TextMechanism(data.id, data.type, data.active, data.order, data.canBeActivated, parameters);
	        }
	        else if (data.type === config_1.mechanismTypes.audioType) {
	            return new audio_mechanism_1.AudioMechanism(data.id, data.type, data.active, data.order, data.canBeActivated, parameters);
	        }
	        else if (data.type === config_1.mechanismTypes.attachmentType) {
	            return new attachment_mechanism_1.AttachmentMechanism(data.id, data.type, data.active, data.order, data.canBeActivated, parameters);
	        }
	        else if (data.type === config_1.mechanismTypes.infoType) {
	            return new info_mechanism_1.InfoMechanism(data.id, data.type, data.active, data.order, data.canBeActivated, parameters);
	        }
	        else {
	            console.warn('This mechanism type is not supported by the mechanism factory: ' + data.type);
	            return null;
	        }
	    };
	    return MechanismFactory;
	}());
	exports.MechanismFactory = MechanismFactory;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvbWVjaGFuaXNtcy9tZWNoYW5pc21fZmFjdG9yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHVEQUFtRDtBQUVuRCwwQ0FBK0M7QUFDL0MsK0RBQTJEO0FBQzNELHFEQUFrRDtBQUNsRCwyREFBdUQ7QUFDdkQsbURBQStDO0FBQy9DLHFEQUFpRDtBQUNqRCwrREFBMkQ7QUFDM0QsbURBQStDO0FBRy9DO0lBQUE7SUFvQ0EsQ0FBQztJQTVCVSw2QkFBWSxHQUFuQixVQUFvQixJQUFRO1FBQ3hCLEVBQUUsQ0FBQSxDQUFDLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDOUIsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO1FBQ0QsSUFBSSxVQUFVLEdBQUcsRUFBRSxDQUFDO1FBQ3BCLEdBQUcsQ0FBQSxDQUFrQixVQUFlLEVBQWYsS0FBQSxJQUFJLENBQUMsVUFBVSxFQUFmLGNBQWUsRUFBZixJQUFlO1lBQWhDLElBQUksU0FBUyxTQUFBO1lBQ2IsVUFBVSxDQUFDLElBQUksQ0FBQyxxQkFBUyxDQUFDLFVBQVUsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO1NBQ3BEO1FBRUQsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyx1QkFBYyxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7WUFDekMsTUFBTSxDQUFDLElBQUksa0NBQWUsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDN0csQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLHVCQUFjLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQztZQUNyRCxNQUFNLENBQUMsSUFBSSwwQ0FBbUIsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDakgsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLHVCQUFjLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQztZQUNuRCxNQUFNLENBQUMsSUFBSSxzQ0FBaUIsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDL0csQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxLQUFLLHVCQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUMvQyxNQUFNLENBQUMsSUFBSSw4QkFBYSxDQUFDLElBQUksQ0FBQyxFQUFFLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLGNBQWMsRUFBRSxVQUFVLENBQUMsQ0FBQztRQUMzRyxDQUFDO1FBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLEtBQUssdUJBQWMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBQ2hELE1BQU0sQ0FBQyxJQUFJLGdDQUFjLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsY0FBYyxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQzVHLENBQUM7UUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyx1QkFBYyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUM7WUFDckQsTUFBTSxDQUFDLElBQUksMENBQW1CLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLEtBQUssRUFBRSxJQUFJLENBQUMsY0FBYyxFQUFFLFVBQVUsQ0FBQyxDQUFDO1FBQ2pILENBQUM7UUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksS0FBSyx1QkFBYyxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDL0MsTUFBTSxDQUFDLElBQUksOEJBQWEsQ0FBQyxJQUFJLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU0sRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxjQUFjLEVBQUUsVUFBVSxDQUFDLENBQUM7UUFDM0csQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ0osT0FBTyxDQUFDLElBQUksQ0FBQyxpRUFBaUUsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDNUYsTUFBTSxDQUFDLElBQUksQ0FBQztRQUNoQixDQUFDO0lBQ0wsQ0FBQztJQUNMLHVCQUFDO0FBQUQsQ0FwQ0EsQUFvQ0MsSUFBQTtBQXBDWSw0Q0FBZ0IiLCJmaWxlIjoiYXBwL21vZGVscy9tZWNoYW5pc21zL21lY2hhbmlzbV9mYWN0b3J5LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSYXRpbmdNZWNoYW5pc219IGZyb20gJy4vcmF0aW5nX21lY2hhbmlzbSc7XG5pbXBvcnQge01lY2hhbmlzbX0gZnJvbSAnLi9tZWNoYW5pc20nO1xuaW1wb3J0IHttZWNoYW5pc21UeXBlc30gZnJvbSAnLi4vLi4vanMvY29uZmlnJztcbmltcG9ydCB7U2NyZWVuc2hvdE1lY2hhbmlzbX0gZnJvbSAnLi9zY3JlZW5zaG90X21lY2hhbmlzbSc7XG5pbXBvcnQge1BhcmFtZXRlcn0gZnJvbSAnLi4vcGFyYW1ldGVycy9wYXJhbWV0ZXInO1xuaW1wb3J0IHtDYXRlZ29yeU1lY2hhbmlzbX0gZnJvbSAnLi9jYXRlZ29yeV9tZWNoYW5pc20nO1xuaW1wb3J0IHtUZXh0TWVjaGFuaXNtfSBmcm9tICcuL3RleHRfbWVjaGFuaXNtJztcbmltcG9ydCB7QXVkaW9NZWNoYW5pc219IGZyb20gJy4vYXVkaW9fbWVjaGFuaXNtJztcbmltcG9ydCB7QXR0YWNobWVudE1lY2hhbmlzbX0gZnJvbSAnLi9hdHRhY2htZW50X21lY2hhbmlzbSc7XG5pbXBvcnQge0luZm9NZWNoYW5pc219IGZyb20gJy4vaW5mb19tZWNoYW5pc20nO1xuXG5cbmV4cG9ydCBjbGFzcyBNZWNoYW5pc21GYWN0b3J5IHtcbiAgICAvKipcbiAgICAgKiBGYWN0b3J5IHRvIGNyZWF0ZSBjb3JyZXNwb25kaW5nIG1lY2hhbmlzbSB0eXBlLlxuICAgICAqXG4gICAgICogQHBhcmFtIGRhdGFcbiAgICAgKiBAcmV0dXJucyBNZWNoYW5pc21cbiAgICAgKiAgVGhlIG1lY2hhbmlzbSBvYmplY3QgcGFyc2VkIGZyb20ganNvbi5cbiAgICAgKi9cbiAgICBzdGF0aWMgY3JlYXRlQnlEYXRhKGRhdGE6YW55KTogTWVjaGFuaXNtIHtcbiAgICAgICAgaWYoIWRhdGEuaGFzT3duUHJvcGVydHkoJ3R5cGUnKSkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhcmFtZXRlcnMgPSBbXTtcbiAgICAgICAgZm9yKHZhciBwYXJhbWV0ZXIgb2YgZGF0YS5wYXJhbWV0ZXJzKSB7XG4gICAgICAgICAgICBwYXJhbWV0ZXJzLnB1c2goUGFyYW1ldGVyLmluaXRCeURhdGEocGFyYW1ldGVyKSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZihkYXRhLnR5cGUgPT09IG1lY2hhbmlzbVR5cGVzLnJhdGluZ1R5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmF0aW5nTWVjaGFuaXNtKGRhdGEuaWQsIGRhdGEudHlwZSwgZGF0YS5hY3RpdmUsIGRhdGEub3JkZXIsIGRhdGEuY2FuQmVBY3RpdmF0ZWQsIHBhcmFtZXRlcnMpO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gbWVjaGFuaXNtVHlwZXMuc2NyZWVuc2hvdFR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgU2NyZWVuc2hvdE1lY2hhbmlzbShkYXRhLmlkLCBkYXRhLnR5cGUsIGRhdGEuYWN0aXZlLCBkYXRhLm9yZGVyLCBkYXRhLmNhbkJlQWN0aXZhdGVkLCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09IG1lY2hhbmlzbVR5cGVzLmNhdGVnb3J5VHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBDYXRlZ29yeU1lY2hhbmlzbShkYXRhLmlkLCBkYXRhLnR5cGUsIGRhdGEuYWN0aXZlLCBkYXRhLm9yZGVyLCBkYXRhLmNhbkJlQWN0aXZhdGVkLCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09IG1lY2hhbmlzbVR5cGVzLnRleHRUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFRleHRNZWNoYW5pc20oZGF0YS5pZCwgZGF0YS50eXBlLCBkYXRhLmFjdGl2ZSwgZGF0YS5vcmRlciwgZGF0YS5jYW5CZUFjdGl2YXRlZCwgcGFyYW1ldGVycyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBtZWNoYW5pc21UeXBlcy5hdWRpb1R5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQXVkaW9NZWNoYW5pc20oZGF0YS5pZCwgZGF0YS50eXBlLCBkYXRhLmFjdGl2ZSwgZGF0YS5vcmRlciwgZGF0YS5jYW5CZUFjdGl2YXRlZCwgcGFyYW1ldGVycyk7XG4gICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSBtZWNoYW5pc21UeXBlcy5hdHRhY2htZW50VHlwZSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBdHRhY2htZW50TWVjaGFuaXNtKGRhdGEuaWQsIGRhdGEudHlwZSwgZGF0YS5hY3RpdmUsIGRhdGEub3JkZXIsIGRhdGEuY2FuQmVBY3RpdmF0ZWQsIHBhcmFtZXRlcnMpO1xuICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gbWVjaGFuaXNtVHlwZXMuaW5mb1R5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW5mb01lY2hhbmlzbShkYXRhLmlkLCBkYXRhLnR5cGUsIGRhdGEuYWN0aXZlLCBkYXRhLm9yZGVyLCBkYXRhLmNhbkJlQWN0aXZhdGVkLCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignVGhpcyBtZWNoYW5pc20gdHlwZSBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBtZWNoYW5pc20gZmFjdG9yeTogJyArIGRhdGEudHlwZSk7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	var __extends = (this && this.__extends) || (function () {
	    var extendStatics = Object.setPrototypeOf ||
	        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
	        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
	    return function (d, b) {
	        extendStatics(d, b);
	        function __() { this.constructor = d; }
	        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
	    };
	})();
	Object.defineProperty(exports, "__esModule", { value: true });
	var mechanism_1 = __webpack_require__(36);
	var RatingMechanism = (function (_super) {
	    __extends(RatingMechanism, _super);
	    function RatingMechanism(id, type, active, order, canBeActivated, parameters) {
	        var _this = _super.call(this, id, type, active, order, canBeActivated, parameters) || this;
	        _this.initialRating = _this.getParameterValue('defaultRating');
	        _this.currentRatingValue = _this.getParameterValue('defaultRating');
	        return _this;
	    }
	    RatingMechanism.prototype.getRatingElementOptions = function () {
	        var ratingMechanismObject = this;
	        return {
	            starSize: 30,
	            baseUrl: true,
	            totalStars: this.getParameterValue('maxRating'),
	            initialRating: this.initialRating,
	            useFullStars: true,
	            disableAfterRate: false,
	            callback: function (currentRating, $el) {
	                var oldRatingValue = ratingMechanismObject.currentRatingValue;
	                ratingMechanismObject.currentRatingValue = currentRating;
	                if (oldRatingValue === currentRating) {
	                    $el.starRating('setRating', 0);
	                    ratingMechanismObject.currentRatingValue = 0;
	                }
	            }
	        };
	    };
	    RatingMechanism.prototype.getContext = function () {
	        return {
	            title: this.getParameterValue('title'),
	            boxWidth: this.getParameterValue('boxWidth') || '100%',
	            mandatory: this.getParameterValue('mandatory'),
	            mandatoryReminder: this.getParameterValue('mandatoryReminder'),
	            boxPaddingLeft: this.getParameterValue('boxPaddingLeft') || '0',
	            boxPaddingRight: this.getParameterValue('boxPaddingRight') || '20px'
	        };
	    };
	    return RatingMechanism;
	}(mechanism_1.Mechanism));
	exports.RatingMechanism = RatingMechanism;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvbWVjaGFuaXNtcy9yYXRpbmdfbWVjaGFuaXNtLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLHlDQUFzQztBQUl0QztJQUFxQyxtQ0FBUztJQUkxQyx5QkFBWSxFQUFVLEVBQUUsSUFBVyxFQUFFLE1BQWMsRUFBRSxLQUFhLEVBQUUsY0FBdUIsRUFBRSxVQUF1QjtRQUFwSCxZQUNJLGtCQUFNLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxjQUFjLEVBQUUsVUFBVSxDQUFDLFNBRzdEO1FBRkcsS0FBSSxDQUFDLGFBQWEsR0FBRyxLQUFJLENBQUMsaUJBQWlCLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDN0QsS0FBSSxDQUFDLGtCQUFrQixHQUFHLEtBQUksQ0FBQyxpQkFBaUIsQ0FBQyxlQUFlLENBQUMsQ0FBQzs7SUFDdEUsQ0FBQztJQUVELGlEQUF1QixHQUF2QjtRQUNJLElBQUkscUJBQXFCLEdBQUcsSUFBSSxDQUFDO1FBRWpDLE1BQU0sQ0FBQztZQUNILFFBQVEsRUFBRSxFQUFFO1lBQ1osT0FBTyxFQUFFLElBQUk7WUFDYixVQUFVLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFdBQVcsQ0FBQztZQUMvQyxhQUFhLEVBQUUsSUFBSSxDQUFDLGFBQWE7WUFDakMsWUFBWSxFQUFFLElBQUk7WUFDbEIsZ0JBQWdCLEVBQUUsS0FBSztZQUN2QixRQUFRLEVBQUUsVUFBVSxhQUFhLEVBQUUsR0FBRztnQkFDbEMsSUFBSSxjQUFjLEdBQUcscUJBQXFCLENBQUMsa0JBQWtCLENBQUM7Z0JBQzlELHFCQUFxQixDQUFDLGtCQUFrQixHQUFHLGFBQWEsQ0FBQztnQkFDekQsRUFBRSxDQUFBLENBQUMsY0FBYyxLQUFLLGFBQWEsQ0FBQyxDQUFDLENBQUM7b0JBQ2xDLEdBQUcsQ0FBQyxVQUFVLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxDQUFDO29CQUMvQixxQkFBcUIsQ0FBQyxrQkFBa0IsR0FBRyxDQUFDLENBQUM7Z0JBQ2pELENBQUM7WUFDTCxDQUFDO1NBQ0osQ0FBQztJQUNOLENBQUM7SUFFRCxvQ0FBVSxHQUFWO1FBQ0ksTUFBTSxDQUFDO1lBQ0gsS0FBSyxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUM7WUFDdEMsUUFBUSxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsSUFBSSxNQUFNO1lBQ3RELFNBQVMsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsV0FBVyxDQUFDO1lBQzlDLGlCQUFpQixFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxtQkFBbUIsQ0FBQztZQUM5RCxjQUFjLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGdCQUFnQixDQUFDLElBQUksR0FBRztZQUMvRCxlQUFlLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGlCQUFpQixDQUFDLElBQUksTUFBTTtTQUN2RSxDQUFBO0lBQ0wsQ0FBQztJQUNMLHNCQUFDO0FBQUQsQ0F6Q0EsQUF5Q0MsQ0F6Q29DLHFCQUFTLEdBeUM3QztBQXpDWSwwQ0FBZSIsImZpbGUiOiJhcHAvbW9kZWxzL21lY2hhbmlzbXMvcmF0aW5nX21lY2hhbmlzbS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7TWVjaGFuaXNtfSBmcm9tICcuL21lY2hhbmlzbSc7XG5pbXBvcnQge1BhcmFtZXRlcn0gZnJvbSAnLi4vcGFyYW1ldGVycy9wYXJhbWV0ZXInO1xuXG5cbmV4cG9ydCBjbGFzcyBSYXRpbmdNZWNoYW5pc20gZXh0ZW5kcyBNZWNoYW5pc20ge1xuICAgIGN1cnJlbnRSYXRpbmdWYWx1ZTpudW1iZXI7XG4gICAgaW5pdGlhbFJhdGluZzpudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCB0eXBlOnN0cmluZywgYWN0aXZlOmJvb2xlYW4sIG9yZGVyPzpudW1iZXIsIGNhbkJlQWN0aXZhdGVkPzpib29sZWFuLCBwYXJhbWV0ZXJzPzpQYXJhbWV0ZXJbXSkge1xuICAgICAgICBzdXBlcihpZCwgdHlwZSwgYWN0aXZlLCBvcmRlciwgY2FuQmVBY3RpdmF0ZWQsIHBhcmFtZXRlcnMpO1xuICAgICAgICB0aGlzLmluaXRpYWxSYXRpbmcgPSB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdkZWZhdWx0UmF0aW5nJyk7XG4gICAgICAgIHRoaXMuY3VycmVudFJhdGluZ1ZhbHVlID0gdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgnZGVmYXVsdFJhdGluZycpO1xuICAgIH1cblxuICAgIGdldFJhdGluZ0VsZW1lbnRPcHRpb25zKCk6IHt9IHtcbiAgICAgICAgdmFyIHJhdGluZ01lY2hhbmlzbU9iamVjdCA9IHRoaXM7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXJTaXplOiAzMCxcbiAgICAgICAgICAgIGJhc2VVcmw6IHRydWUsXG4gICAgICAgICAgICB0b3RhbFN0YXJzOiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdtYXhSYXRpbmcnKSxcbiAgICAgICAgICAgIGluaXRpYWxSYXRpbmc6IHRoaXMuaW5pdGlhbFJhdGluZyxcbiAgICAgICAgICAgIHVzZUZ1bGxTdGFyczogdHJ1ZSxcbiAgICAgICAgICAgIGRpc2FibGVBZnRlclJhdGU6IGZhbHNlLFxuICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChjdXJyZW50UmF0aW5nLCAkZWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgb2xkUmF0aW5nVmFsdWUgPSByYXRpbmdNZWNoYW5pc21PYmplY3QuY3VycmVudFJhdGluZ1ZhbHVlO1xuICAgICAgICAgICAgICAgIHJhdGluZ01lY2hhbmlzbU9iamVjdC5jdXJyZW50UmF0aW5nVmFsdWUgPSBjdXJyZW50UmF0aW5nO1xuICAgICAgICAgICAgICAgIGlmKG9sZFJhdGluZ1ZhbHVlID09PSBjdXJyZW50UmF0aW5nKSB7XG4gICAgICAgICAgICAgICAgICAgICRlbC5zdGFyUmF0aW5nKCdzZXRSYXRpbmcnLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgcmF0aW5nTWVjaGFuaXNtT2JqZWN0LmN1cnJlbnRSYXRpbmdWYWx1ZSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldENvbnRleHQoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRpdGxlOiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCd0aXRsZScpLFxuICAgICAgICAgICAgYm94V2lkdGg6IHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ2JveFdpZHRoJykgfHwgJzEwMCUnLFxuICAgICAgICAgICAgbWFuZGF0b3J5OiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdtYW5kYXRvcnknKSxcbiAgICAgICAgICAgIG1hbmRhdG9yeVJlbWluZGVyOiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdtYW5kYXRvcnlSZW1pbmRlcicpLFxuICAgICAgICAgICAgYm94UGFkZGluZ0xlZnQ6IHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ2JveFBhZGRpbmdMZWZ0JykgfHwgJzAnLFxuICAgICAgICAgICAgYm94UGFkZGluZ1JpZ2h0OiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdib3hQYWRkaW5nUmlnaHQnKSB8fCAnMjBweCdcbiAgICAgICAgfVxuICAgIH1cbn0iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var parameterizable_1 = __webpack_require__(28);
	var mixin_helper_1 = __webpack_require__(29);
	var Mechanism = (function () {
	    function Mechanism(id, type, active, order, canBeActivated, parameters) {
	        this.id = id;
	        this.type = type;
	        this.active = active;
	        this.order = order;
	        this.canBeActivated = canBeActivated;
	        this.parameters = parameters;
	    }
	    Mechanism.prototype.getContext = function () { };
	    Mechanism.prototype.getCssStyle = function (parameterValuePropertyPair) {
	        var cssStyles = '';
	        for (var i = 0; i < parameterValuePropertyPair.length; i++) {
	            var parameterPropertyPair = parameterValuePropertyPair[i];
	            if (this.getParameterValue(parameterPropertyPair.parameter) !== null) {
	                var unit = this.getCSSPropertyUnit(parameterPropertyPair.property);
	                cssStyles += parameterPropertyPair.property + ': ' + this.getParameterValue(parameterPropertyPair.parameter) + unit + ';';
	                if (i !== parameterValuePropertyPair.length - 1) {
	                    cssStyles += ' ';
	                }
	            }
	        }
	        return cssStyles;
	    };
	    Mechanism.prototype.getCSSPropertyUnit = function (property) {
	        if (property === 'font-size' || property === 'height' || property === 'width' || property === 'border-width') {
	            return 'px';
	        }
	        else {
	            return '';
	        }
	    };
	    Mechanism.prototype.defaultContext = function () {
	        return {
	            'id': this.id,
	            'type': this.type,
	            'active': this.active,
	            'order': this.order,
	            'canBeActivated': this.canBeActivated,
	            'page': this.getParameterValue('page') || 1,
	            'cssClass': this.getParameterValue('cssClass') || '',
	        };
	    };
	    return Mechanism;
	}());
	exports.Mechanism = Mechanism;
	mixin_helper_1.applyMixins(Mechanism, [parameterizable_1.Parameterizable]);

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvbWVjaGFuaXNtcy9tZWNoYW5pc20udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSw2REFBMEQ7QUFDMUQsOERBQTBEO0FBUTFEO0lBUUksbUJBQVksRUFBVSxFQUFFLElBQVcsRUFBRSxNQUFjLEVBQUUsS0FBYSxFQUFFLGNBQXVCLEVBQUUsVUFBZ0M7UUFDekgsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFDYixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUNyQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQztRQUNyQyxJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztJQUNqQyxDQUFDO0lBSUQsOEJBQVUsR0FBVixjQUFtQixDQUFDO0lBWXBCLCtCQUFXLEdBQVgsVUFBWSwwQkFBdUQ7UUFDL0QsSUFBSSxTQUFTLEdBQUcsRUFBRSxDQUFDO1FBQ25CLEdBQUcsQ0FBQSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsMEJBQTBCLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFFLENBQUM7WUFDeEQsSUFBSSxxQkFBcUIsR0FBRywwQkFBMEIsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMxRCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsaUJBQWlCLENBQUMscUJBQXFCLENBQUMsU0FBUyxDQUFDLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQztnQkFDbkUsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLGtCQUFrQixDQUFDLHFCQUFxQixDQUFDLFFBQVEsQ0FBQyxDQUFDO2dCQUNuRSxTQUFTLElBQUkscUJBQXFCLENBQUMsUUFBUSxHQUFHLElBQUksR0FBRyxJQUFJLENBQUMsaUJBQWlCLENBQUMscUJBQXFCLENBQUMsU0FBUyxDQUFDLEdBQUcsSUFBSSxHQUFHLEdBQUcsQ0FBQztnQkFDMUgsRUFBRSxDQUFBLENBQUMsQ0FBQyxLQUFLLDBCQUEwQixDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUM3QyxTQUFTLElBQUksR0FBRyxDQUFDO2dCQUNyQixDQUFDO1lBQ0wsQ0FBQztRQUNMLENBQUM7UUFDRCxNQUFNLENBQUMsU0FBUyxDQUFDO0lBQ3JCLENBQUM7SUFFRCxzQ0FBa0IsR0FBbEIsVUFBbUIsUUFBZ0I7UUFDL0IsRUFBRSxDQUFBLENBQUMsUUFBUSxLQUFLLFdBQVcsSUFBSSxRQUFRLEtBQUssUUFBUSxJQUFJLFFBQVEsS0FBSyxPQUFPLElBQUksUUFBUSxLQUFLLGNBQWMsQ0FBQyxDQUFDLENBQUM7WUFDMUcsTUFBTSxDQUFDLElBQUksQ0FBQTtRQUNmLENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNKLE1BQU0sQ0FBQyxFQUFFLENBQUM7UUFDZCxDQUFDO0lBQ0wsQ0FBQztJQUVELGtDQUFjLEdBQWQ7UUFDSSxNQUFNLENBQUM7WUFDSCxJQUFJLEVBQUUsSUFBSSxDQUFDLEVBQUU7WUFDYixNQUFNLEVBQUUsSUFBSSxDQUFDLElBQUk7WUFDakIsUUFBUSxFQUFFLElBQUksQ0FBQyxNQUFNO1lBQ3JCLE9BQU8sRUFBRSxJQUFJLENBQUMsS0FBSztZQUNuQixnQkFBZ0IsRUFBRSxJQUFJLENBQUMsY0FBYztZQUNyQyxNQUFNLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUM7WUFDM0MsVUFBVSxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsSUFBSSxFQUFFO1NBQ3ZELENBQUE7SUFDTCxDQUFDO0lBQ0wsZ0JBQUM7QUFBRCxDQWpFQSxBQWlFQyxJQUFBO0FBakVxQiw4QkFBUztBQW1FL0IsMEJBQVcsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxpQ0FBZSxDQUFDLENBQUMsQ0FBQyIsImZpbGUiOiJhcHAvbW9kZWxzL21lY2hhbmlzbXMvbWVjaGFuaXNtLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtQYXJhbWV0ZXJJbnRlcmZhY2V9IGZyb20gJy4uL3BhcmFtZXRlcnMvcGFyYW1ldGVyX2ludGVyZmFjZSc7XG5pbXBvcnQge1BhcmFtZXRlcml6YWJsZX0gZnJvbSAnLi4vbWl4aW5zL3BhcmFtZXRlcml6YWJsZSc7XG5pbXBvcnQge2FwcGx5TWl4aW5zfSBmcm9tICcuLi8uLi9qcy9oZWxwZXJzL21peGluX2hlbHBlcic7XG5pbXBvcnQge1BhcmFtZXRlclZhbHVlUHJvcGVydHlQYWlyfSBmcm9tICcuLi9wYXJhbWV0ZXJzL3BhcmFtZXRlcl92YWx1ZV9wcm9wZXJ0eV9wYWlyJztcblxuXG4vKipcbiAqIEJhc2UgY2xhc3MgZm9yIHRoZSBtZWNoYW5pc21zLiBOb3RlIHRoYXQgdGhpcyBjbGFzcyBpcyBleHRlbmRlZCBieSB0aGUgUGFyYW1ldGVyaXphYmxlIG1peGluIHRvIHByb3ZpZGUgbWV0aG9kcyBvbiBhXG4gKiBwYXJhbWV0ZXIgYXJyYXkgZmllbGQuXG4gKi9cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBNZWNoYW5pc20gaW1wbGVtZW50cyBQYXJhbWV0ZXJpemFibGUge1xuICAgIGlkOm51bWJlcjtcbiAgICB0eXBlOnN0cmluZztcbiAgICBhY3RpdmU6Ym9vbGVhbjtcbiAgICBvcmRlcjogbnVtYmVyO1xuICAgIGNhbkJlQWN0aXZhdGVkOmJvb2xlYW47XG4gICAgcGFyYW1ldGVyczogUGFyYW1ldGVySW50ZXJmYWNlW107XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCB0eXBlOnN0cmluZywgYWN0aXZlOmJvb2xlYW4sIG9yZGVyPzpudW1iZXIsIGNhbkJlQWN0aXZhdGVkPzpib29sZWFuLCBwYXJhbWV0ZXJzPzpQYXJhbWV0ZXJJbnRlcmZhY2VbXSkge1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgICAgIHRoaXMuYWN0aXZlID0gYWN0aXZlO1xuICAgICAgICB0aGlzLm9yZGVyID0gb3JkZXI7XG4gICAgICAgIHRoaXMuY2FuQmVBY3RpdmF0ZWQgPSBjYW5CZUFjdGl2YXRlZDtcbiAgICAgICAgdGhpcy5wYXJhbWV0ZXJzID0gcGFyYW1ldGVycztcbiAgICB9XG5cbiAgICBnZXRQYXJhbWV0ZXI6IChrZXk6c3RyaW5nKSA9PiBQYXJhbWV0ZXJJbnRlcmZhY2U7XG4gICAgZ2V0UGFyYW1ldGVyVmFsdWU6IChrZXk6c3RyaW5nKSA9PiBhbnk7XG4gICAgZ2V0Q29udGV4dCgpOiBhbnkge31cblxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRvIGdlbmVyYXRlIGEgaHRtbCBzdHlsZSB2YWx1ZSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gbWVjaGFuaXNtXG4gICAgICogIE1lY2hhbmlzbSB0byBnZXQgdGhlIHBhcmFtZXRlcnMgZnJvbVxuICAgICAqIEBwYXJhbSBwYXJhbWV0ZXJWYWx1ZVByb3BlcnR5UGFpclxuICAgICAqICBUaGUgcGFpcnMgb2YgMSkgcGFyYW1ldGVyIGluIHRoZSBwYXJhbWV0ZXJzIG9mIHRoZSBjb25maWcgYW5kIDIpIHRoZSBjc3MgcHJvcGVydHkgdG8gdXNlIGZvciB0aGlzIHBhcmFtZXRlcidzIHZhbHVlXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBnZXRDc3NTdHlsZShwYXJhbWV0ZXJWYWx1ZVByb3BlcnR5UGFpcjpQYXJhbWV0ZXJWYWx1ZVByb3BlcnR5UGFpcltdKTogc3RyaW5nIHtcbiAgICAgICAgdmFyIGNzc1N0eWxlcyA9ICcnO1xuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgcGFyYW1ldGVyVmFsdWVQcm9wZXJ0eVBhaXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJhbWV0ZXJQcm9wZXJ0eVBhaXIgPSBwYXJhbWV0ZXJWYWx1ZVByb3BlcnR5UGFpcltpXTtcbiAgICAgICAgICAgIGlmICh0aGlzLmdldFBhcmFtZXRlclZhbHVlKHBhcmFtZXRlclByb3BlcnR5UGFpci5wYXJhbWV0ZXIpICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdmFyIHVuaXQgPSB0aGlzLmdldENTU1Byb3BlcnR5VW5pdChwYXJhbWV0ZXJQcm9wZXJ0eVBhaXIucHJvcGVydHkpO1xuICAgICAgICAgICAgICAgIGNzc1N0eWxlcyArPSBwYXJhbWV0ZXJQcm9wZXJ0eVBhaXIucHJvcGVydHkgKyAnOiAnICsgdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZShwYXJhbWV0ZXJQcm9wZXJ0eVBhaXIucGFyYW1ldGVyKSArIHVuaXQgKyAnOyc7XG4gICAgICAgICAgICAgICAgaWYoaSAhPT0gcGFyYW1ldGVyVmFsdWVQcm9wZXJ0eVBhaXIubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICBjc3NTdHlsZXMgKz0gJyAnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3NzU3R5bGVzO1xuICAgIH1cblxuICAgIGdldENTU1Byb3BlcnR5VW5pdChwcm9wZXJ0eTogc3RyaW5nKSB7XG4gICAgICAgIGlmKHByb3BlcnR5ID09PSAnZm9udC1zaXplJyB8fCBwcm9wZXJ0eSA9PT0gJ2hlaWdodCcgfHwgcHJvcGVydHkgPT09ICd3aWR0aCcgfHwgcHJvcGVydHkgPT09ICdib3JkZXItd2lkdGgnKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3B4J1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVmYXVsdENvbnRleHQoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnaWQnOiB0aGlzLmlkLFxuICAgICAgICAgICAgJ3R5cGUnOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICAnYWN0aXZlJzogdGhpcy5hY3RpdmUsXG4gICAgICAgICAgICAnb3JkZXInOiB0aGlzLm9yZGVyLFxuICAgICAgICAgICAgJ2NhbkJlQWN0aXZhdGVkJzogdGhpcy5jYW5CZUFjdGl2YXRlZCxcbiAgICAgICAgICAgICdwYWdlJzogdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgncGFnZScpIHx8IDEsXG4gICAgICAgICAgICAnY3NzQ2xhc3MnOiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdjc3NDbGFzcycpIHx8ICcnLFxuICAgICAgICB9XG4gICAgfVxufVxuXG5hcHBseU1peGlucyhNZWNoYW5pc20sIFtQYXJhbWV0ZXJpemFibGVdKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	var __extends = (this && this.__extends) || (function () {
	    var extendStatics = Object.setPrototypeOf ||
	        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
	        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
	    return function (d, b) {
	        extendStatics(d, b);
	        function __() { this.constructor = d; }
	        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
	    };
	})();
	Object.defineProperty(exports, "__esModule", { value: true });
	var mechanism_1 = __webpack_require__(36);
	var ScreenshotMechanism = (function (_super) {
	    __extends(ScreenshotMechanism, _super);
	    function ScreenshotMechanism(id, type, active, order, canBeActivated, parameters, screenshotView) {
	        var _this = _super.call(this, id, type, active, order, canBeActivated, parameters) || this;
	        _this.screenshotView = screenshotView;
	        return _this;
	    }
	    ScreenshotMechanism.prototype.setScreenshotView = function (screenshotView) {
	        this.screenshotView = screenshotView;
	    };
	    ScreenshotMechanism.prototype.getContext = function () {
	        return {
	            autoTake: this.getParameterValue('autoTake'),
	            annotationTitle: this.getParameterValue('annotationTitle'),
	            annotationExplanation: this.getParameterValue('annotationExplanation'),
	            cropExplanation: this.getParameterValue('cropExplanation'),
	            sentimentSatisfiedMouseover: this.getParameterValue('sentimentSatisfiedMouseover'),
	            sentimentDissatisfiedMouseover: this.getParameterValue('sentimentDissatisfiedMouseover'),
	            arrowMouseover: this.getParameterValue('arrowMouseover'),
	            circleMouseover: this.getParameterValue('circleMouseover'),
	            rectMouseover: this.getParameterValue('rectMouseover'),
	            filledRectMouseover: this.getParameterValue('filledRectMouseover'),
	            thumbUpMouseover: this.getParameterValue('thumbUpMouseover'),
	            thumbDownMouseover: this.getParameterValue('thumbDownMouseover'),
	            textMouseover: this.getParameterValue('textMouseover'),
	            freehandMouseover: this.getParameterValue('freehandMouseover'),
	            boxWidth: this.getParameterValue('boxWidth') || '100%',
	            boxPaddingLeft: this.getParameterValue('boxPaddingLeft') || '0',
	            boxPaddingRight: this.getParameterValue('boxPaddingRight') || '20px',
	            screenshotTakeButtonTitle: this.getParameterValue('screenshotTakeButtonTitle'),
	            screenshotTakeNewButtonTitle: this.getParameterValue('screenshotTakeNewButtonTitle'),
	            screenshotRemoveButtonTitle: this.getParameterValue('screenshotRemoveButtonTitle'),
	            textTitle: this.getParameterValue('textTitle'),
	            textExplanation: this.getParameterValue('textExplanation'),
	            title: this.getParameterValue('title'),
	            zoomTitle: this.getParameterValue('zoomTitle'),
	            annotationsTitle: this.getParameterValue('annotationsTitle'),
	            selectionTitle: this.getParameterValue('selectionTitle'),
	            colorTitle: this.getParameterValue('colorTitle'),
	            cropTitle: this.getParameterValue('cropTitle'),
	            zoomExplanation: this.getParameterValue('zoomExplanation'),
	        };
	    };
	    return ScreenshotMechanism;
	}(mechanism_1.Mechanism));
	exports.ScreenshotMechanism = ScreenshotMechanism;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvbWVjaGFuaXNtcy9zY3JlZW5zaG90X21lY2hhbmlzbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQSx5Q0FBc0M7QUFLdEM7SUFBeUMsdUNBQVM7SUFHOUMsNkJBQVksRUFBUyxFQUFFLElBQVcsRUFBRSxNQUFjLEVBQUUsS0FBWSxFQUFFLGNBQXNCLEVBQUUsVUFBc0IsRUFBRSxjQUE4QjtRQUFoSixZQUNJLGtCQUFNLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxjQUFjLEVBQUUsVUFBVSxDQUFDLFNBRTdEO1FBREcsS0FBSSxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7O0lBQ3pDLENBQUM7SUFFRCwrQ0FBaUIsR0FBakIsVUFBa0IsY0FBNkI7UUFDM0MsSUFBSSxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7SUFDekMsQ0FBQztJQUVELHdDQUFVLEdBQVY7UUFDSSxNQUFNLENBQUM7WUFDSCxRQUFRLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQztZQUM1QyxlQUFlLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGlCQUFpQixDQUFDO1lBQzFELHFCQUFxQixFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyx1QkFBdUIsQ0FBQztZQUN0RSxlQUFlLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGlCQUFpQixDQUFDO1lBQzFELDJCQUEyQixFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyw2QkFBNkIsQ0FBQztZQUNsRiw4QkFBOEIsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsZ0NBQWdDLENBQUM7WUFDeEYsY0FBYyxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxnQkFBZ0IsQ0FBQztZQUN4RCxlQUFlLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGlCQUFpQixDQUFDO1lBQzFELGFBQWEsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsZUFBZSxDQUFDO1lBQ3RELG1CQUFtQixFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxxQkFBcUIsQ0FBQztZQUNsRSxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsa0JBQWtCLENBQUM7WUFDNUQsa0JBQWtCLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLG9CQUFvQixDQUFDO1lBQ2hFLGFBQWEsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsZUFBZSxDQUFDO1lBQ3RELGlCQUFpQixFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxtQkFBbUIsQ0FBQztZQUM5RCxRQUFRLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxJQUFJLE1BQU07WUFDdEQsY0FBYyxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLEdBQUc7WUFDL0QsZUFBZSxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLE1BQU07WUFDcEUseUJBQXlCLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLDJCQUEyQixDQUFDO1lBQzlFLDRCQUE0QixFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyw4QkFBOEIsQ0FBQztZQUNwRiwyQkFBMkIsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsNkJBQTZCLENBQUM7WUFDbEYsU0FBUyxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxXQUFXLENBQUM7WUFDOUMsZUFBZSxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxpQkFBaUIsQ0FBQztZQUMxRCxLQUFLLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQztZQUN0QyxTQUFTLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFdBQVcsQ0FBQztZQUM5QyxnQkFBZ0IsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsa0JBQWtCLENBQUM7WUFDNUQsY0FBYyxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxnQkFBZ0IsQ0FBQztZQUN4RCxVQUFVLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFlBQVksQ0FBQztZQUNoRCxTQUFTLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFdBQVcsQ0FBQztZQUM5QyxlQUFlLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGlCQUFpQixDQUFDO1NBQzdELENBQUE7SUFDTCxDQUFDO0lBQ0wsMEJBQUM7QUFBRCxDQTdDQSxBQTZDQyxDQTdDd0MscUJBQVMsR0E2Q2pEO0FBN0NZLGtEQUFtQiIsImZpbGUiOiJhcHAvbW9kZWxzL21lY2hhbmlzbXMvc2NyZWVuc2hvdF9tZWNoYW5pc20uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge01lY2hhbmlzbX0gZnJvbSAnLi9tZWNoYW5pc20nO1xuaW1wb3J0IHtTY3JlZW5zaG90Vmlld30gZnJvbSAnLi4vLi4vdmlld3Mvc2NyZWVuc2hvdC9zY3JlZW5zaG90X3ZpZXcnO1xuaW1wb3J0IHtQYXJhbWV0ZXJ9IGZyb20gJy4uL3BhcmFtZXRlcnMvcGFyYW1ldGVyJztcblxuXG5leHBvcnQgY2xhc3MgU2NyZWVuc2hvdE1lY2hhbmlzbSBleHRlbmRzIE1lY2hhbmlzbSB7XG4gICAgc2NyZWVuc2hvdFZpZXc6U2NyZWVuc2hvdFZpZXc7XG5cbiAgICBjb25zdHJ1Y3RvcihpZDpudW1iZXIsIHR5cGU6c3RyaW5nLCBhY3RpdmU6Ym9vbGVhbiwgb3JkZXI6bnVtYmVyLCBjYW5CZUFjdGl2YXRlZDpib29sZWFuLCBwYXJhbWV0ZXJzOlBhcmFtZXRlcltdLCBzY3JlZW5zaG90Vmlldz86U2NyZWVuc2hvdFZpZXcpIHtcbiAgICAgICAgc3VwZXIoaWQsIHR5cGUsIGFjdGl2ZSwgb3JkZXIsIGNhbkJlQWN0aXZhdGVkLCBwYXJhbWV0ZXJzKTtcbiAgICAgICAgdGhpcy5zY3JlZW5zaG90VmlldyA9IHNjcmVlbnNob3RWaWV3O1xuICAgIH1cblxuICAgIHNldFNjcmVlbnNob3RWaWV3KHNjcmVlbnNob3RWaWV3OlNjcmVlbnNob3RWaWV3KSB7XG4gICAgICAgIHRoaXMuc2NyZWVuc2hvdFZpZXcgPSBzY3JlZW5zaG90VmlldztcbiAgICB9XG5cbiAgICBnZXRDb250ZXh0KCk6YW55IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGF1dG9UYWtlOiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdhdXRvVGFrZScpLFxuICAgICAgICAgICAgYW5ub3RhdGlvblRpdGxlOiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdhbm5vdGF0aW9uVGl0bGUnKSxcbiAgICAgICAgICAgIGFubm90YXRpb25FeHBsYW5hdGlvbjogdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgnYW5ub3RhdGlvbkV4cGxhbmF0aW9uJyksXG4gICAgICAgICAgICBjcm9wRXhwbGFuYXRpb246IHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ2Nyb3BFeHBsYW5hdGlvbicpLFxuICAgICAgICAgICAgc2VudGltZW50U2F0aXNmaWVkTW91c2VvdmVyOiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdzZW50aW1lbnRTYXRpc2ZpZWRNb3VzZW92ZXInKSxcbiAgICAgICAgICAgIHNlbnRpbWVudERpc3NhdGlzZmllZE1vdXNlb3ZlcjogdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgnc2VudGltZW50RGlzc2F0aXNmaWVkTW91c2VvdmVyJyksXG4gICAgICAgICAgICBhcnJvd01vdXNlb3ZlcjogdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgnYXJyb3dNb3VzZW92ZXInKSxcbiAgICAgICAgICAgIGNpcmNsZU1vdXNlb3ZlcjogdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgnY2lyY2xlTW91c2VvdmVyJyksXG4gICAgICAgICAgICByZWN0TW91c2VvdmVyOiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdyZWN0TW91c2VvdmVyJyksXG4gICAgICAgICAgICBmaWxsZWRSZWN0TW91c2VvdmVyOiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdmaWxsZWRSZWN0TW91c2VvdmVyJyksXG4gICAgICAgICAgICB0aHVtYlVwTW91c2VvdmVyOiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCd0aHVtYlVwTW91c2VvdmVyJyksXG4gICAgICAgICAgICB0aHVtYkRvd25Nb3VzZW92ZXI6IHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ3RodW1iRG93bk1vdXNlb3ZlcicpLFxuICAgICAgICAgICAgdGV4dE1vdXNlb3ZlcjogdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgndGV4dE1vdXNlb3ZlcicpLFxuICAgICAgICAgICAgZnJlZWhhbmRNb3VzZW92ZXI6IHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ2ZyZWVoYW5kTW91c2VvdmVyJyksXG4gICAgICAgICAgICBib3hXaWR0aDogdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgnYm94V2lkdGgnKSB8fCAnMTAwJScsXG4gICAgICAgICAgICBib3hQYWRkaW5nTGVmdDogdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgnYm94UGFkZGluZ0xlZnQnKSB8fCAnMCcsXG4gICAgICAgICAgICBib3hQYWRkaW5nUmlnaHQ6IHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ2JveFBhZGRpbmdSaWdodCcpIHx8ICcyMHB4JyxcbiAgICAgICAgICAgIHNjcmVlbnNob3RUYWtlQnV0dG9uVGl0bGU6IHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ3NjcmVlbnNob3RUYWtlQnV0dG9uVGl0bGUnKSxcbiAgICAgICAgICAgIHNjcmVlbnNob3RUYWtlTmV3QnV0dG9uVGl0bGU6IHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ3NjcmVlbnNob3RUYWtlTmV3QnV0dG9uVGl0bGUnKSxcbiAgICAgICAgICAgIHNjcmVlbnNob3RSZW1vdmVCdXR0b25UaXRsZTogdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgnc2NyZWVuc2hvdFJlbW92ZUJ1dHRvblRpdGxlJyksXG4gICAgICAgICAgICB0ZXh0VGl0bGU6IHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ3RleHRUaXRsZScpLFxuICAgICAgICAgICAgdGV4dEV4cGxhbmF0aW9uOiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCd0ZXh0RXhwbGFuYXRpb24nKSxcbiAgICAgICAgICAgIHRpdGxlOiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCd0aXRsZScpLFxuICAgICAgICAgICAgem9vbVRpdGxlOiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCd6b29tVGl0bGUnKSxcbiAgICAgICAgICAgIGFubm90YXRpb25zVGl0bGU6IHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ2Fubm90YXRpb25zVGl0bGUnKSxcbiAgICAgICAgICAgIHNlbGVjdGlvblRpdGxlOiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdzZWxlY3Rpb25UaXRsZScpLFxuICAgICAgICAgICAgY29sb3JUaXRsZTogdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgnY29sb3JUaXRsZScpLFxuICAgICAgICAgICAgY3JvcFRpdGxlOiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdjcm9wVGl0bGUnKSxcbiAgICAgICAgICAgIHpvb21FeHBsYW5hdGlvbjogdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgnem9vbUV4cGxhbmF0aW9uJyksXG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	var __extends = (this && this.__extends) || (function () {
	    var extendStatics = Object.setPrototypeOf ||
	        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
	        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
	    return function (d, b) {
	        extendStatics(d, b);
	        function __() { this.constructor = d; }
	        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
	    };
	})();
	Object.defineProperty(exports, "__esModule", { value: true });
	var mechanism_1 = __webpack_require__(36);
	var category_feedback_1 = __webpack_require__(39);
	var CategoryMechanism = (function (_super) {
	    __extends(CategoryMechanism, _super);
	    function CategoryMechanism(id, type, active, order, canBeActivated, parameters) {
	        return _super.call(this, id, type, active, order, canBeActivated, parameters) || this;
	    }
	    CategoryMechanism.prototype.getOptions = function () {
	        if (this.getParameterValue('options') !== null && this.getParameterValue('options') !== undefined && this.getParameterValue('options').length > 0
	            && this.getParameterValue('options').filter(function (option) { return option.key !== 'defaultOption'; }).length > 0) {
	            return this.getParameterValue('options').filter(function (option) { return option.key !== 'defaultOption'; }).sort(function (option1, option2) { return option1.createdAt > option2.createdAt; });
	        }
	        else {
	            return [];
	        }
	    };
	    CategoryMechanism.prototype.getDefaultOptions = function () {
	        if (this.getParameterValue('options') !== null && this.getParameterValue('options') !== undefined && this.getParameterValue('options').length > 0
	            && this.getParameterValue('options').filter(function (option) { return option.key === 'defaultOption'; }).length > 0) {
	            return this.getParameterValue('options').filter(function (option) { return option.key === 'defaultOption'; })[0];
	        }
	        else {
	            return null;
	        }
	    };
	    CategoryMechanism.prototype.getContext = function () {
	        var inputType = 'checkbox';
	        if (this.getParameterValue('multiple') === false) {
	            inputType = 'radio';
	        }
	        return {
	            title: this.getParameterValue('title'),
	            ownAllowed: this.getParameterValue('ownAllowed'),
	            ownLabel: this.getParameterValue('ownLabel'),
	            breakAfterOption: !!this.getParameterValue('breakAfterOption'),
	            options: this.getOptions(),
	            defaultOption: this.getDefaultOptions(),
	            inputType: inputType,
	            multiple: this.getParameterValue('multiple'),
	            asDropdown: this.getParameterValue('asDropdown') || false,
	            mandatory: this.getParameterValue('mandatory'),
	            mandatoryReminder: this.getParameterValue('mandatoryReminder'),
	            boxWidth: this.getParameterValue('boxWidth') || '100%',
	            boxPaddingLeft: this.getParameterValue('boxPaddingLeft') || '0',
	            boxPaddingRight: this.getParameterValue('boxPaddingRight') || '20px'
	        };
	    };
	    CategoryMechanism.prototype.getCategoryFeedbacks = function () {
	        var inputSelector = this.getInputSelector();
	        var selectSelector = this.getSelectSelector();
	        var categoryFeedbacks = [];
	        if (this.getParameterValue('asDropdown')) {
	            jQuery(selectSelector + " option:selected").each(function () {
	                var parameterId = jQuery(this).val();
	                categoryFeedbacks.push(new category_feedback_1.CategoryFeedback(parameterId, ""));
	            });
	        }
	        else {
	            jQuery(inputSelector).each(function () {
	                var input = jQuery(this);
	                if ((input.attr('type') === 'checkbox' || input.attr('type') === 'radio') && input.is(':checked')) {
	                    categoryFeedbacks.push(new category_feedback_1.CategoryFeedback(input.data('parameter-id'), ""));
	                }
	                else if (input.attr('type') === 'text' && input.val() !== "") {
	                    categoryFeedbacks.push(new category_feedback_1.CategoryFeedback(null, input.val()));
	                }
	            });
	        }
	        return categoryFeedbacks;
	    };
	    CategoryMechanism.prototype.getInputSelector = function () {
	        return 'section#categoryMechanism' + this.id + '.category-type input';
	    };
	    CategoryMechanism.prototype.getSelectSelector = function () {
	        return 'section#categoryMechanism' + this.id + '.category-type select';
	    };
	    return CategoryMechanism;
	}(mechanism_1.Mechanism));
	exports.CategoryMechanism = CategoryMechanism;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvbWVjaGFuaXNtcy9jYXRlZ29yeV9tZWNoYW5pc20udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQ0EseUNBQXNDO0FBQ3RDLG9FQUFnRTtBQUdoRTtJQUF1QyxxQ0FBUztJQUU1QywyQkFBWSxFQUFVLEVBQUUsSUFBVyxFQUFFLE1BQWMsRUFBRSxLQUFhLEVBQUUsY0FBdUIsRUFBRSxVQUF1QjtlQUNoSCxrQkFBTSxFQUFFLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBRSxLQUFLLEVBQUUsY0FBYyxFQUFFLFVBQVUsQ0FBQztJQUM5RCxDQUFDO0lBRUQsc0NBQVUsR0FBVjtRQUNJLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsS0FBSyxJQUFJLElBQUksSUFBSSxDQUFDLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxLQUFLLFNBQVMsSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUMsU0FBUyxDQUFDLENBQUMsTUFBTSxHQUFHLENBQUM7ZUFDekksSUFBSSxDQUFDLGlCQUFpQixDQUFDLFNBQVMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxVQUFBLE1BQU0sSUFBSSxPQUFBLE1BQU0sQ0FBQyxHQUFHLEtBQUssZUFBZSxFQUE5QixDQUE4QixDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbkcsTUFBTSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsQ0FBQyxNQUFNLENBQUMsVUFBQSxNQUFNLElBQUksT0FBQSxNQUFNLENBQUMsR0FBRyxLQUFLLGVBQWUsRUFBOUIsQ0FBOEIsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFDLE9BQU8sRUFBRSxPQUFPLElBQUssT0FBQSxPQUFPLENBQUMsU0FBUyxHQUFHLE9BQU8sQ0FBQyxTQUFTLEVBQXJDLENBQXFDLENBQUMsQ0FBQztRQUNoSyxDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDSixNQUFN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TUFBTSxDQUFDLDJCQUEyQixHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUcsdUJBQXVCLENBQUM7SUFDM0UsQ0FBQztJQUNMLHdCQUFDO0FBQUQsQ0FoRkEsQUFnRkMsQ0FoRnNDLHFCQUFTLEdBZ0YvQztBQWhGWSw4Q0FBaUIiLCJmaWxlIjoiYXBwL21vZGVscy9tZWNoYW5pc21zL2NhdGVnb3J5X21lY2hhbmlzbS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7UGFyYW1ldGVyfSBmcm9tICcuLi9wYXJhbWV0ZXJzL3BhcmFtZXRlcic7XG5pbXBvcnQge01lY2hhbmlzbX0gZnJvbSAnLi9tZWNoYW5pc20nO1xuaW1wb3J0IHtDYXRlZ29yeUZlZWRiYWNrfSBmcm9tICcuLi9mZWVkYmFja3MvY2F0ZWdvcnlfZmVlZGJhY2snO1xuXG5cbmV4cG9ydCBjbGFzcyBDYXRlZ29yeU1lY2hhbmlzbSBleHRlbmRzIE1lY2hhbmlzbSB7XG5cbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCB0eXBlOnN0cmluZywgYWN0aXZlOmJvb2xlYW4sIG9yZGVyPzpudW1iZXIsIGNhbkJlQWN0aXZhdGVkPzpib29sZWFuLCBwYXJhbWV0ZXJzPzpQYXJhbWV0ZXJbXSkge1xuICAgICAgICBzdXBlcihpZCwgdHlwZSwgYWN0aXZlLCBvcmRlciwgY2FuQmVBY3RpdmF0ZWQsIHBhcmFtZXRlcnMpO1xuICAgIH1cblxuICAgIGdldE9wdGlvbnMoKTogUGFyYW1ldGVyW10ge1xuICAgICAgICBpZih0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdvcHRpb25zJykgIT09IG51bGwgJiYgdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgnb3B0aW9ucycpICE9PSB1bmRlZmluZWQgJiYgdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgnb3B0aW9ucycpLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICYmIHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ29wdGlvbnMnKS5maWx0ZXIob3B0aW9uID0+IG9wdGlvbi5rZXkgIT09ICdkZWZhdWx0T3B0aW9uJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ29wdGlvbnMnKS5maWx0ZXIob3B0aW9uID0+IG9wdGlvbi5rZXkgIT09ICdkZWZhdWx0T3B0aW9uJykuc29ydCgob3B0aW9uMSwgb3B0aW9uMikgPT4gb3B0aW9uMS5jcmVhdGVkQXQgPiBvcHRpb24yLmNyZWF0ZWRBdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXREZWZhdWx0T3B0aW9ucygpOiBQYXJhbWV0ZXIge1xuICAgICAgICBpZih0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdvcHRpb25zJykgIT09IG51bGwgJiYgdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgnb3B0aW9ucycpICE9PSB1bmRlZmluZWQgJiYgdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgnb3B0aW9ucycpLmxlbmd0aCA+IDBcbiAgICAgICAgICAgICYmIHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ29wdGlvbnMnKS5maWx0ZXIob3B0aW9uID0+IG9wdGlvbi5rZXkgPT09ICdkZWZhdWx0T3B0aW9uJykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ29wdGlvbnMnKS5maWx0ZXIob3B0aW9uID0+IG9wdGlvbi5rZXkgPT09ICdkZWZhdWx0T3B0aW9uJylbMF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldENvbnRleHQoKTogYW55IHtcbiAgICAgICAgbGV0IGlucHV0VHlwZSA9ICdjaGVja2JveCc7XG4gICAgICAgIGlmKHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ211bHRpcGxlJykgPT09IGZhbHNlKXtcbiAgICAgICAgICAgIGlucHV0VHlwZSA9ICdyYWRpbyc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGl0bGU6IHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ3RpdGxlJyksXG4gICAgICAgICAgICBvd25BbGxvd2VkOiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdvd25BbGxvd2VkJyksXG4gICAgICAgICAgICBvd25MYWJlbDogdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgnb3duTGFiZWwnKSxcbiAgICAgICAgICAgIGJyZWFrQWZ0ZXJPcHRpb246ICEhdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgnYnJlYWtBZnRlck9wdGlvbicpLFxuICAgICAgICAgICAgb3B0aW9uczogdGhpcy5nZXRPcHRpb25zKCksXG4gICAgICAgICAgICBkZWZhdWx0T3B0aW9uOiB0aGlzLmdldERlZmF1bHRPcHRpb25zKCksXG4gICAgICAgICAgICBpbnB1dFR5cGU6IGlucHV0VHlwZSxcbiAgICAgICAgICAgIG11bHRpcGxlOiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdtdWx0aXBsZScpLFxuICAgICAgICAgICAgYXNEcm9wZG93bjogdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgnYXNEcm9wZG93bicpIHx8IGZhbHNlLFxuICAgICAgICAgICAgbWFuZGF0b3J5OiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdtYW5kYXRvcnknKSxcbiAgICAgICAgICAgIG1hbmRhdG9yeVJlbWluZGVyOiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdtYW5kYXRvcnlSZW1pbmRlcicpLFxuICAgICAgICAgICAgYm94V2lkdGg6IHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ2JveFdpZHRoJykgfHwgJzEwMCUnLFxuICAgICAgICAgICAgYm94UGFkZGluZ0xlZnQ6IHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ2JveFBhZGRpbmdMZWZ0JykgfHwgJzAnLFxuICAgICAgICAgICAgYm94UGFkZGluZ1JpZ2h0OiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdib3hQYWRkaW5nUmlnaHQnKSB8fCAnMjBweCdcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldENhdGVnb3J5RmVlZGJhY2tzKCk6IENhdGVnb3J5RmVlZGJhY2tbXSB7XG4gICAgICAgIHZhciBpbnB1dFNlbGVjdG9yID0gdGhpcy5nZXRJbnB1dFNlbGVjdG9yKCk7XG4gICAgICAgIHZhciBzZWxlY3RTZWxlY3RvciA9IHRoaXMuZ2V0U2VsZWN0U2VsZWN0b3IoKTtcbiAgICAgICAgdmFyIGNhdGVnb3J5RmVlZGJhY2tzOkNhdGVnb3J5RmVlZGJhY2tbXSA9IFtdO1xuXG4gICAgICAgIGlmKHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ2FzRHJvcGRvd24nKSkge1xuICAgICAgICAgICAgalF1ZXJ5KHNlbGVjdFNlbGVjdG9yICsgXCIgb3B0aW9uOnNlbGVjdGVkXCIpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmFtZXRlcklkID0galF1ZXJ5KHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5RmVlZGJhY2tzLnB1c2gobmV3IENhdGVnb3J5RmVlZGJhY2socGFyYW1ldGVySWQsIFwiXCIpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgalF1ZXJ5KGlucHV0U2VsZWN0b3IpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBpbnB1dCA9IGpRdWVyeSh0aGlzKTtcblxuICAgICAgICAgICAgICAgIGlmKChpbnB1dC5hdHRyKCd0eXBlJykgPT09ICdjaGVja2JveCcgfHwgaW5wdXQuYXR0cigndHlwZScpID09PSAncmFkaW8nKSAmJiBpbnB1dC5pcygnOmNoZWNrZWQnKSkge1xuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeUZlZWRiYWNrcy5wdXNoKG5ldyBDYXRlZ29yeUZlZWRiYWNrKGlucHV0LmRhdGEoJ3BhcmFtZXRlci1pZCcpLCBcIlwiKSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKGlucHV0LmF0dHIoJ3R5cGUnKSA9PT0gJ3RleHQnICYmIGlucHV0LnZhbCgpICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5RmVlZGJhY2tzLnB1c2gobmV3IENhdGVnb3J5RmVlZGJhY2sobnVsbCwgaW5wdXQudmFsKCkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjYXRlZ29yeUZlZWRiYWNrcztcbiAgICB9XG5cbiAgICBnZXRJbnB1dFNlbGVjdG9yKCkge1xuICAgICAgICByZXR1cm4gJ3NlY3Rpb24jY2F0ZWdvcnlNZWNoYW5pc20nICsgdGhpcy5pZCArICcuY2F0ZWdvcnktdHlwZSBpbnB1dCc7XG4gICAgfVxuXG4gICAgZ2V0U2VsZWN0U2VsZWN0b3IoKSB7XG4gICAgICAgIHJldHVybiAnc2VjdGlvbiNjYXRlZ29yeU1lY2hhbmlzbScgKyB0aGlzLmlkICsgJy5jYXRlZ29yeS10eXBlIHNlbGVjdCc7XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/***/ }),
/* 39 */
/***/ (function(module, exports) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var CategoryFeedback = (function () {
	    function CategoryFeedback(parameterId, text) {
	        this.parameterId = parameterId;
	        this.text = text;
	    }
	    return CategoryFeedback;
	}());
	exports.CategoryFeedback = CategoryFeedback;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvZmVlZGJhY2tzL2NhdGVnb3J5X2ZlZWRiYWNrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUE7SUFJSSwwQkFBWSxXQUFrQixFQUFFLElBQVc7UUFDdkMsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7UUFDL0IsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDckIsQ0FBQztJQUNMLHVCQUFDO0FBQUQsQ0FSQSxBQVFDLElBQUE7QUFSWSw0Q0FBZ0IiLCJmaWxlIjoiYXBwL21vZGVscy9mZWVkYmFja3MvY2F0ZWdvcnlfZmVlZGJhY2suanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQ2F0ZWdvcnlGZWVkYmFjayB7XG4gICAgcGFyYW1ldGVySWQ6bnVtYmVyO1xuICAgIHRleHQ6c3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IocGFyYW1ldGVySWQ6bnVtYmVyLCB0ZXh0OnN0cmluZykge1xuICAgICAgICB0aGlzLnBhcmFtZXRlcklkID0gcGFyYW1ldGVySWQ7XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	var __extends = (this && this.__extends) || (function () {
	    var extendStatics = Object.setPrototypeOf ||
	        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
	        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
	    return function (d, b) {
	        extendStatics(d, b);
	        function __() { this.constructor = d; }
	        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
	    };
	})();
	Object.defineProperty(exports, "__esModule", { value: true });
	var mechanism_1 = __webpack_require__(36);
	var parameter_value_property_pair_1 = __webpack_require__(41);
	var TextMechanism = (function (_super) {
	    __extends(TextMechanism, _super);
	    function TextMechanism(id, type, active, order, canBeActivated, parameters) {
	        return _super.call(this, id, type, active, order, canBeActivated, parameters) || this;
	    }
	    TextMechanism.prototype.getContext = function () {
	        var textareaStyle = this.getCssStyle([
	            new parameter_value_property_pair_1.ParameterValuePropertyPair('textareaFontColor', 'color'),
	            new parameter_value_property_pair_1.ParameterValuePropertyPair('borderColor', 'border-color'),
	            new parameter_value_property_pair_1.ParameterValuePropertyPair('borderWidth', 'border-width'),
	            new parameter_value_property_pair_1.ParameterValuePropertyPair('fieldBackgroundColor', 'background-color'),
	            new parameter_value_property_pair_1.ParameterValuePropertyPair('fieldFontSize', 'font-size'),
	            new parameter_value_property_pair_1.ParameterValuePropertyPair('fieldFontType', 'font-style'),
	            new parameter_value_property_pair_1.ParameterValuePropertyPair('fieldHeight', 'height'),
	            new parameter_value_property_pair_1.ParameterValuePropertyPair('fieldTextAlignment', 'text-align'),
	            new parameter_value_property_pair_1.ParameterValuePropertyPair('fieldWidth', 'width')
	        ]);
	        var labelStyle = this.getCssStyle([
	            new parameter_value_property_pair_1.ParameterValuePropertyPair('labelPositioning', 'text-align'),
	            new parameter_value_property_pair_1.ParameterValuePropertyPair('labelColor', 'color'),
	            new parameter_value_property_pair_1.ParameterValuePropertyPair('labelFontSize', 'font-size')
	        ]);
	        return {
	            active: this.active,
	            hint: this.getParameterValue('hint'),
	            label: this.getParameterValue('label'),
	            currentLength: 0,
	            maxLength: this.getParameterValue('maxLength'),
	            maxLengthVisible: this.getParameterValue('maxLengthVisible'),
	            maxLengthStrict: this.getParameterValue('maxLengthStrict'),
	            textareaStyle: textareaStyle,
	            labelStyle: labelStyle,
	            clearInput: this.getParameterValue('clearInput'),
	            mandatory: this.getParameterValue('mandatory'),
	            mandatoryReminder: this.getParameterValue('mandatoryReminder'),
	            boxWidth: this.getParameterValue('boxWidth') || '100%',
	            boxPaddingLeft: this.getParameterValue('boxPaddingLeft') || '0',
	            boxPaddingRight: this.getParameterValue('boxPaddingRight') || '20px',
	            validationEmail: this.getParameterValue('validateEmail') || false
	        };
	    };
	    return TextMechanism;
	}(mechanism_1.Mechanism));
	exports.TextMechanism = TextMechanism;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvbWVjaGFuaXNtcy90ZXh0X21lY2hhbmlzbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQSx5Q0FBc0M7QUFDdEMsNkZBQXVGO0FBSXZGO0lBQW1DLGlDQUFTO0lBRXhDLHVCQUFZLEVBQVMsRUFBRSxJQUFXLEVBQUUsTUFBYyxFQUFFLEtBQWEsRUFBRSxjQUF1QixFQUFFLFVBQWdDO2VBQ3hILGtCQUFNLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxjQUFjLEVBQUUsVUFBVSxDQUFDO0lBQzlELENBQUM7SUFFRCxrQ0FBVSxHQUFWO1FBQ0ksSUFBSSxhQUFhLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQztZQUNqQyxJQUFJLDBEQUEwQixDQUFDLG1CQUFtQixFQUFFLE9BQU8sQ0FBQztZQUM1RCxJQUFJLDBEQUEwQixDQUFDLGFBQWEsRUFBRSxjQUFjLENBQUM7WUFDN0QsSUFBSSwwREFBMEIsQ0FBQyxhQUFhLEVBQUUsY0FBYyxDQUFDO1lBQzdELElBQUksMERBQTBCLENBQUMsc0JBQXNCLEVBQUUsa0JBQWtCLENBQUM7WUFDMUUsSUFBSSwwREFBMEIsQ0FBQyxlQUFlLEVBQUUsV0FBVyxDQUFDO1lBQzVELElBQUksMERBQTBCLENBQUMsZUFBZSxFQUFFLFlBQVksQ0FBQztZQUM3RCxJQUFJLDBEQUEwQixDQUFDLGFBQWEsRUFBRSxRQUFRLENBQUM7WUFDdkQsSUFBSSwwREFBMEIsQ0FBQyxvQkFBb0IsRUFBRSxZQUFZLENBQUM7WUFDbEUsSUFBSSwwREFBMEIsQ0FBQyxZQUFZLEVBQUUsT0FBTyxDQUFDO1NBQ3hELENBQUMsQ0FBQztRQUNILElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUM7WUFDOUIsSUFBSSwwREFBMEIsQ0FBQyxrQkFBa0IsRUFBRSxZQUFZLENBQUM7WUFDaEUsSUFBSSwwREFBMEIsQ0FBQyxZQUFZLEVBQUUsT0FBTyxDQUFDO1lBQ3JELElBQUksMERBQTBCLENBQUMsZUFBZSxFQUFFLFdBQVcsQ0FBQztTQUMvRCxDQUFDLENBQUM7UUFFSCxNQUFNLENBQUM7WUFDSCxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU07WUFDbkIsSUFBSSxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxNQUFNLENBQUM7WUFDcEMsS0FBSyxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUM7WUFDdEMsYUFBYSxFQUFFLENBQUM7WUFDaEIsU0FBUyxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxXQUFXLENBQUM7WUFDOUMsZ0JBQWdCLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGtCQUFrQixDQUFDO1lBQzVELGVBQWUsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsaUJBQWlCLENBQUM7WUFDMUQsYUFBYSxFQUFFLGFBQWE7WUFDNUIsVUFBVSxFQUFFLFVBQVU7WUFDdEIsVUFBVSxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxZQUFZLENBQUM7WUFDaEQsU0FBUyxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxXQUFXLENBQUM7WUFDOUMsaUJBQWlCLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLG1CQUFtQixDQUFDO1lBQzlELFFBQVEsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsVUFBVSxDQUFDLElBQUksTUFBTTtZQUN0RCxjQUFjLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGdCQUFnQixDQUFDLElBQUksR0FBRztZQUMvRCxlQUFlLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGlCQUFpQixDQUFDLElBQUksTUFBTTtZQUNwRSxlQUFlLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLGVBQWUsQ0FBQyxJQUFJLEtBQUs7U0FDcEUsQ0FBQTtJQUNMLENBQUM7SUFDTCxvQkFBQztBQUFELENBM0NBLEFBMkNDLENBM0NrQyxxQkFBUyxHQTJDM0M7QUEzQ1ksc0NBQWEiLCJmaWxlIjoiYXBwL21vZGVscy9tZWNoYW5pc21zL3RleHRfbWVjaGFuaXNtLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtNZWNoYW5pc219IGZyb20gJy4vbWVjaGFuaXNtJztcbmltcG9ydCB7UGFyYW1ldGVyVmFsdWVQcm9wZXJ0eVBhaXJ9IGZyb20gJy4uL3BhcmFtZXRlcnMvcGFyYW1ldGVyX3ZhbHVlX3Byb3BlcnR5X3BhaXInO1xuaW1wb3J0IHtQYXJhbWV0ZXJJbnRlcmZhY2V9IGZyb20gJy4uL3BhcmFtZXRlcnMvcGFyYW1ldGVyX2ludGVyZmFjZSc7XG5cblxuZXhwb3J0IGNsYXNzIFRleHRNZWNoYW5pc20gZXh0ZW5kcyBNZWNoYW5pc20ge1xuXG4gICAgY29uc3RydWN0b3IoaWQ6bnVtYmVyLCB0eXBlOnN0cmluZywgYWN0aXZlOmJvb2xlYW4sIG9yZGVyPzpudW1iZXIsIGNhbkJlQWN0aXZhdGVkPzpib29sZWFuLCBwYXJhbWV0ZXJzPzpQYXJhbWV0ZXJJbnRlcmZhY2VbXSkge1xuICAgICAgICBzdXBlcihpZCwgdHlwZSwgYWN0aXZlLCBvcmRlciwgY2FuQmVBY3RpdmF0ZWQsIHBhcmFtZXRlcnMpO1xuICAgIH1cblxuICAgIGdldENvbnRleHQoKTphbnkge1xuICAgICAgICB2YXIgdGV4dGFyZWFTdHlsZSA9IHRoaXMuZ2V0Q3NzU3R5bGUoW1xuICAgICAgICAgICAgbmV3IFBhcmFtZXRlclZhbHVlUHJvcGVydHlQYWlyKCd0ZXh0YXJlYUZvbnRDb2xvcicsICdjb2xvcicpLFxuICAgICAgICAgICAgbmV3IFBhcmFtZXRlclZhbHVlUHJvcGVydHlQYWlyKCdib3JkZXJDb2xvcicsICdib3JkZXItY29sb3InKSxcbiAgICAgICAgICAgIG5ldyBQYXJhbWV0ZXJWYWx1ZVByb3BlcnR5UGFpcignYm9yZGVyV2lkdGgnLCAnYm9yZGVyLXdpZHRoJyksXG4gICAgICAgICAgICBuZXcgUGFyYW1ldGVyVmFsdWVQcm9wZXJ0eVBhaXIoJ2ZpZWxkQmFja2dyb3VuZENvbG9yJywgJ2JhY2tncm91bmQtY29sb3InKSxcbiAgICAgICAgICAgIG5ldyBQYXJhbWV0ZXJWYWx1ZVByb3BlcnR5UGFpcignZmllbGRGb250U2l6ZScsICdmb250LXNpemUnKSxcbiAgICAgICAgICAgIG5ldyBQYXJhbWV0ZXJWYWx1ZVByb3BlcnR5UGFpcignZmllbGRGb250VHlwZScsICdmb250LXN0eWxlJyksXG4gICAgICAgICAgICBuZXcgUGFyYW1ldGVyVmFsdWVQcm9wZXJ0eVBhaXIoJ2ZpZWxkSGVpZ2h0JywgJ2hlaWdodCcpLFxuICAgICAgICAgICAgbmV3IFBhcmFtZXRlclZhbHVlUHJvcGVydHlQYWlyKCdmaWVsZFRleHRBbGlnbm1lbnQnLCAndGV4dC1hbGlnbicpLFxuICAgICAgICAgICAgbmV3IFBhcmFtZXRlclZhbHVlUHJvcGVydHlQYWlyKCdmaWVsZFdpZHRoJywgJ3dpZHRoJylcbiAgICAgICAgXSk7XG4gICAgICAgIHZhciBsYWJlbFN0eWxlID0gdGhpcy5nZXRDc3NTdHlsZShbXG4gICAgICAgICAgICBuZXcgUGFyYW1ldGVyVmFsdWVQcm9wZXJ0eVBhaXIoJ2xhYmVsUG9zaXRpb25pbmcnLCAndGV4dC1hbGlnbicpLFxuICAgICAgICAgICAgbmV3IFBhcmFtZXRlclZhbHVlUHJvcGVydHlQYWlyKCdsYWJlbENvbG9yJywgJ2NvbG9yJyksXG4gICAgICAgICAgICBuZXcgUGFyYW1ldGVyVmFsdWVQcm9wZXJ0eVBhaXIoJ2xhYmVsRm9udFNpemUnLCAnZm9udC1zaXplJylcbiAgICAgICAgXSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFjdGl2ZTogdGhpcy5hY3RpdmUsXG4gICAgICAgICAgICBoaW50OiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdoaW50JyksXG4gICAgICAgICAgICBsYWJlbDogdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgnbGFiZWwnKSxcbiAgICAgICAgICAgIGN1cnJlbnRMZW5ndGg6IDAsXG4gICAgICAgICAgICBtYXhMZW5ndGg6IHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ21heExlbmd0aCcpLFxuICAgICAgICAgICAgbWF4TGVuZ3RoVmlzaWJsZTogdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgnbWF4TGVuZ3RoVmlzaWJsZScpLFxuICAgICAgICAgICAgbWF4TGVuZ3RoU3RyaWN0OiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdtYXhMZW5ndGhTdHJpY3QnKSxcbiAgICAgICAgICAgIHRleHRhcmVhU3R5bGU6IHRleHRhcmVhU3R5bGUsXG4gICAgICAgICAgICBsYWJlbFN0eWxlOiBsYWJlbFN0eWxlLFxuICAgICAgICAgICAgY2xlYXJJbnB1dDogdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgnY2xlYXJJbnB1dCcpLFxuICAgICAgICAgICAgbWFuZGF0b3J5OiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdtYW5kYXRvcnknKSxcbiAgICAgICAgICAgIG1hbmRhdG9yeVJlbWluZGVyOiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdtYW5kYXRvcnlSZW1pbmRlcicpLFxuICAgICAgICAgICAgYm94V2lkdGg6IHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ2JveFdpZHRoJykgfHwgJzEwMCUnLFxuICAgICAgICAgICAgYm94UGFkZGluZ0xlZnQ6IHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ2JveFBhZGRpbmdMZWZ0JykgfHwgJzAnLFxuICAgICAgICAgICAgYm94UGFkZGluZ1JpZ2h0OiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdib3hQYWRkaW5nUmlnaHQnKSB8fCAnMjBweCcsXG4gICAgICAgICAgICB2YWxpZGF0aW9uRW1haWw6IHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ3ZhbGlkYXRlRW1haWwnKSB8fCBmYWxzZVxuICAgICAgICB9XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/***/ }),
/* 41 */
/***/ (function(module, exports) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var ParameterValuePropertyPair = (function () {
	    function ParameterValuePropertyPair(parameter, property) {
	        this.parameter = parameter;
	        this.property = property;
	    }
	    return ParameterValuePropertyPair;
	}());
	exports.ParameterValuePropertyPair = ParameterValuePropertyPair;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvcGFyYW1ldGVycy9wYXJhbWV0ZXJfdmFsdWVfcHJvcGVydHlfcGFpci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBO0lBSUksb0NBQVksU0FBZ0IsRUFBRSxRQUFZO1FBQ3RDLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO1FBQzNCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0lBQzdCLENBQUM7SUFDTCxpQ0FBQztBQUFELENBUkEsQUFRQyxJQUFBO0FBUlksZ0VBQTBCIiwiZmlsZSI6ImFwcC9tb2RlbHMvcGFyYW1ldGVycy9wYXJhbWV0ZXJfdmFsdWVfcHJvcGVydHlfcGFpci5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBQYXJhbWV0ZXJWYWx1ZVByb3BlcnR5UGFpciB7XG4gICAgcGFyYW1ldGVyOnN0cmluZztcbiAgICBwcm9wZXJ0eTphbnk7XG4gICAgXG4gICAgY29uc3RydWN0b3IocGFyYW1ldGVyOnN0cmluZywgcHJvcGVydHk6YW55KSB7XG4gICAgICAgIHRoaXMucGFyYW1ldGVyID0gcGFyYW1ldGVyO1xuICAgICAgICB0aGlzLnByb3BlcnR5ID0gcHJvcGVydHk7XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	var __extends = (this && this.__extends) || (function () {
	    var extendStatics = Object.setPrototypeOf ||
	        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
	        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
	    return function (d, b) {
	        extendStatics(d, b);
	        function __() { this.constructor = d; }
	        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
	    };
	})();
	Object.defineProperty(exports, "__esModule", { value: true });
	var mechanism_1 = __webpack_require__(36);
	var AudioMechanism = (function (_super) {
	    __extends(AudioMechanism, _super);
	    function AudioMechanism(id, type, active, order, canBeActivated, parameters) {
	        return _super.call(this, id, type, active, order, canBeActivated, parameters) || this;
	    }
	    AudioMechanism.prototype.getContext = function () {
	        return {
	            maxTime: this.getParameterValue('maxTime'),
	            title: this.getParameterValue('title'),
	            boxWidth: this.getParameterValue('boxWidth'),
	            boxPaddingLeft: this.getParameterValue('boxPaddingLeft') || '0',
	            boxPaddingRight: this.getParameterValue('boxPaddingRight') || '20px'
	        };
	    };
	    return AudioMechanism;
	}(mechanism_1.Mechanism));
	exports.AudioMechanism = AudioMechanism;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvbWVjaGFuaXNtcy9hdWRpb19tZWNoYW5pc20udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUEseUNBQXNDO0FBSXRDO0lBQW9DLGtDQUFTO0lBRXpDLHdCQUFZLEVBQVMsRUFBRSxJQUFXLEVBQUUsTUFBYyxFQUFFLEtBQVksRUFBRSxjQUFzQixFQUFFLFVBQXNCO2VBQzVHLGtCQUFNLEVBQUUsRUFBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEtBQUssRUFBRSxjQUFjLEVBQUUsVUFBVSxDQUFDO0lBQzlELENBQUM7SUFFRCxtQ0FBVSxHQUFWO1FBQ0ksTUFBTSxDQUFDO1lBQ0gsT0FBTyxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLENBQUM7WUFDMUMsS0FBSyxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxPQUFPLENBQUM7WUFDdEMsUUFBUSxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLENBQUM7WUFDNUMsY0FBYyxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLEdBQUc7WUFDL0QsZUFBZSxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLE1BQU07U0FDdkUsQ0FBQTtJQUNMLENBQUM7SUFDTCxxQkFBQztBQUFELENBZkEsQUFlQyxDQWZtQyxxQkFBUyxHQWU1QztBQWZZLHdDQUFjIiwiZmlsZSI6ImFwcC9tb2RlbHMvbWVjaGFuaXNtcy9hdWRpb19tZWNoYW5pc20uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge01lY2hhbmlzbX0gZnJvbSAnLi9tZWNoYW5pc20nO1xuaW1wb3J0IHtQYXJhbWV0ZXJ9IGZyb20gJy4uL3BhcmFtZXRlcnMvcGFyYW1ldGVyJztcblxuXG5leHBvcnQgY2xhc3MgQXVkaW9NZWNoYW5pc20gZXh0ZW5kcyBNZWNoYW5pc20ge1xuXG4gICAgY29uc3RydWN0b3IoaWQ6bnVtYmVyLCB0eXBlOnN0cmluZywgYWN0aXZlOmJvb2xlYW4sIG9yZGVyOm51bWJlciwgY2FuQmVBY3RpdmF0ZWQ6Ym9vbGVhbiwgcGFyYW1ldGVyczpQYXJhbWV0ZXJbXSkge1xuICAgICAgICBzdXBlcihpZCwgdHlwZSwgYWN0aXZlLCBvcmRlciwgY2FuQmVBY3RpdmF0ZWQsIHBhcmFtZXRlcnMpO1xuICAgIH1cblxuICAgIGdldENvbnRleHQoKTphbnkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWF4VGltZTogdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgnbWF4VGltZScpLFxuICAgICAgICAgICAgdGl0bGU6IHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ3RpdGxlJyksXG4gICAgICAgICAgICBib3hXaWR0aDogdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgnYm94V2lkdGgnKSxcbiAgICAgICAgICAgIGJveFBhZGRpbmdMZWZ0OiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdib3hQYWRkaW5nTGVmdCcpIHx8ICcwJyxcbiAgICAgICAgICAgIGJveFBhZGRpbmdSaWdodDogdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgnYm94UGFkZGluZ1JpZ2h0JykgfHwgJzIwcHgnXG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	var __extends = (this && this.__extends) || (function () {
	    var extendStatics = Object.setPrototypeOf ||
	        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
	        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
	    return function (d, b) {
	        extendStatics(d, b);
	        function __() { this.constructor = d; }
	        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
	    };
	})();
	Object.defineProperty(exports, "__esModule", { value: true });
	var mechanism_1 = __webpack_require__(36);
	var AttachmentMechanism = (function (_super) {
	    __extends(AttachmentMechanism, _super);
	    function AttachmentMechanism(id, type, active, order, canBeActivated, parameters) {
	        return _super.call(this, id, type, active, order, canBeActivated, parameters) || this;
	    }
	    AttachmentMechanism.prototype.getContext = function () {
	        return {
	            title: this.getParameterValue('title'),
	            boxWidth: this.getParameterValue('boxWidth') || '100%',
	            boxPaddingLeft: this.getParameterValue('boxPaddingLeft') || '0',
	            boxPaddingRight: this.getParameterValue('boxPaddingRight') || '20px'
	        };
	    };
	    return AttachmentMechanism;
	}(mechanism_1.Mechanism));
	exports.AttachmentMechanism = AttachmentMechanism;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvbWVjaGFuaXNtcy9hdHRhY2htZW50X21lY2hhbmlzbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBQSx5Q0FBc0M7QUFJdEM7SUFBeUMsdUNBQVM7SUFHOUMsNkJBQVksRUFBUyxFQUFFLElBQVcsRUFBRSxNQUFjLEVBQUUsS0FBWSxFQUFFLGNBQXNCLEVBQUUsVUFBc0I7ZUFDNUcsa0JBQU0sRUFBRSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLGNBQWMsRUFBRSxVQUFVLENBQUM7SUFDOUQsQ0FBQztJQUVELHdDQUFVLEdBQVY7UUFDSSxNQUFNLENBQUM7WUFDSCxLQUFLLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQztZQUN0QyxRQUFRLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLFVBQVUsQ0FBQyxJQUFJLE1BQU07WUFDdEQsY0FBYyxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxnQkFBZ0IsQ0FBQyxJQUFJLEdBQUc7WUFDL0QsZUFBZSxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLE1BQU07U0FDdkUsQ0FBQTtJQUNMLENBQUM7SUFDTCwwQkFBQztBQUFELENBZkEsQUFlQyxDQWZ3QyxxQkFBUyxHQWVqRDtBQWZZLGtEQUFtQiIsImZpbGUiOiJhcHAvbW9kZWxzL21lY2hhbmlzbXMvYXR0YWNobWVudF9tZWNoYW5pc20uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge01lY2hhbmlzbX0gZnJvbSAnLi9tZWNoYW5pc20nO1xuaW1wb3J0IHtQYXJhbWV0ZXJ9IGZyb20gJy4uL3BhcmFtZXRlcnMvcGFyYW1ldGVyJztcblxuXG5leHBvcnQgY2xhc3MgQXR0YWNobWVudE1lY2hhbmlzbSBleHRlbmRzIE1lY2hhbmlzbSB7XG4gICAgZHJvcEFyZWE6YW55O1xuXG4gICAgY29uc3RydWN0b3IoaWQ6bnVtYmVyLCB0eXBlOnN0cmluZywgYWN0aXZlOmJvb2xlYW4sIG9yZGVyOm51bWJlciwgY2FuQmVBY3RpdmF0ZWQ6Ym9vbGVhbiwgcGFyYW1ldGVyczpQYXJhbWV0ZXJbXSkge1xuICAgICAgICBzdXBlcihpZCwgdHlwZSwgYWN0aXZlLCBvcmRlciwgY2FuQmVBY3RpdmF0ZWQsIHBhcmFtZXRlcnMpO1xuICAgIH1cblxuICAgIGdldENvbnRleHQoKTphbnkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGl0bGU6IHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ3RpdGxlJyksXG4gICAgICAgICAgICBib3hXaWR0aDogdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgnYm94V2lkdGgnKSB8fCAnMTAwJScsXG4gICAgICAgICAgICBib3hQYWRkaW5nTGVmdDogdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgnYm94UGFkZGluZ0xlZnQnKSB8fCAnMCcsXG4gICAgICAgICAgICBib3hQYWRkaW5nUmlnaHQ6IHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ2JveFBhZGRpbmdSaWdodCcpIHx8ICcyMHB4J1xuICAgICAgICB9XG4gICAgfVxufVxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/***/ }),
/* 44 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	var __extends = (this && this.__extends) || (function () {
	    var extendStatics = Object.setPrototypeOf ||
	        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
	        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
	    return function (d, b) {
	        extendStatics(d, b);
	        function __() { this.constructor = d; }
	        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
	    };
	})();
	Object.defineProperty(exports, "__esModule", { value: true });
	var mechanism_1 = __webpack_require__(36);
	var InfoMechanism = (function (_super) {
	    __extends(InfoMechanism, _super);
	    function InfoMechanism(id, type, active, order, canBeActivated, parameters) {
	        return _super.call(this, id, type, active, order, canBeActivated, parameters) || this;
	    }
	    InfoMechanism.prototype.getContext = function () {
	        return {
	            text: this.getParameterValue('text') || '',
	            boxWidth: this.getParameterValue('boxWidth') || '100%',
	            boxPaddingLeft: this.getParameterValue('boxPaddingLeft') || '0',
	            boxPaddingRight: this.getParameterValue('boxPaddingRight') || '20px'
	        };
	    };
	    return InfoMechanism;
	}(mechanism_1.Mechanism));
	exports.InfoMechanism = InfoMechanism;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvbWVjaGFuaXNtcy9pbmZvX21lY2hhbmlzbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFDQSx5Q0FBc0M7QUFHdEM7SUFBbUMsaUNBQVM7SUFFeEMsdUJBQVksRUFBVSxFQUFFLElBQVcsRUFBRSxNQUFjLEVBQUUsS0FBYSxFQUFFLGNBQXVCLEVBQUUsVUFBdUI7ZUFDaEgsa0JBQU0sRUFBRSxFQUFFLElBQUksRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLGNBQWMsRUFBRSxVQUFVLENBQUM7SUFDOUQsQ0FBQztJQUVELGtDQUFVLEdBQVY7UUFDSSxNQUFNLENBQUM7WUFDSCxJQUFJLEVBQUUsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUU7WUFDMUMsUUFBUSxFQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxVQUFVLENBQUMsSUFBSSxNQUFNO1lBQ3RELGNBQWMsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxHQUFHO1lBQy9ELGVBQWUsRUFBRSxJQUFJLENBQUMsaUJBQWlCLENBQUMsaUJBQWlCLENBQUMsSUFBSSxNQUFNO1NBQ3ZFLENBQUE7SUFDTCxDQUFDO0lBQ0wsb0JBQUM7QUFBRCxDQWRBLEFBY0MsQ0Fka0MscUJBQVMsR0FjM0M7QUFkWSxzQ0FBYSIsImZpbGUiOiJhcHAvbW9kZWxzL21lY2hhbmlzbXMvaW5mb19tZWNoYW5pc20uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1BhcmFtZXRlcn0gZnJvbSAnLi9wYXJhbWV0ZXJzL3BhcmFtZXRlcic7XG5pbXBvcnQge01lY2hhbmlzbX0gZnJvbSAnLi9tZWNoYW5pc20nO1xuXG5cbmV4cG9ydCBjbGFzcyBJbmZvTWVjaGFuaXNtIGV4dGVuZHMgTWVjaGFuaXNtIHtcblxuICAgIGNvbnN0cnVjdG9yKGlkOiBudW1iZXIsIHR5cGU6c3RyaW5nLCBhY3RpdmU6Ym9vbGVhbiwgb3JkZXI/Om51bWJlciwgY2FuQmVBY3RpdmF0ZWQ/OmJvb2xlYW4sIHBhcmFtZXRlcnM/OlBhcmFtZXRlcltdKSB7XG4gICAgICAgIHN1cGVyKGlkLCB0eXBlLCBhY3RpdmUsIG9yZGVyLCBjYW5CZUFjdGl2YXRlZCwgcGFyYW1ldGVycyk7XG4gICAgfVxuXG4gICAgZ2V0Q29udGV4dCgpOiBhbnkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGV4dDogdGhpcy5nZXRQYXJhbWV0ZXJWYWx1ZSgndGV4dCcpIHx8ICcnLFxuICAgICAgICAgICAgYm94V2lkdGg6IHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ2JveFdpZHRoJykgfHwgJzEwMCUnLFxuICAgICAgICAgICAgYm94UGFkZGluZ0xlZnQ6IHRoaXMuZ2V0UGFyYW1ldGVyVmFsdWUoJ2JveFBhZGRpbmdMZWZ0JykgfHwgJzAnLFxuICAgICAgICAgICAgYm94UGFkZGluZ1JpZ2h0OiB0aGlzLmdldFBhcmFtZXRlclZhbHVlKCdib3hQYWRkaW5nUmlnaHQnKSB8fCAnMjBweCdcbiAgICAgICAgfVxuICAgIH1cbn0iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

/***/ }),
/* 45 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	var __extends = (this && this.__extends) || (function () {
	    var extendStatics = Object.setPrototypeOf ||
	        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
	        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
	    return function (d, b) {
	        extendStatics(d, b);
	        function __() { this.constructor = d; }
	        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
	    };
	})();
	Object.defineProperty(exports, "__esModule", { value: true });
	var configuration_1 = __webpack_require__(33);
	var config_1 = __webpack_require__(21);
	var PullConfiguration = (function (_super) {
	    __extends(PullConfiguration, _super);
	    function PullConfiguration(id, mechanisms, generalConfiguration) {
	        var _this = _super.call(this, id, mechanisms, config_1.configurationTypes.pull, generalConfiguration) || this;
	        _this.dialogId = 'pullConfiguration';
	        return _this;
	    }
	    PullConfiguration.prototype.checkTrigger = function (alreadyTriggeredOne) {
	        if (alreadyTriggeredOne === void 0) { alreadyTriggeredOne = false; }
	        if (this.generalConfiguration.getParameterValue('userAction')) {
	            var userAction = this.generalConfiguration.getParameterValue('userAction');
	            var actionName = userAction.filter(function (element) { return element.key === 'actionName'; }).length > 0 ? userAction.filter(function (element) { return element.key === 'actionName'; })[0].value : '';
	            var actionElement = userAction.filter(function (element) { return element.key === 'actionElement'; }).length > 0 ? userAction.filter(function (element) { return element.key === 'actionElement'; })[0].value : '';
	            var actionOnlyOncePerPageLoad = userAction.filter(function (element) { return element.key === 'actionOnlyOncePerPageLoad'; }).length > 0 ? userAction.filter(function (element) { return element.key === 'actionOnlyOncePerPageLoad'; })[0].value : true;
	            if (actionOnlyOncePerPageLoad) {
	                jQuery('' + actionElement).one(actionName, function () {
	                });
	            }
	            else {
	                jQuery('' + actionElement).on(actionName, function () {
	                });
	            }
	        }
	        if (!alreadyTriggeredOne && this.shouldGetTriggered()) {
	            return true;
	        }
	        return false;
	    };
	    ;
	    PullConfiguration.prototype.shouldGetTriggered = function () {
	        return this.pageDoesMatch(this.currentSlug()) && this.isDoNotDisturbTimeDurationOver() && (this.generalConfiguration.getParameterValue('askOnAppStartup') ||
	            Math.random() <= this.generalConfiguration.getParameterValue('likelihood'));
	    };
	    PullConfiguration.prototype.isDoNotDisturbTimeDurationOver = function () {
	        var doNotDisturbTimeDuration = 5 * 60;
	        if (this.generalConfiguration.getParameterValue('doNotDisturbTimeDuration') != null) {
	            doNotDisturbTimeDuration = this.generalConfiguration.getParameterValue('doNotDisturbTimeDuration');
	        }
	        return this.currentTimeStamp() - Number(this.getCookie(config_1.cookieNames.lastTriggered)) > doNotDisturbTimeDuration;
	    };
	    PullConfiguration.prototype.currentTimeStamp = function () {
	        if (!Date.now) {
	            Date.now = function () {
	                return new Date().getTime();
	            };
	        }
	        return Math.floor(Date.now() / 1000);
	    };
	    PullConfiguration.prototype.wasTriggered = function () {
	        this.setCookie(config_1.cookieNames.lastTriggered, this.currentTimeStamp(), 365);
	    };
	    PullConfiguration.prototype.currentSlug = function () {
	        var url = location.href;
	        return url.replace(/http(s*):\/\/[^\/]*\//i, "");
	    };
	    PullConfiguration.prototype.pageDoesMatch = function (slug) {
	        var pages = this.generalConfiguration.getParameterValue('pages');
	        if (pages === null || pages.length === 0) {
	            return true;
	        }
	        else {
	            for (var _i = 0, pages_1 = pages; _i < pages_1.length; _i++) {
	                var page = pages_1[_i];
	                if (page.value === slug) {
	                    return true;
	                }
	            }
	            return false;
	        }
	    };
	    PullConfiguration.prototype.setCookie = function (cname, cvalue, exdays) {
	        var d = new Date();
	        d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
	        var expires = "expires=" + d.toUTCString();
	        document.cookie = cname + "=" + cvalue + "; " + expires;
	    };
	    PullConfiguration.prototype.getCookie = function (cname) {
	        var name = cname + "=";
	        var ca = document.cookie.split(';');
	        for (var i = 0; i < ca.length; i++) {
	            var c = ca[i];
	            while (c.charAt(0) == ' ') {
	                c = c.substring(1);
	            }
	            if (c.indexOf(name) == 0) {
	                return c.substring(name.length, c.length);
	            }
	        }
	        return null;
	    };
	    return PullConfiguration;
	}(configuration_1.Configuration));
	exports.PullConfiguration = PullConfiguration;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvY29uZmlndXJhdGlvbnMvcHVsbF9jb25maWd1cmF0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUNBLGlEQUE4QztBQUU5QywwQ0FBZ0U7QUFTaEU7SUFBdUMscUNBQWE7SUFFaEQsMkJBQVksRUFBUyxFQUFFLFVBQXNCLEVBQUUsb0JBQXlDO1FBQXhGLFlBQ0ksa0JBQU0sRUFBRSxFQUFFLFVBQVUsRUFBRSwyQkFBa0IsQ0FBQyxJQUFJLEVBQUUsb0JBQW9CLENBQUMsU0FFdkU7UUFERyxLQUFJLENBQUMsUUFBUSxHQUFHLG1CQUFtQixDQUFDOztJQUN4QyxDQUFDO0lBV0Qsd0NBQVksR0FBWixVQUFhLG1CQUFtQztRQUFuQyxvQ0FBQSxFQUFBLDJCQUFtQztRQUU1QyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsb0JBQW9CLENBQUMsaUJBQWlCLENBQUMsWUFBWSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzVELElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxpQkFBaUIsQ0FBQyxZQUFZLENBQUMsQ0FBQztZQUMzRSxJQUFJLFVBQVUsR0FBRyxVQUFVLENBQUMsTUFBTSxDQUFDLFVBQUEsT0FBTyxJQUFJLE9BQUEsT0FBTyxDQUFDLEdBQUcsS0FBSyxZQUFZLEVBQTVCLENBQTRCLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxNQUFNLENBQUMsVUFBQSxPQUFPLElBQUksT0FBQSxPQUFPLENBQUMsR0FBRyxLQUFLLFlBQVksRUFBNUIsQ0FBNEIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7WUFDbEssSUFBSSxhQUFhLEdBQUcsVUFBVSxDQUFDLE1BQU0sQ0FBQyxVQUFBLE9BQU8sSUFBSSxPQUFBLE9BQU8sQ0FBQyxHQUFHLEtBQUssZUFBZSxFQUEvQixDQUErQixDQUFDLENBQUMsTUFBTSxHQUFHLENBQUMsR0FBRyxV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QUFHLE9BQU8sQ0FBQztJQUM1RCxDQUFDO0lBRUQscUNBQVMsR0FBVCxVQUFVLEtBQUs7UUFDWCxJQUFJLElBQUksR0FBRyxLQUFLLEdBQUcsR0FBRyxDQUFDO1FBQ3ZCLElBQUksRUFBRSxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3BDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO1lBQ2pDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNkLE9BQU8sQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztnQkFDeEIsQ0FBQyxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDdkIsQ0FBQztZQUNELEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDdkIsTUFBTSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUM7WUFDOUMsQ0FBQztRQUNMLENBQUM7UUFDRCxNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFDTCx3QkFBQztBQUFELENBbkhBLEFBbUhDLENBbkhzQyw2QkFBYSxHQW1IbkQ7QUFuSFksOENBQWlCIiwiZmlsZSI6ImFwcC9tb2RlbHMvY29uZmlndXJhdGlvbnMvcHVsbF9jb25maWd1cmF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtNZWNoYW5pc219IGZyb20gJy4uL21lY2hhbmlzbXMvbWVjaGFuaXNtJztcbmltcG9ydCB7Q29uZmlndXJhdGlvbn0gZnJvbSAnLi9jb25maWd1cmF0aW9uJztcbmltcG9ydCB7R2VuZXJhbENvbmZpZ3VyYXRpb259IGZyb20gJy4vZ2VuZXJhbF9jb25maWd1cmF0aW9uJztcbmltcG9ydCB7Y29uZmlndXJhdGlvblR5cGVzLCBjb29raWVOYW1lc30gZnJvbSAnLi4vLi4vanMvY29uZmlnJztcbmltcG9ydCB7UGFyYW1ldGVySW50ZXJmYWNlfSBmcm9tICcuLi9wYXJhbWV0ZXJzL3BhcmFtZXRlcl9pbnRlcmZhY2UnO1xuXG5cbi8qKlxuICogQ29uZmlndXJhdGlvbiBvYmplY3QgdXNlZCBmb3IgdGhlIHB1bGwgZmVlZGJhY2sgY2FzZS4gVGhhdCBtZWFucyB3aGVuIHRoZXJlIGlzIGEgcmVtaW5kZXIsIHBvcHVwIGV0Yy4gdGhhdCBpc1xuICogZGlzcGxheWVkIHRvIHRoZSB1c2VyIGluIG9yZGVyIHRvIGdldCBmZWVkYmFjayBmcm9tIGhpbS5cbiAqIE5vdGUgdGhhdCB0aGlzIGNsYXNzIGlzIGV4dGVuZGVkIGJ5IHRoZSBQYXJhbWV0ZXJpemFibGUgbWl4aW4gdG8gcHJvdmlkZSBtZXRob2RzIG9uIGEgcGFyYW1ldGVyIGFycmF5IGZpZWxkLlxuICovXG5leHBvcnQgY2xhc3MgUHVsbENvbmZpZ3VyYXRpb24gZXh0ZW5kcyBDb25maWd1cmF0aW9uIHtcblxuICAgIGNvbnN0cnVjdG9yKGlkOm51bWJlciwgbWVjaGFuaXNtczpNZWNoYW5pc21bXSwgZ2VuZXJhbENvbmZpZ3VyYXRpb246R2VuZXJhbENvbmZpZ3VyYXRpb24pIHtcbiAgICAgICAgc3VwZXIoaWQsIG1lY2hhbmlzbXMsIGNvbmZpZ3VyYXRpb25UeXBlcy5wdWxsLCBnZW5lcmFsQ29uZmlndXJhdGlvbik7XG4gICAgICAgIHRoaXMuZGlhbG9nSWQgPSAncHVsbENvbmZpZ3VyYXRpb24nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIHRoZSBwdWxsIG1lY2hhbmlzbXMgYW5kIHRyaWdnZXJzIHRoZSBmZWVkYmFjayBtZWNoYW5pc21zIGlmIG5lY2Vzc2FyeS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhbHJlYWR5VHJpZ2dlcmVkT25lXG4gICAgICogIEJvb2xlYW4gdGhhdCBpbmRpY2F0ZWQgd2hldGhlciBhIHB1bGwgY29uZmlndXJhdGlvbiBoYXMgYWxyZWFkeSBiZWVuIHRyaWdnZXJlZC5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIGJvb2xlYW5cbiAgICAgKiAgV2hldGhlciB0aGUgcHVsbCBjb25maWd1cmF0aW9uIHdhcyB0cmlnZ2VyZWQgb3Igbm90LlxuICAgICAqL1xuICAgIGNoZWNrVHJpZ2dlcihhbHJlYWR5VHJpZ2dlcmVkT25lOmJvb2xlYW4gPSBmYWxzZSk6Ym9vbGVhbiB7XG4gICAgICAgIC8vIHRyaWdnZXJzIG9uIGVsZW1lbnRzXG4gICAgICAgIGlmICh0aGlzLmdlbmVyYWxDb25maWd1cmF0aW9uLmdldFBhcmFtZXRlclZhbHVlKCd1c2VyQWN0aW9uJykpIHtcbiAgICAgICAgICAgIHZhciB1c2VyQWN0aW9uID0gdGhpcy5nZW5lcmFsQ29uZmlndXJhdGlvbi5nZXRQYXJhbWV0ZXJWYWx1ZSgndXNlckFjdGlvbicpO1xuICAgICAgICAgICAgdmFyIGFjdGlvbk5hbWUgPSB1c2VyQWN0aW9uLmZpbHRlcihlbGVtZW50ID0+IGVsZW1lbnQua2V5ID09PSAnYWN0aW9uTmFtZScpLmxlbmd0aCA+IDAgPyB1c2VyQWN0aW9uLmZpbHRlcihlbGVtZW50ID0+IGVsZW1lbnQua2V5ID09PSAnYWN0aW9uTmFtZScpWzBdLnZhbHVlIDogJyc7XG4gICAgICAgICAgICB2YXIgYWN0aW9uRWxlbWVudCA9IHVzZXJBY3Rpb24uZmlsdGVyKGVsZW1lbnQgPT4gZWxlbWVudC5rZXkgPT09ICdhY3Rpb25FbGVtZW50JykubGVuZ3RoID4gMCA/IHVzZXJBY3Rpb24uZmlsdGVyKGVsZW1lbnQgPT4gZWxlbWVudC5rZXkgPT09ICdhY3Rpb25FbGVtZW50JylbMF0udmFsdWUgOiAnJztcbiAgICAgICAgICAgIHZhciBhY3Rpb25Pbmx5T25jZVBlclBhZ2VMb2FkID0gdXNlckFjdGlvbi5maWx0ZXIoZWxlbWVudCA9PiBlbGVtZW50LmtleSA9PT0gJ2FjdGlvbk9ubHlPbmNlUGVyUGFnZUxvYWQnKS5sZW5ndGggPiAwID8gdXNlckFjdGlvbi5maWx0ZXIoZWxlbWVudCA9PiBlbGVtZW50LmtleSA9PT0gJ2FjdGlvbk9ubHlPbmNlUGVyUGFnZUxvYWQnKVswXS52YWx1ZSA6IHRydWU7XG5cbiAgICAgICAgICAgIGlmIChhY3Rpb25Pbmx5T25jZVBlclBhZ2VMb2FkKSB7XG4gICAgICAgICAgICAgICAgalF1ZXJ5KCcnICsgYWN0aW9uRWxlbWVudCkub25lKGFjdGlvbk5hbWUsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVE9ETyBzaG93UHVsbERpYWxvZyhjb25maWd1cmF0aW9uLCBnZW5lcmFsQ29uZmlndXJhdGlvbik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgalF1ZXJ5KCcnICsgYWN0aW9uRWxlbWVudCkub24oYWN0aW9uTmFtZSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIHNob3dQdWxsRGlhbG9nKGNvbmZpZ3VyYXRpb24sIGdlbmVyYWxDb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGlyZWN0IHRyaWdnZXJzXG4gICAgICAgIGlmICghYWxyZWFkeVRyaWdnZXJlZE9uZSAmJiB0aGlzLnNob3VsZEdldFRyaWdnZXJlZCgpKSB7XG4gICAgICAgICAgICAvLyBUT0RPIHNob3dQdWxsRGlhbG9nKHRoaXMsIGdlbmVyYWxDb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVjaWRlcyB3aGV0aGVyIHRoZSBtZWNoYW5pc21zIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGNvbmZpZ3VyYXRpb24gc2hvdWxkIGdldCBhY3RpdmF0ZWQgb3Igbm90LlxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgdGhlIG1lY2hhbmlzbWVzIHNob3VsZCBnZXQgdHJpZ2dlcmVkLlxuICAgICAqL1xuICAgIHNob3VsZEdldFRyaWdnZXJlZCgpOmJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wYWdlRG9lc01hdGNoKHRoaXMuY3VycmVudFNsdWcoKSkgJiYgdGhpcy5pc0RvTm90RGlzdHVyYlRpbWVEdXJhdGlvbk92ZXIoKSAmJiAodGhpcy5nZW5lcmFsQ29uZmlndXJhdGlvbi5nZXRQYXJhbWV0ZXJWYWx1ZSgnYXNrT25BcHBTdGFydHVwJykgfHxcbiAgICAgICAgICAgIE1hdGgucmFuZG9tKCkgPD0gdGhpcy5nZW5lcmFsQ29uZmlndXJhdGlvbi5nZXRQYXJhbWV0ZXJWYWx1ZSgnbGlrZWxpaG9vZCcpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzRG9Ob3REaXN0dXJiVGltZUR1cmF0aW9uT3ZlcigpIHtcbiAgICAgICAgdmFyIGRvTm90RGlzdHVyYlRpbWVEdXJhdGlvbiA9IDUgKiA2MDtcbiAgICAgICAgaWYgKHRoaXMuZ2VuZXJhbENvbmZpZ3VyYXRpb24uZ2V0UGFyYW1ldGVyVmFsdWUoJ2RvTm90RGlzdHVyYlRpbWVEdXJhdGlvbicpICE9IG51bGwpIHtcbiAgICAgICAgICAgIGRvTm90RGlzdHVyYlRpbWVEdXJhdGlvbiA9IHRoaXMuZ2VuZXJhbENvbmZpZ3VyYXRpb24uZ2V0UGFyYW1ldGVyVmFsdWUoJ2RvTm90RGlzdHVyYlRpbWVEdXJhdGlvbicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnRUaW1lU3RhbXAoKSAtIE51bWJlcih0aGlzLmdldENvb2tpZShjb29raWVOYW1lcy5sYXN0VHJpZ2dlcmVkKSkgPiBkb05vdERpc3R1cmJUaW1lRHVyYXRpb247XG4gICAgfVxuXG4gICAgY3VycmVudFRpbWVTdGFtcCgpOm51bWJlciB7XG4gICAgICAgIGlmICghRGF0ZS5ub3cpIHtcbiAgICAgICAgICAgIERhdGUubm93ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMTAwMCk7XG4gICAgfVxuXG4gICAgd2FzVHJpZ2dlcmVkKCk6dm9pZCB7XG4gICAgICAgIHRoaXMuc2V0Q29va2llKGNvb2tpZU5hbWVzLmxhc3RUcmlnZ2VyZWQsIHRoaXMuY3VycmVudFRpbWVTdGFtcCgpLCAzNjUpO1xuICAgIH1cblxuICAgIGN1cnJlbnRTbHVnKCk6c3RyaW5nIHtcbiAgICAgICAgdmFyIHVybCA9IGxvY2F0aW9uLmhyZWY7XG4gICAgICAgIHJldHVybiB1cmwucmVwbGFjZSgvaHR0cChzKik6XFwvXFwvW15cXC9dKlxcLy9pLCBcIlwiKTtcbiAgICB9XG5cbiAgICBwYWdlRG9lc01hdGNoKHNsdWc6c3RyaW5nKTpib29sZWFuIHtcbiAgICAgICAgdmFyIHBhZ2VzOlBhcmFtZXRlckludGVyZmFjZVtdID0gdGhpcy5nZW5lcmFsQ29uZmlndXJhdGlvbi5nZXRQYXJhbWV0ZXJWYWx1ZSgncGFnZXMnKTtcblxuICAgICAgICBpZihwYWdlcyA9PT0gbnVsbCB8fCBwYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZm9yKHZhciBwYWdlIG9mIHBhZ2VzKSB7XG4gICAgICAgICAgICAgICAgaWYocGFnZS52YWx1ZSA9PT0gc2x1Zykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRDb29raWUoY25hbWUsIGN2YWx1ZSwgZXhkYXlzKTp2b2lkIHtcbiAgICAgICAgdmFyIGQgPSBuZXcgRGF0ZSgpO1xuICAgICAgICBkLnNldFRpbWUoZC5nZXRUaW1lKCkgKyAoZXhkYXlzICogMjQgKiA2MCAqIDYwICogMTAwMCkpO1xuICAgICAgICB2YXIgZXhwaXJlcyA9IFwiZXhwaXJlcz1cIiArIGQudG9VVENTdHJpbmcoKTtcbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gY25hbWUgKyBcIj1cIiArIGN2YWx1ZSArIFwiOyBcIiArIGV4cGlyZXM7XG4gICAgfVxuXG4gICAgZ2V0Q29va2llKGNuYW1lKSB7XG4gICAgICAgIHZhciBuYW1lID0gY25hbWUgKyBcIj1cIjtcbiAgICAgICAgdmFyIGNhID0gZG9jdW1lbnQuY29va2llLnNwbGl0KCc7Jyk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2EubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjID0gY2FbaV07XG4gICAgICAgICAgICB3aGlsZSAoYy5jaGFyQXQoMCkgPT0gJyAnKSB7XG4gICAgICAgICAgICAgICAgYyA9IGMuc3Vic3RyaW5nKDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGMuaW5kZXhPZihuYW1lKSA9PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGMuc3Vic3RyaW5nKG5hbWUubGVuZ3RoLCBjLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	var __extends = (this && this.__extends) || (function () {
	    var extendStatics = Object.setPrototypeOf ||
	        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
	        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
	    return function (d, b) {
	        extendStatics(d, b);
	        function __() { this.constructor = d; }
	        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
	    };
	})();
	Object.defineProperty(exports, "__esModule", { value: true });
	var configuration_1 = __webpack_require__(33);
	var config_1 = __webpack_require__(21);
	var ElementSpecificPushConfiguration = (function (_super) {
	    __extends(ElementSpecificPushConfiguration, _super);
	    function ElementSpecificPushConfiguration(id, mechanisms, generalConfiguration) {
	        var _this = _super.call(this, id, mechanisms, config_1.configurationTypes.elementSpecificPush, generalConfiguration) || this;
	        _this.dialogId = 'elementSpecificPushConfiguration';
	        return _this;
	    }
	    ElementSpecificPushConfiguration.prototype.getContext = function () {
	        return _super.prototype.getContext.call(this);
	    };
	    return ElementSpecificPushConfiguration;
	}(configuration_1.Configuration));
	exports.ElementSpecificPushConfiguration = ElementSpecificPushConfiguration;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvY29uZmlndXJhdGlvbnMvZWxlbWVudF9zcGVjaWZpY19wdXNoX2NvbmZpZ3VyYXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQ0EsaURBQThDO0FBRTlDLDBDQUFtRDtBQU1uRDtJQUFzRCxvREFBYTtJQUUvRCwwQ0FBWSxFQUFTLEVBQUUsVUFBc0IsRUFBRSxvQkFBeUM7UUFBeEYsWUFDSSxrQkFBTSxFQUFFLEVBQUUsVUFBVSxFQUFFLDJCQUFrQixDQUFDLG1CQUFtQixFQUFFLG9CQUFvQixDQUFDLFNBRXRGO1FBREcsS0FBSSxDQUFDLFFBQVEsR0FBRyxrQ0FBa0MsQ0FBQzs7SUFDdkQsQ0FBQztJQUtELHFEQUFVLEdBQVY7UUFDSSxNQUFNLENBQUMsaUJBQU0sVUFBVSxXQUFFLENBQUM7SUFDOUIsQ0FBQztJQUNMLHVDQUFDO0FBQUQsQ0FiQSxBQWFDLENBYnFELDZCQUFhLEdBYWxFO0FBYlksNEVBQWdDIiwiZmlsZSI6ImFwcC9tb2RlbHMvY29uZmlndXJhdGlvbnMvZWxlbWVudF9zcGVjaWZpY19wdXNoX2NvbmZpZ3VyYXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge01lY2hhbmlzbX0gZnJvbSAnLi4vbWVjaGFuaXNtcy9tZWNoYW5pc20nO1xuaW1wb3J0IHtDb25maWd1cmF0aW9ufSBmcm9tICcuL2NvbmZpZ3VyYXRpb24nO1xuaW1wb3J0IHtHZW5lcmFsQ29uZmlndXJhdGlvbn0gZnJvbSAnLi9nZW5lcmFsX2NvbmZpZ3VyYXRpb24nO1xuaW1wb3J0IHtjb25maWd1cmF0aW9uVHlwZXN9IGZyb20gJy4uLy4uL2pzL2NvbmZpZyc7XG5cblxuLyoqXG4gKiBDb25maWd1cmF0aW9uIG9iamVjdCBmb3IgdGhlIGNhc2Ugd2hlbiB0aGUgdXNlciBhY3RpdmVseSBpbnZva2VzIHRoZSBmZWVkYmFjayBtZWNoYW5pc21zIGluIG9yZGVyIHRvIGdpdmUgZmVlZGJhY2suXG4gKi9cbmV4cG9ydCBjbGFzcyBFbGVtZW50U3BlY2lmaWNQdXNoQ29uZmlndXJhdGlvbiBleHRlbmRzIENvbmZpZ3VyYXRpb24ge1xuXG4gICAgY29uc3RydWN0b3IoaWQ6bnVtYmVyLCBtZWNoYW5pc21zOk1lY2hhbmlzbVtdLCBnZW5lcmFsQ29uZmlndXJhdGlvbjpHZW5lcmFsQ29uZmlndXJhdGlvbikge1xuICAgICAgICBzdXBlcihpZCwgbWVjaGFuaXNtcywgY29uZmlndXJhdGlvblR5cGVzLmVsZW1lbnRTcGVjaWZpY1B1c2gsIGdlbmVyYWxDb25maWd1cmF0aW9uKTtcbiAgICAgICAgdGhpcy5kaWFsb2dJZCA9ICdlbGVtZW50U3BlY2lmaWNQdXNoQ29uZmlndXJhdGlvbic7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY29udGV4dCBmb3IgdGVtcGxhdGVzIHdpdGhvdXQgdGhlIGNvbnRleHRzIG9mIHRoZSBtZWNoYW5pc21zLlxuICAgICAqL1xuICAgIGdldENvbnRleHQoKTphbnkge1xuICAgICAgICByZXR1cm4gc3VwZXIuZ2V0Q29udGV4dCgpO1xuICAgIH1cbn1cblxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/***/ }),
/* 47 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var array_shuffle_1 = __webpack_require__(48);
	var feedback_dialog_view_1 = __webpack_require__(49);
	var FeedbackApp = (function () {
	    function FeedbackApp(applicationService, applicationId, options, feedbackButton) {
	        this.applicationService = applicationService;
	        this.applicationId = applicationId;
	        this.options = options;
	        this.feedbackButton = feedbackButton;
	    }
	    FeedbackApp.prototype.loadApplicationConfiguration = function () {
	        var _this = this;
	        this.applicationService.retrieveApplication(this.applicationId, function (loadedApplication) {
	            _this.application = loadedApplication;
	            if (!loadedApplication.state) {
	                _this.feedbackButton.hide();
	            }
	            _this.checkPullConfigurations(loadedApplication);
	            _this.configureDialog(loadedApplication);
	            _this.configureFeedbackButton();
	            _this.configureElementSpecificPush(loadedApplication);
	            _this.feedbackButton.show();
	        }, function (errorData) {
	            console.warn('SERVER ERROR ' + errorData.status + ' ' + errorData.statusText + ': ' + errorData.responseText);
	            _this.feedbackButton.hide();
	        });
	    };
	    ;
	    FeedbackApp.prototype.configureDialog = function (application) {
	        var dialogId = 'pushConfiguration';
	        var dialogTemplate = __webpack_require__(100);
	        var context = application.getContextForView();
	        context = $.extend({}, context, this.options);
	        context = $.extend({}, context, application.getPushConfiguration().getContext());
	        this.dialogView = new feedback_dialog_view_1.FeedbackDialogView(dialogId, dialogTemplate, application.getPushConfiguration(), context);
	    };
	    FeedbackApp.prototype.configureFeedbackButton = function () {
	        var myThis = this;
	        this.feedbackButton.css('background-color', this.options.backgroundColor);
	        this.feedbackButton.css('color', this.options.color);
	        this.feedbackButton.attr('title', this.application.generalConfiguration.getParameterValue('quickInfo'));
	        this.feedbackButton.on('click', function (event) {
	            event.preventDefault();
	            event.stopPropagation();
	            myThis.dialogView.toggleDialog();
	        });
	    };
	    FeedbackApp.prototype.checkPullConfigurations = function (application) {
	        var alreadyTriggeredOne = false;
	        for (var _i = 0, _a = array_shuffle_1.shuffle(application.getPullConfigurations()); _i < _a.length; _i++) {
	            var pullConfiguration = _a[_i];
	            alreadyTriggeredOne = pullConfiguration.checkTrigger(alreadyTriggeredOne);
	        }
	    };
	    FeedbackApp.prototype.configureElementSpecificPush = function (application) {
	        for (var _i = 0, _a = application.getElementSpecificPushConfigurations(); _i < _a.length; _i++) {
	            var elementSpecificPushConfiguration = _a[_i];
	            var template_name = elementSpecificPushConfiguration.generalConfiguration.getParameterValue('baloonTemplate');
	            var baloonTemplate = __webpack_require__(110)("./" + template_name + '.handlebars');
	            var baloonTemplateContext = {
	                'linkTitle': elementSpecificPushConfiguration.generalConfiguration.getParameterValue('linkTitle'),
	                'linkText': elementSpecificPushConfiguration.generalConfiguration.getParameterValue('linkText')
	            };
	            var elementSelector = elementSpecificPushConfiguration.generalConfiguration.getParameterValue('element');
	            var html = baloonTemplate(baloonTemplateContext);
	        }
	    };
	    return FeedbackApp;
	}());
	exports.FeedbackApp = FeedbackApp;

	//# sourceMappingURL=data:application/json;base64,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QkFBb0IsQ0FBQyxpQkFBaUIsQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUN6RyxJQUFJLElBQUksR0FBRyxjQUFjLENBQUMscUJBQXFCLENBQUMsQ0FBQztTQU9wRDtJQUNMLENBQUM7SUFDTCxrQkFBQztBQUFELENBL0VBLEFBK0VDLElBQUE7QUEvRVksa0NBQVciLCJmaWxlIjoiYXBwL2pzL2ZlZWRiYWNrX2FwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7QXBwbGljYXRpb25TZXJ2aWNlfSBmcm9tICcuLi9zZXJ2aWNlcy9hcHBsaWNhdGlvbl9zZXJ2aWNlJztcbmltcG9ydCB7QXBwbGljYXRpb259IGZyb20gJy4uL21vZGVscy9hcHBsaWNhdGlvbnMvYXBwbGljYXRpb24nO1xuaW1wb3J0IHtzaHVmZmxlfSBmcm9tICcuL2hlbHBlcnMvYXJyYXlfc2h1ZmZsZSc7XG5pbXBvcnQge0ZlZWRiYWNrRGlhbG9nVmlld30gZnJvbSAnLi4vdmlld3MvZGlhbG9nL2ZlZWRiYWNrX2RpYWxvZ192aWV3JztcblxuXG5leHBvcnQgY2xhc3MgRmVlZGJhY2tBcHAge1xuICAgIGFwcGxpY2F0aW9uU2VydmljZTpBcHBsaWNhdGlvblNlcnZpY2U7XG4gICAgYXBwbGljYXRpb246QXBwbGljYXRpb247XG4gICAgYXBwbGljYXRpb25JZDpudW1iZXI7XG4gICAgb3B0aW9uczphbnk7XG4gICAgZmVlZGJhY2tCdXR0b246SlF1ZXJ5O1xuICAgIGRpYWxvZ1ZpZXc6RmVlZGJhY2tEaWFsb2dWaWV3O1xuXG4gICAgY29uc3RydWN0b3IoYXBwbGljYXRpb25TZXJ2aWNlOkFwcGxpY2F0aW9uU2VydmljZSwgYXBwbGljYXRpb25JZDpudW1iZXIsIG9wdGlvbnM6e30sIGZlZWRiYWNrQnV0dG9uOkpRdWVyeSkge1xuICAgICAgICB0aGlzLmFwcGxpY2F0aW9uU2VydmljZSA9IGFwcGxpY2F0aW9uU2VydmljZTtcbiAgICAgICAgdGhpcy5hcHBsaWNhdGlvbklkID0gYXBwbGljYXRpb25JZDtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5mZWVkYmFja0J1dHRvbiA9IGZlZWRiYWNrQnV0dG9uO1xuICAgIH1cblxuICAgIGxvYWRBcHBsaWNhdGlvbkNvbmZpZ3VyYXRpb24oKSB7XG4gICAgICAgIHRoaXMuYXBwbGljYXRpb25TZXJ2aWNlLnJldHJpZXZlQXBwbGljYXRpb24odGhpcy5hcHBsaWNhdGlvbklkLCBsb2FkZWRBcHBsaWNhdGlvbiA9PiB7XG4gICAgICAgICAgICB0aGlzLmFwcGxpY2F0aW9uID0gbG9hZGVkQXBwbGljYXRpb247XG4gICAgICAgICAgICBpZiAoIWxvYWRlZEFwcGxpY2F0aW9uLnN0YXRlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5mZWVkYmFja0J1dHRvbi5oaWRlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNoZWNrUHVsbENvbmZpZ3VyYXRpb25zKGxvYWRlZEFwcGxpY2F0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJlRGlhbG9nKGxvYWRlZEFwcGxpY2F0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJlRmVlZGJhY2tCdXR0b24oKTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlndXJlRWxlbWVudFNwZWNpZmljUHVzaChsb2FkZWRBcHBsaWNhdGlvbik7XG4gICAgICAgICAgICB0aGlzLmZlZWRiYWNrQnV0dG9uLnNob3coKTtcbiAgICAgICAgfSwgZXJyb3JEYXRhID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignU0VSVkVSIEVSUk9SICcgKyBlcnJvckRhdGEuc3RhdHVzICsgJyAnICsgZXJyb3JEYXRhLnN0YXR1c1RleHQgKyAnOiAnICsgZXJyb3JEYXRhLnJlc3BvbnNlVGV4dCk7XG4gICAgICAgICAgICB0aGlzLmZlZWRiYWNrQnV0dG9uLmhpZGUoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNvbmZpZ3VyZURpYWxvZyhhcHBsaWNhdGlvbjpBcHBsaWNhdGlvbikge1xuICAgICAgICBsZXQgZGlhbG9nSWQgPSAncHVzaENvbmZpZ3VyYXRpb24nO1xuICAgICAgICB2YXIgZGlhbG9nVGVtcGxhdGUgPSByZXF1aXJlKCcuLi90ZW1wbGF0ZXMvZmVlZGJhY2tfZGlhbG9nLmhhbmRsZWJhcnMnKTtcbiAgICAgICAgdmFyIGNvbnRleHQgPSBhcHBsaWNhdGlvbi5nZXRDb250ZXh0Rm9yVmlldygpO1xuICAgICAgICBjb250ZXh0ID0gJC5leHRlbmQoe30sIGNvbnRleHQsIHRoaXMub3B0aW9ucyk7XG4gICAgICAgIGNvbnRleHQgPSAkLmV4dGVuZCh7fSwgY29udGV4dCwgYXBwbGljYXRpb24uZ2V0UHVzaENvbmZpZ3VyYXRpb24oKS5nZXRDb250ZXh0KCkpO1xuICAgICAgICB0aGlzLmRpYWxvZ1ZpZXcgPSBuZXcgRmVlZGJhY2tEaWFsb2dWaWV3KGRpYWxvZ0lkLCBkaWFsb2dUZW1wbGF0ZSwgYXBwbGljYXRpb24uZ2V0UHVzaENvbmZpZ3VyYXRpb24oKSwgY29udGV4dCk7XG4gICAgfVxuXG4gICAgY29uZmlndXJlRmVlZGJhY2tCdXR0b24oKSB7XG4gICAgICAgIHZhciBteVRoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmZlZWRiYWNrQnV0dG9uLmNzcygnYmFja2dyb3VuZC1jb2xvcicsIHRoaXMub3B0aW9ucy5iYWNrZ3JvdW5kQ29sb3IpO1xuICAgICAgICB0aGlzLmZlZWRiYWNrQnV0dG9uLmNzcygnY29sb3InLCB0aGlzLm9wdGlvbnMuY29sb3IpO1xuICAgICAgICB0aGlzLmZlZWRiYWNrQnV0dG9uLmF0dHIoJ3RpdGxlJywgdGhpcy5hcHBsaWNhdGlvbi5nZW5lcmFsQ29uZmlndXJhdGlvbi5nZXRQYXJhbWV0ZXJWYWx1ZSgncXVpY2tJbmZvJykpO1xuICAgICAgICB0aGlzLmZlZWRiYWNrQnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgbXlUaGlzLmRpYWxvZ1ZpZXcudG9nZ2xlRGlhbG9nKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNoZWNrUHVsbENvbmZpZ3VyYXRpb25zKGFwcGxpY2F0aW9uOkFwcGxpY2F0aW9uKSB7XG4gICAgICAgIHZhciBhbHJlYWR5VHJpZ2dlcmVkT25lID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IHB1bGxDb25maWd1cmF0aW9uIG9mIHNodWZmbGUoYXBwbGljYXRpb24uZ2V0UHVsbENvbmZpZ3VyYXRpb25zKCkpKSB7XG4gICAgICAgICAgICBhbHJlYWR5VHJpZ2dlcmVkT25lID0gcHVsbENvbmZpZ3VyYXRpb24uY2hlY2tUcmlnZ2VyKGFscmVhZHlUcmlnZ2VyZWRPbmUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29uZmlndXJlRWxlbWVudFNwZWNpZmljUHVzaChhcHBsaWNhdGlvbjpBcHBsaWNhdGlvbikge1xuICAgICAgICBmb3IobGV0IGVsZW1lbnRTcGVjaWZpY1B1c2hDb25maWd1cmF0aW9uIG9mIGFwcGxpY2F0aW9uLmdldEVsZW1lbnRTcGVjaWZpY1B1c2hDb25maWd1cmF0aW9ucygpKSB7XG4gICAgICAgICAgICBsZXQgdGVtcGxhdGVfbmFtZSA9IGVsZW1lbnRTcGVjaWZpY1B1c2hDb25maWd1cmF0aW9uLmdlbmVyYWxDb25maWd1cmF0aW9uLmdldFBhcmFtZXRlclZhbHVlKCdiYWxvb25UZW1wbGF0ZScpO1xuICAgICAgICAgICAgbGV0IGJhbG9vblRlbXBsYXRlID0gcmVxdWlyZSgnLi4vdGVtcGxhdGVzL2JhbG9vbnMvJyArIHRlbXBsYXRlX25hbWUgKyAnLmhhbmRsZWJhcnMnKTtcbiAgICAgICAgICAgIGxldCBiYWxvb25UZW1wbGF0ZUNvbnRleHQgPSB7XG4gICAgICAgICAgICAgICAgJ2xpbmtUaXRsZSc6IGVsZW1lbnRTcGVjaWZpY1B1c2hDb25maWd1cmF0aW9uLmdlbmVyYWxDb25maWd1cmF0aW9uLmdldFBhcmFtZXRlclZhbHVlKCdsaW5rVGl0bGUnKSxcbiAgICAgICAgICAgICAgICAnbGlua1RleHQnOiBlbGVtZW50U3BlY2lmaWNQdXNoQ29uZmlndXJhdGlvbi5nZW5lcmFsQ29uZmlndXJhdGlvbi5nZXRQYXJhbWV0ZXJWYWx1ZSgnbGlua1RleHQnKVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgbGV0IGVsZW1lbnRTZWxlY3RvciA9IGVsZW1lbnRTcGVjaWZpY1B1c2hDb25maWd1cmF0aW9uLmdlbmVyYWxDb25maWd1cmF0aW9uLmdldFBhcmFtZXRlclZhbHVlKCdlbGVtZW50Jyk7XG4gICAgICAgICAgICBsZXQgaHRtbCA9IGJhbG9vblRlbXBsYXRlKGJhbG9vblRlbXBsYXRlQ29udGV4dCk7XG5cbiAgICAgICAgICAgIC8vIFRPRE8gaW5pdGlhbGl6ZSBhIGRpYWxvZyB2aWV3IHdpdGggdGhlIGNvbmZpZ3VyYXRpb24sIGFuIGV4YW1wbGUgY29uZmlndXJhdGlvbiBpcyBpbiBhcHBsaWNhdGlvbnNfbW9jay5qc29uIChzZWUgY29uZmlndXJhdGlvbiBvZiB0eXBlIEVMRU1FTlRfU1BFQ0lGSUNfUFVTSClcbiAgICAgICAgICAgIC8vIFRPRE8gcG9zaXRpb24gdGhlIGJhbG9vbiB0ZW1wbGF0ZSBodG1sIG5lYXIgdGhlIGVsZW1lbnQgKG1heWJlIHBhcmFtZXRlcnMgZm9yIHggYW5kIHkgb2Zmc2V0cyBvciBzb21ldGhpbmcgbGlrZSBib3R0b20sIGxlZnQsIHJpZ2h0LCB0b3ApXG4gICAgICAgICAgICAvLyBUT0RPIGNyZWF0ZSBvdGhlciBiYWxvb24gdGVtcGxhdGVzIGlmIG5lZWRlZFxuICAgICAgICAgICAgLy8gVE9ETyBtYXliZSBhZGQgc29tZSBhbmltYXRpb24gdG8gdGhlIGJhbG9vbiB0ZW1wbGF0ZVxuICAgICAgICAgICAgLy8gVE9ETyBldmVudDogYmFsb29uIGNsaWNrIC0tPiBvcGVuIGRpYWxvZ1xuICAgICAgICB9XG4gICAgfVxufSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/***/ }),
/* 48 */
/***/ (function(module, exports) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	exports.shuffle = function (input) {
	    for (var i = input.length - 1; i >= 0; i--) {
	        var randomIndex = Math.floor(Math.random() * (i + 1));
	        var itemAtIndex = input[randomIndex];
	        input[randomIndex] = input[i];
	        input[i] = itemAtIndex;
	    }
	    return input;
	};

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9qcy9oZWxwZXJzL2FycmF5X3NodWZmbGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBVyxRQUFBLE9BQU8sR0FBRyxVQUFTLEtBQUs7SUFDL0IsR0FBRyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsS0FBSyxDQUFDLE1BQU0sR0FBQyxDQUFDLEVBQUUsQ0FBQyxJQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO1FBRXRDLElBQUksV0FBVyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEQsSUFBSSxXQUFXLEdBQUcsS0FBSyxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBRXJDLEtBQUssQ0FBQyxXQUFXLENBQUMsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDOUIsS0FBSyxDQUFDLENBQUMsQ0FBQyxHQUFHLFdBQVcsQ0FBQztJQUMzQixDQUFDO0lBQ0QsTUFBTSxDQUFDLEtBQUssQ0FBQztBQUNqQixDQUFDLENBQUMiLCJmaWxlIjoiYXBwL2pzL2hlbHBlcnMvYXJyYXlfc2h1ZmZsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB2YXIgc2h1ZmZsZSA9IGZ1bmN0aW9uKGlucHV0KSB7XG4gICAgZm9yICh2YXIgaSA9IGlucHV0Lmxlbmd0aC0xOyBpID49MDsgaS0tKSB7XG5cbiAgICAgICAgdmFyIHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKihpKzEpKTtcbiAgICAgICAgdmFyIGl0ZW1BdEluZGV4ID0gaW5wdXRbcmFuZG9tSW5kZXhdO1xuXG4gICAgICAgIGlucHV0W3JhbmRvbUluZGV4XSA9IGlucHV0W2ldO1xuICAgICAgICBpbnB1dFtpXSA9IGl0ZW1BdEluZGV4O1xuICAgIH1cbiAgICByZXR1cm4gaW5wdXQ7XG59O1xuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/***/ }),
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	var __extends = (this && this.__extends) || (function () {
	    var extendStatics = Object.setPrototypeOf ||
	        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
	        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
	    return function (d, b) {
	        extendStatics(d, b);
	        function __() { this.constructor = d; }
	        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
	    };
	})();
	Object.defineProperty(exports, "__esModule", { value: true });
	var i18n = __webpack_require__(3);
	var config_1 = __webpack_require__(21);
	var dialog_view_1 = __webpack_require__(50);
	var text_view_1 = __webpack_require__(51);
	var rating_view_1 = __webpack_require__(53);
	var audio_view_1 = __webpack_require__(55);
	var attachment_view_1 = __webpack_require__(56);
	var screenshot_view_1 = __webpack_require__(58);
	var page_navigation_1 = __webpack_require__(68);
	var pagination_container_1 = __webpack_require__(69);
	var feedback_1 = __webpack_require__(70);
	var category_view_1 = __webpack_require__(71);
	var audio_feedback_1 = __webpack_require__(72);
	var context_information_1 = __webpack_require__(73);
	var feedback_service_1 = __webpack_require__(74);
	var page_notification_1 = __webpack_require__(75);
	var info_view_1 = __webpack_require__(96);
	var question_dialog_view_1 = __webpack_require__(97);
	var FeedbackDialogView = (function (_super) {
	    __extends(FeedbackDialogView, _super);
	    function FeedbackDialogView(dialogId, template, configuration, context, openCallback, closeCallback) {
	        var _this = _super.call(this, dialogId, template, context, openCallback, closeCallback) || this;
	        _this.dialogId = dialogId;
	        _this.template = template;
	        _this.configuration = configuration;
	        _this.context = context;
	        _this.openCallback = openCallback;
	        _this.closeCallback = closeCallback;
	        _this.dialogContext = $.extend({}, _this.dialogContext, _this.configuration.getContext());
	        _this.initMechanismViews();
	        _this.configurePageNavigation();
	        return _this;
	    }
	    FeedbackDialogView.prototype.initDialog = function () {
	        var myThis = this, dialogContainer = jQuery('#' + this.dialogId);
	        _super.prototype.initDialog.call(this);
	        this.dialogElement.dialog('option', 'position', {
	            my: this.dialogContext.dialogPositionMy,
	            at: this.dialogContext.dialogPositionAt,
	            of: this.dialogContext.dialogPositionOf
	        });
	        dialogContainer.find('.discard-feedback').on('click', function () {
	            myThis.discardFeedback();
	        });
	    };
	    FeedbackDialogView.prototype.initMechanismViews = function () {
	        this.mechanismViews = [];
	        for (var _i = 0, _a = this.configuration.getActiveMechanismConfig(config_1.mechanismTypes.textType); _i < _a.length; _i++) {
	            var textMechanism = _a[_i];
	            this.mechanismViews.push(new text_view_1.TextView(textMechanism, this.dialogId));
	        }
	        for (var _b = 0, _c = this.configuration.getActiveMechanismConfig(config_1.mechanismTypes.ratingType); _b < _c.length; _b++) {
	            var ratingMechanism = _c[_b];
	            this.mechanismViews.push(new rating_view_1.RatingView(ratingMechanism, this.dialogId));
	        }
	        for (var _d = 0, _e = this.configuration.getActiveMechanismConfig(config_1.mechanismTypes.categoryType); _d < _e.length; _d++) {
	            var categoryMechanism = _e[_d];
	            this.mechanismViews.push(new category_view_1.CategoryView(categoryMechanism));
	        }
	        for (var _f = 0, _g = this.configuration.getActiveMechanismConfig(config_1.mechanismTypes.screenshotType); _f < _g.length; _f++) {
	            var screenshotMechanism = _g[_f];
	            var screenshotView = this.initScreenshot(screenshotMechanism, this.dialogId);
	            this.mechanismViews.push(screenshotView);
	        }
	        var audioMechanism = this.configuration.getActiveMechanismConfig(config_1.mechanismTypes.audioType)[0];
	        if (audioMechanism) {
	            var audioContainer = $("#" + this.dialogId + " #audioMechanism" + audioMechanism.id);
	            this.audioView = new audio_view_1.AudioView(audioMechanism, audioContainer, this.dialogContext.distPath);
	            this.mechanismViews.push(this.audioView);
	        }
	        for (var _h = 0, _j = this.configuration.getActiveMechanismConfig(config_1.mechanismTypes.attachmentType); _h < _j.length; _h++) {
	            var attachmentMechanism = _j[_h];
	            this.mechanismViews.push(new attachment_view_1.AttachmentView(attachmentMechanism, this.dialogId, this.dialogContext.distPath));
	        }
	        for (var _k = 0, _l = this.configuration.getActiveMechanismConfig(config_1.mechanismTypes.infoType); _k < _l.length; _k++) {
	            var infoMechanism = _l[_k];
	            this.mechanismViews.push(new info_view_1.InfoView(infoMechanism, this.dialogId));
	        }
	        this.addEvents(this.dialogId, this.configuration);
	    };
	    FeedbackDialogView.prototype.configurePageNavigation = function () {
	        var myThis = this;
	        this.pageNavigation = new page_navigation_1.PageNavigation(this.configuration, jQuery('#' + this.dialogId));
	        this.paginationContainer = new pagination_container_1.PaginationContainer(jQuery('#' + this.dialogId + '.feedback-container .pages-container'), this.pageNavigation, function (changedPageNumber) {
	            myThis.changeDialogTitle(changedPageNumber);
	        });
	    };
	    FeedbackDialogView.prototype.changeDialogTitle = function (pageNumber) {
	        if (this.context.localesOverride && this.context.localesOverride.dialog && this.context.localesOverride.dialog.dialog && this.context.localesOverride.dialog.dialog.titles) {
	            if (this.context.localesOverride.dialog.dialog.titles[pageNumber]) {
	                this.dialogElement.dialog('option', 'title', this.context.localesOverride.dialog.dialog.titles[pageNumber]);
	            }
	            else {
	                this.dialogElement.dialog('option', 'title', this.dialogContext.dialogTitle);
	            }
	        }
	    };
	    FeedbackDialogView.prototype.addEvents = function (containerId, configuration) {
	        var myThis = this;
	        var generalConfiguration = configuration.generalConfiguration;
	        var container = $('#' + containerId);
	        var textareas = container.find('textarea.text-type-text');
	        var textMechanisms = configuration.getMechanismConfig(config_1.mechanismTypes.textType);
	        var feedbackDialogView = this;
	        var feedbackService = new feedback_service_1.FeedbackService(this.context.apiEndpointRepository, this.dialogContext.lang);
	        container.find('button.submit-feedback').unbind().on('click', function (event) {
	            event.preventDefault();
	            event.stopPropagation();
	            var submitButton = $(this);
	            submitButton.prop('disabled', true);
	            submitButton.text(submitButton.text() + '...');
	            if (!myThis.ratingMechanismsAreValid(container)) {
	                submitButton.prop('disabled', false);
	                submitButton.text(submitButton.text().replace(/...$/, ''));
	                return;
	            }
	            if (!myThis.categoryMechanismsAreValid(container)) {
	                submitButton.prop('disabled', false);
	                submitButton.text(submitButton.text().replace(/...$/, ''));
	                return;
	            }
	            if (textMechanisms.length > 0) {
	                textareas.each(function () {
	                    $(this).validate();
	                });
	                var invalidTextareas = container.find('textarea.text-type-text.invalid');
	                if (invalidTextareas.length == 0) {
	                    feedbackDialogView.prepareFormData(configuration, function (formData) {
	                        feedbackDialogView.sendFeedback(feedbackService, formData, generalConfiguration);
	                    });
	                }
	                else {
	                    submitButton.prop('disabled', false);
	                    submitButton.text(submitButton.text().replace(/...$/, ''));
	                }
	            }
	            else {
	                feedbackDialogView.prepareFormData(configuration, function (formData) {
	                    feedbackDialogView.sendFeedback(feedbackService, formData, generalConfiguration);
	                });
	            }
	        });
	    };
	    ;
	    FeedbackDialogView.prototype.ratingMechanismsAreValid = function (container) {
	        var valid = true;
	        container.find('.review-page-mechanisms .rating-type.mandatory .rating-input').each(function () {
	            if (parseInt(jQuery(this).starRating('getRating')) === 0) {
	                valid = false;
	                var errorMessage = jQuery(this).data('mandatory-message');
	                jQuery(this).append('<span class="feedback-form-error">' + errorMessage + '</span>');
	            }
	        });
	        return valid;
	    };
	    FeedbackDialogView.prototype.categoryMechanismsAreValid = function (container) {
	        container.find('.review-page-mechanisms .category-type.mandatory').validateCategory();
	        if (container.find('.review-page-mechanisms .category-type.mandatory.invalid').length > 0) {
	            return false;
	        }
	        else {
	            return true;
	        }
	    };
	    FeedbackDialogView.prototype.sendFeedback = function (feedbackService, formData, generalConfiguration) {
	        var feedbackDialogView = this;
	        var url = this.context.apiEndpointRepository + 'feedback_repository/' + this.context.lang + '/applications/' + this.context.applicationId + '/feedbacks/';
	        feedbackService.sendFeedback(url, formData, function (data) {
	            if (generalConfiguration && generalConfiguration.getParameterValue('successDialog')) {
	                feedbackDialogView.discardFeedback();
	                feedbackDialogView.paginationContainer.showFirstPage();
	                var dialogTemplate = __webpack_require__(98);
	                var successMessage = generalConfiguration.getParameterValue('successMessage') || i18n.t('general.success_message');
	                var successDialogView_1 = new question_dialog_view_1.QuestionDialogView('infoDialog', dialogTemplate, { 'message': successMessage });
	                successDialogView_1.setTitle(i18n.t('general.success_dialog_title'));
	                successDialogView_1.setModal(true);
	                successDialogView_1.addAnswerOption('#infoDialogOkay', function () {
	                    successDialogView_1.close();
	                });
	                successDialogView_1.open();
	            }
	            else if (generalConfiguration && generalConfiguration.getParameterValue('closeDialogOnSuccess')) {
	                feedbackDialogView.discardFeedback();
	                feedbackDialogView.paginationContainer.showFirstPage();
	                page_notification_1.PageNotification.show(i18n.t('general.success_message'));
	            }
	            else {
	                feedbackDialogView.resetDialog();
	                $('.server-response').addClass('success').text(i18n.t('general.success_message'));
	            }
	            $('button.submit-feedback').prop('disabled', false);
	            $('button.submit-feedback').text($('button.submit-feedback').text().replace(/...$/, ''));
	        }, function (error) {
	            $('.server-response').addClass('error').text('Failure: ' + JSON.stringify(error));
	            $('button.submit-feedback').prop('disabled', false);
	            $('button.submit-feedback').text($('button.submit-feedback').text().replace(/...$/, ''));
	        });
	    };
	    FeedbackDialogView.prototype.prepareFormData = function (configuration, callback) {
	        var dialogView = this;
	        var formData = new FormData();
	        var audioMechanisms = configuration.getMechanismConfig(config_1.mechanismTypes.audioType);
	        var hasAudioMechanism = audioMechanisms.filter(function (audioMechanism) { return audioMechanism.active === true; }).length > 0;
	        dialogView.resetMessageView();
	        var feedbackObject = new feedback_1.Feedback('Feedback', this.dialogContext.userId, this.dialogContext.language, this.context.applicationId, configuration.id, [], [], [], [], null, [], []);
	        feedbackObject.contextInformation = context_information_1.ContextInformation.create();
	        for (var _i = 0, _a = dialogView.mechanismViews; _i < _a.length; _i++) {
	            var mechanismView = _a[_i];
	            if (mechanismView instanceof text_view_1.TextView) {
	                feedbackObject.textFeedbacks.push(mechanismView.getFeedback());
	            }
	            else if (mechanismView instanceof rating_view_1.RatingView) {
	                feedbackObject.ratingFeedbacks.push(mechanismView.getFeedback());
	            }
	            else if (mechanismView instanceof attachment_view_1.AttachmentView) {
	                feedbackObject.attachmentFeedbacks = mechanismView.getFeedbacks();
	                for (var i = 0; i < mechanismView.getFiles().length; i++) {
	                    var file = mechanismView.getFiles()[i];
	                    formData.append(mechanismView.getPartName(i), file, file.name);
	                }
	            }
	            else if (mechanismView instanceof screenshot_view_1.ScreenshotView) {
	                var screenshotBinary = mechanismView.getScreenshotAsBinary();
	                if (screenshotBinary !== null) {
	                    feedbackObject.screenshotFeedbacks.push(mechanismView.getFeedback());
	                    formData.append(mechanismView.getPartName(), mechanismView.getScreenshotAsBinary());
	                }
	            }
	            else if (mechanismView instanceof category_view_1.CategoryView) {
	                for (var _b = 0, _c = mechanismView.getCategoryFeedbacks(); _b < _c.length; _b++) {
	                    var categoryFeedback = _c[_b];
	                    feedbackObject.categoryFeedbacks.push(categoryFeedback);
	                }
	            }
	        }
	        var _loop_1 = function () {
	            var partName = "audio" + audioMechanism.id;
	            audioElement = jQuery('section#audioMechanism' + audioMechanism.id + ' audio')[0];
	            if (!audioElement || Fr.voice.recorder === null) {
	                formData.append('json', new Blob([JSON.stringify(feedbackObject)], { type: 'application/json' }));
	                callback(formData);
	            }
	            try {
	                duration = Math.ceil(audioElement.duration === undefined || audioElement.duration === 'NaN' ? 0 : audioElement.duration);
	                if (duration === 0) {
	                    hasAudioMechanism = false;
	                    return "break";
	                }
	                audioFeedback = new audio_feedback_1.AudioFeedback(partName, duration, "wav", audioMechanism.id);
	                this_1.audioView.getBlob(function (blob) {
	                    var date = new Date();
	                    formData.append(partName, blob, "recording" + audioMechanism.id + "_" + date.getTime());
	                    feedbackObject.audioFeedbacks.push(audioFeedback);
	                    formData.append('json', new Blob([JSON.stringify(feedbackObject)], { type: 'application/json' }));
	                    callback(formData);
	                });
	            }
	            catch (e) {
	                formData.append('json', new Blob([JSON.stringify(feedbackObject)], { type: 'application/json' }));
	                callback(formData);
	            }
	        };
	        var this_1 = this, audioElement, duration, audioFeedback;
	        for (var _d = 0, _e = audioMechanisms.filter(function (mechanism) { return mechanism.active === true; }); _d < _e.length; _d++) {
	            var audioMechanism = _e[_d];
	            var state_1 = _loop_1();
	            if (state_1 === "break")
	                break;
	        }
	        if (!hasAudioMechanism) {
	            formData.append('json', new Blob([JSON.stringify(feedbackObject)], { type: 'application/json' }));
	            callback(formData);
	        }
	    };
	    ;
	    FeedbackDialogView.prototype.initScreenshot = function (screenshotMechanism, containerId) {
	        if (screenshotMechanism == null) {
	            return;
	        }
	        var elementToCaptureSelector = 'body';
	        if (screenshotMechanism.getParameterValue('elementToCapture') !== null && screenshotMechanism.getParameterValue('elementToCapture') !== "") {
	            elementToCaptureSelector = screenshotMechanism.getParameterValue('elementToCapture');
	        }
	        var container = $('#' + containerId);
	        var dialogSelector = '[aria-describedby="' + containerId + '"]';
	        var screenshotPreview = container.find('.screenshot-preview'), screenshotCaptureButton = container.find('button.take-screenshot'), elementToCapture = $('' + elementToCaptureSelector), elementsToHide = ['.ui-widget-overlay', dialogSelector, '.ui-dialog.feedback-dialog', '.' + this.context.dialogCSSClass];
	        var screenshotView = new screenshot_view_1.ScreenshotView(screenshotMechanism, screenshotPreview, screenshotCaptureButton, elementToCapture, container, this.dialogContext.distPath, elementsToHide, screenshotMechanism.getParameterValue('manipulationOnObject'));
	        screenshotView.colorPickerCSSClass = this.dialogContext.colorPickerCSSClass;
	        screenshotView.setDefaultStrokeWidth(this.dialogContext.defaultStrokeWidth);
	        screenshotMechanism.setScreenshotView(screenshotView);
	        return screenshotView;
	    };
	    ;
	    FeedbackDialogView.prototype.resetDialog = function () {
	        _super.prototype.resetDialog.call(this);
	        if (this.mechanismViews) {
	            for (var _i = 0, _a = this.mechanismViews; _i < _a.length; _i++) {
	                var mechanismView = _a[_i];
	                mechanismView.reset();
	            }
	        }
	    };
	    FeedbackDialogView.prototype.discardFeedback = function () {
	        this.resetDialog();
	        this.close();
	    };
	    return FeedbackDialogView;
	}(dialog_view_1.DialogView));
	exports.FeedbackDialogView = FeedbackDialogView;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC92aWV3cy9kaWFsb2cvZmVlZGJhY2tfZGlhbG9nX3ZpZXcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUEsOEJBQWlDO0FBRWpDLDBDQUFxRjtBQUNyRiw2Q0FBeUM7QUFFekMsK0NBQTJDO0FBQzNDLHFEQUFpRDtBQUNqRCxrREFBOEM7QUFDOUMsaUVBQTZEO0FBRzdELGlFQUE2RDtBQUM3RCxvRUFBZ0U7QUFDaEUsZ0VBQTREO0FBRTVELDREQUF5RDtBQUN6RCwyREFBdUQ7QUFDdkQsd0VBQW9FO0FBQ3BFLGtGQUE4RTtBQUM5RSxvRUFBZ0U7QUFDaEUsMERBQXNEO0FBRXRELCtDQUEyQztBQUczQywrREFBMEQ7QUFPMUQ7SUFBd0Msc0NBQVU7SUFNOUMsNEJBQW1CLFFBQWUsRUFBUyxRQUFZLEVBQVMsYUFBMkIsRUFBUyxPQUFXLEVBQVMsWUFBd0IsRUFDN0gsYUFBeUI7UUFENUMsWUFFSSxrQkFBTSxRQUFRLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxZQUFZLEVBQUUsYUFBYSxDQUFDLFNBSWxFO1FBTmtCLGNBQVEsR0FBUixRQUFRLENBQU87UUFBUyxjQUFRLEdBQVIsUUFBUSxDQUFJO1FBQVMsbUJBQWEsR0FBYixhQUFhLENBQWM7UUFBUyxhQUFPLEdBQVAsT0FBTyxDQUFJO1FBQVMsa0JBQVksR0FBWixZQUFZLENBQVk7UUFDN0gsbUJBQWEsR0FBYixhQUFhLENBQVk7UUFFeEMsS0FBSSxDQUFDLGFBQWEsR0FBRyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxLQUFJLENBQUMsYUFBYSxFQUFFLEtBQUksQ0FBQyxhQUFhLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQztRQUN2RixLQUFJLENBQUMsa0JBQWtCLEVBQUUsQ0FBQztRQUMxQixLQUFJLENBQUMsdUJBQXVCLEVBQUUsQ0FBQzs7SUFDbkMsQ0FBQztJQUVELHVDQUFVLEdBQVY7UUFDSSxJQUFJLE1BQU0sR0FBRyxJQUFJLEVBQ2IsZUFBZSxH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Qyx3QkFBVSxHQXVUakQ7QUF2VFksZ0RBQWtCIiwiZmlsZSI6ImFwcC92aWV3cy9kaWFsb2cvZmVlZGJhY2tfZGlhbG9nX3ZpZXcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaTE4biA9IHJlcXVpcmUoJ2kxOG5leHQnKTtcbmltcG9ydCB7TWVjaGFuaXNtVmlld30gZnJvbSAnLi4vbWVjaGFuaXNtX3ZpZXcnO1xuaW1wb3J0IHttZWNoYW5pc21UeXBlcywgYXBwbGljYXRpb25JZCwgYXBpRW5kcG9pbnRSZXBvc2l0b3J5fSBmcm9tICcuLi8uLi9qcy9jb25maWcnO1xuaW1wb3J0IHtEaWFsb2dWaWV3fSBmcm9tICcuL2RpYWxvZ192aWV3JztcbmltcG9ydCB7Q29uZmlndXJhdGlvbn0gZnJvbSAnLi4vLi4vbW9kZWxzL2NvbmZpZ3VyYXRpb25zL2NvbmZpZ3VyYXRpb24nO1xuaW1wb3J0IHtUZXh0Vmlld30gZnJvbSAnLi4vdGV4dC90ZXh0X3ZpZXcnO1xuaW1wb3J0IHtSYXRpbmdWaWV3fSBmcm9tICcuLi9yYXRpbmcvcmF0aW5nX3ZpZXcnO1xuaW1wb3J0IHtBdWRpb1ZpZXd9IGZyb20gJy4uL2F1ZGlvL2F1ZGlvX3ZpZXcnO1xuaW1wb3J0IHtBdHRhY2htZW50Vmlld30gZnJvbSAnLi4vYXR0YWNobWVudC9hdHRhY2htZW50X3ZpZXcnO1xuaW1wb3J0IHtSYXRpbmdNZWNoYW5pc219IGZyb20gJy4uLy4uL21vZGVscy9tZWNoYW5pc21zL3JhdGluZ19tZWNoYW5pc20nO1xuaW1wb3J0IHtBdHRhY2htZW50TWVjaGFuaXNtfSBmcm9tICcuLi8uLi9tb2RlbHMvbWVjaGFuaXNtcy9hdHRhY2htZW50X21lY2hhbmlzbSc7XG5pbXBvcnQge1NjcmVlbnNob3RWaWV3fSBmcm9tICcuLi9zY3JlZW5zaG90L3NjcmVlbnNob3Rfdmlldyc7XG5pbXBvcnQge1BhZ2VOYXZpZ2F0aW9ufSBmcm9tICcuLi8uLi9qcy9oZWxwZXJzL3BhZ2VfbmF2aWdhdGlvbic7XG5pbXBvcnQge1BhZ2luYXRpb25Db250YWluZXJ9IGZyb20gJy4uL3BhZ2luYXRpb25fY29udGFpbmVyJztcbmltcG9ydCB7Q29uZmlndXJhdGlvbkludGVyZmFjZX0gZnJvbSAnLi4vLi4vbW9kZWxzL2NvbmZpZ3VyYXRpb25zL2NvbmZpZ3VyYXRpb25faW50ZXJmYWNlJztcbmltcG9ydCB7RmVlZGJhY2t9IGZyb20gJy4uLy4uL21vZGVscy9mZWVkYmFja3MvZmVlZGJhY2snO1xuaW1wb3J0IHtDYXRlZ29yeVZpZXd9IGZyb20gJy4uL2NhdGVnb3J5L2NhdGVnb3J5X3ZpZXcnO1xuaW1wb3J0IHtBdWRpb0ZlZWRiYWNrfSBmcm9tICcuLi8uLi9tb2RlbHMvZmVlZGJhY2tzL2F1ZGlvX2ZlZWRiYWNrJztcbmltcG9ydCB7Q29udGV4dEluZm9ybWF0aW9ufSBmcm9tICcuLi8uLi9tb2RlbHMvZmVlZGJhY2tzL2NvbnRleHRfaW5mb3JtYXRpb24nO1xuaW1wb3J0IHtGZWVkYmFja1NlcnZpY2V9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2ZlZWRiYWNrX3NlcnZpY2UnO1xuaW1wb3J0IHtQYWdlTm90aWZpY2F0aW9ufSBmcm9tICcuLi9wYWdlX25vdGlmaWNhdGlvbic7XG5pbXBvcnQge0dlbmVyYWxDb25maWd1cmF0aW9ufSBmcm9tICcuLi8uLi9tb2RlbHMvY29uZmlndXJhdGlvbnMvZ2VuZXJhbF9jb25maWd1cmF0aW9uJztcbmltcG9ydCB7SW5mb1ZpZXd9IGZyb20gJy4uL2luZm8vaW5mb192aWV3JztcbmltcG9ydCB7SW5mb01lY2hhbmlzbX0gZnJvbSAnLi4vLi4vbW9kZWxzL21lY2hhbmlzbXMvaW5mb19tZWNoYW5pc20nO1xuaW1wb3J0IHtDYXRlZ29yeU1lY2hhbmlzbX0gZnJvbSAnLi4vLi4vbW9kZWxzL21lY2hhbmlzbXMvY2F0ZWdvcnlfbWVjaGFuaXNtJztcbmltcG9ydCB7UXVlc3Rpb25EaWFsb2dWaWV3fSBmcm9tICcuL3F1ZXN0aW9uX2RpYWxvZ192aWV3JztcbmltcG9ydCB7Q2F0ZWdvcnlGZWVkYmFja30gZnJvbSAnLi4vLi4vbW9kZWxzL2ZlZWRiYWNrcy9jYXRlZ29yeV9mZWVkYmFjayc7XG5cblxuLyoqXG4gKiBBY3RzIGFzIGEgd3JhcHBlciB0byB0aGUganF1ZXJ5IFVJIGRpYWxvZ1xuICovXG5leHBvcnQgY2xhc3MgRmVlZGJhY2tEaWFsb2dWaWV3IGV4dGVuZHMgRGlhbG9nVmlldyB7XG4gICAgbWVjaGFuaXNtVmlld3M6TWVjaGFuaXNtVmlld1tdO1xuICAgIHBhZ2VOYXZpZ2F0aW9uOlBhZ2VOYXZpZ2F0aW9uO1xuICAgIHBhZ2luYXRpb25Db250YWluZXI6UGFnaW5hdGlvbkNvbnRhaW5lcjtcbiAgICBhdWRpb1ZpZXc6QXVkaW9WaWV3O1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGRpYWxvZ0lkOnN0cmluZywgcHVibGljIHRlbXBsYXRlOmFueSwgcHVibGljIGNvbmZpZ3VyYXRpb246Q29uZmlndXJhdGlvbiwgcHVibGljIGNvbnRleHQ6YW55LCBwdWJsaWMgb3BlbkNhbGxiYWNrPzooKSA9PiB2b2lkLFxuICAgICAgICAgICAgICAgIHB1YmxpYyBjbG9zZUNhbGxiYWNrPzooKSA9PiB2b2lkKSB7XG4gICAgICAgIHN1cGVyKGRpYWxvZ0lkLCB0ZW1wbGF0ZSwgY29udGV4dCwgb3BlbkNhbGxiYWNrLCBjbG9zZUNhbGxiYWNrKTtcbiAgICAgICAgdGhpcy5kaWFsb2dDb250ZXh0ID0gJC5leHRlbmQoe30sIHRoaXMuZGlhbG9nQ29udGV4dCwgdGhpcy5jb25maWd1cmF0aW9uLmdldENvbnRleHQoKSk7XG4gICAgICAgIHRoaXMuaW5pdE1lY2hhbmlzbVZpZXdzKCk7XG4gICAgICAgIHRoaXMuY29uZmlndXJlUGFnZU5hdmlnYXRpb24oKTtcbiAgICB9XG5cbiAgICBpbml0RGlhbG9nKCkge1xuICAgICAgICBsZXQgbXlUaGlzID0gdGhpcyxcbiAgICAgICAgICAgIGRpYWxvZ0NvbnRhaW5lciA9IGpRdWVyeSgnIycgKyB0aGlzLmRpYWxvZ0lkKTtcbiAgICAgICAgc3VwZXIuaW5pdERpYWxvZygpO1xuICAgICAgICB0aGlzLmRpYWxvZ0VsZW1lbnQuZGlhbG9nKCdvcHRpb24nLCAncG9zaXRpb24nLCB7XG4gICAgICAgICAgICBteTogdGhpcy5kaWFsb2dDb250ZXh0LmRpYWxvZ1Bvc2l0aW9uTXksXG4gICAgICAgICAgICBhdDogdGhpcy5kaWFsb2dDb250ZXh0LmRpYWxvZ1Bvc2l0aW9uQXQsXG4gICAgICAgICAgICBvZjogdGhpcy5kaWFsb2dDb250ZXh0LmRpYWxvZ1Bvc2l0aW9uT2ZcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZGlhbG9nQ29udGFpbmVyLmZpbmQoJy5kaXNjYXJkLWZlZWRiYWNrJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbXlUaGlzLmRpc2NhcmRGZWVkYmFjaygpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpbml0TWVjaGFuaXNtVmlld3MoKSB7XG4gICAgICAgIHRoaXMubWVjaGFuaXNtVmlld3MgPSBbXTtcblxuICAgICAgICBmb3IgKGxldCB0ZXh0TWVjaGFuaXNtIG9mIHRoaXMuY29uZmlndXJhdGlvbi5nZXRBY3RpdmVNZWNoYW5pc21Db25maWcobWVjaGFuaXNtVHlwZXMudGV4dFR5cGUpKSB7XG4gICAgICAgICAgICB0aGlzLm1lY2hhbmlzbVZpZXdzLnB1c2gobmV3IFRleHRWaWV3KHRleHRNZWNoYW5pc20sIHRoaXMuZGlhbG9nSWQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IHJhdGluZ01lY2hhbmlzbSBvZiB0aGlzLmNvbmZpZ3VyYXRpb24uZ2V0QWN0aXZlTWVjaGFuaXNtQ29uZmlnKG1lY2hhbmlzbVR5cGVzLnJhdGluZ1R5cGUpKSB7XG4gICAgICAgICAgICB0aGlzLm1lY2hhbmlzbVZpZXdzLnB1c2gobmV3IFJhdGluZ1ZpZXcoPFJhdGluZ01lY2hhbmlzbT5yYXRpbmdNZWNoYW5pc20sIHRoaXMuZGlhbG9nSWQpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAobGV0IGNhdGVnb3J5TWVjaGFuaXNtIG9mIHRoaXMuY29uZmlndXJhdGlvbi5nZXRBY3RpdmVNZWNoYW5pc21Db25maWcobWVjaGFuaXNtVHlwZXMuY2F0ZWdvcnlUeXBlKSkge1xuICAgICAgICAgICAgdGhpcy5tZWNoYW5pc21WaWV3cy5wdXNoKG5ldyBDYXRlZ29yeVZpZXcoPENhdGVnb3J5TWVjaGFuaXNtPmNhdGVnb3J5TWVjaGFuaXNtKSk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBzY3JlZW5zaG90TWVjaGFuaXNtIG9mIHRoaXMuY29uZmlndXJhdGlvbi5nZXRBY3RpdmVNZWNoYW5pc21Db25maWcobWVjaGFuaXNtVHlwZXMuc2NyZWVuc2hvdFR5cGUpKSB7XG4gICAgICAgICAgICBsZXQgc2NyZWVuc2hvdFZpZXcgPSB0aGlzLmluaXRTY3JlZW5zaG90KHNjcmVlbnNob3RNZWNoYW5pc20sIHRoaXMuZGlhbG9nSWQpO1xuICAgICAgICAgICAgdGhpcy5tZWNoYW5pc21WaWV3cy5wdXNoKHNjcmVlbnNob3RWaWV3KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBhdWRpb01lY2hhbmlzbSA9IHRoaXMuY29uZmlndXJhdGlvbi5nZXRBY3RpdmVNZWNoYW5pc21Db25maWcobWVjaGFuaXNtVHlwZXMuYXVkaW9UeXBlKVswXTtcbiAgICAgICAgaWYgKGF1ZGlvTWVjaGFuaXNtKSB7XG4gICAgICAgICAgICBsZXQgYXVkaW9Db250YWluZXIgPSAkKFwiI1wiICsgdGhpcy5kaWFsb2dJZCArIFwiICNhdWRpb01lY2hhbmlzbVwiICsgYXVkaW9NZWNoYW5pc20uaWQpO1xuICAgICAgICAgICAgdGhpcy5hdWRpb1ZpZXcgPSBuZXcgQXVkaW9WaWV3KGF1ZGlvTWVjaGFuaXNtLCBhdWRpb0NvbnRhaW5lciwgdGhpcy5kaWFsb2dDb250ZXh0LmRpc3RQYXRoKTtcbiAgICAgICAgICAgIHRoaXMubWVjaGFuaXNtVmlld3MucHVzaCh0aGlzLmF1ZGlvVmlldyk7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBhdHRhY2htZW50TWVjaGFuaXNtIG9mIHRoaXMuY29uZmlndXJhdGlvbi5nZXRBY3RpdmVNZWNoYW5pc21Db25maWcobWVjaGFuaXNtVHlwZXMuYXR0YWNobWVudFR5cGUpKSB7XG4gICAgICAgICAgICB0aGlzLm1lY2hhbmlzbVZpZXdzLnB1c2gobmV3IEF0dGFjaG1lbnRWaWV3KDxBdHRhY2htZW50TWVjaGFuaXNtPmF0dGFjaG1lbnRNZWNoYW5pc20sIHRoaXMuZGlhbG9nSWQsIHRoaXMuZGlhbG9nQ29udGV4dC5kaXN0UGF0aCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChsZXQgaW5mb01lY2hhbmlzbSBvZiB0aGlzLmNvbmZpZ3VyYXRpb24uZ2V0QWN0aXZlTWVjaGFuaXNtQ29uZmlnKG1lY2hhbmlzbVR5cGVzLmluZm9UeXBlKSkge1xuICAgICAgICAgICAgdGhpcy5tZWNoYW5pc21WaWV3cy5wdXNoKG5ldyBJbmZvVmlldyg8SW5mb01lY2hhbmlzbT5pbmZvTWVjaGFuaXNtLCB0aGlzLmRpYWxvZ0lkKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmFkZEV2ZW50cyh0aGlzLmRpYWxvZ0lkLCB0aGlzLmNvbmZpZ3VyYXRpb24pO1xuICAgIH1cblxuICAgIGNvbmZpZ3VyZVBhZ2VOYXZpZ2F0aW9uKCkge1xuICAgICAgICBsZXQgbXlUaGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5wYWdlTmF2aWdhdGlvbiA9IG5ldyBQYWdlTmF2aWdhdGlvbih0aGlzLmNvbmZpZ3VyYXRpb24sIGpRdWVyeSgnIycgKyB0aGlzLmRpYWxvZ0lkKSk7XG4gICAgICAgIHRoaXMucGFnaW5hdGlvbkNvbnRhaW5lciA9IG5ldyBQYWdpbmF0aW9uQ29udGFpbmVyKGpRdWVyeSgnIycgKyB0aGlzLmRpYWxvZ0lkICsgJy5mZWVkYmFjay1jb250YWluZXIgLnBhZ2VzLWNvbnRhaW5lcicpLCB0aGlzLnBhZ2VOYXZpZ2F0aW9uLCAoY2hhbmdlZFBhZ2VOdW1iZXIpID0+IHtcbiAgICAgICAgICAgIG15VGhpcy5jaGFuZ2VEaWFsb2dUaXRsZShjaGFuZ2VkUGFnZU51bWJlcik7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGNoYW5nZURpYWxvZ1RpdGxlKHBhZ2VOdW1iZXI6bnVtYmVyKSB7XG4gICAgICAgIGlmKHRoaXMuY29udGV4dC5sb2NhbGVzT3ZlcnJpZGUgJiYgdGhpcy5jb250ZXh0LmxvY2FsZXNPdmVycmlkZS5kaWFsb2cgJiYgdGhpcy5jb250ZXh0LmxvY2FsZXNPdmVycmlkZS5kaWFsb2cuZGlhbG9nICYmIHRoaXMuY29udGV4dC5sb2NhbGVzT3ZlcnJpZGUuZGlhbG9nLmRpYWxvZy50aXRsZXMpIHtcbiAgICAgICAgICAgIGlmKHRoaXMuY29udGV4dC5sb2NhbGVzT3ZlcnJpZGUuZGlhbG9nLmRpYWxvZy50aXRsZXNbcGFnZU51bWJlcl0pIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0VsZW1lbnQuZGlhbG9nKCdvcHRpb24nLCAndGl0bGUnLCB0aGlzLmNvbnRleHQubG9jYWxlc092ZXJyaWRlLmRpYWxvZy5kaWFsb2cudGl0bGVzW3BhZ2VOdW1iZXJdKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dFbGVtZW50LmRpYWxvZygnb3B0aW9uJywgJ3RpdGxlJywgdGhpcy5kaWFsb2dDb250ZXh0LmRpYWxvZ1RpdGxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkZEV2ZW50cyhjb250YWluZXJJZCwgY29uZmlndXJhdGlvbjpDb25maWd1cmF0aW9uSW50ZXJmYWNlKSB7XG4gICAgICAgIGxldCBteVRoaXMgPSB0aGlzO1xuICAgICAgICBsZXQgZ2VuZXJhbENvbmZpZ3VyYXRpb24gPSBjb25maWd1cmF0aW9uLmdlbmVyYWxDb25maWd1cmF0aW9uO1xuICAgICAgICB2YXIgY29udGFpbmVyID0gJCgnIycgKyBjb250YWluZXJJZCk7XG4gICAgICAgIHZhciB0ZXh0YXJlYXMgPSBjb250YWluZXIuZmluZCgndGV4dGFyZWEudGV4dC10eXBlLXRleHQnKTtcbiAgICAgICAgdmFyIHRleHRNZWNoYW5pc21zID0gY29uZmlndXJhdGlvbi5nZXRNZWNoYW5pc21Db25maWcobWVjaGFuaXNtVHlwZXMudGV4dFR5cGUpO1xuICAgICAgICB2YXIgZmVlZGJhY2tEaWFsb2dWaWV3ID0gdGhpcztcblxuICAgICAgICB2YXIgZmVlZGJhY2tTZXJ2aWNlID0gbmV3IEZlZWRiYWNrU2VydmljZSh0aGlzLmNvbnRleHQuYXBpRW5kcG9pbnRSZXBvc2l0b3J5LCB0aGlzLmRpYWxvZ0NvbnRleHQubGFuZyk7XG5cbiAgICAgICAgY29udGFpbmVyLmZpbmQoJ2J1dHRvbi5zdWJtaXQtZmVlZGJhY2snKS51bmJpbmQoKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHZhciBzdWJtaXRCdXR0b249ICQodGhpcyk7XG4gICAgICAgICAgICBzdWJtaXRCdXR0b24ucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgICAgIHN1Ym1pdEJ1dHRvbi50ZXh0KHN1Ym1pdEJ1dHRvbi50ZXh0KCkgKyAnLi4uJyk7XG5cblxuICAgICAgICAgICAgaWYoIW15VGhpcy5yYXRpbmdNZWNoYW5pc21zQXJlVmFsaWQoY29udGFpbmVyKSkge1xuICAgICAgICAgICAgICAgIHN1Ym1pdEJ1dHRvbi5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBzdWJtaXRCdXR0b24udGV4dChzdWJtaXRCdXR0b24udGV4dCgpLnJlcGxhY2UoLy4uLiQvLCcnKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZighbXlUaGlzLmNhdGVnb3J5TWVjaGFuaXNtc0FyZVZhbGlkKGNvbnRhaW5lcikpIHtcbiAgICAgICAgICAgICAgICBzdWJtaXRCdXR0b24ucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgc3VibWl0QnV0dG9uLnRleHQoc3VibWl0QnV0dG9uLnRleHQoKS5yZXBsYWNlKC8uLi4kLywnJykpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gVE9ETyBhZGp1c3RcbiAgICAgICAgICAgIC8vIHZhbGlkYXRlIGFueXdheSBiZWZvcmUgc2VuZGluZ1xuICAgICAgICAgICAgaWYgKHRleHRNZWNoYW5pc21zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICB0ZXh0YXJlYXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICQodGhpcykudmFsaWRhdGUoKTtcbiAgICAgICAgICAgICAgICB9KTtcblxuXG4gICAgICAgICAgICAgICAgdmFyIGludmFsaWRUZXh0YXJlYXMgPSBjb250YWluZXIuZmluZCgndGV4dGFyZWEudGV4dC10eXBlLXRleHQuaW52YWxpZCcpO1xuICAgICAgICAgICAgICAgIGlmIChpbnZhbGlkVGV4dGFyZWFzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGZlZWRiYWNrRGlhbG9nVmlldy5wcmVwYXJlRm9ybURhdGEoY29uZmlndXJhdGlvbiwgZnVuY3Rpb24gKGZvcm1EYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmZWVkYmFja0RpYWxvZ1ZpZXcuc2VuZEZlZWRiYWNrKGZlZWRiYWNrU2VydmljZSwgZm9ybURhdGEsIGdlbmVyYWxDb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3VibWl0QnV0dG9uLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICBzdWJtaXRCdXR0b24udGV4dChzdWJtaXRCdXR0b24udGV4dCgpLnJlcGxhY2UoLy4uLiQvLCcnKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmZWVkYmFja0RpYWxvZ1ZpZXcucHJlcGFyZUZvcm1EYXRhKGNvbmZpZ3VyYXRpb24sIGZ1bmN0aW9uIChmb3JtRGF0YSkge1xuICAgICAgICAgICAgICAgICAgICBmZWVkYmFja0RpYWxvZ1ZpZXcuc2VuZEZlZWRiYWNrKGZlZWRiYWNrU2VydmljZSwgZm9ybURhdGEsIGdlbmVyYWxDb25maWd1cmF0aW9uKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJhdGluZ01lY2hhbmlzbXNBcmVWYWxpZChjb250YWluZXI6YW55KTpib29sZWFuIHtcbiAgICAgICAgbGV0IHZhbGlkID0gdHJ1ZTtcbiAgICAgICAgY29udGFpbmVyLmZpbmQoJy5yZXZpZXctcGFnZS1tZWNoYW5pc21zIC5yYXRpbmctdHlwZS5tYW5kYXRvcnkgLnJhdGluZy1pbnB1dCcpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZihwYXJzZUludChqUXVlcnkodGhpcykuc3RhclJhdGluZygnZ2V0UmF0aW5nJykpID09PSAwKSB7XG4gICAgICAgICAgICAgICAgdmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsZXQgZXJyb3JNZXNzYWdlID0galF1ZXJ5KHRoaXMpLmRhdGEoJ21hbmRhdG9yeS1tZXNzYWdlJyk7XG4gICAgICAgICAgICAgICAgalF1ZXJ5KHRoaXMpLmFwcGVuZCgnPHNwYW4gY2xhc3M9XCJmZWVkYmFjay1mb3JtLWVycm9yXCI+JyArIGVycm9yTWVzc2FnZSArICc8L3NwYW4+Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB2YWxpZDtcbiAgICB9XG5cbiAgICBjYXRlZ29yeU1lY2hhbmlzbXNBcmVWYWxpZChjb250YWluZXI6YW55KTpib29sZWFuIHtcbiAgICAgICAgY29udGFpbmVyLmZpbmQoJy5yZXZpZXctcGFnZS1tZWNoYW5pc21zIC5jYXRlZ29yeS10eXBlLm1hbmRhdG9yeScpLnZhbGlkYXRlQ2F0ZWdvcnkoKTtcblxuICAgICAgICBpZihjb250YWluZXIuZmluZCgnLnJldmlldy1wYWdlLW1lY2hhbmlzbXMgLmNhdGVnb3J5LXR5cGUubWFuZGF0b3J5LmludmFsaWQnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlbmRGZWVkYmFjayhmZWVkYmFja1NlcnZpY2U6RmVlZGJhY2tTZXJ2aWNlLCBmb3JtRGF0YTphbnksIGdlbmVyYWxDb25maWd1cmF0aW9uOkdlbmVyYWxDb25maWd1cmF0aW9uKSB7XG4gICAgICAgIHZhciBmZWVkYmFja0RpYWxvZ1ZpZXcgPSB0aGlzO1xuICAgICAgICB2YXIgdXJsID0gdGhpcy5jb250ZXh0LmFwaUVuZHBvaW50UmVwb3NpdG9yeSArICdmZWVkYmFja19yZXBvc2l0b3J5LycgKyB0aGlzLmNvbnRleHQubGFuZyArICcvYXBwbGljYXRpb25zLycgKyB0aGlzLmNvbnRleHQuYXBwbGljYXRpb25JZCArICcvZmVlZGJhY2tzLyc7XG5cbiAgICAgICAgZmVlZGJhY2tTZXJ2aWNlLnNlbmRGZWVkYmFjayh1cmwsIGZvcm1EYXRhLCBmdW5jdGlvbihkYXRhKSB7XG4gICAgICAgICAgICBpZihnZW5lcmFsQ29uZmlndXJhdGlvbiAmJiBnZW5lcmFsQ29uZmlndXJhdGlvbi5nZXRQYXJhbWV0ZXJWYWx1ZSgnc3VjY2Vzc0RpYWxvZycpKSB7XG4gICAgICAgICAgICAgICAgZmVlZGJhY2tEaWFsb2dWaWV3LmRpc2NhcmRGZWVkYmFjaygpO1xuICAgICAgICAgICAgICAgIGZlZWRiYWNrRGlhbG9nVmlldy5wYWdpbmF0aW9uQ29udGFpbmVyLnNob3dGaXJzdFBhZ2UoKTtcbiAgICAgICAgICAgICAgICBsZXQgZGlhbG9nVGVtcGxhdGUgPSByZXF1aXJlKCcuLi8uLi90ZW1wbGF0ZXMvaW5mb19kaWFsb2cuaGFuZGxlYmFycycpO1xuICAgICAgICAgICAgICAgIGxldCBzdWNjZXNzTWVzc2FnZSA9IGdlbmVyYWxDb25maWd1cmF0aW9uLmdldFBhcmFtZXRlclZhbHVlKCdzdWNjZXNzTWVzc2FnZScpIHx8IGkxOG4udCgnZ2VuZXJhbC5zdWNjZXNzX21lc3NhZ2UnKTtcbiAgICAgICAgICAgICAgICBsZXQgc3VjY2Vzc0RpYWxvZ1ZpZXcgPSBuZXcgUXVlc3Rpb25EaWFsb2dWaWV3KCdpbmZvRGlhbG9nJywgZGlhbG9nVGVtcGxhdGUsIHsnbWVzc2FnZSc6IDxzdHJpbmc+c3VjY2Vzc01lc3NhZ2V9KTtcbiAgICAgICAgICAgICAgICBzdWNjZXNzRGlhbG9nVmlldy5zZXRUaXRsZSg8c3RyaW5nPmkxOG4udCgnZ2VuZXJhbC5zdWNjZXNzX2RpYWxvZ190aXRsZScpKTtcbiAgICAgICAgICAgICAgICBzdWNjZXNzRGlhbG9nVmlldy5zZXRNb2RhbCh0cnVlKTtcbiAgICAgICAgICAgICAgICBzdWNjZXNzRGlhbG9nVmlldy5hZGRBbnN3ZXJPcHRpb24oJyNpbmZvRGlhbG9nT2theScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzRGlhbG9nVmlldy5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHN1Y2Nlc3NEaWFsb2dWaWV3Lm9wZW4oKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZ2VuZXJhbENvbmZpZ3VyYXRpb24gJiYgZ2VuZXJhbENvbmZpZ3VyYXRpb24uZ2V0UGFyYW1ldGVyVmFsdWUoJ2Nsb3NlRGlhbG9nT25TdWNjZXNzJykpIHtcbiAgICAgICAgICAgICAgICBmZWVkYmFja0RpYWxvZ1ZpZXcuZGlzY2FyZEZlZWRiYWNrKCk7XG4gICAgICAgICAgICAgICAgZmVlZGJhY2tEaWFsb2dWaWV3LnBhZ2luYXRpb25Db250YWluZXIuc2hvd0ZpcnN0UGFnZSgpO1xuICAgICAgICAgICAgICAgIFBhZ2VOb3RpZmljYXRpb24uc2hvdyg8c3RyaW5nPmkxOG4udCgnZ2VuZXJhbC5zdWNjZXNzX21lc3NhZ2UnKSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGZlZWRiYWNrRGlhbG9nVmlldy5yZXNldERpYWxvZygpO1xuICAgICAgICAgICAgICAgICQoJy5zZXJ2ZXItcmVzcG9uc2UnKS5hZGRDbGFzcygnc3VjY2VzcycpLnRleHQoaTE4bi50KCdnZW5lcmFsLnN1Y2Nlc3NfbWVzc2FnZScpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICQoJ2J1dHRvbi5zdWJtaXQtZmVlZGJhY2snKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICQoJ2J1dHRvbi5zdWJtaXQtZmVlZGJhY2snKS50ZXh0KCQoJ2J1dHRvbi5zdWJtaXQtZmVlZGJhY2snKS50ZXh0KCkucmVwbGFjZSgvLi4uJC8sJycpKTtcbiAgICAgICAgfSwgZnVuY3Rpb24oZXJyb3IpIHtcbiAgICAgICAgICAgICQoJy5zZXJ2ZXItcmVzcG9uc2UnKS5hZGRDbGFzcygnZXJyb3InKS50ZXh0KCdGYWlsdXJlOiAnICsgSlNPTi5zdHJpbmdpZnkoZXJyb3IpKTtcbiAgICAgICAgICAgICQoJ2J1dHRvbi5zdWJtaXQtZmVlZGJhY2snKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcbiAgICAgICAgICAgICQoJ2J1dHRvbi5zdWJtaXQtZmVlZGJhY2snKS50ZXh0KCQoJ2J1dHRvbi5zdWJtaXQtZmVlZGJhY2snKS50ZXh0KCkucmVwbGFjZSgvLi4uJC8sJycpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgbXVsdGlwYXJ0IGZvcm0gZGF0YSBjb250YWluaW5nIHRoZSBkYXRhIG9mIHRoZSBhY3RpdmUgbWVjaGFuaXNtcy5cbiAgICAgKi9cbiAgICBwcmVwYXJlRm9ybURhdGEoY29uZmlndXJhdGlvbjpDb25maWd1cmF0aW9uSW50ZXJmYWNlLCBjYWxsYmFjaz86YW55KSB7XG4gICAgICAgIC8vIFRPRE8gcmVmYWN0b3Jpbmc6IHRoZSBtZWNoYW5pc20gdmlld3Mgc2hvdWxkIHJldHVybiB0aGVpciBmZWVkYmFjayBkYXRhXG4gICAgICAgIHZhciBkaWFsb2dWaWV3ID0gdGhpcztcbiAgICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgICAgIHZhciBhdWRpb01lY2hhbmlzbXMgPSBjb25maWd1cmF0aW9uLmdldE1lY2hhbmlzbUNvbmZpZyhtZWNoYW5pc21UeXBlcy5hdWRpb1R5cGUpO1xuICAgICAgICB2YXIgaGFzQXVkaW9NZWNoYW5pc20gPSBhdWRpb01lY2hhbmlzbXMuZmlsdGVyKGF1ZGlvTWVjaGFuaXNtID0+IGF1ZGlvTWVjaGFuaXNtLmFjdGl2ZSA9PT0gdHJ1ZSkubGVuZ3RoID4gMDtcblxuICAgICAgICBkaWFsb2dWaWV3LnJlc2V0TWVzc2FnZVZpZXcoKTtcblxuICAgICAgICB2YXIgZmVlZGJhY2tPYmplY3QgPSBuZXcgRmVlZGJhY2soJ0ZlZWRiYWNrJywgdGhpcy5kaWFsb2dDb250ZXh0LnVzZXJJZCwgdGhpcy5kaWFsb2dDb250ZXh0Lmxhbmd1YWdlLCB0aGlzLmNvbnRleHQuYXBwbGljYXRpb25JZCwgY29uZmlndXJhdGlvbi5pZCwgW10sIFtdLCBbXSwgW10sIG51bGwsIFtdLCBbXSk7XG4gICAgICAgIGZlZWRiYWNrT2JqZWN0LmNvbnRleHRJbmZvcm1hdGlvbiA9IENvbnRleHRJbmZvcm1hdGlvbi5jcmVhdGUoKTtcblxuICAgICAgICBmb3IgKHZhciBtZWNoYW5pc21WaWV3IG9mIGRpYWxvZ1ZpZXcubWVjaGFuaXNtVmlld3MpIHtcbiAgICAgICAgICAgIGlmIChtZWNoYW5pc21WaWV3IGluc3RhbmNlb2YgVGV4dFZpZXcpIHtcbiAgICAgICAgICAgICAgICBmZWVkYmFja09iamVjdC50ZXh0RmVlZGJhY2tzLnB1c2gobWVjaGFuaXNtVmlldy5nZXRGZWVkYmFjaygpKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWVjaGFuaXNtVmlldyBpbnN0YW5jZW9mIFJhdGluZ1ZpZXcpIHtcbiAgICAgICAgICAgICAgICBmZWVkYmFja09iamVjdC5yYXRpbmdGZWVkYmFja3MucHVzaChtZWNoYW5pc21WaWV3LmdldEZlZWRiYWNrKCkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChtZWNoYW5pc21WaWV3IGluc3RhbmNlb2YgQXR0YWNobWVudFZpZXcpIHtcbiAgICAgICAgICAgICAgICBmZWVkYmFja09iamVjdC5hdHRhY2htZW50RmVlZGJhY2tzID0gbWVjaGFuaXNtVmlldy5nZXRGZWVkYmFja3MoKTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1lY2hhbmlzbVZpZXcuZ2V0RmlsZXMoKS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZSA9IG1lY2hhbmlzbVZpZXcuZ2V0RmlsZXMoKVtpXTtcbiAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKG1lY2hhbmlzbVZpZXcuZ2V0UGFydE5hbWUoaSksIGZpbGUsIGZpbGUubmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChtZWNoYW5pc21WaWV3IGluc3RhbmNlb2YgU2NyZWVuc2hvdFZpZXcpIHtcbiAgICAgICAgICAgICAgICBsZXQgc2NyZWVuc2hvdEJpbmFyeSA9IG1lY2hhbmlzbVZpZXcuZ2V0U2NyZWVuc2hvdEFzQmluYXJ5KCk7XG4gICAgICAgICAgICAgICAgaWYgKHNjcmVlbnNob3RCaW5hcnkgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgZmVlZGJhY2tPYmplY3Quc2NyZWVuc2hvdEZlZWRiYWNrcy5wdXNoKG1lY2hhbmlzbVZpZXcuZ2V0RmVlZGJhY2soKSk7XG4gICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZChtZWNoYW5pc21WaWV3LmdldFBhcnROYW1lKCksIG1lY2hhbmlzbVZpZXcuZ2V0U2NyZWVuc2hvdEFzQmluYXJ5KCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSBpZiAobWVjaGFuaXNtVmlldyBpbnN0YW5jZW9mIENhdGVnb3J5Vmlldykge1xuICAgICAgICAgICAgICAgIGZvcihsZXQgY2F0ZWdvcnlGZWVkYmFjayBvZiBtZWNoYW5pc21WaWV3LmdldENhdGVnb3J5RmVlZGJhY2tzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZmVlZGJhY2tPYmplY3QuY2F0ZWdvcnlGZWVkYmFja3MucHVzaChjYXRlZ29yeUZlZWRiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUT0RPIGFzc3VtZXMgb25seSBvbmUgYXVkaW8gbWVjaGFuaXNtIC0tPiBzdXBwb3J0IG11bHRpcGxlXG4gICAgICAgIGZvciAodmFyIGF1ZGlvTWVjaGFuaXNtIG9mIGF1ZGlvTWVjaGFuaXNtcy5maWx0ZXIobWVjaGFuaXNtID0+IG1lY2hhbmlzbS5hY3RpdmUgPT09IHRydWUpKSB7XG4gICAgICAgICAgICBsZXQgcGFydE5hbWUgPSBcImF1ZGlvXCIgKyBhdWRpb01lY2hhbmlzbS5pZDtcbiAgICAgICAgICAgIHZhciBhdWRpb0VsZW1lbnQgPSBqUXVlcnkoJ3NlY3Rpb24jYXVkaW9NZWNoYW5pc20nICsgYXVkaW9NZWNoYW5pc20uaWQgKyAnIGF1ZGlvJylbMF07XG4gICAgICAgICAgICBpZiAoIWF1ZGlvRWxlbWVudCB8fCBGci52b2ljZS5yZWNvcmRlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnanNvbicsIG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShmZWVkYmFja09iamVjdCldLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9qc29uJyB9KSk7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2soZm9ybURhdGEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHZhciBkdXJhdGlvbiA9IE1hdGguY2VpbChhdWRpb0VsZW1lbnQuZHVyYXRpb24gPT09IHVuZGVmaW5lZCB8fCBhdWRpb0VsZW1lbnQuZHVyYXRpb24gPT09ICdOYU4nID8gMCA6IGF1ZGlvRWxlbWVudC5kdXJhdGlvbik7XG4gICAgICAgICAgICAgICAgaWYgKGR1cmF0aW9uID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGhhc0F1ZGlvTWVjaGFuaXNtID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgYXVkaW9GZWVkYmFjayA9IG5ldyBBdWRpb0ZlZWRiYWNrKHBhcnROYW1lLCBkdXJhdGlvbiwgXCJ3YXZcIiwgYXVkaW9NZWNoYW5pc20uaWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuYXVkaW9WaWV3LmdldEJsb2IoZnVuY3Rpb24gKGJsb2IpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQocGFydE5hbWUsIGJsb2IsIFwicmVjb3JkaW5nXCIgKyBhdWRpb01lY2hhbmlzbS5pZCArIFwiX1wiICsgZGF0ZS5nZXRUaW1lKCkpO1xuICAgICAgICAgICAgICAgICAgICBmZWVkYmFja09iamVjdC5hdWRpb0ZlZWRiYWNrcy5wdXNoKGF1ZGlvRmVlZGJhY2spO1xuICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2pzb24nLCBuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkoZmVlZGJhY2tPYmplY3QpXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vanNvbicgfSkpO1xuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhmb3JtRGF0YSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdqc29uJywgbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KGZlZWRiYWNrT2JqZWN0KV0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2pzb24nIH0pKTtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhmb3JtRGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWhhc0F1ZGlvTWVjaGFuaXNtKSB7XG4gICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2pzb24nLCBuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkoZmVlZGJhY2tPYmplY3QpXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vanNvbicgfSkpO1xuICAgICAgICAgICAgY2FsbGJhY2soZm9ybURhdGEpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGluaXRTY3JlZW5zaG90KHNjcmVlbnNob3RNZWNoYW5pc20sIGNvbnRhaW5lcklkKTpTY3JlZW5zaG90VmlldyB7XG4gICAgICAgIGlmIChzY3JlZW5zaG90TWVjaGFuaXNtID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBlbGVtZW50VG9DYXB0dXJlU2VsZWN0b3IgPSAnYm9keSc7XG4gICAgICAgIGlmIChzY3JlZW5zaG90TWVjaGFuaXNtLmdldFBhcmFtZXRlclZhbHVlKCdlbGVtZW50VG9DYXB0dXJlJykgIT09IG51bGwgJiYgc2NyZWVuc2hvdE1lY2hhbmlzbS5nZXRQYXJhbWV0ZXJWYWx1ZSgnZWxlbWVudFRvQ2FwdHVyZScpICE9PSBcIlwiKSB7XG4gICAgICAgICAgICBlbGVtZW50VG9DYXB0dXJlU2VsZWN0b3IgPSBzY3JlZW5zaG90TWVjaGFuaXNtLmdldFBhcmFtZXRlclZhbHVlKCdlbGVtZW50VG9DYXB0dXJlJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY29udGFpbmVyID0gJCgnIycgKyBjb250YWluZXJJZCk7XG4gICAgICAgIHZhciBkaWFsb2dTZWxlY3RvciA9ICdbYXJpYS1kZXNjcmliZWRieT1cIicgKyBjb250YWluZXJJZCArICdcIl0nO1xuXG4gICAgICAgIHZhciBzY3JlZW5zaG90UHJldmlldyA9IGNvbnRhaW5lci5maW5kKCcuc2NyZWVuc2hvdC1wcmV2aWV3JyksXG4gICAgICAgICAgICBzY3JlZW5zaG90Q2FwdHVyZUJ1dHRvbiA9IGNvbnRhaW5lci5maW5kKCdidXR0b24udGFrZS1zY3JlZW5zaG90JyksXG4gICAgICAgICAgICBlbGVtZW50VG9DYXB0dXJlID0gJCgnJyArIGVsZW1lbnRUb0NhcHR1cmVTZWxlY3RvciksXG4gICAgICAgICAgICBlbGVtZW50c1RvSGlkZSA9IFsnLnVpLXdpZGdldC1vdmVybGF5JywgZGlhbG9nU2VsZWN0b3IsICcudWktZGlhbG9nLmZlZWRiYWNrLWRpYWxvZycsICcuJyArIHRoaXMuY29udGV4dC5kaWFsb2dDU1NDbGFzc107XG4gICAgICAgIC8vIFRPRE8gYXR0ZW50aW9uOiBjaXJjdWxhciBkZXBlbmRlbmN5XG4gICAgICAgIHZhciBzY3JlZW5zaG90VmlldyA9IG5ldyBTY3JlZW5zaG90VmlldyhzY3JlZW5zaG90TWVjaGFuaXNtLCBzY3JlZW5zaG90UHJldmlldywgc2NyZWVuc2hvdENhcHR1cmVCdXR0b24sXG4gICAgICAgICAgICBlbGVtZW50VG9DYXB0dXJlLCBjb250YWluZXIsIHRoaXMuZGlhbG9nQ29udGV4dC5kaXN0UGF0aCwgZWxlbWVudHNUb0hpZGUsIHNjcmVlbnNob3RNZWNoYW5pc20uZ2V0UGFyYW1ldGVyVmFsdWUoJ21hbmlwdWxhdGlvbk9uT2JqZWN0JykpO1xuICAgICAgICBzY3JlZW5zaG90Vmlldy5jb2xvclBpY2tlckNTU0NsYXNzID0gdGhpcy5kaWFsb2dDb250ZXh0LmNvbG9yUGlja2VyQ1NTQ2xhc3M7XG4gICAgICAgIHNjcmVlbnNob3RWaWV3LnNldERlZmF1bHRTdHJva2VXaWR0aCh0aGlzLmRpYWxvZ0NvbnRleHQuZGVmYXVsdFN0cm9rZVdpZHRoKTtcblxuICAgICAgICBzY3JlZW5zaG90TWVjaGFuaXNtLnNldFNjcmVlbnNob3RWaWV3KHNjcmVlbnNob3RWaWV3KTtcbiAgICAgICAgcmV0dXJuIHNjcmVlbnNob3RWaWV3O1xuICAgIH07XG5cbiAgICByZXNldERpYWxvZygpIHtcbiAgICAgICAgc3VwZXIucmVzZXREaWFsb2coKTtcbiAgICAgICAgaWYgKHRoaXMubWVjaGFuaXNtVmlld3MpIHtcbiAgICAgICAgICAgIGZvciAodmFyIG1lY2hhbmlzbVZpZXcgb2YgdGhpcy5tZWNoYW5pc21WaWV3cykge1xuICAgICAgICAgICAgICAgIG1lY2hhbmlzbVZpZXcucmVzZXQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRpc2NhcmRGZWVkYmFjaygpIHtcbiAgICAgICAgdGhpcy5yZXNldERpYWxvZygpO1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxufSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/***/ }),
/* 50 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var i18n = __webpack_require__(3);
	var config_1 = __webpack_require__(21);
	var DialogView = (function () {
	    function DialogView(dialogId, template, context, openCallback, closeCallback) {
	        this.dialogId = dialogId;
	        this.template = template;
	        this.context = context;
	        this.openCallback = openCallback;
	        this.closeCallback = closeCallback;
	        this.dialogContext = this.buildContext(context);
	        var html = template(this.dialogContext);
	        jQuery('body').append(html);
	        this.initDialog();
	    }
	    DialogView.prototype.initDialog = function () {
	        var dialogContainer = jQuery('#' + this.dialogId);
	        this.dialogElement = dialogContainer.dialog(this.getDialogOptions());
	        this.dialogElement.parent('.ui-dialog').wrapAll('<div class="feedback-library-wrapper"></div>');
	        this.dialogElement.parent('.ui-dialog').closest('.ui-widget-overlay').wrapAll('<div class="feedback-library-wrapper"></div>');
	        this.dialogElement.dialog('option', 'modal', this.dialogContext.modal);
	        this.dialogElement.dialog('option', 'dialogClass', this.dialogContext.dialogCSSClass);
	        if (this.context.localesOverride && this.context.localesOverride.dialog && this.context.localesOverride.dialog.dialog && this.context.localesOverride.dialog.dialog.titles) {
	            if (this.context.localesOverride.dialog.dialog.titles["1"]) {
	                this.dialogElement.dialog('option', 'title', this.context.localesOverride.dialog.dialog.titles["1"]);
	            }
	            else {
	                this.dialogElement.dialog('option', 'title', this.dialogContext.dialogTitle);
	            }
	        }
	        this.setupCloseOnOutsideClick();
	    };
	    DialogView.prototype.overrideMechanismConfiguration = function (context, localesOverride) {
	        if (localesOverride.mechanisms && context.mechanisms) {
	            var mechanismsOverride = localesOverride.mechanisms;
	            var _loop_1 = function (mechanismOverride) {
	                if (context.mechanisms.filter(function (mechanism) { return mechanism.id === mechanismOverride.id; }).length > 0) {
	                    var foundMechanism = context.mechanisms.filter(function (mechanism) { return mechanism.id === mechanismOverride.id; })[0];
	                    var index = context.mechanisms.indexOf(foundMechanism);
	                    context.mechanisms[index] = jQuery.extend(true, context.mechanisms[index], mechanismOverride);
	                }
	            };
	            for (var _i = 0, mechanismsOverride_1 = mechanismsOverride; _i < mechanismsOverride_1.length; _i++) {
	                var mechanismOverride = mechanismsOverride_1[_i];
	                _loop_1(mechanismOverride);
	            }
	        }
	        return context;
	    };
	    DialogView.prototype.buildContext = function (applicationContext) {
	        var dialogContext = {
	            'dialogId': this.dialogId
	        };
	        this.context = $.extend({}, applicationContext, dialogContext);
	        if (this.context.localesOverride) {
	            this.context = this.overrideMechanismConfiguration(this.context, this.context.localesOverride);
	        }
	        return this.context;
	    };
	    DialogView.prototype.setupCloseOnOutsideClick = function () {
	        exports.clickBlocked = false;
	        var dialogView = this;
	        jQuery('.ui-dialog').on('dragstart', function () {
	            exports.clickBlocked = true;
	        });
	        jQuery('body').on('click', function (event) {
	            if (!exports.clickBlocked && dialogView.dialogElement.dialog('isOpen') && !jQuery(event.target).is('.ui-dialog, a') && !jQuery(event.target).closest('.ui-dialog').length) {
	                dialogView.dialogElement.dialog('close');
	            }
	            if (exports.clickBlocked) {
	                exports.clickBlocked = false;
	            }
	        });
	    };
	    DialogView.prototype.open = function () {
	        this.dialogElement.dialog('open');
	    };
	    DialogView.prototype.close = function () {
	        this.dialogElement.dialog('close');
	    };
	    DialogView.prototype.getDialogOptions = function () {
	        var closeCallback = this.closeCallback;
	        var openCallback = this.openCallback;
	        return jQuery.extend({}, config_1.dialogOptions, {
	            close: function () {
	                if (closeCallback) {
	                    closeCallback();
	                }
	            },
	            open: function () {
	                if (openCallback) {
	                    openCallback();
	                }
	                jQuery('[aria-describedby="' + this.dialogId + '"] .ui-dialog-titlebar-close').attr('title', i18n.t('general.dialog_close_button_title'));
	                jQuery('.ui-widget-overlay').attr('style', 'height: 0 !important;');
	            },
	            create: function (event, ui) {
	                var widget = $(this).dialog("widget");
	                jQuery(".ui-dialog-titlebar-close span", widget)
	                    .removeClass("ui-icon-closethick")
	                    .addClass("ui-icon-minusthick");
	            }
	        });
	    };
	    DialogView.prototype.toggleDialog = function () {
	        if (this.dialogElement.dialog('isOpen')) {
	            this.close();
	        }
	        else {
	            this.open();
	        }
	    };
	    DialogView.prototype.resetMessageView = function () {
	        this.dialogElement.find('.server-response').removeClass('error').removeClass('success').text('');
	    };
	    DialogView.prototype.resetDialog = function () {
	    };
	    DialogView.prototype.setTitle = function (title) {
	        this.dialogElement.dialog('option', 'title', title);
	    };
	    DialogView.prototype.setModal = function (modal) {
	        this.dialogElement.dialog('option', 'modal', modal);
	    };
	    return DialogView;
	}());
	exports.DialogView = DialogView;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC92aWV3cy9kaWFsb2cvZGlhbG9nX3ZpZXcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSw4QkFBaUM7QUFDakMsMENBQThDO0FBTzlDO0lBSUksb0JBQW1CLFFBQWUsRUFBUyxRQUFZLEVBQVMsT0FBVyxFQUFTLFlBQXdCLEVBQ3pGLGFBQXlCO1FBRHpCLGFBQVEsR0FBUixRQUFRLENBQU87UUFBUyxhQUFRLEdBQVIsUUFBUSxDQUFJO1FBQVMsWUFBTyxHQUFQLE9BQU8sQ0FBSTtRQUFTLGlCQUFZLEdBQVosWUFBWSxDQUFZO1FBQ3pGLGtCQUFhLEdBQWIsYUFBYSxDQUFZO1FBQ3hDLElBQUksQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsQ0FBQztRQUNoRCxJQUFJLElBQUksR0FBRyxRQUFRLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO1FBQ3hDLE1BQU0sQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDNUIsSUFBSSxDQUFDLFVBQVUsRUFBRSxDQUFDO0lBQ3RCLENBQUM7SUFFRCwrQkFBVSxHQUFWO1FBQ0ksSUFBSSxlQUFlLEdBQUcsTUFBTSxDQUFDLEdBQUcsR0FBRSxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7UUFFakQsSUFBSSxDQUFDLGFBQWEsR0FBRyxlQUFlLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDLENBQUM7UUFFckUsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsT0FBTyxDQUFDLDhDQUE4QyxDQUFDLENBQUM7UUFDaEcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsWUFBWSxDQUFDLENBQUMsT0FBTyxDQUFDLG9CQUFvQixDQUFDLENBQUMsT0FBTyxDQUFDLDhDQUE4QyxDQUFDLENBQUM7UUFFOUgsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsUUFB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QTtJQUNOLENBQUM7SUFFRCxpQ0FBWSxHQUFaO1FBQ0ksRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3JDLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNqQixDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDSixJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDaEIsQ0FBQztJQUNMLENBQUM7SUFFRCxxQ0FBZ0IsR0FBaEI7UUFDSSxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFDLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxXQUFXLENBQUMsU0FBUyxDQUFDLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ3JHLENBQUM7SUFFRCxnQ0FBVyxHQUFYO0lBRUEsQ0FBQztJQUVELDZCQUFRLEdBQVIsVUFBUyxLQUFZO1FBQ2pCLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUVELDZCQUFRLEdBQVIsVUFBUyxLQUFhO1FBQ2xCLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxDQUFDLFFBQVEsRUFBRSxPQUFPLEVBQUUsS0FBSyxDQUFDLENBQUM7SUFDeEQsQ0FBQztJQUNMLGlCQUFDO0FBQUQsQ0F6SUEsQUF5SUMsSUFBQTtBQXpJWSxnQ0FBVSIsImZpbGUiOiJhcHAvdmlld3MvZGlhbG9nL2RpYWxvZ192aWV3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGkxOG4gPSByZXF1aXJlKCdpMThuZXh0Jyk7XG5pbXBvcnQge2RpYWxvZ09wdGlvbnN9IGZyb20gJy4uLy4uL2pzL2NvbmZpZyc7XG5cbmV4cG9ydCBkZWNsYXJlIHZhciBjbGlja0Jsb2NrZWQ6Ym9vbGVhbjtcblxuLyoqXG4gKiBBY3RzIGFzIGEgd3JhcHBlciB0byB0aGUganF1ZXJ5IFVJIGRpYWxvZ1xuICovXG5leHBvcnQgY2xhc3MgRGlhbG9nVmlldyB7XG4gICAgZGlhbG9nRWxlbWVudDphbnk7XG4gICAgZGlhbG9nQ29udGV4dDphbnk7XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZGlhbG9nSWQ6c3RyaW5nLCBwdWJsaWMgdGVtcGxhdGU6YW55LCBwdWJsaWMgY29udGV4dDphbnksIHB1YmxpYyBvcGVuQ2FsbGJhY2s/OigpID0+IHZvaWQsXG4gICAgICAgICAgICAgICAgcHVibGljIGNsb3NlQ2FsbGJhY2s/OigpID0+IHZvaWQpIHtcbiAgICAgICAgdGhpcy5kaWFsb2dDb250ZXh0ID0gdGhpcy5idWlsZENvbnRleHQoY29udGV4dCk7XG4gICAgICAgIGxldCBodG1sID0gdGVtcGxhdGUodGhpcy5kaWFsb2dDb250ZXh0KTtcbiAgICAgICAgalF1ZXJ5KCdib2R5JykuYXBwZW5kKGh0bWwpO1xuICAgICAgICB0aGlzLmluaXREaWFsb2coKTtcbiAgICB9XG5cbiAgICBpbml0RGlhbG9nKCkge1xuICAgICAgICBsZXQgZGlhbG9nQ29udGFpbmVyID0galF1ZXJ5KCcjJysgdGhpcy5kaWFsb2dJZCk7XG5cbiAgICAgICAgdGhpcy5kaWFsb2dFbGVtZW50ID0gZGlhbG9nQ29udGFpbmVyLmRpYWxvZyh0aGlzLmdldERpYWxvZ09wdGlvbnMoKSk7XG5cbiAgICAgICAgdGhpcy5kaWFsb2dFbGVtZW50LnBhcmVudCgnLnVpLWRpYWxvZycpLndyYXBBbGwoJzxkaXYgY2xhc3M9XCJmZWVkYmFjay1saWJyYXJ5LXdyYXBwZXJcIj48L2Rpdj4nKTtcbiAgICAgICAgdGhpcy5kaWFsb2dFbGVtZW50LnBhcmVudCgnLnVpLWRpYWxvZycpLmNsb3Nlc3QoJy51aS13aWRnZXQtb3ZlcmxheScpLndyYXBBbGwoJzxkaXYgY2xhc3M9XCJmZWVkYmFjay1saWJyYXJ5LXdyYXBwZXJcIj48L2Rpdj4nKTtcblxuICAgICAgICB0aGlzLmRpYWxvZ0VsZW1lbnQuZGlhbG9nKCdvcHRpb24nLCAnbW9kYWwnLCB0aGlzLmRpYWxvZ0NvbnRleHQubW9kYWwpO1xuICAgICAgICB0aGlzLmRpYWxvZ0VsZW1lbnQuZGlhbG9nKCdvcHRpb24nLCAnZGlhbG9nQ2xhc3MnLCB0aGlzLmRpYWxvZ0NvbnRleHQuZGlhbG9nQ1NTQ2xhc3MpO1xuXG4gICAgICAgIGlmKHRoaXMuY29udGV4dC5sb2NhbGVzT3ZlcnJpZGUgJiYgdGhpcy5jb250ZXh0LmxvY2FsZXNPdmVycmlkZS5kaWFsb2cgJiYgdGhpcy5jb250ZXh0LmxvY2FsZXNPdmVycmlkZS5kaWFsb2cuZGlhbG9nICYmIHRoaXMuY29udGV4dC5sb2NhbGVzT3ZlcnJpZGUuZGlhbG9nLmRpYWxvZy50aXRsZXMpIHtcbiAgICAgICAgICAgIGlmKHRoaXMuY29udGV4dC5sb2NhbGVzT3ZlcnJpZGUuZGlhbG9nLmRpYWxvZy50aXRsZXNbXCIxXCJdKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kaWFsb2dFbGVtZW50LmRpYWxvZygnb3B0aW9uJywgJ3RpdGxlJywgdGhpcy5jb250ZXh0LmxvY2FsZXNPdmVycmlkZS5kaWFsb2cuZGlhbG9nLnRpdGxlc1tcIjFcIl0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRpYWxvZ0VsZW1lbnQuZGlhbG9nKCdvcHRpb24nLCAndGl0bGUnLCB0aGlzLmRpYWxvZ0NvbnRleHQuZGlhbG9nVGl0bGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5zZXR1cENsb3NlT25PdXRzaWRlQ2xpY2soKTtcbiAgICB9XG5cbiAgICBvdmVycmlkZU1lY2hhbmlzbUNvbmZpZ3VyYXRpb24oY29udGV4dDphbnksIGxvY2FsZXNPdmVycmlkZTphbnkpOiBhbnkge1xuICAgICAgICBpZihsb2NhbGVzT3ZlcnJpZGUubWVjaGFuaXNtcyAmJiBjb250ZXh0Lm1lY2hhbmlzbXMpIHtcbiAgICAgICAgICAgIGxldCBtZWNoYW5pc21zT3ZlcnJpZGUgPSBsb2NhbGVzT3ZlcnJpZGUubWVjaGFuaXNtcztcblxuICAgICAgICAgICAgZm9yKGxldCBtZWNoYW5pc21PdmVycmlkZSBvZiBtZWNoYW5pc21zT3ZlcnJpZGUpIHtcbiAgICAgICAgICAgICAgICBpZihjb250ZXh0Lm1lY2hhbmlzbXMuZmlsdGVyKG1lY2hhbmlzbSA9PiBtZWNoYW5pc20uaWQgPT09IG1lY2hhbmlzbU92ZXJyaWRlLmlkKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmb3VuZE1lY2hhbmlzbSA9IGNvbnRleHQubWVjaGFuaXNtcy5maWx0ZXIobWVjaGFuaXNtID0+IG1lY2hhbmlzbS5pZCA9PT0gbWVjaGFuaXNtT3ZlcnJpZGUuaWQpWzBdO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSBjb250ZXh0Lm1lY2hhbmlzbXMuaW5kZXhPZihmb3VuZE1lY2hhbmlzbSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRleHQubWVjaGFuaXNtc1tpbmRleF0gPSBqUXVlcnkuZXh0ZW5kKHRydWUsIGNvbnRleHQubWVjaGFuaXNtc1tpbmRleF0sIG1lY2hhbmlzbU92ZXJyaWRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbnRleHQ7XG4gICAgfVxuXG4gICAgYnVpbGRDb250ZXh0KGFwcGxpY2F0aW9uQ29udGV4dDphbnkpIHtcbiAgICAgICAgbGV0IGRpYWxvZ0NvbnRleHQgPSB7XG4gICAgICAgICAgICAnZGlhbG9nSWQnOiB0aGlzLmRpYWxvZ0lkXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuY29udGV4dCA9ICQuZXh0ZW5kKHt9LCBhcHBsaWNhdGlvbkNvbnRleHQsIGRpYWxvZ0NvbnRleHQpO1xuICAgICAgICBpZih0aGlzLmNvbnRleHQubG9jYWxlc092ZXJyaWRlKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQgPSB0aGlzLm92ZXJyaWRlTWVjaGFuaXNtQ29uZmlndXJhdGlvbih0aGlzLmNvbnRleHQsIHRoaXMuY29udGV4dC5sb2NhbGVzT3ZlcnJpZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRleHQ7XG4gICAgfVxuXG4gICAgc2V0dXBDbG9zZU9uT3V0c2lkZUNsaWNrKCkge1xuICAgICAgICBjbGlja0Jsb2NrZWQgPSBmYWxzZTtcbiAgICAgICAgbGV0IGRpYWxvZ1ZpZXcgPSB0aGlzO1xuXG4gICAgICAgIC8vIHByZXZlbnQgZGlhbG9nIGNsb3NlIG9uIGRyYWcgc3RvcCBjbGlja1xuICAgICAgICBqUXVlcnkoJy51aS1kaWFsb2cnKS5vbignZHJhZ3N0YXJ0JywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2xpY2tCbG9ja2VkID0gdHJ1ZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgalF1ZXJ5KCdib2R5Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoIWNsaWNrQmxvY2tlZCAmJiBkaWFsb2dWaWV3LmRpYWxvZ0VsZW1lbnQuZGlhbG9nKCdpc09wZW4nKSAmJiAhalF1ZXJ5KGV2ZW50LnRhcmdldCkuaXMoJy51aS1kaWFsb2csIGEnKSAmJiAhalF1ZXJ5KGV2ZW50LnRhcmdldCkuY2xvc2VzdCgnLnVpLWRpYWxvZycpLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIGRpYWxvZ1ZpZXcuZGlhbG9nRWxlbWVudC5kaWFsb2coJ2Nsb3NlJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKGNsaWNrQmxvY2tlZCkge1xuICAgICAgICAgICAgICAgIGNsaWNrQmxvY2tlZCA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvcGVuKCkge1xuICAgICAgICB0aGlzLmRpYWxvZ0VsZW1lbnQuZGlhbG9nKCdvcGVuJyk7XG4gICAgfVxuXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuZGlhbG9nRWxlbWVudC5kaWFsb2coJ2Nsb3NlJyk7XG4gICAgfVxuXG4gICAgZ2V0RGlhbG9nT3B0aW9ucygpOnt9IHtcbiAgICAgICAgbGV0IGNsb3NlQ2FsbGJhY2sgPSB0aGlzLmNsb3NlQ2FsbGJhY2s7XG4gICAgICAgIGxldCBvcGVuQ2FsbGJhY2sgPSB0aGlzLm9wZW5DYWxsYmFjaztcblxuICAgICAgICByZXR1cm4galF1ZXJ5LmV4dGVuZCh7fSwgZGlhbG9nT3B0aW9ucywge1xuICAgICAgICAgICAgY2xvc2U6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBpZihjbG9zZUNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNsb3NlQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgb3BlbjogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmKG9wZW5DYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICBvcGVuQ2FsbGJhY2soKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgalF1ZXJ5KCdbYXJpYS1kZXNjcmliZWRieT1cIicgKyB0aGlzLmRpYWxvZ0lkICsgJ1wiXSAudWktZGlhbG9nLXRpdGxlYmFyLWNsb3NlJykuYXR0cigndGl0bGUnLCBpMThuLnQoJ2dlbmVyYWwuZGlhbG9nX2Nsb3NlX2J1dHRvbl90aXRsZScpKTtcbiAgICAgICAgICAgICAgICBqUXVlcnkoJy51aS13aWRnZXQtb3ZlcmxheScpLmF0dHIoJ3N0eWxlJywgJ2hlaWdodDogMCAhaW1wb3J0YW50OycpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNyZWF0ZTogZnVuY3Rpb24gKGV2ZW50LCB1aSkge1xuICAgICAgICAgICAgICAgIGxldCB3aWRnZXQgPSAkKHRoaXMpLmRpYWxvZyhcIndpZGdldFwiKTtcbiAgICAgICAgICAgICAgICBqUXVlcnkoXCIudWktZGlhbG9nLXRpdGxlYmFyLWNsb3NlIHNwYW5cIiwgd2lkZ2V0KVxuICAgICAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoXCJ1aS1pY29uLWNsb3NldGhpY2tcIilcbiAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKFwidWktaWNvbi1taW51c3RoaWNrXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHRvZ2dsZURpYWxvZygpIHtcbiAgICAgICAgaWYodGhpcy5kaWFsb2dFbGVtZW50LmRpYWxvZygnaXNPcGVuJykpIHtcbiAgICAgICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMub3BlbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzZXRNZXNzYWdlVmlldygpIHtcbiAgICAgICAgdGhpcy5kaWFsb2dFbGVtZW50LmZpbmQoJy5zZXJ2ZXItcmVzcG9uc2UnKS5yZW1vdmVDbGFzcygnZXJyb3InKS5yZW1vdmVDbGFzcygnc3VjY2VzcycpLnRleHQoJycpO1xuICAgIH1cblxuICAgIHJlc2V0RGlhbG9nKCkge1xuXG4gICAgfVxuXG4gICAgc2V0VGl0bGUodGl0bGU6c3RyaW5nKSB7XG4gICAgICAgIHRoaXMuZGlhbG9nRWxlbWVudC5kaWFsb2coJ29wdGlvbicsICd0aXRsZScsIHRpdGxlKTtcbiAgICB9XG5cbiAgICBzZXRNb2RhbChtb2RhbDpib29sZWFuKSB7XG4gICAgICAgIHRoaXMuZGlhbG9nRWxlbWVudC5kaWFsb2coJ29wdGlvbicsICdtb2RhbCcsIG1vZGFsKTtcbiAgICB9XG59Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/***/ }),
/* 51 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var text_feedback_1 = __webpack_require__(52);
	var TextView = (function () {
	    function TextView(textMechanism, dialogId) {
	        this.textMechanism = textMechanism;
	        this.dialogId = dialogId;
	        if (textMechanism.active) {
	            this.initEvents();
	        }
	    }
	    TextView.prototype.initEvents = function () {
	        var container = jQuery('#' + this.dialogId);
	        var sectionSelector = "textMechanism" + this.textMechanism.id;
	        var textarea = container.find('section#' + sectionSelector + ' textarea.text-type-text');
	        var maxLength = this.textMechanism.getParameterValue('maxLength');
	        var isMaxLengthStrict = this.textMechanism.getParameterValue('maxLengthStrict');
	        textarea.on('keyup focus paste blur', function () {
	            container.find('section#' + sectionSelector + ' span.text-type-max-length').text($(this).val().length + '/' + maxLength);
	        });
	        if (isMaxLengthStrict) {
	            textarea.on('keypress', function (e) {
	                if (e.which < 0x20) {
	                    return;
	                }
	                if (this.value.length === maxLength) {
	                    e.preventDefault();
	                }
	                else if (this.value.length > maxLength) {
	                    this.value = this.value.substring(0, maxLength);
	                }
	            });
	            textarea.on('change blur', function () {
	                if (this.value.length > maxLength) {
	                    this.value = this.value.substring(0, maxLength - 1);
	                }
	            });
	        }
	        container.find('section#' + sectionSelector + ' .text-type-text-clear').on('click', function (event) {
	            event.preventDefault();
	            event.stopPropagation();
	            textarea.val('');
	        });
	    };
	    TextView.prototype.getFeedback = function () {
	        var text = jQuery('section#textMechanism' + this.textMechanism.id + ' textarea').val();
	        return new text_feedback_1.TextFeedback(text, this.textMechanism.id);
	    };
	    TextView.prototype.reset = function () {
	        var textarea = jQuery('#' + this.dialogId + ' #textMechanism' + this.textMechanism.id + ' textarea.text-type-text');
	        textarea.val('');
	    };
	    return TextView;
	}());
	exports.TextView = TextView;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC92aWV3cy90ZXh0L3RleHRfdmlldy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLHNFQUFrRTtBQUlsRTtJQUVJLGtCQUFvQixhQUEyQixFQUFVLFFBQWU7UUFBcEQsa0JBQWEsR0FBYixhQUFhLENBQWM7UUFBVSxhQUFRLEdBQVIsUUFBUSxDQUFPO1FBQ3BFLEVBQUUsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ3ZCLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUN0QixDQUFDO0lBQ0wsQ0FBQztJQUVELDZCQUFVLEdBQVY7UUFDSSxJQUFJLFNBQVMsR0FBRyxNQUFNLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUM1QyxJQUFJLGVBQWUsR0FBRyxlQUFlLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFFLENBQUM7UUFDOUQsSUFBSSxRQUFRLEdBQUcsU0FBUyxDQUFDLElBQUksQ0FBQyxVQUFVLEdBQUcsZUFBZSxHQUFHLDBCQUEwQixDQUFDLENBQUM7UUFDekYsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxpQkFBaUIsQ0FBQyxXQUFXLENBQUMsQ0FBQztRQUNsRSxJQUFJLGlCQUFpQixHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsaUJBQWlCLENBQUMsaUJBQWlCLENBQUMsQ0FBQztRQUVoRixRQUFRLENBQUMsRUFBRSxDQUFDLHdCQUF3QixFQUFFO1lBQ2xDLFNBQVMsQ0FBQyxJQUFJLENBQUMsVUFBVSxHQUFHLGVBQWUsR0FBRyw0QkFBNEIsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxFQUFFLENBQUMsTUFBTSxHQUFHLEdBQUcsR0FBRyxTQUFTLENBQUMsQ0FBQztRQUM3SCxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQztZQUVwQixRQUFRLENBQUMsRUFBRSxDQUFDLFVBQVUsRUFBRSxVQUFVLENBQUM7Z0JBQy9CLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQztvQkFHakIsTUFBTSxDQUFDO2dCQUNYLENBQUM7Z0JBQ0QsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEtBQUssU0FBUyxDQUFDLENBQUMsQ0FBQztvQkFDbEMsQ0FBQyxDQUFDLGNBQWMsRUFBRSxDQUFDO2dCQUN2QixDQUFDO2dCQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxTQUFTLENBQUMsQ0FBQyxDQUFDO29CQUN2QyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBRSxTQUFTLENBQUMsQ0FBQztnQkFDcEQsQ0FBQztZQUNMLENBQUMsQ0FBQyxDQUFDO1lBRUgsUUFBUSxDQUFDLEVBQUUsQ0FBQyxhQUFhLEVBQUU7Z0JBQ3ZCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUM7b0JBQ2hDLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLFNBQVMsR0FBRyxDQUFDLENBQUMsQ0FBQztnQkFDeEQsQ0FBQztZQUNMLENBQUMsQ0FBQyxDQUFDO1FBQ1AsQ0FBQztRQUdELFNBQVMsQ0FBQyxJQUFJLENBQUMsVUFBVSxHQUFHLGVBQWUsR0FBRyx3QkFBd0IsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsVUFBVSxLQUFLO1lBQy9GLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUN2QixLQUFLLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDeEIsUUFBUSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUNyQixDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFFRCw4QkFBVyxHQUFYO1FBQ0ksSUFBSSxJQUFJLEdBQUcsTUFBTSxDQUFDLHVCQUF1QixHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRSxHQUFHLFdBQVcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ3ZGLE1BQU0sQ0FBQyxJQUFJLDRCQUFZLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDLENBQUE7SUFDeEQsQ0FBQztJQUVELHdCQUFLLEdBQUw7UUFDSSxJQUFJLFFBQVEsR0FBRyxNQUFNLENBQUMsR0FBRyxHQUFHLElBQUksQ0FBQyxRQUFRLEdBQUcsaUJBQWlCLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQyxFQUFFLEdBQUcsMEJBQTBCLENBQUMsQ0FBQztRQUNwSCxRQUFRLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQ3JCLENBQUM7SUFDTCxlQUFDO0FBQUQsQ0ExREEsQUEwREMsSUFBQTtBQTFEWSw0QkFBUSIsImZpbGUiOiJhcHAvdmlld3MvdGV4dC90ZXh0X3ZpZXcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1RleHRNZWNoYW5pc219IGZyb20gJy4uLy4uL21vZGVscy9tZWNoYW5pc21zL3RleHRfbWVjaGFuaXNtJztcbmltcG9ydCB7VGV4dEZlZWRiYWNrfSBmcm9tICcuLi8uLi9tb2RlbHMvZmVlZGJhY2tzL3RleHRfZmVlZGJhY2snO1xuaW1wb3J0IHtNZWNoYW5pc21WaWV3fSBmcm9tICcuLi9tZWNoYW5pc21fdmlldyc7XG5cblxuZXhwb3J0IGNsYXNzIFRleHRWaWV3IGltcGxlbWVudHMgTWVjaGFuaXNtVmlldyB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHRleHRNZWNoYW5pc206VGV4dE1lY2hhbmlzbSwgcHJpdmF0ZSBkaWFsb2dJZDpzdHJpbmcpIHtcbiAgICAgICAgaWYgKHRleHRNZWNoYW5pc20uYWN0aXZlKSB7XG4gICAgICAgICAgICB0aGlzLmluaXRFdmVudHMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluaXRFdmVudHMoKSB7XG4gICAgICAgIHZhciBjb250YWluZXIgPSBqUXVlcnkoJyMnICsgdGhpcy5kaWFsb2dJZCk7XG4gICAgICAgIHZhciBzZWN0aW9uU2VsZWN0b3IgPSBcInRleHRNZWNoYW5pc21cIiArIHRoaXMudGV4dE1lY2hhbmlzbS5pZDtcbiAgICAgICAgdmFyIHRleHRhcmVhID0gY29udGFpbmVyLmZpbmQoJ3NlY3Rpb24jJyArIHNlY3Rpb25TZWxlY3RvciArICcgdGV4dGFyZWEudGV4dC10eXBlLXRleHQnKTtcbiAgICAgICAgdmFyIG1heExlbmd0aCA9IHRoaXMudGV4dE1lY2hhbmlzbS5nZXRQYXJhbWV0ZXJWYWx1ZSgnbWF4TGVuZ3RoJyk7XG4gICAgICAgIHZhciBpc01heExlbmd0aFN0cmljdCA9IHRoaXMudGV4dE1lY2hhbmlzbS5nZXRQYXJhbWV0ZXJWYWx1ZSgnbWF4TGVuZ3RoU3RyaWN0Jyk7XG5cbiAgICAgICAgdGV4dGFyZWEub24oJ2tleXVwIGZvY3VzIHBhc3RlIGJsdXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb250YWluZXIuZmluZCgnc2VjdGlvbiMnICsgc2VjdGlvblNlbGVjdG9yICsgJyBzcGFuLnRleHQtdHlwZS1tYXgtbGVuZ3RoJykudGV4dCgkKHRoaXMpLnZhbCgpLmxlbmd0aCArICcvJyArIG1heExlbmd0aCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChpc01heExlbmd0aFN0cmljdCkge1xuICAgICAgICAgICAgLy8gcHJldmVudCB0eXBpbmcgaWYgbWF4IGxlbmd0aCBpcyByZWFjaGVkXG4gICAgICAgICAgICB0ZXh0YXJlYS5vbigna2V5cHJlc3MnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGlmIChlLndoaWNoIDwgMHgyMCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlLndoaWNoIDwgMHgyMCwgdGhlbiBpdCdzIG5vdCBhIHByaW50YWJsZSBjaGFyYWN0ZXJcbiAgICAgICAgICAgICAgICAgICAgLy8gZS53aGljaCA9PT0gMCAtIE5vdCBhIGNoYXJhY3RlclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47ICAgICAvLyBEbyBub3RoaW5nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlLmxlbmd0aCA9PT0gbWF4TGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudmFsdWUubGVuZ3RoID4gbWF4TGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cmluZygwLCBtYXhMZW5ndGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gcHJldmVudCBwYXN0aW5nIG1vcmUgY2hhcmFjdGVyc1xuICAgICAgICAgICAgdGV4dGFyZWEub24oJ2NoYW5nZSBibHVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnZhbHVlLmxlbmd0aCA+IG1heExlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZS5zdWJzdHJpbmcoMCwgbWF4TGVuZ3RoIC0gMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0ZXh0IGNsZWFyIGJ1dHRvblxuICAgICAgICBjb250YWluZXIuZmluZCgnc2VjdGlvbiMnICsgc2VjdGlvblNlbGVjdG9yICsgJyAudGV4dC10eXBlLXRleHQtY2xlYXInKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIHRleHRhcmVhLnZhbCgnJyk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldEZlZWRiYWNrKCk6VGV4dEZlZWRiYWNrIHtcbiAgICAgICAgdmFyIHRleHQgPSBqUXVlcnkoJ3NlY3Rpb24jdGV4dE1lY2hhbmlzbScgKyB0aGlzLnRleHRNZWNoYW5pc20uaWQgKyAnIHRleHRhcmVhJykudmFsKCk7XG4gICAgICAgIHJldHVybiBuZXcgVGV4dEZlZWRiYWNrKHRleHQsIHRoaXMudGV4dE1lY2hhbmlzbS5pZClcbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgdmFyIHRleHRhcmVhID0galF1ZXJ5KCcjJyArIHRoaXMuZGlhbG9nSWQgKyAnICN0ZXh0TWVjaGFuaXNtJyArIHRoaXMudGV4dE1lY2hhbmlzbS5pZCArICcgdGV4dGFyZWEudGV4dC10eXBlLXRleHQnKTtcbiAgICAgICAgdGV4dGFyZWEudmFsKCcnKTtcbiAgICB9XG59Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/***/ }),
/* 52 */
/***/ (function(module, exports) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var TextFeedback = (function () {
	    function TextFeedback(text, mechanismId) {
	        this.text = text;
	        this.mechanismId = mechanismId;
	    }
	    return TextFeedback;
	}());
	exports.TextFeedback = TextFeedback;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvZmVlZGJhY2tzL3RleHRfZmVlZGJhY2sudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTtJQUlJLHNCQUFZLElBQVcsRUFBRSxXQUFrQjtRQUN2QyxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztJQUNuQyxDQUFDO0lBQ0wsbUJBQUM7QUFBRCxDQVJBLEFBUUMsSUFBQTtBQVJZLG9DQUFZIiwiZmlsZSI6ImFwcC9tb2RlbHMvZmVlZGJhY2tzL3RleHRfZmVlZGJhY2suanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgVGV4dEZlZWRiYWNrIHtcbiAgICB0ZXh0OnN0cmluZztcbiAgICBtZWNoYW5pc21JZDpudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3Rvcih0ZXh0OnN0cmluZywgbWVjaGFuaXNtSWQ6bnVtYmVyKSB7XG4gICAgICAgIHRoaXMudGV4dCA9IHRleHQ7XG4gICAgICAgIHRoaXMubWVjaGFuaXNtSWQgPSBtZWNoYW5pc21JZDtcbiAgICB9XG59XG5cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/***/ }),
/* 53 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var rating_feedback_1 = __webpack_require__(54);
	var RatingView = (function () {
	    function RatingView(ratingMechanism, dialogId) {
	        this.ratingMechanism = ratingMechanism;
	        this.dialogId = dialogId;
	        if (ratingMechanism.active) {
	            var options = ratingMechanism.getRatingElementOptions();
	            jQuery('' + this.getSelector()).starRating(options);
	        }
	    }
	    RatingView.prototype.getSelector = function () {
	        return "#" + this.dialogId + " #ratingMechanism" + this.ratingMechanism.id + " .rating-input";
	    };
	    RatingView.prototype.reset = function () {
	        if (jQuery('' + this.getSelector()).starRating) {
	            jQuery('' + this.getSelector()).starRating('setRating', this.ratingMechanism.getParameterValue('defaultRating'));
	        }
	        this.ratingMechanism.currentRatingValue = this.ratingMechanism.getParameterValue('defaultRating');
	    };
	    RatingView.prototype.getFeedback = function () {
	        return new rating_feedback_1.RatingFeedback(this.ratingMechanism.currentRatingValue, this.ratingMechanism.id, this.ratingMechanism.getParameterValue('title'));
	    };
	    return RatingView;
	}());
	exports.RatingView = RatingView;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC92aWV3cy9yYXRpbmcvcmF0aW5nX3ZpZXcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFDQSwwRUFBc0U7QUFJdEU7SUFFSSxvQkFBb0IsZUFBK0IsRUFBVSxRQUFlO1FBQXhELG9CQUFlLEdBQWYsZUFBZSxDQUFnQjtRQUFVLGFBQVEsR0FBUixRQUFRLENBQU87UUFDeEUsRUFBRSxDQUFDLENBQUMsZUFBZSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDekIsSUFBSSxPQUFPLEdBQUcsZUFBZSxDQUFDLHVCQUF1QixFQUFFLENBQUM7WUFDeEQsTUFBTSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxVQUFVLENBQUMsT0FBTyxDQUFDLENBQUM7UUFDeEQsQ0FBQztJQUNMLENBQUM7SUFFRCxnQ0FBVyxHQUFYO1FBQ0ksTUFBTSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsUUFBUSxHQUFHLG1CQUFtQixHQUFHLElBQUksQ0FBQyxlQUFlLENBQUMsRUFBRSxHQUFHLGdCQUFnQixDQUFDO0lBQ2xHLENBQUM7SUFFRCwwQkFBSyxHQUFMO1FBQ0ksRUFBRSxDQUFBLENBQUMsTUFBTSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsV0FBVyxFQUFFLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1lBQzVDLE1BQU0sQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsVUFBVSxDQUFDLFdBQVcsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLGlCQUFpQixDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUM7UUFDckgsQ0FBQztRQUNELElBQUksQ0FBQyxlQUFlLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLGVBQWUsQ0FBQyxpQkFBaUIsQ0FBQyxlQUFlLENBQUMsQ0FBQztJQUV0RyxDQUFDO0lBRUQsZ0NBQVcsR0FBWDtRQUNJLE1BQU0sQ0FBQyxJQUFJLGdDQUFjLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxrQkFBa0IsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLEVBQUUsRUFBRSxJQUFJLENBQUMsZUFBZSxDQUFDLGlCQUFpQixDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQUM7SUFDakosQ0FBQztJQUNMLGlCQUFDO0FBQUQsQ0F4QkEsQUF3QkMsSUFBQTtBQXhCWSxnQ0FBVSIsImZpbGUiOiJhcHAvdmlld3MvcmF0aW5nL3JhdGluZ192aWV3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtSYXRpbmdNZWNoYW5pc219IGZyb20gJy4uLy4uL21vZGVscy9tZWNoYW5pc21zL3JhdGluZ19tZWNoYW5pc20nO1xuaW1wb3J0IHtSYXRpbmdGZWVkYmFja30gZnJvbSAnLi4vLi4vbW9kZWxzL2ZlZWRiYWNrcy9yYXRpbmdfZmVlZGJhY2snO1xuaW1wb3J0IHtNZWNoYW5pc21WaWV3fSBmcm9tICcuLi9tZWNoYW5pc21fdmlldyc7XG5cblxuZXhwb3J0IGNsYXNzIFJhdGluZ1ZpZXcgaW1wbGVtZW50cyBNZWNoYW5pc21WaWV3IHtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcmF0aW5nTWVjaGFuaXNtOlJhdGluZ01lY2hhbmlzbSwgcHJpdmF0ZSBkaWFsb2dJZDpzdHJpbmcpIHtcbiAgICAgICAgaWYgKHJhdGluZ01lY2hhbmlzbS5hY3RpdmUpIHtcbiAgICAgICAgICAgIHZhciBvcHRpb25zID0gcmF0aW5nTWVjaGFuaXNtLmdldFJhdGluZ0VsZW1lbnRPcHRpb25zKCk7XG4gICAgICAgICAgICBqUXVlcnkoJycgKyB0aGlzLmdldFNlbGVjdG9yKCkpLnN0YXJSYXRpbmcob3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRTZWxlY3RvcigpOnN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIiNcIiArIHRoaXMuZGlhbG9nSWQgKyBcIiAjcmF0aW5nTWVjaGFuaXNtXCIgKyB0aGlzLnJhdGluZ01lY2hhbmlzbS5pZCArIFwiIC5yYXRpbmctaW5wdXRcIjtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgaWYoalF1ZXJ5KCcnICsgdGhpcy5nZXRTZWxlY3RvcigpKS5zdGFyUmF0aW5nKSB7XG4gICAgICAgICAgICBqUXVlcnkoJycgKyB0aGlzLmdldFNlbGVjdG9yKCkpLnN0YXJSYXRpbmcoJ3NldFJhdGluZycsIHRoaXMucmF0aW5nTWVjaGFuaXNtLmdldFBhcmFtZXRlclZhbHVlKCdkZWZhdWx0UmF0aW5nJykpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmF0aW5nTWVjaGFuaXNtLmN1cnJlbnRSYXRpbmdWYWx1ZSA9IHRoaXMucmF0aW5nTWVjaGFuaXNtLmdldFBhcmFtZXRlclZhbHVlKCdkZWZhdWx0UmF0aW5nJyk7XG5cbiAgICB9XG5cbiAgICBnZXRGZWVkYmFjaygpOlJhdGluZ0ZlZWRiYWNrIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSYXRpbmdGZWVkYmFjayh0aGlzLnJhdGluZ01lY2hhbmlzbS5jdXJyZW50UmF0aW5nVmFsdWUsIHRoaXMucmF0aW5nTWVjaGFuaXNtLmlkLCB0aGlzLnJhdGluZ01lY2hhbmlzbS5nZXRQYXJhbWV0ZXJWYWx1ZSgndGl0bGUnKSk7XG4gICAgfVxufSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/***/ }),
/* 54 */
/***/ (function(module, exports) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var RatingFeedback = (function () {
	    function RatingFeedback(rating, mechanismId, title) {
	        this.rating = rating;
	        this.mechanismId = mechanismId;
	        this.title = title;
	    }
	    return RatingFeedback;
	}());
	exports.RatingFeedback = RatingFeedback;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvZmVlZGJhY2tzL3JhdGluZ19mZWVkYmFjay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBO0lBS0ksd0JBQVksTUFBYSxFQUFFLFdBQWtCLEVBQUUsS0FBWTtRQUN2RCxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUNyQixJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztRQUMvQixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztJQUN2QixDQUFDO0lBQ0wscUJBQUM7QUFBRCxDQVZBLEFBVUMsSUFBQTtBQVZZLHdDQUFjIiwiZmlsZSI6ImFwcC9tb2RlbHMvZmVlZGJhY2tzL3JhdGluZ19mZWVkYmFjay5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBSYXRpbmdGZWVkYmFjayB7XG4gICAgcmF0aW5nOm51bWJlcjtcbiAgICBtZWNoYW5pc21JZDpudW1iZXI7XG4gICAgdGl0bGU6c3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IocmF0aW5nOm51bWJlciwgbWVjaGFuaXNtSWQ6bnVtYmVyLCB0aXRsZTpzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5yYXRpbmcgPSByYXRpbmc7XG4gICAgICAgIHRoaXMubWVjaGFuaXNtSWQgPSBtZWNoYW5pc21JZDtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgIH1cbn1cblxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/***/ }),
/* 55 */
/***/ (function(module, exports) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var AudioView = (function () {
	    function AudioView(audioMechanism, container, distPath) {
	        this.audioMechanism = audioMechanism;
	        this.container = container;
	        this.distPath = distPath;
	        this.initElements();
	        this.initEvents();
	    }
	    AudioView.prototype.initElements = function () {
	        this.recordButton = this.container.find('a.record');
	        this.stopButton = this.container.find('a.stop');
	        this.deleteButton = this.container.find('a.delete');
	        this.replayButton = this.container.find('a.replay');
	        this.stopReplayButton = this.container.find('a.stop-replay');
	        this.audioElement = this.container.find('audio.audio');
	        this.stopButton.hide();
	        this.deleteButton.hide();
	        this.replayButton.hide();
	        this.stopReplayButton.hide();
	    };
	    AudioView.prototype.initEvents = function () {
	        var myThis = this;
	        this.recordButton.on('click', function () {
	            Fr.voice.record(false, function () {
	                myThis.recordButton.addClass("disabled");
	                var activeSrc = myThis.recordButton.find('img').data('active-src');
	                myThis.recordButton.find('img').attr('src', activeSrc);
	                myThis.container.find(".one").removeClass("disabled");
	            });
	            myThis.recordStart = new Date();
	            myThis.recordInterval = setInterval(function () {
	                var seconds = (new Date().getTime() - myThis.recordStart.getTime()) / 1000;
	                seconds = Math.abs(seconds);
	                myThis.recordTime = seconds;
	                myThis.container.find('.audio-time').empty().text(myThis.toMMSS(seconds));
	            }, 1000);
	            myThis.stopButton.show();
	            myThis.container.addClass('dirty');
	        });
	        this.stopButton.on('click', function () {
	            Fr.voice.pause();
	            Fr.voice.export(function (url) {
	                myThis.audioElement.attr("src", url);
	            }, "URL");
	            myThis.replayButton.show();
	            myThis.deleteButton.show();
	            myThis.stopButton.hide();
	            clearInterval(myThis.recordInterval);
	        });
	        this.deleteButton.on('click', function () {
	            myThis.audioElement.attr("src", null);
	            myThis.restore();
	            myThis.reset();
	        });
	        this.replayButton.on('click', function () {
	            Fr.voice.export(function (url) {
	                myThis.audioElement.attr("src", url);
	                myThis.audioElement[0].play();
	            }, "URL");
	            myThis.stopReplayButton.show();
	            myThis.replayStart = new Date();
	            myThis.replayInterval = setInterval(function () {
	                var seconds = (new Date().getTime() - myThis.replayStart.getTime()) / 1000;
	                seconds = Math.abs(seconds);
	                if (seconds > 1 && myThis.audioElement[0].paused) {
	                    clearInterval(myThis.replayInterval);
	                    myThis.stopReplayButton.hide();
	                }
	                if (seconds <= myThis.recordTime) {
	                    myThis.container.find('.replay-time').empty().text(myThis.toMMSS(seconds) + " / ");
	                }
	            }, 1000);
	        });
	        this.stopReplayButton.on('click', function () {
	            myThis.audioElement[0].pause();
	            clearInterval(myThis.replayInterval);
	        });
	    };
	    AudioView.prototype.restore = function () {
	        this.recordButton.removeClass("disabled");
	        this.container.find('.one').addClass("disabled");
	        Fr.voice.stop();
	    };
	    AudioView.prototype.getBlob = function (callback) {
	        Fr.voice.export(function (blob) {
	            callback(blob);
	        }, "blob");
	    };
	    AudioView.prototype.reset = function () {
	        clearInterval(this.recordInterval);
	        clearInterval(this.replayInterval);
	        this.stopButton.hide();
	        this.deleteButton.hide();
	        this.replayButton.hide();
	        this.stopReplayButton.hide();
	        this.container.find('.replay-time').empty();
	        this.container.find('.audio-time').empty();
	        this.container.removeClass('dirty');
	    };
	    AudioView.prototype.toMMSS = function (totalSeconds) {
	        var hours = Math.floor(totalSeconds / 3600);
	        var minutes = Math.floor((totalSeconds - (hours * 3600)) / 60);
	        var seconds = totalSeconds - (hours * 3600) - (minutes * 60);
	        if (hours < 10) {
	            hours = "0" + hours;
	        }
	        if (minutes < 10) {
	            minutes = "0" + minutes;
	        }
	        if (seconds < 10) {
	            seconds = "0" + seconds;
	        }
	        return minutes + ':' + seconds.substring(0, 2);
	    };
	    return AudioView;
	}());
	exports.AudioView = AudioView;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC92aWV3cy9hdWRpby9hdWRpb192aWV3LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBSUE7SUFnQkksbUJBQVksY0FBNkIsRUFBRSxTQUFnQixFQUFFLFFBQWU7UUFDeEUsSUFBSSxDQUFDLGNBQWMsR0FBRyxjQUFjLENBQUM7UUFDckMsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7UUFDM0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekIsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQ3BCLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQTtJQUNyQixDQUFDO0lBRUQsZ0NBQVksR0FBWjtRQUNJLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDcEQsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNoRCxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBQ3BELElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7UUFDcEQsSUFBSSxDQUFDLGdCQUFnQixHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO1FBQzdELElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7UUFFdkQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUN2QixJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDekIsSUFBSSxDQUFDLGdCQUFnQixDQUFD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QUFtQjtRQUN0QixJQUFJLEtBQUssR0FBSyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksR0FBRyxJQUFJLENBQUMsQ0FBQztRQUM5QyxJQUFJLE9BQU8sR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUMsWUFBWSxHQUFHLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFDL0QsSUFBSSxPQUFPLEdBQUcsWUFBWSxHQUFHLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsT0FBTyxHQUFHLEVBQUUsQ0FBQyxDQUFDO1FBRTdELEVBQUUsQ0FBQyxDQUFDLEtBQUssR0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQUEsS0FBSyxHQUFLLEdBQUcsR0FBQyxLQUFLLENBQUM7UUFBQSxDQUFDO1FBQ3hDLEVBQUUsQ0FBQyxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQUEsT0FBTyxHQUFHLEdBQUcsR0FBQyxPQUFPLENBQUM7UUFBQSxDQUFDO1FBQzFDLEVBQUUsQ0FBQyxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFDO1lBQUEsT0FBTyxHQUFHLEdBQUcsR0FBQyxPQUFPLENBQUM7UUFBQSxDQUFDO1FBQzFDLE1BQU0sQ0FBQyxPQUFPLEdBQUcsR0FBRyxHQUFHLE9BQU8sQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ25ELENBQUM7SUFDTCxnQkFBQztBQUFELENBOUlBLEFBOElDLElBQUE7QUE5SVksOEJBQVMiLCJmaWxlIjoiYXBwL3ZpZXdzL2F1ZGlvL2F1ZGlvX3ZpZXcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0F1ZGlvTWVjaGFuaXNtfSBmcm9tICcuLi8uLi9tb2RlbHMvbWVjaGFuaXNtcy9hdWRpb19tZWNoYW5pc20nO1xuaW1wb3J0IHtNZWNoYW5pc21WaWV3fSBmcm9tICcuLi9tZWNoYW5pc21fdmlldyc7XG5cblxuZXhwb3J0IGNsYXNzIEF1ZGlvVmlldyBpbXBsZW1lbnRzIE1lY2hhbmlzbVZpZXcge1xuICAgIGF1ZGlvTWVjaGFuaXNtOkF1ZGlvTWVjaGFuaXNtO1xuICAgIGNvbnRhaW5lcjpKUXVlcnk7XG4gICAgZGlzdFBhdGg6c3RyaW5nO1xuICAgIHJlY29yZEJ1dHRvbjpKUXVlcnk7XG4gICAgc3RvcEJ1dHRvbjpKUXVlcnk7XG4gICAgZGVsZXRlQnV0dG9uOkpRdWVyeTtcbiAgICByZXBsYXlCdXR0b246SlF1ZXJ5O1xuICAgIHN0b3BSZXBsYXlCdXR0b246SlF1ZXJ5O1xuICAgIGF1ZGlvRWxlbWVudDpKUXVlcnk7XG4gICAgcmVjb3JkU3RhcnQ6RGF0ZTtcbiAgICByZWNvcmRJbnRlcnZhbDphbnk7XG4gICAgcmVwbGF5U3RhcnQ6RGF0ZTtcbiAgICByZXBsYXlJbnRlcnZhbDphbnk7XG4gICAgcmVjb3JkVGltZTpudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihhdWRpb01lY2hhbmlzbTpBdWRpb01lY2hhbmlzbSwgY29udGFpbmVyOkpRdWVyeSwgZGlzdFBhdGg6c3RyaW5nKSB7XG4gICAgICAgIHRoaXMuYXVkaW9NZWNoYW5pc20gPSBhdWRpb01lY2hhbmlzbTtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuZGlzdFBhdGggPSBkaXN0UGF0aDtcbiAgICAgICAgdGhpcy5pbml0RWxlbWVudHMoKTtcbiAgICAgICAgdGhpcy5pbml0RXZlbnRzKClcbiAgICB9XG5cbiAgICBpbml0RWxlbWVudHMoKSB7XG4gICAgICAgIHRoaXMucmVjb3JkQnV0dG9uID0gdGhpcy5jb250YWluZXIuZmluZCgnYS5yZWNvcmQnKTtcbiAgICAgICAgdGhpcy5zdG9wQnV0dG9uID0gdGhpcy5jb250YWluZXIuZmluZCgnYS5zdG9wJyk7XG4gICAgICAgIHRoaXMuZGVsZXRlQnV0dG9uID0gdGhpcy5jb250YWluZXIuZmluZCgnYS5kZWxldGUnKTtcbiAgICAgICAgdGhpcy5yZXBsYXlCdXR0b24gPSB0aGlzLmNvbnRhaW5lci5maW5kKCdhLnJlcGxheScpO1xuICAgICAgICB0aGlzLnN0b3BSZXBsYXlCdXR0b24gPSB0aGlzLmNvbnRhaW5lci5maW5kKCdhLnN0b3AtcmVwbGF5Jyk7XG4gICAgICAgIHRoaXMuYXVkaW9FbGVtZW50ID0gdGhpcy5jb250YWluZXIuZmluZCgnYXVkaW8uYXVkaW8nKTtcblxuICAgICAgICB0aGlzLnN0b3BCdXR0b24uaGlkZSgpO1xuICAgICAgICB0aGlzLmRlbGV0ZUJ1dHRvbi5oaWRlKCk7XG4gICAgICAgIHRoaXMucmVwbGF5QnV0dG9uLmhpZGUoKTtcbiAgICAgICAgdGhpcy5zdG9wUmVwbGF5QnV0dG9uLmhpZGUoKTtcbiAgICB9XG5cbiAgICBpbml0RXZlbnRzKCkge1xuICAgICAgICB2YXIgbXlUaGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5yZWNvcmRCdXR0b24ub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBGci52b2ljZS5yZWNvcmQoZmFsc2UsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBteVRoaXMucmVjb3JkQnV0dG9uLmFkZENsYXNzKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICAgICAgdmFyIGFjdGl2ZVNyYyA9IG15VGhpcy5yZWNvcmRCdXR0b24uZmluZCgnaW1nJykuZGF0YSgnYWN0aXZlLXNyYycpO1xuICAgICAgICAgICAgICAgIG15VGhpcy5yZWNvcmRCdXR0b24uZmluZCgnaW1nJykuYXR0cignc3JjJywgYWN0aXZlU3JjKTtcbiAgICAgICAgICAgICAgICBteVRoaXMuY29udGFpbmVyLmZpbmQoXCIub25lXCIpLnJlbW92ZUNsYXNzKFwiZGlzYWJsZWRcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG15VGhpcy5yZWNvcmRTdGFydCA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICBteVRoaXMucmVjb3JkSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBsZXQgc2Vjb25kczpudW1iZXIgPSAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBteVRoaXMucmVjb3JkU3RhcnQuZ2V0VGltZSgpKSAvIDEwMDA7XG4gICAgICAgICAgICAgICAgc2Vjb25kcyA9IE1hdGguYWJzKHNlY29uZHMpO1xuICAgICAgICAgICAgICAgIG15VGhpcy5yZWNvcmRUaW1lID0gc2Vjb25kcztcbiAgICAgICAgICAgICAgICBteVRoaXMuY29udGFpbmVyLmZpbmQoJy5hdWRpby10aW1lJykuZW1wdHkoKS50ZXh0KG15VGhpcy50b01NU1Moc2Vjb25kcykpO1xuICAgICAgICAgICAgfSwgMTAwMCk7XG5cbiAgICAgICAgICAgIG15VGhpcy5zdG9wQnV0dG9uLnNob3coKTtcbiAgICAgICAgICAgIG15VGhpcy5jb250YWluZXIuYWRkQ2xhc3MoJ2RpcnR5Jyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuc3RvcEJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIEZyLnZvaWNlLnBhdXNlKCk7XG4gICAgICAgICAgICBGci52b2ljZS5leHBvcnQoZnVuY3Rpb24gKHVybCkge1xuICAgICAgICAgICAgICAgIG15VGhpcy5hdWRpb0VsZW1lbnQuYXR0cihcInNyY1wiLCB1cmwpO1xuICAgICAgICAgICAgfSwgXCJVUkxcIik7XG4gICAgICAgICAgICBteVRoaXMucmVwbGF5QnV0dG9uLnNob3coKTtcbiAgICAgICAgICAgIG15VGhpcy5kZWxldGVCdXR0b24uc2hvdygpO1xuICAgICAgICAgICAgbXlUaGlzLnN0b3BCdXR0b24uaGlkZSgpO1xuXG4gICAgICAgICAgICBjbGVhckludGVydmFsKG15VGhpcy5yZWNvcmRJbnRlcnZhbCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZGVsZXRlQnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbXlUaGlzLmF1ZGlvRWxlbWVudC5hdHRyKFwic3JjXCIsIG51bGwpO1xuICAgICAgICAgICAgbXlUaGlzLnJlc3RvcmUoKTtcbiAgICAgICAgICAgIG15VGhpcy5yZXNldCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnJlcGxheUJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIEZyLnZvaWNlLmV4cG9ydChmdW5jdGlvbiAodXJsKSB7XG4gICAgICAgICAgICAgICAgbXlUaGlzLmF1ZGlvRWxlbWVudC5hdHRyKFwic3JjXCIsIHVybCk7XG4gICAgICAgICAgICAgICAgbXlUaGlzLmF1ZGlvRWxlbWVudFswXS5wbGF5KCk7XG4gICAgICAgICAgICB9LCBcIlVSTFwiKTtcblxuICAgICAgICAgICAgbXlUaGlzLnN0b3BSZXBsYXlCdXR0b24uc2hvdygpO1xuXG4gICAgICAgICAgICBteVRoaXMucmVwbGF5U3RhcnQgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgICAgbXlUaGlzLnJlcGxheUludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgbGV0IHNlY29uZHM6bnVtYmVyID0gKG5ldyBEYXRlKCkuZ2V0VGltZSgpIC0gbXlUaGlzLnJlcGxheVN0YXJ0LmdldFRpbWUoKSkgLyAxMDAwO1xuICAgICAgICAgICAgICAgIHNlY29uZHMgPSBNYXRoLmFicyhzZWNvbmRzKTtcblxuICAgICAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB0aGUgYXVkaW8gZWxlbWVudCBoYXMgc3RhcnRlZCB0byByZXBsYXkgYmVmb3JlIGNoZWNraW5nIHdoZXRoZXIgaXQncyBwYXVzZWRcbiAgICAgICAgICAgICAgICBpZihzZWNvbmRzID4gMSAmJiBteVRoaXMuYXVkaW9FbGVtZW50WzBdLnBhdXNlZCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKG15VGhpcy5yZXBsYXlJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgIG15VGhpcy5zdG9wUmVwbGF5QnV0dG9uLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYoc2Vjb25kcyA8PSBteVRoaXMucmVjb3JkVGltZSkge1xuICAgICAgICAgICAgICAgICAgICBteVRoaXMuY29udGFpbmVyLmZpbmQoJy5yZXBsYXktdGltZScpLmVtcHR5KCkudGV4dChteVRoaXMudG9NTVNTKHNlY29uZHMpICsgXCIgLyBcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuc3RvcFJlcGxheUJ1dHRvbi5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG15VGhpcy5hdWRpb0VsZW1lbnRbMF0ucGF1c2UoKTtcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwobXlUaGlzLnJlcGxheUludGVydmFsKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVzdG9yZSgpe1xuICAgICAgICB0aGlzLnJlY29yZEJ1dHRvbi5yZW1vdmVDbGFzcyhcImRpc2FibGVkXCIpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5maW5kKCcub25lJykuYWRkQ2xhc3MoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgRnIudm9pY2Uuc3RvcCgpO1xuICAgIH1cblxuICAgIGdldEJsb2IoY2FsbGJhY2s6YW55KSB7XG4gICAgICAgIEZyLnZvaWNlLmV4cG9ydChmdW5jdGlvbiAoYmxvYikge1xuICAgICAgICAgICAgY2FsbGJhY2soYmxvYik7XG4gICAgICAgIH0sIFwiYmxvYlwiKTtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlY29yZEludGVydmFsKTtcbiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnJlcGxheUludGVydmFsKTtcbiAgICAgICAgdGhpcy5zdG9wQnV0dG9uLmhpZGUoKTtcbiAgICAgICAgdGhpcy5kZWxldGVCdXR0b24uaGlkZSgpO1xuICAgICAgICB0aGlzLnJlcGxheUJ1dHRvbi5oaWRlKCk7XG4gICAgICAgIHRoaXMuc3RvcFJlcGxheUJ1dHRvbi5oaWRlKCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmZpbmQoJy5yZXBsYXktdGltZScpLmVtcHR5KCk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmZpbmQoJy5hdWRpby10aW1lJykuZW1wdHkoKTtcblxuICAgICAgICB0aGlzLmNvbnRhaW5lci5yZW1vdmVDbGFzcygnZGlydHknKTtcbiAgICB9XG5cbiAgICB0b01NU1ModG90YWxTZWNvbmRzOm51bWJlcikge1xuICAgICAgICBsZXQgaG91cnMgICA9IE1hdGguZmxvb3IodG90YWxTZWNvbmRzIC8gMzYwMCk7XG4gICAgICAgIGxldCBtaW51dGVzID0gTWF0aC5mbG9vcigodG90YWxTZWNvbmRzIC0gKGhvdXJzICogMzYwMCkpIC8gNjApO1xuICAgICAgICBsZXQgc2Vjb25kcyA9IHRvdGFsU2Vjb25kcyAtIChob3VycyAqIDM2MDApIC0gKG1pbnV0ZXMgKiA2MCk7XG5cbiAgICAgICAgaWYgKGhvdXJzICAgPCAxMCkge2hvdXJzICAgPSBcIjBcIitob3Vyczt9XG4gICAgICAgIGlmIChtaW51dGVzIDwgMTApIHttaW51dGVzID0gXCIwXCIrbWludXRlczt9XG4gICAgICAgIGlmIChzZWNvbmRzIDwgMTApIHtzZWNvbmRzID0gXCIwXCIrc2Vjb25kczt9XG4gICAgICAgIHJldHVybiBtaW51dGVzICsgJzonICsgc2Vjb25kcy5zdWJzdHJpbmcoMCwgMik7XG4gICAgfVxufVxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/***/ }),
/* 56 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var attachment_feedback_1 = __webpack_require__(57);
	var AttachmentView = (function () {
	    function AttachmentView(attachmentMechanism, dialogId, distPath) {
	        this.attachmentMechanism = attachmentMechanism;
	        this.dialogId = dialogId;
	        this.distPath = distPath;
	        if (attachmentMechanism.active) {
	            this.dropArea = jQuery('' + this.getSelector()).find('.drop-area');
	            this.dropArea.fileUpload(distPath);
	        }
	    }
	    AttachmentView.prototype.getSelector = function () {
	        return "#" + this.dialogId + " #attachmentMechanism" + this.attachmentMechanism.id;
	    };
	    AttachmentView.prototype.getFiles = function () {
	        if (this.dropArea) {
	            return this.dropArea.currentFiles;
	        }
	        else {
	            return [];
	        }
	    };
	    AttachmentView.prototype.getFeedbacks = function () {
	        var attachmentFeedbacks = [];
	        if (this.getFiles() !== null) {
	            for (var i = 0; i < this.getFiles().length; i++) {
	                var file = this.getFiles()[i];
	                var partName = 'attachment' + i;
	                var attachmentFeedback = new attachment_feedback_1.AttachmentFeedback(partName, file.name, file.type, this.attachmentMechanism.id);
	                attachmentFeedbacks.push(attachmentFeedback);
	            }
	        }
	        return attachmentFeedbacks;
	    };
	    AttachmentView.prototype.getPartName = function (index) {
	        return 'attachment' + index;
	    };
	    AttachmentView.prototype.reset = function () {
	    };
	    return AttachmentView;
	}());
	exports.AttachmentView = AttachmentView;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC92aWV3cy9hdHRhY2htZW50L2F0dGFjaG1lbnRfdmlldy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLGtGQUE4RTtBQUk5RTtJQUdJLHdCQUFvQixtQkFBdUMsRUFBVSxRQUFlLEVBQVUsUUFBZTtRQUF6Rix3QkFBbUIsR0FBbkIsbUJBQW1CLENBQW9CO1FBQVUsYUFBUSxHQUFSLFFBQVEsQ0FBTztRQUFVLGFBQVEsR0FBUixRQUFRLENBQU87UUFDekcsRUFBRSxDQUFDLENBQUMsbUJBQW1CLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUM3QixJQUFJLENBQUMsUUFBUSxHQUFHLE1BQU0sQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxDQUFDO1lBQ25FLElBQUksQ0FBQyxRQUFRLENBQUMsVUFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3ZDLENBQUM7SUFDTCxDQUFDO0lBRUQsb0NBQVcsR0FBWDtRQUNJLE1BQU0sQ0FBQyxHQUFHLEdBQUcsSUFBSSxDQUFDLFFBQVEsR0FBRyx1QkFBdUIsR0FBRyxJQUFJLENBQUMsbUJBQW1CLENBQUMsRUFBRSxDQUFDO0lBQ3ZGLENBQUM7SUFFRCxpQ0FBUSxHQUFSO1FBQ0ksRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDZixNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUM7UUFDdEMsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ0osTUFBTSxDQUFDLEVBQUUsQ0FBQztRQUNkLENBQUM7SUFDTCxDQUFDO0lBRUQscUNBQVksR0FBWjtRQUNJLElBQUksbUJBQW1CLEdBQUcsRUFBRSxDQUFDO1FBRTdCLEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxRQUFRLEVBQUUsS0FBSyxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQzFCLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLFFBQVEsRUFBRSxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDO2dCQUM5QyxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQzlCLElBQUksUUFBUSxHQUFHLFlBQVksR0FBRyxDQUFDLENBQUM7Z0JBQ2hDLElBQUksa0JBQWtCLEdBQUcsSUFBSSx3Q0FBa0IsQ0FBQyxRQUFRLEVBQUUsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxFQUFFLENBQUMsQ0FBQztnQkFDN0csbUJBQW1CLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUM7WUFDakQsQ0FBQztRQUNMLENBQUM7UUFFRCxNQUFNLENBQUMsbUJBQW1CLENBQUM7SUFDL0IsQ0FBQztJQUVELG9DQUFXLEdBQVgsVUFBWSxLQUFZO1FBQ3BCLE1BQU0sQ0FBQyxZQUFZLEdBQUcsS0FBSyxDQUFDO0lBQ2hDLENBQUM7SUFFRCw4QkFBSyxHQUFMO0lBRUEsQ0FBQztJQUNMLHFCQUFDO0FBQUQsQ0E1Q0EsQUE0Q0MsSUFBQTtBQTVDWSx3Q0FBYyIsImZpbGUiOiJhcHAvdmlld3MvYXR0YWNobWVudC9hdHRhY2htZW50X3ZpZXcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0F0dGFjaG1lbnRNZWNoYW5pc219IGZyb20gJy4uLy4uL21vZGVscy9tZWNoYW5pc21zL2F0dGFjaG1lbnRfbWVjaGFuaXNtJztcbmltcG9ydCB7QXR0YWNobWVudEZlZWRiYWNrfSBmcm9tICcuLi8uLi9tb2RlbHMvZmVlZGJhY2tzL2F0dGFjaG1lbnRfZmVlZGJhY2snO1xuaW1wb3J0IHtNZWNoYW5pc21WaWV3fSBmcm9tICcuLi9tZWNoYW5pc21fdmlldyc7XG5cblxuZXhwb3J0IGNsYXNzIEF0dGFjaG1lbnRWaWV3IGltcGxlbWVudHMgTWVjaGFuaXNtVmlldyB7XG4gICAgZHJvcEFyZWE6YW55O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBhdHRhY2htZW50TWVjaGFuaXNtOkF0dGFjaG1lbnRNZWNoYW5pc20sIHByaXZhdGUgZGlhbG9nSWQ6c3RyaW5nLCBwcml2YXRlIGRpc3RQYXRoOnN0cmluZykge1xuICAgICAgICBpZiAoYXR0YWNobWVudE1lY2hhbmlzbS5hY3RpdmUpIHtcbiAgICAgICAgICAgIHRoaXMuZHJvcEFyZWEgPSBqUXVlcnkoJycgKyB0aGlzLmdldFNlbGVjdG9yKCkpLmZpbmQoJy5kcm9wLWFyZWEnKTtcbiAgICAgICAgICAgIHRoaXMuZHJvcEFyZWEuZmlsZVVwbG9hZChkaXN0UGF0aCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRTZWxlY3RvcigpOnN0cmluZyB7XG4gICAgICAgIHJldHVybiBcIiNcIiArIHRoaXMuZGlhbG9nSWQgKyBcIiAjYXR0YWNobWVudE1lY2hhbmlzbVwiICsgdGhpcy5hdHRhY2htZW50TWVjaGFuaXNtLmlkO1xuICAgIH1cblxuICAgIGdldEZpbGVzKCkge1xuICAgICAgICBpZih0aGlzLmRyb3BBcmVhKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kcm9wQXJlYS5jdXJyZW50RmlsZXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRGZWVkYmFja3MoKTpBdHRhY2htZW50RmVlZGJhY2tbXSB7XG4gICAgICAgIGxldCBhdHRhY2htZW50RmVlZGJhY2tzID0gW107XG5cbiAgICAgICAgaWYodGhpcy5nZXRGaWxlcygpICE9PSBudWxsKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZ2V0RmlsZXMoKS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBmaWxlID0gdGhpcy5nZXRGaWxlcygpW2ldO1xuICAgICAgICAgICAgICAgIGxldCBwYXJ0TmFtZSA9ICdhdHRhY2htZW50JyArIGk7XG4gICAgICAgICAgICAgICAgdmFyIGF0dGFjaG1lbnRGZWVkYmFjayA9IG5ldyBBdHRhY2htZW50RmVlZGJhY2socGFydE5hbWUsIGZpbGUubmFtZSwgZmlsZS50eXBlLCB0aGlzLmF0dGFjaG1lbnRNZWNoYW5pc20uaWQpO1xuICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRGZWVkYmFja3MucHVzaChhdHRhY2htZW50RmVlZGJhY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGF0dGFjaG1lbnRGZWVkYmFja3M7XG4gICAgfVxuXG4gICAgZ2V0UGFydE5hbWUoaW5kZXg6bnVtYmVyKTpzdHJpbmcge1xuICAgICAgICByZXR1cm4gJ2F0dGFjaG1lbnQnICsgaW5kZXg7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIC8vIFRPRE8gaW1wbGVtZW50XG4gICAgfVxufSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/***/ }),
/* 57 */
/***/ (function(module, exports) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var AttachmentFeedback = (function () {
	    function AttachmentFeedback(part, name, fileExtension, mechanismId) {
	        this.part = part;
	        this.name = name;
	        this.fileExtension = this.getFileExtensionFromContentType(fileExtension);
	        this.mechanismId = mechanismId;
	    }
	    AttachmentFeedback.prototype.getFileExtensionFromContentType = function (fileContentType) {
	        if (!fileContentType) {
	            return "";
	        }
	        else if (fileContentType === 'application/pdf') {
	            return "pdf";
	        }
	        else if (fileContentType === 'application/msword') {
	            return "doc";
	        }
	        else if (fileContentType === 'image/jpeg') {
	            return "jpg";
	        }
	        else if (fileContentType === 'image/png') {
	            return "png";
	        }
	        else if (fileContentType === 'text/plain') {
	            return "txt";
	        }
	        else {
	            if (fileContentType.split('/').length > 1) {
	                return fileContentType.split('/')[1];
	            }
	            else {
	                return "";
	            }
	        }
	    };
	    return AttachmentFeedback;
	}());
	exports.AttachmentFeedback = AttachmentFeedback;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvZmVlZGJhY2tzL2F0dGFjaG1lbnRfZmVlZGJhY2sudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTtJQU1JLDRCQUFZLElBQVcsRUFBRSxJQUFXLEVBQUUsYUFBb0IsRUFBRSxXQUFrQjtRQUMxRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQywrQkFBK0IsQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUN6RSxJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztJQUNuQyxDQUFDO0lBRUQsNERBQStCLEdBQS9CLFVBQWdDLGVBQXNCO1FBQ2xELEVBQUUsQ0FBQSxDQUFDLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQztZQUNsQixNQUFNLENBQUMsRUFBRSxDQUFDO1FBQ2QsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxlQUFlLEtBQUssaUJBQWlCLENBQUMsQ0FBQyxDQUFDO1lBQzlDLE1BQU0sQ0FBQyxLQUFLLENBQUM7UUFDakIsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxlQUFlLEtBQUssb0JBQW9CLENBQUMsQ0FBQyxDQUFDO1lBQ2pELE1BQU0sQ0FBQyxLQUFLLENBQUM7UUFDakIsQ0FBQztRQUFDLElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxlQUFlLEtBQUssWUFBWSxDQUFDLENBQUMsQ0FBQztZQUN6QyxNQUFNLENBQUMsS0FBSyxDQUFDO1FBQ2pCLENBQUM7UUFBQyxJQUFJLENBQUMsRUFBRSxDQUFBLENBQUMsZUFBZSxLQUFLLFdBQVcsQ0FBQyxDQUFDLENBQUM7WUFDeEMsTUFBTSxDQUFDLEtBQUssQ0FBQztRQUNqQixDQUFDO1FBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQSxDQUFDLGVBQWUsS0FBSyxZQUFZLENBQUMsQ0FBQyxDQUFDO1lBQ3pDLE1BQU0sQ0FBQyxLQUFLLENBQUM7UUFDakIsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ0osRUFBRSxDQUFBLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQkFDdkMsTUFBTSxDQUFDLGVBQWUsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDekMsQ0FBQztZQUFDLElBQUksQ0FBQyxDQUFDO2dCQUNKLE1BQU0sQ0FBQyxFQUFFLENBQUM7WUFDZCxDQUFDO1FBQ0wsQ0FBQztJQUNMLENBQUM7SUFDTCx5QkFBQztBQUFELENBbENBLEFBa0NDLElBQUE7QUFsQ1ksZ0RBQWtCIiwiZmlsZSI6ImFwcC9tb2RlbHMvZmVlZGJhY2tzL2F0dGFjaG1lbnRfZmVlZGJhY2suanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQXR0YWNobWVudEZlZWRiYWNrIHtcbiAgICBwYXJ0OnN0cmluZztcbiAgICBuYW1lOnN0cmluZztcbiAgICBmaWxlRXh0ZW5zaW9uOnN0cmluZztcbiAgICBtZWNoYW5pc21JZDpudW1iZXI7XG5cbiAgICBjb25zdHJ1Y3RvcihwYXJ0OnN0cmluZywgbmFtZTpzdHJpbmcsIGZpbGVFeHRlbnNpb246c3RyaW5nLCBtZWNoYW5pc21JZDpudW1iZXIpIHtcbiAgICAgICAgdGhpcy5wYXJ0ID0gcGFydDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5maWxlRXh0ZW5zaW9uID0gdGhpcy5nZXRGaWxlRXh0ZW5zaW9uRnJvbUNvbnRlbnRUeXBlKGZpbGVFeHRlbnNpb24pO1xuICAgICAgICB0aGlzLm1lY2hhbmlzbUlkID0gbWVjaGFuaXNtSWQ7XG4gICAgfVxuXG4gICAgZ2V0RmlsZUV4dGVuc2lvbkZyb21Db250ZW50VHlwZShmaWxlQ29udGVudFR5cGU6c3RyaW5nKTpzdHJpbmcge1xuICAgICAgICBpZighZmlsZUNvbnRlbnRUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgICAgfSBlbHNlIGlmKGZpbGVDb250ZW50VHlwZSA9PT0gJ2FwcGxpY2F0aW9uL3BkZicpIHtcbiAgICAgICAgICAgIHJldHVybiBcInBkZlwiO1xuICAgICAgICB9IGVsc2UgaWYoZmlsZUNvbnRlbnRUeXBlID09PSAnYXBwbGljYXRpb24vbXN3b3JkJykge1xuICAgICAgICAgICAgcmV0dXJuIFwiZG9jXCI7XG4gICAgICAgIH0gZWxzZSBpZihmaWxlQ29udGVudFR5cGUgPT09ICdpbWFnZS9qcGVnJykge1xuICAgICAgICAgICAgcmV0dXJuIFwianBnXCI7XG4gICAgICAgIH0gZWxzZSBpZihmaWxlQ29udGVudFR5cGUgPT09ICdpbWFnZS9wbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJwbmdcIjtcbiAgICAgICAgfSBlbHNlIGlmKGZpbGVDb250ZW50VHlwZSA9PT0gJ3RleHQvcGxhaW4nKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJ0eHRcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmKGZpbGVDb250ZW50VHlwZS5zcGxpdCgnLycpLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmlsZUNvbnRlbnRUeXBlLnNwbGl0KCcvJylbMV07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/***/ }),
/* 58 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var screenshot_view_drawing_1 = __webpack_require__(59);
	var data_helper_1 = __webpack_require__(60);
	__webpack_require__(61);
	__webpack_require__(62);
	__webpack_require__(63);
	__webpack_require__(64);
	__webpack_require__(65);
	var canvas_state_1 = __webpack_require__(66);
	var screenshot_feedback_1 = __webpack_require__(67);
	var dialog_view_1 = __webpack_require__(50);
	var freehandDrawingMode = 'freehandDrawingMode';
	var rectDrawingMode = 'rectDrawingMode';
	var fillRectDrawingMode = 'fillRectDrawingMode';
	var circleDrawingMode = 'circleDrawingMode';
	var arrowDrawingMode = 'arrowDrawingMode';
	var croppingMode = 'croppingMode';
	var stickingMode = 'stickingMode';
	var textMode = 'textMode';
	var textMode2 = 'textMode2';
	var black = "#000000";
	var defaultColor = black;
	var canvasId = 'screenshotCanvas';
	var defaultFontSize = 30;
	var textTypeObjectIdentifier = 'i-text';
	var cropperTypeObjectIdentifier = 'cropper';
	var ScreenshotView = (function () {
	    function ScreenshotView(screenshotMechanism, screenshotPreviewElement, screenshotCaptureButton, elementToCapture, container, distPath, elementsToHide, hasBordersAndControls) {
	        this.colorPickerCSSClass = 'color-picker';
	        this.defaultStrokeWidth = 3;
	        this.hasBordersAndControls = true;
	        this.panning = false;
	        this.blockPanning = false;
	        this.canvasMovementX = 0;
	        this.canvasMovementY = 0;
	        this.currentObjectInToolbar = null;
	        this.screenshotMechanism = screenshotMechanism;
	        this.screenshotPreviewElement = screenshotPreviewElement;
	        this.screenshotCaptureButton = screenshotCaptureButton;
	        this.elementToCapture = elementToCapture;
	        this.container = container;
	        this.elementsToHide = elementsToHide;
	        this.canvasState = null;
	        this.canvasStates = [];
	        this.distPath = distPath;
	        this.screenshotViewDrawing = new screenshot_view_drawing_1.ScreenshotViewDrawing();
	        this.addCaptureEventToButton();
	        this.croppingIsActive = false;
	        this.freehandActive = false;
	        this.hasBordersAndControls = (hasBordersAndControls === null || hasBordersAndControls === undefined) ? true : hasBordersAndControls;
	    }
	    ScreenshotView.prototype.checkAutoTake = function () {
	        if (this.screenshotMechanism.getParameterValue('autoTake')) {
	            this.generateScreenshot();
	        }
	    };
	    ScreenshotView.prototype.replaceOptionsWithTemporarySpans = function () {
	        jQuery('select').each(function () {
	            var selectText = jQuery(this).find('option:selected').text();
	            jQuery(this).data('original-color', jQuery(this).css('color'));
	            jQuery(this).css('color', 'transparent');
	            var textOverlay = jQuery('<span class="html2canvas-option">' + selectText + '</span>');
	            textOverlay.css('position', 'absolute')
	                .css('top', jQuery(this).offset().top - 30 + 'px')
	                .css('left', jQuery(this).offset().left + 10 + 'px')
	                .css('width', 'auto')
	                .css('height', '25px')
	                .css('display', 'block')
	                .css('z-index', 9000);
	            jQuery('body').append(textOverlay);
	        });
	    };
	    ScreenshotView.prototype.removeTemporarySpans = function () {
	        jQuery('.html2canvas-option').remove();
	        jQuery('select').each(function () {
	            var originalColor = jQuery(this).data('original-color');
	            jQuery(this).css('color', originalColor);
	        });
	    };
	    ScreenshotView.prototype.generateScreenshot = function () {
	        var scrollPosition = this.container.offset().top;
	        this.hideElements();
	        var myThis = this;
	        setTimeout(function () {
	            myThis.svgToCanvas();
	            myThis.replaceOptionsWithTemporarySpans();
	            html2canvas(myThis.elementToCapture, {
	                useCORS: true,
	                onrendered: function (canvas) {
	                    setTimeout(function () {
	                        console.log(myThis.container.offset().top);
	                        jQuery('html, body').animate({
	                            scrollTop: scrollPosition - 85
	                        }, 0);
	                        myThis.removeTemporarySpans();
	                        myThis.showElements();
	                        myThis.showAllCanvasElements();
	                        myThis.canvas = canvas;
	                        myThis.screenshotPreviewElement.empty().append(canvas);
	                        myThis.screenshotPreviewElement.show();
	                        jQuery('.screenshot-preview canvas').attr('id', canvasId);
	                        var windowRatio = myThis.elementToCapture.width() / myThis.elementToCapture.height();
	                        var data = canvas.toDataURL("image/png");
	                        myThis.context = canvas.getContext("2d");
	                        myThis.canvasOriginalWidth = canvas.width;
	                        myThis.canvasOriginalHeight = canvas.height;
	                        myThis.canvasWidth = myThis.screenshotPreviewElement.width() - 2;
	                        myThis.canvasHeight = (myThis.screenshotPreviewElement.width() / windowRatio) - 2;
	                        jQuery(canvas).prop('width', myThis.canvasWidth);
	                        jQuery(canvas).prop('height', myThis.canvasHeight);
	                        var img = new Image();
	                        myThis.canvasState = img;
	                        myThis.screenshotCanvas = canvas;
	                        img.src = data;
	                        img.onload = function () {
	                            myThis.context.drawImage(img, 0, 0, img.width, img.height, 0, 0, canvas.width, canvas.height);
	                        };
	                        myThis.initFabric(img, canvas);
	                        myThis.initFreehandDrawing();
	                        myThis.initStickers();
	                        myThis.initScreenshotOperations();
	                        myThis.customizeControls();
	                        myThis.initZoom();
	                        myThis.container.find('#screenshotMechanism' + myThis.screenshotMechanism.id).addClass('dirty');
	                        var screenshotCaptureButtonActiveText = myThis.screenshotCaptureButton.data('active-text');
	                        myThis.screenshotCaptureButton.text(screenshotCaptureButtonActiveText);
	                    }, 200);
	                }
	            });
	        }, 200);
	    };
	    ScreenshotView.prototype.initFabric = function (img, canvas) {
	        var myThis = this;
	        this.fabricCanvas = new fabric.Canvas(canvasId);
	        var pageScreenshotCanvas = new fabric.Image(img, { width: canvas.width, height: canvas.height });
	        pageScreenshotCanvas.set('selectable', false);
	        pageScreenshotCanvas.set('hoverCursor', 'default');
	        this.fabricCanvas.add(pageScreenshotCanvas);
	        this.selectedObjectControls = jQuery('#screenshotMechanism' + myThis.screenshotMechanism.id + ' .selected-object-controls');
	        this.selectedObjectControls.hide();
	        myThis.fabricCanvas.on('object:selected', function (e) {
	            myThis.blockPanning = true;
	            var selectedObject = e.target;
	            selectedObject.bringToFront();
	            myThis.fabricCanvas.uniScaleTransform = selectedObject.get('type') === 'fabricObject' || selectedObject.get('type') === 'fillRect';
	            myThis.selectedObjectControls.show();
	            if (selectedObject.get('type') === textTypeObjectIdentifier) {
	                var textSizeInput = myThis.selectedObjectControls.find('.text-size');
	                textSizeInput.show();
	                textSizeInput.val(selectedObject.getFontSize());
	                textSizeInput.off().on('keyup', function () {
	                    selectedObject.setFontSize(jQuery(this).val());
	                    myThis.fabricCanvas.renderAll();
	                });
	            }
	            else {
	                myThis.selectedObjectControls.find('.text-size').hide();
	            }
	            myThis.selectedObjectControls.find('.text-size').on('keydown', function (event) {
	                if (event.keyCode == 13) {
	                    event.preventDefault();
	                    return false;
	                }
	                return true;
	            });
	            if (selectedObject.get('type') === 'path-group') {
	                for (var _i = 0, _a = selectedObject.paths; _i < _a.length; _i++) {
	                    var path = _a[_i];
	                    if (path.getFill() != "") {
	                        var currentObjectColor = path.getFill();
	                        break;
	                    }
	                }
	            }
	            else if (selectedObject.get('type') === 'path' || selectedObject.get('type') === 'fabricObject') {
	                var currentObjectColor = selectedObject.getStroke();
	            }
	            else if (selectedObject.get('type') === 'fillRect') {
	                var currentObjectColor = selectedObject.getFill();
	            }
	            else {
	                var currentObjectColor = selectedObject.getFill();
	            }
	            myThis.selectedObjectControls.find('.delete').off().on('click', function (e) {
	                e.preventDefault();
	                e.stopPropagation();
	                if (selectedObject.get('customType') === 'arrow') {
	                    if (selectedObject.line !== undefined) {
	                        selectedObject.line.remove();
	                    }
	                    if (selectedObject.arrow !== undefined) {
	                        selectedObject.arrow.remove();
	                    }
	                    if (selectedObject.circle !== undefined) {
	                        selectedObject.circle.remove();
	                    }
	                }
	                if (selectedObject) {
	                    selectedObject.remove();
	                }
	            });
	            myThis.selectedObjectControls.find('a.color').css('color', currentObjectColor);
	            myThis.selectedObjectControls.find('a.color').off().spectrum({
	                color: currentObjectColor,
	                containerClassName: myThis.colorPickerCSSClass,
	                showPaletteOnly: true,
	                togglePaletteOnly: true,
	                togglePaletteMoreText: 'more',
	                togglePaletteLessText: 'less',
	                palette: [
	                    ["#000", "#444", "#666", "#999", "#ccc", "#eee", "#f3f3f3", "#fff"],
	                    ["#f00", "#f90", "#ff0", "#0f0", "#0ff", "#00f", "#90f", "#f0f"],
	                    ["#f4cccc", "#fce5cd", "#fff2cc", "#d9ead3", "#d0e0e3", "#cfe2f3", "#d9d2e9", "#ead1dc"],
	                    ["#ea9999", "#f9cb9c", "#ffe599", "#b6d7a8", "#a2c4c9", "#9fc5e8", "#b4a7d6", "#d5a6bd"],
	                    ["#e06666", "#f6b26b", "#ffd966", "#93c47d", "#76a5af", "#6fa8dc", "#8e7cc3", "#c27ba0"],
	                    ["#c00", "#e69138", "#f1c232", "#6aa84f", "#45818e", "#3d85c6", "#674ea7", "#a64d79"],
	                    ["#900", "#b45f06", "#bf9000", "#38761d", "#134f5c", "#0b5394", "#351c75", "#741b47"],
	                    ["#600", "#783f04", "#7f6000", "#274e13", "#0c343d", "#073763", "#20124d", "#4c1130"]
	                ],
	                change: function (color) {
	                    var color = color.toHexString();
	                    jQuery(this).css('color', color);
	                    if (selectedObject.get('customType') === 'arrow') {
	                        selectedObject.setFill(color);
	                        selectedObject.setStroke(color);
	                        if (selectedObject.line !== undefined) {
	                            selectedObject.line.setFill(color);
	                            selectedObject.line.setStroke(color);
	                        }
	                        if (selectedObject.arrow !== undefined) {
	                            selectedObject.arrow.setFill(color);
	                            selectedObject.arrow.setStroke(color);
	                        }
	                        if (selectedObject.circle !== undefined) {
	                            selectedObject.circle.setFill(color);
	                            selectedObject.circle.setStroke(color);
	                        }
	                    }
	                    else if (selectedObject.get('type') === 'path-group') {
	                        for (var _i = 0, _a = selectedObject.paths; _i < _a.length; _i++) {
	                            var path = _a[_i];
	                            if (path.getFill() != "") {
	                                path.setFill(color);
	                            }
	                        }
	                    }
	                    else if (selectedObject.get('type') === 'path' || selectedObject.get('type') === 'fabricObject') {
	                        selectedObject.setStroke(color);
	                    }
	                    else if (selectedObject.get('type') === 'fillRect') {
	                        selectedObject.setStroke(color);
	                        selectedObject.setFill(color);
	                    }
	                    else {
	                        selectedObject.setFill(color);
	                    }
	                    myThis.fabricCanvas.renderAll();
	                },
	                beforeShow: function (color) {
	                    jQuery(this).spectrum("option", 'color', currentObjectColor);
	                }
	            });
	        });
	        myThis.fabricCanvas.on('selection:cleared', function () {
	            var selectedObjectControls = jQuery('#screenshotMechanism' + myThis.screenshotMechanism.id + ' .selected-object-controls');
	            selectedObjectControls.hide();
	            selectedObjectControls.find('.delete').off();
	            selectedObjectControls.find('.color').off();
	            myThis.blockPanning = false;
	        });
	        myThis.fabricCanvas.on('object:added', function (object) {
	            if (myThis.freehandActive) {
	            }
	        });
	        myThis.fabricCanvas.on('object:scaling', function (e) {
	            var object = e.target;
	            if (object.type === 'fabricObject') {
	                var o = e.target;
	                if (!o.strokeWidthUnscaled && o.strokeWidth) {
	                    o.strokeWidthUnscaled = o.strokeWidth;
	                }
	                if (o.strokeWidthUnscaled) {
	                    o.strokeWidth = o.strokeWidthUnscaled / o.scaleX;
	                }
	            }
	        });
	    };
	    ScreenshotView.prototype.initZoom = function () {
	        var myThis = this;
	        this.container.find('img.zoom-in').on('click', function () {
	            myThis.fabricCanvas.zoomToPoint(new fabric.Point(myThis.fabricCanvas.width / 2, myThis.fabricCanvas.height / 2), myThis.fabricCanvas.getZoom() * 1.1);
	        });
	        this.container.find('img.zoom-out').on('click', function () {
	            myThis.fabricCanvas.zoomToPoint(new fabric.Point(myThis.fabricCanvas.width / 2, myThis.fabricCanvas.height / 2), myThis.fabricCanvas.getZoom() / 1.1);
	        });
	        this.fabricCanvas.on('mouse:up', function (e) {
	            myThis.panning = false;
	            setTimeout(function () {
	                dialog_view_1.clickBlocked = false;
	            }, 100);
	        });
	        this.fabricCanvas.on('mouse:down', function (e) {
	            myThis.panning = true;
	            dialog_view_1.clickBlocked = true;
	        });
	        this.fabricCanvas.on('mouse:move', function (e) {
	            if (!myThis.croppingIsActive && !myThis.freehandActive && !myThis.blockPanning && myThis.panning && e && e.e) {
	                var delta = new fabric.Point(e.e.movementX, e.e.movementY);
	                myThis.fabricCanvas.relativePan(delta);
	                myThis.canvasMovementX += e.e.movementX;
	                myThis.canvasMovementY += e.e.movementY;
	            }
	        });
	        setTimeout(function () {
	            if (window.devicePixelRatio !== 1) {
	                var zoom = 1 / window.devicePixelRatio;
	                myThis.fabricCanvas.setZoom(zoom);
	            }
	        }, 500);
	    };
	    ScreenshotView.prototype.initCrop = function () {
	        var myThis = this;
	        var pos = [0, 0];
	        var canvasBoundingRect = document.getElementById(canvasId).getBoundingClientRect();
	        pos[0] = canvasBoundingRect.left;
	        pos[1] = jQuery(myThis.screenshotCanvas).parent().offset().top;
	        var mousex = 0;
	        var mousey = 0;
	        var crop = false;
	        myThis.croppingRect = new fabric.Rect({
	            fill: 'transparent',
	            originX: 'left',
	            originY: 'top',
	            stroke: '#333',
	            strokeDashArray: [4, 4],
	            type: cropperTypeObjectIdentifier,
	            opacity: 1,
	            width: 1,
	            height: 1
	        });
	        this.croppingIsActive = true;
	        myThis.croppingRect.visible = false;
	        this.fabricCanvas.add(myThis.croppingRect);
	        this.fabricCanvas.on("mouse:down", function (event) {
	            if (!myThis.croppingIsActive) {
	                return;
	            }
	            var x = event.e.pageX - myThis.screenshotPreviewElement.offset().left, y = event.e.pageY - myThis.screenshotPreviewElement.offset().top;
	            var point = new fabric.Point(x, y);
	            var transformedPoint = myThis.transformClickPointToCoordinates(point);
	            myThis.croppingRect.left = transformedPoint.x;
	            myThis.croppingRect.top = transformedPoint.y;
	            myThis.croppingRect.visible = true;
	            mousex = transformedPoint.x;
	            mousey = transformedPoint.y;
	            crop = true;
	            myThis.fabricCanvas.bringToFront(myThis.croppingRect);
	        });
	        this.fabricCanvas.on("mouse:move", function (event) {
	            if (crop && myThis.croppingIsActive) {
	                var x = event.e.pageX - myThis.screenshotPreviewElement.offset().left, y = event.e.pageY - myThis.screenshotPreviewElement.offset().top;
	                var point = new fabric.Point(x, y);
	                var transformedPoint = myThis.transformClickPointToCoordinates(point);
	                myThis.croppingRect.width = transformedPoint.x - mousex;
	                myThis.croppingRect.height = transformedPoint.y - mousey;
	            }
	            myThis.fabricCanvas.renderAll();
	        });
	        this.fabricCanvas.on("mouse:up", function (event) {
	            crop = false;
	        });
	        this.container.find('.screenshot-crop-cancel').show().on('click', function (e) {
	            e.preventDefault();
	            e.stopPropagation();
	            myThis.cancelCropping();
	        });
	        this.container.find('.screenshot-crop-confirm').show().off().on('click', function (e) {
	            e.preventDefault();
	            e.stopPropagation();
	            myThis.cropTheCanvas(myThis.croppingRect);
	            myThis.croppingIsActive = false;
	            jQuery(this).hide();
	            jQuery('.screenshot-crop-cancel').hide();
	            myThis.setCanvasObjectsMovement(false);
	        });
	    };
	    ScreenshotView.prototype.transformClickPointToCoordinates = function (clickPoint) {
	        var invertedMatrix = fabric.util.invertTransform(this.fabricCanvas.viewportTransform);
	        return fabric.util.transformPoint(clickPoint, invertedMatrix);
	    };
	    ScreenshotView.prototype.transformCoordinatesToClickPoint = function (coordinates) {
	        return fabric.util.transformPoint(coordinates, this.fabricCanvas.viewportTransform);
	    };
	    ScreenshotView.prototype.cancelCropping = function () {
	        this.croppingIsActive = false;
	        this.container.find('.screenshot-crop-cancel').hide();
	        jQuery('.screenshot-crop-confirm').hide();
	        if (this.croppingRect) {
	            this.croppingRect.remove();
	        }
	        this.setCanvasObjectsMovement(false);
	    };
	    ScreenshotView.prototype.cropTheCanvas = function (croppingRect) {
	        var canvas = this.fabricCanvas;
	        var oldZoom = canvas.getZoom();
	        canvas.setZoom(1);
	        this.container.find('.screenshot-draw-undo').show();
	        var croppedTop = croppingRect.top + 1;
	        var croppedLeft = croppingRect.left + 1;
	        var croppWidth = croppingRect.width - 2;
	        var croppHeight = croppingRect.height - 2;
	        var reverseTransformedPoint = this.transformCoordinatesToClickPoint(new fabric.Point(croppedLeft, croppedTop));
	        croppedTop = reverseTransformedPoint.y;
	        croppedLeft = reverseTransformedPoint.x;
	        croppingRect.remove();
	        canvas.renderAll.bind(canvas);
	        var factor = Math.min(canvas.getWidth() / croppWidth, canvas.getHeight() / croppHeight);
	        this.updateCanvasState(croppedTop, croppedLeft, canvas.getZoom());
	        var factorX = canvas.getWidth() / croppWidth;
	        var factorY = canvas.getHeight() / croppHeight;
	        for (var i = 0; i < canvas.getObjects().length; i++) {
	            if (canvas.getObjects()[i].type === 'image') {
	                canvas.getObjects()[i].left = canvas.getObjects()[i].left * factorX - croppedLeft;
	                canvas.getObjects()[i].top = canvas.getObjects()[i].top * factorY - croppedTop;
	                canvas.getObjects()[i].setCoords();
	            }
	            else {
	                canvas.getObjects()[i].left = canvas.getObjects()[i].left - croppedLeft;
	                canvas.getObjects()[i].top = canvas.getObjects()[i].top - croppedTop;
	                canvas.getObjects()[i].setCoords();
	            }
	        }
	        canvas.setWidth(croppWidth * factor - 1);
	        canvas.setHeight(croppHeight * factor - 1);
	        canvas.setZoom(oldZoom);
	        canvas.setZoom(factor);
	        canvas.renderAll.bind(canvas);
	    };
	    ScreenshotView.prototype.addTextAnnotation = function (left, top) {
	        var text = new fabric.IText('Your text', {
	            left: left,
	            top: top,
	            fontFamily: 'arial',
	            fontSize: defaultFontSize
	        });
	        this.fabricCanvas.add(text);
	        this.fabricCanvas.setActiveObject(text);
	        text.enterEditing();
	        text.hiddenTextarea.focus();
	        text.selectAll();
	    };
	    ScreenshotView.prototype.initFreehandDrawing = function () {
	        var myThis = this;
	        var currentFreehandDrawingColor = "#000000";
	        var freehandControls = jQuery('.freehand-controls');
	        freehandControls.hide();
	        myThis.fabricCanvas.freeDrawingBrush.width = 6;
	        freehandControls.find('a.freehand-color').css('color', currentFreehandDrawingColor);
	        freehandControls.find('a.freehand-color').off().spectrum({
	            color: defaultColor,
	            containerClassName: myThis.colorPickerCSSClass,
	            showPaletteOnly: true,
	            togglePaletteOnly: true,
	            togglePaletteMoreText: 'more',
	            togglePaletteLessText: 'less',
	            palette: [
	                ["#000", "#444", "#666", "#999", "#ccc", "#eee", "#f3f3f3", "#fff"],
	                ["#f00", "#f90", "#ff0", "#0f0", "#0ff", "#00f", "#90f", "#f0f"],
	                ["#f4cccc", "#fce5cd", "#fff2cc", "#d9ead3", "#d0e0e3", "#cfe2f3", "#d9d2e9", "#ead1dc"],
	                ["#ea9999", "#f9cb9c", "#ffe599", "#b6d7a8", "#a2c4c9", "#9fc5e8", "#b4a7d6", "#d5a6bd"],
	                ["#e06666", "#f6b26b", "#ffd966", "#93c47d", "#76a5af", "#6fa8dc", "#8e7cc3", "#c27ba0"],
	                ["#c00", "#e69138", "#f1c232", "#6aa84f", "#45818e", "#3d85c6", "#674ea7", "#a64d79"],
	                ["#900", "#b45f06", "#bf9000", "#38761d", "#134f5c", "#0b5394", "#351c75", "#741b47"],
	                ["#600", "#783f04", "#7f6000", "#274e13", "#0c343d", "#073763", "#20124d", "#4c1130"]
	            ],
	            change: function (color) {
	                var color = color.toHexString();
	                jQuery(this).css('color', color);
	                myThis.fabricCanvas.freeDrawingBrush.color = color;
	                myThis.fabricCanvas.renderAll();
	            }
	        });
	        jQuery('.screenshot-operations .freehand').on('click', function () {
	            if (myThis.fabricCanvas.isDrawingMode) {
	                myThis.disableFreehandDrawing();
	            }
	            else {
	                myThis.enableFreehandDrawing();
	            }
	        });
	    };
	    ScreenshotView.prototype.enableFreehandDrawing = function () {
	        this.cancelCropping();
	        this.disableCurrentObjectInToolbar();
	        var freehandControls = jQuery('.freehand-controls');
	        this.fabricCanvas.isDrawingMode = true;
	        jQuery('.screenshot-operations .freehand').css('border-bottom', '2px solid black');
	        freehandControls.show();
	        this.freehandActive = true;
	        this.blockPanning = true;
	    };
	    ScreenshotView.prototype.disableFreehandDrawing = function () {
	        var freehandControls = jQuery('.freehand-controls');
	        jQuery('.screenshot-operations .freehand').css('border-bottom', 'none');
	        this.fabricCanvas.isDrawingMode = false;
	        freehandControls.hide();
	        this.freehandActive = false;
	        this.blockPanning = false;
	    };
	    ScreenshotView.prototype.disableCurrentObjectInToolbar = function () {
	        if (this.currentObjectInToolbar) {
	            this.currentObjectInToolbar.css('border-bottom', 'none');
	            this.currentObjectInToolbar = null;
	        }
	    };
	    ScreenshotView.prototype.initStickers = function () {
	        var myThis = this;
	        myThis.container.find('.sticker-source').on('click', function () {
	            myThis.disableFreehandDrawing();
	            myThis.cancelCropping();
	            if (myThis.currentObjectInToolbar) {
	                myThis.currentObjectInToolbar.css('border-bottom', 'none');
	            }
	            if (myThis.currentObjectInToolbar !== null && myThis.currentObjectInToolbar.attr('id') === jQuery(this).attr('id')) {
	                myThis.currentObjectInToolbar = null;
	            }
	            else {
	                myThis.currentObjectInToolbar = jQuery(this);
	                jQuery(this).css('border-bottom', '2px solid black');
	            }
	        });
	        myThis.screenshotPreviewElement.on('click', function (event) {
	            if (myThis.currentObjectInToolbar !== null) {
	                var sticker = myThis.currentObjectInToolbar;
	                var p = { x: event.pageX - $(this).offset().left, y: event.pageY - $(this).offset().top };
	                var invertedMatrix = fabric.util.invertTransform(myThis.fabricCanvas.viewportTransform);
	                var transformedP = fabric.util.transformPoint(p, invertedMatrix);
	                var offsetX = transformedP.x;
	                var offsetY = transformedP.y;
	                if (sticker.hasClass('text')) {
	                    myThis.addTextAnnotation(offsetX, offsetY);
	                }
	                else if (sticker.hasClass('svg-sticker-source')) {
	                    fabric.loadSVGFromURL(sticker.attr('src'), function (objects, options) {
	                        var svgObject = fabric.util.groupSVGElements(objects, options);
	                        svgObject.set('left', offsetX);
	                        svgObject.set('top', offsetY);
	                        svgObject.set('hasBorders', myThis.hasBordersAndControls);
	                        svgObject.set('hasControls', myThis.hasBordersAndControls);
	                        svgObject.scale(3);
	                        myThis.fabricCanvas.add(svgObject).renderAll();
	                        myThis.fabricCanvas.setActiveObject(svgObject);
	                    });
	                }
	                else if (sticker.hasClass('object-source')) {
	                    if (sticker.hasClass('arrow')) {
	                        myThis.addArrowToCanvas(offsetX, offsetY);
	                    }
	                    else if (sticker.hasClass('rect')) {
	                        var rect = new fabric.Rect({
	                            left: offsetX,
	                            top: offsetY,
	                            width: 50,
	                            height: 50,
	                            hasBorders: myThis.hasBordersAndControls,
	                            hasControls: myThis.hasBordersAndControls,
	                            type: 'fabricObject',
	                            stroke: defaultColor,
	                            strokeWidth: myThis.defaultStrokeWidth,
	                            lockUniScaling: false,
	                            fill: 'transparent'
	                        });
	                        myThis.fabricCanvas.add(rect).renderAll();
	                        myThis.fabricCanvas.setActiveObject(rect);
	                    }
	                    else if (sticker.hasClass('fillRect')) {
	                        var rect = new fabric.Rect({
	                            left: offsetX,
	                            top: offsetY,
	                            width: 50,
	                            height: 50,
	                            hasBorders: myThis.hasBordersAndControls,
	                            hasControls: myThis.hasBordersAndControls,
	                            type: 'fillRect',
	                            stroke: defaultColor,
	                            strokeWidth: myThis.defaultStrokeWidth,
	                            lockUniScaling: false,
	                            fill: defaultColor
	                        });
	                        myThis.fabricCanvas.add(rect).renderAll();
	                        myThis.fabricCanvas.setActiveObject(rect);
	                    }
	                    else if (sticker.hasClass('circle')) {
	                        var circle = new fabric.Circle({
	                            left: offsetX,
	                            top: offsetY,
	                            radius: 50,
	                            hasBorders: myThis.hasBordersAndControls,
	                            hasControls: myThis.hasBordersAndControls,
	                            startAngle: 0,
	                            type: 'fabricObject',
	                            endAngle: 2 * Math.PI,
	                            stroke: defaultColor,
	                            strokeWidth: myThis.defaultStrokeWidth,
	                            fill: 'transparent'
	                        });
	                        myThis.fabricCanvas.add(circle).renderAll();
	                        myThis.fabricCanvas.setActiveObject(circle);
	                    }
	                }
	                myThis.currentObjectInToolbar.css('border-bottom', 'none');
	                myThis.currentObjectInToolbar = null;
	            }
	        });
	        myThis.container.find('.sticker-source').draggable({
	            cursor: "crosshair",
	            revert: "invalid",
	            helper: "clone",
	            zIndex: 5000,
	            drag: function (event, ui) {
	                myThis.disableFreehandDrawing();
	                myThis.screenshotPreviewElement.css('border-style', 'dashed');
	            },
	            stop: function (event, ui) {
	                myThis.screenshotPreviewElement.css('border-style', 'solid');
	            }
	        }).on('mouseover mouseenter', function () {
	            myThis.screenshotPreviewElement.css('border-style', 'dashed');
	        }).on('mouseleave', function () {
	            myThis.screenshotPreviewElement.css('border-style', 'solid');
	        });
	        myThis.screenshotPreviewElement.droppable({
	            drop: function (event, ui) {
	                var sticker = $(ui.helper);
	                var p = { x: event.pageX - $(this).offset().left, y: event.pageY - $(this).offset().top };
	                var invertedMatrix = fabric.util.invertTransform(myThis.fabricCanvas.viewportTransform);
	                var transformedP = fabric.util.transformPoint(p, invertedMatrix);
	                var offsetX = transformedP.x;
	                var offsetY = transformedP.y;
	                if (sticker.hasClass('text')) {
	                    myThis.addTextAnnotation(offsetX, offsetY);
	                }
	                else if (sticker.hasClass('svg-sticker-source')) {
	                    fabric.loadSVGFromURL(sticker.attr('src'), function (objects, options) {
	                        var svgObject = fabric.util.groupSVGElements(objects, options);
	                        svgObject.set('left', offsetX);
	                        svgObject.set('top', offsetY);
	                        svgObject.set('hasBorders', myThis.hasBordersAndControls);
	                        svgObject.set('hasControls', myThis.hasBordersAndControls);
	                        svgObject.scale(3);
	                        myThis.fabricCanvas.add(svgObject).renderAll();
	                        myThis.fabricCanvas.setActiveObject(svgObject);
	                    });
	                }
	                else if (sticker.hasClass('object-source')) {
	                    if (sticker.hasClass('arrow')) {
	                        myThis.addArrowToCanvas(offsetX, offsetY);
	                    }
	                    else if (sticker.hasClass('rect')) {
	                        var rect = new fabric.Rect({
	                            left: offsetX,
	                            top: offsetY,
	                            width: 50,
	                            height: 50,
	                            hasBorders: myThis.hasBordersAndControls,
	                            hasControls: myThis.hasBordersAndControls,
	                            type: 'fabricObject',
	                            stroke: defaultColor,
	                            strokeWidth: myThis.defaultStrokeWidth,
	                            lockUniScaling: false,
	                            fill: 'transparent'
	                        });
	                        myThis.fabricCanvas.add(rect).renderAll();
	                        myThis.fabricCanvas.setActiveObject(rect);
	                    }
	                    else if (sticker.hasClass('fillRect')) {
	                        var rect = new fabric.Rect({
	                            left: offsetX,
	                            top: offsetY,
	                            width: 50,
	                            height: 50,
	                            hasBorders: myThis.hasBordersAndControls,
	                            hasControls: myThis.hasBordersAndControls,
	                            type: 'fillRect',
	                            stroke: defaultColor,
	                            strokeWidth: myThis.defaultStrokeWidth,
	                            lockUniScaling: false,
	                            fill: defaultColor
	                        });
	                        myThis.fabricCanvas.add(rect).renderAll();
	                        myThis.fabricCanvas.setActiveObject(rect);
	                    }
	                    else if (sticker.hasClass('circle')) {
	                        var circle = new fabric.Circle({
	                            left: offsetX,
	                            top: offsetY,
	                            radius: 50,
	                            hasBorders: myThis.hasBordersAndControls,
	                            hasControls: myThis.hasBordersAndControls,
	                            startAngle: 0,
	                            type: 'fabricObject',
	                            endAngle: 2 * Math.PI,
	                            stroke: defaultColor,
	                            strokeWidth: myThis.defaultStrokeWidth,
	                            fill: 'transparent'
	                        });
	                        myThis.fabricCanvas.add(circle).renderAll();
	                        myThis.fabricCanvas.setActiveObject(circle);
	                    }
	                }
	            }
	        });
	    };
	    ScreenshotView.prototype.getScreenshotAsBinary = function () {
	        if (this.screenshotCanvas) {
	            var dataURL = this.screenshotCanvas.toDataURL("image/png");
	            return data_helper_1.DataHelper.dataURItoBlob(dataURL);
	        }
	        else {
	            return null;
	        }
	    };
	    ScreenshotView.prototype.addCaptureEventToButton = function () {
	        var myThis = this;
	        this.screenshotCaptureButton.on('click', function (event) {
	            event.preventDefault();
	            event.stopPropagation();
	            myThis.generateScreenshot();
	        });
	    };
	    ScreenshotView.prototype.hideElements = function () {
	        if (this.elementsToHide != null) {
	            for (var _i = 0, _a = this.elementsToHide; _i < _a.length; _i++) {
	                var elementToHide = _a[_i];
	                jQuery('' + elementToHide).hide();
	            }
	        }
	    };
	    ScreenshotView.prototype.showElements = function () {
	        if (this.elementsToHide != null) {
	            for (var _i = 0, _a = this.elementsToHide; _i < _a.length; _i++) {
	                var elementToHide = _a[_i];
	                jQuery('' + elementToHide).show();
	            }
	        }
	    };
	    ScreenshotView.prototype.getFeedback = function () {
	        return new screenshot_feedback_1.ScreenshotFeedback(this.getPartName(), this.screenshotMechanism.id, this.getPartName(), 'png');
	    };
	    ;
	    ScreenshotView.prototype.getPartName = function () {
	        return "screenshot" + this.screenshotMechanism.id;
	    };
	    ScreenshotView.prototype.reset = function () {
	        this.screenshotPreviewElement.hide();
	        if (this.context) {
	            this.context.clearRect(0, 0, this.context.width, this.context.height);
	        }
	        this.screenshotCanvas = null;
	        this.canvasStates = [];
	        this.container.find('.screenshot-operations').hide();
	        this.disableAllScreenshotOperations();
	        var screenshotCaptureButtonDefaultText = this.screenshotCaptureButton.data('default-text');
	        this.screenshotCaptureButton.text(screenshotCaptureButtonDefaultText);
	        this.container.find('#screenshotMechanism' + this.screenshotMechanism.id).removeClass('dirty');
	    };
	    ScreenshotView.prototype.updateCanvasState = function (shiftTop, shiftLeft, zoomFactor) {
	        var canvasState = new canvas_state_1.CanvasState(JSON.stringify(this.fabricCanvas), this.fabricCanvas.getWidth(), this.fabricCanvas.getHeight(), shiftTop, shiftLeft, zoomFactor);
	        this.canvasStates.push(canvasState);
	    };
	    ScreenshotView.prototype.undoOperation = function () {
	        if (this.canvasStates.length < 1) {
	            return;
	        }
	        var myThis = this;
	        var canvas = this.fabricCanvas;
	        canvas.clear().renderAll();
	        var canvasStateToRestore = this.canvasStates.pop();
	        this.fabricCanvas.setWidth(canvasStateToRestore.width);
	        this.fabricCanvas.setHeight(canvasStateToRestore.height);
	        this.fabricCanvas.setZoom(canvasStateToRestore.zoomFactor);
	        canvas.loadFromJSON(canvasStateToRestore.src, canvas.renderAll.bind(canvas), function (o, object) {
	            if (object.type === 'image') {
	                object.set('selectable', false);
	                object.set('hoverCursor', 'default');
	            }
	            else if (object.type === cropperTypeObjectIdentifier) {
	                object.remove();
	            }
	        });
	        if (myThis.canvasStates.length < 1) {
	            myThis.container.find('.screenshot-draw-undo').hide();
	        }
	    };
	    ScreenshotView.prototype.initScreenshotOperations = function () {
	        var myThis = this;
	        this.container.find('.screenshot-crop').off().on('click', function (event) {
	            event.preventDefault();
	            event.stopPropagation();
	            myThis.fabricCanvas.deactivateAll().renderAll();
	            myThis.selectedObjectControls.hide();
	            myThis.setCanvasObjectsMovement(true);
	            myThis.disableFreehandDrawing();
	            myThis.disableCurrentObjectInToolbar();
	            myThis.initCrop();
	        });
	        this.container.find('.screenshot-draw-undo').off().on('click', function (event) {
	            event.preventDefault();
	            event.stopPropagation();
	            myThis.undoOperation();
	        });
	        this.container.find('.screenshot-draw-remove').off().on('click', function (event) {
	            event.preventDefault();
	            event.stopPropagation();
	            myThis.reset();
	        });
	        this.container.find('.screenshot-operations').show();
	        this.container.find('.screenshot-operation.default-hidden').hide();
	    };
	    ScreenshotView.prototype.disableAllScreenshotOperations = function () {
	        this.container.find('button.screenshot-operation').removeClass('active');
	    };
	    ScreenshotView.prototype.customizeControls = function () {
	        var myThis = this;
	        var colorLinkElement = jQuery('<a class="corner-color" href="#"><i class="material-icons">format_color_fill</i></a>');
	        colorLinkElement.css('position', 'absolute');
	        colorLinkElement.css('color', defaultColor);
	        colorLinkElement.css('width', '16px');
	        colorLinkElement.css('height', '16px');
	        colorLinkElement.css('opacity', '0');
	        var selectedObjectControls = jQuery('#screenshotMechanism' + myThis.screenshotMechanism.id + ' .selected-object-controls');
	        fabric.Object.prototype.hide = function () {
	            this.set({
	                opacity: 0,
	                selectable: false
	            });
	        };
	        fabric.Object.prototype.show = function () {
	            this.set({
	                opacity: 1,
	                selectable: true
	            });
	        };
	        fabric.Canvas.prototype.customiseControls({
	            mt: {
	                action: function (e, target) {
	                    var selectedObject = target;
	                    if (target.get('type') === 'path-group') {
	                        for (var _i = 0, _a = target.paths; _i < _a.length; _i++) {
	                            var path = _a[_i];
	                            if (path.getFill() != "") {
	                                var currentObjectColor = path.getFill();
	                                break;
	                            }
	                        }
	                    }
	                    else if (target.get('type') === 'path' || target.get('type') === 'fabricObject') {
	                        var currentObjectColor = target.getStroke();
	                    }
	                    else if (target.get('type') === 'fillRect') {
	                        var currentObjectColor = target.getFill();
	                    }
	                    else {
	                        var currentObjectColor = target.getFill();
	                    }
	                    colorLinkElement.css('top', e.offsetY - 12 + 'px');
	                    colorLinkElement.css('left', e.offsetX - 8 + 'px');
	                    colorLinkElement.off().spectrum({
	                        color: currentObjectColor,
	                        containerClassName: myThis.colorPickerCSSClass,
	                        showPaletteOnly: true,
	                        togglePaletteOnly: true,
	                        togglePaletteMoreText: 'more',
	                        togglePaletteLessText: 'less',
	                        palette: [
	                            ["#000", "#444", "#666", "#999", "#ccc", "#eee", "#f3f3f3", "#fff"],
	                            ["#f00", "#f90", "#ff0", "#0f0", "#0ff", "#00f", "#90f", "#f0f"],
	                            ["#f4cccc", "#fce5cd", "#fff2cc", "#d9ead3", "#d0e0e3", "#cfe2f3", "#d9d2e9", "#ead1dc"],
	                            ["#ea9999", "#f9cb9c", "#ffe599", "#b6d7a8", "#a2c4c9", "#9fc5e8", "#b4a7d6", "#d5a6bd"],
	                            ["#e06666", "#f6b26b", "#ffd966", "#93c47d", "#76a5af", "#6fa8dc", "#8e7cc3", "#c27ba0"],
	                            ["#c00", "#e69138", "#f1c232", "#6aa84f", "#45818e", "#3d85c6", "#674ea7", "#a64d79"],
	                            ["#900", "#b45f06", "#bf9000", "#38761d", "#134f5c", "#0b5394", "#351c75", "#741b47"],
	                            ["#600", "#783f04", "#7f6000", "#274e13", "#0c343d", "#073763", "#20124d", "#4c1130"]
	                        ],
	                        change: function (color) {
	                            var color = color.toHexString();
	                            jQuery(this).css('color', color);
	                            if (selectedObject.get('customType') === 'arrow') {
	                                selectedObject.setFill(color);
	                                selectedObject.setStroke(color);
	                                if (selectedObject.line !== undefined) {
	                                    selectedObject.line.setFill(color);
	                                    selectedObject.line.setStroke(color);
	                                }
	                                if (selectedObject.arrow !== undefined) {
	                                    selectedObject.arrow.setFill(color);
	                                    selectedObject.arrow.setStroke(color);
	                                }
	                                if (selectedObject.circle !== undefined) {
	                                    selectedObject.circle.setFill(color);
	                                    selectedObject.circle.setStroke(color);
	                                }
	                            }
	                            else if (selectedObject.get('type') === 'path-group') {
	                                for (var _i = 0, _a = selectedObject.paths; _i < _a.length; _i++) {
	                                    var path = _a[_i];
	                                    if (path.getFill() != "") {
	                                        path.setFill(color);
	                                    }
	                                }
	                            }
	                            else if (selectedObject.get('type') === 'path' || selectedObject.get('type') === 'fabricObject') {
	                                selectedObject.setStroke(color);
	                            }
	                            else if (selectedObject.get('type') === 'fillRect') {
	                                selectedObject.setStroke(color);
	                                selectedObject.setFill(color);
	                            }
	                            else {
	                                selectedObject.setFill(color);
	                            }
	                            selectedObjectControls.find('a.color').css('color', color);
	                            myThis.fabricCanvas.renderAll();
	                            jQuery(this).remove();
	                        },
	                        beforeShow: function (color) {
	                            jQuery(this).spectrum("option", 'color', myThis.getObjectColor(target));
	                        }
	                    });
	                    myThis.screenshotPreviewElement.append(colorLinkElement);
	                    colorLinkElement.click();
	                },
	                cursor: 'pointer'
	            },
	            ml: {
	                action: function (e, target) {
	                    target.hide();
	                    var fabricCanvas = myThis.fabricCanvas;
	                    var activeObject = fabricCanvas.getActiveObject(), activeGroup = fabricCanvas.getActiveGroup();
	                    if (target.customType === 'arrow') {
	                        fabricCanvas.deactivateAll().renderAll();
	                        if (target.line !== undefined) {
	                            target.line.remove();
	                        }
	                        if (target.arrow !== undefined) {
	                            target.arrow.remove();
	                        }
	                        if (target.circle !== undefined) {
	                            target.circle.remove();
	                        }
	                    }
	                    else if (activeGroup) {
	                        var objectsInGroup = activeGroup.getObjects();
	                        fabricCanvas.discardActiveGroup();
	                        objectsInGroup.forEach(function (object) {
	                            fabricCanvas.remove(object);
	                        });
	                    }
	                    else if (activeObject) {
	                        fabricCanvas.remove(activeObject);
	                    }
	                    fabricCanvas.renderAll.bind(fabricCanvas);
	                },
	                cursor: 'pointer'
	            }
	        });
	        fabric.Object.prototype.customiseCornerIcons({
	            settings: {
	                borderColor: 'black',
	                cornerSize: 24,
	                cornerShape: 'rect',
	                cornerPadding: 1
	            },
	            ml: {
	                icon: myThis.distPath + 'img/ic_delete_black_24px_background.svg'
	            },
	            mt: {
	                icon: myThis.distPath + 'img/ic_format_color_fill_black_24px_background.svg'
	            }
	        });
	    };
	    ScreenshotView.prototype.setDefaultStrokeWidth = function (strokeWidth) {
	        this.defaultStrokeWidth = strokeWidth;
	    };
	    ScreenshotView.prototype.addArrowToCanvas = function (offsetX, offsetY) {
	        var line, arrow, circle, myThis = this;
	        line = new fabric.Line([offsetX, offsetY, offsetX + 50, offsetY + 50], {
	            stroke: defaultColor,
	            selectable: true,
	            strokeWidth: 3,
	            padding: 1,
	            hasBorders: myThis.hasBordersAndControls,
	            hasControls: myThis.hasBordersAndControls,
	            originX: 'center',
	            originY: 'center',
	            lockScalingX: true,
	            lockScalingY: true,
	            lockRotation: true,
	        });
	        var centerX = (line.x1 + line.x2) / 2, centerY = (line.y1 + line.y2) / 2;
	        var deltaX = line.left - centerX, deltaY = line.top - centerY;
	        arrow = new fabric.Triangle({
	            left: line.get('x1') + deltaX,
	            top: line.get('y1') + deltaY,
	            originX: 'center',
	            originY: 'center',
	            hasBorders: false,
	            hasControls: false,
	            lockScalingX: true,
	            lockScalingY: true,
	            lockRotation: true,
	            padding: 0,
	            pointType: 'arrow_start',
	            angle: -45,
	            width: 20,
	            height: 20,
	            fill: defaultColor
	        });
	        arrow.line = line;
	        circle = new fabric.Circle({
	            left: line.get('x2') + deltaX,
	            top: line.get('y2') + deltaY,
	            radius: 2,
	            stroke: defaultColor,
	            strokeWidth: 3,
	            originX: 'center',
	            originY: 'center',
	            hasBorders: false,
	            hasControls: false,
	            lockScalingX: true,
	            lockScalingY: true,
	            lockRotation: true,
	            padding: 0,
	            pointType: 'arrow_end',
	            fill: defaultColor
	        });
	        circle.line = line;
	        line.customType = arrow.customType = circle.customType = 'arrow';
	        line.circle = arrow.circle = circle;
	        line.arrow = circle.arrow = arrow;
	        myThis.fabricCanvas.add(line, arrow, circle);
	        function moveEnd(obj) {
	            var p = obj, x1, y1, x2, y2;
	            if (obj.pointType === 'arrow_end') {
	                obj.line.set('x2', obj.get('left'));
	                obj.line.set('y2', obj.get('top'));
	            }
	            else {
	                obj.line.set('x1', obj.get('left'));
	                obj.line.set('y1', obj.get('top'));
	            }
	            obj.line._setWidthHeight();
	            x1 = obj.line.get('x1');
	            y1 = obj.line.get('y1');
	            x2 = obj.line.get('x2');
	            y2 = obj.line.get('y2');
	            var angle = myThis.calcArrowAngle(x1, y1, x2, y2);
	            if (obj.pointType === 'arrow_end') {
	                obj.arrow.set('angle', angle - 90);
	            }
	            else {
	                obj.set('angle', angle - 90);
	            }
	            obj.line.setCoords();
	            myThis.fabricCanvas.renderAll();
	        }
	        function moveLine() {
	            var oldCenterX = (line.x1 + line.x2) / 2, oldCenterY = (line.y1 + line.y2) / 2, deltaX = line.left - oldCenterX, deltaY = line.top - oldCenterY;
	            line.arrow.set({
	                'left': line.x1 + deltaX,
	                'top': line.y1 + deltaY
	            }).setCoords();
	            line.circle.set({
	                'left': line.x2 + deltaX,
	                'top': line.y2 + deltaY
	            }).setCoords();
	            line.set({
	                'x1': line.x1 + deltaX,
	                'y1': line.y1 + deltaY,
	                'x2': line.x2 + deltaX,
	                'y2': line.y2 + deltaY
	            });
	            line.set({
	                'left': (line.x1 + line.x2) / 2,
	                'top': (line.y1 + line.y2) / 2
	            });
	        }
	        arrow.on('moving', function () {
	            moveEnd(arrow);
	        });
	        circle.on('moving', function () {
	            moveEnd(circle);
	        });
	        line.on('moving', function () {
	            moveLine();
	        });
	    };
	    ScreenshotView.prototype.calcArrowAngle = function (x1, y1, x2, y2) {
	        var angle = 0, x, y;
	        x = (x2 - x1);
	        y = (y2 - y1);
	        if (x === 0) {
	            angle = (y === 0) ? 0 : (y > 0) ? Math.PI / 2 : Math.PI * 3 / 2;
	        }
	        else if (y === 0) {
	            angle = (x > 0) ? 0 : Math.PI;
	        }
	        else {
	            angle = (x < 0) ? Math.atan(y / x) + Math.PI : (y < 0) ? Math.atan(y / x) + (2 * Math.PI) : Math.atan(y / x);
	        }
	        return (angle * 180 / Math.PI);
	    };
	    ScreenshotView.prototype.setCanvasObjectsMovement = function (lock) {
	        var objects = this.fabricCanvas.getObjects();
	        for (var i = 0; i < objects.length; i++) {
	            if (this.fabricCanvas.getObjects()[i].get('type') !== cropperTypeObjectIdentifier) {
	                this.fabricCanvas.getObjects()[i].lockMovementX = lock;
	                this.fabricCanvas.getObjects()[i].lockMovementX = lock;
	            }
	        }
	    };
	    ScreenshotView.prototype.getObjectColor = function (object) {
	        if (object.get('type') === 'path-group') {
	            for (var _i = 0, _a = object.paths; _i < _a.length; _i++) {
	                var path = _a[_i];
	                if (path.getFill() != "") {
	                    var currentObjectColor = path.getFill();
	                    break;
	                }
	            }
	        }
	        else if (object.get('type') === 'path' || object.get('type') === 'fabricObject') {
	            var currentObjectColor = object.getStroke();
	        }
	        else if (object.get('type') === 'fillRect') {
	            var currentObjectColor = object.getFill();
	        }
	        else {
	            var currentObjectColor = object.getFill();
	        }
	        return currentObjectColor;
	    };
	    ScreenshotView.prototype.svgToCanvas = function () {
	        var myThis = this;
	        var svgElements = this.elementToCapture.find('svg:not(.jq-star-svg)');
	        svgElements.each(function () {
	            var canvas, xml;
	            jQuery.each(jQuery(this).find('[style*=em]'), function (index, el) {
	                jQuery(this).css('font-size', myThis.getStyle(el, 'font-size'));
	            });
	            canvas = document.createElement("canvas");
	            canvas.className = "screenShotTempCanvas";
	            xml = (new XMLSerializer()).serializeToString(this);
	            xml = xml.replace(/xmlns=\"http:\/\/www\.w3\.org\/2000\/svg\"/, '');
	            canvg(canvas, xml);
	            jQuery(canvas).insertAfter(this);
	            jQuery(this).attr('class', 'temp-hide');
	            jQuery(this).hide();
	        });
	    };
	    ScreenshotView.prototype.showAllCanvasElements = function () {
	        jQuery('.temp-hide').show();
	    };
	    ScreenshotView.prototype.getStyle = function (el, styleProp) {
	        var camelize = function (str) {
	            return str.replace(/\-(\w)/g, function (str, letter) {
	                return letter.toUpperCase();
	            });
	        };
	        if (el.currentStyle) {
	            return el.currentStyle[camelize(styleProp)];
	        }
	        else if (document.defaultView && document.defaultView.getComputedStyle) {
	            return document.defaultView.getComputedStyle(el, null)
	                .getPropertyValue(styleProp);
	        }
	        else {
	            return el.style[camelize(styleProp)];
	        }
	    };
	    return ScreenshotView;
	}());
	exports.ScreenshotView = ScreenshotView;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC92aWV3cy9zY3JlZW5zaG90L3NjcmVlbnNob3Rfdmlldy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHFFQUFnRTtBQUNoRSw0REFBd0Q7QUFDeEQsNERBQTBEO0FBQzFELGdFQUE4RDtBQUM5RCwrQ0FBNkM7QUFDN0MsZ0RBQThDO0FBQzlDLDRDQUEwQztBQUUxQywrQ0FBMkM7QUFDM0Msa0ZBQThFO0FBRzlFLHFEQUFtRDtBQUVuRCxJQUFNLG1CQUFtQixHQUFVLHFCQUFxQixDQUFDO0FBQ3pELElBQU0sZUFBZSxHQUFVLGlCQUFpQixDQUFDO0FBQ2pELElBQU0sbUJBQW1CLEdBQVUscUJBQXFCLENBQUM7QUFDekQsSUFBTSxpQkFBaUIsR0FBVSxtQkFBbUIsQ0FBQztBQUNyRCxJQUFNLGdCQUFnQixHQUFVLGtCQUFrQixDQUFDO0FBQ25ELElBQU0sWUFBWSxHQUFVLGNBQWMsQ0FBQztBQUMzQyxJQUFNLFlBQVksR0FBVSxjQUFjLENBQUM7QUFDM0MsSUFBTSxRQUFRLEdBQVUsVUFBVSxDQUFDO0FBQ25DLElBQU0sU0FBUyxHQUFVLFdBQVcsQ0FBQztBQUNyQyxJQUFNLEtBQUssR0FBVSxTQUFTLENBQUM7QUFDL0IsSUFBTSxZQUFZLEdBQVUsS0FBSyxDQUFDO0FBQ2xDLElBQU0sUUFBUSxHQUFVLGtCQUFrQixDQUFDO0FBQzNDLElBQU0sZUFBZSxHQUFVLEVBQUUsQ0FBQztBQUNsQyxJQUFNLHdCQUF3QixHQUFVLFFBQVEsQ0FBQztBQUNqRCxJQUFNLDJCQUEyQixHQUFVLFNBQVMsQ0FBQztBQUdyRDtJQW1DSSx3QkFBWSxtQkFBNkIsRUFBRSx3QkFBK0IsRUFBRSx1QkFBOEIsRUFDOUYsZ0JBQXVCLEVBQUUsU0FBZ0IsRUFBRSxRQUFlLEVBQUUsY0FBbUIsRUFBRSxxQkFBOEI7UUFaM0gsd0JBQW1CLEdBQVUsY0FBYyxDQUFDO1FBQzVDLHVCQUFrQixHQUFVLENBQUMsQ0FBQztRQUU5QiwwQkFBcUIsR0FBVyxJQUFJLENBQUM7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QUMsWUFBWSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDO1FBQ2hELENBQUM7UUFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLFdBQVcsSUFBSSxRQUFRLENBQUMsV0FBVyxDQUFDLGdCQUFnQixDQUFDLENBQUMsQ0FBQztZQUN2RSxNQUFNLENBQUMsUUFBUSxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLEVBQUMsSUFBSSxDQUFDO2lCQUNoRCxnQkFBZ0IsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUNyQyxDQUFDO1FBQUMsSUFBSSxDQUFDLENBQUM7WUFDSixNQUFNLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztRQUN6QyxDQUFDO0lBQ0wsQ0FBQztJQUNMLHFCQUFDO0FBQUQsQ0E1eUNBLEFBNHlDQyxJQUFBO0FBNXlDWSx3Q0FBYyIsImZpbGUiOiJhcHAvdmlld3Mvc2NyZWVuc2hvdC9zY3JlZW5zaG90X3ZpZXcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1NjcmVlbnNob3RWaWV3RHJhd2luZ30gZnJvbSAnLi9zY3JlZW5zaG90X3ZpZXdfZHJhd2luZyc7XG5pbXBvcnQge0RhdGFIZWxwZXJ9IGZyb20gJy4uLy4uL2pzL2hlbHBlcnMvZGF0YV9oZWxwZXInO1xuaW1wb3J0ICcuLi8uLi9qcy9saWIvc2NyZWVuc2hvdC9odG1sMmNhbnZhc181XzBfNC5taW4uanMnO1xuaW1wb3J0ICcuLi8uLi9qcy9saWIvc2NyZWVuc2hvdC9odG1sMmNhbnZhc181XzBfNC5zdmcubWluLmpzJztcbmltcG9ydCAnLi4vLi4vanMvbGliL3NjcmVlbnNob3QvcmdiY29sb3IuanMnO1xuaW1wb3J0ICcuLi8uLi9qcy9saWIvc2NyZWVuc2hvdC9TdGFja0JsdXIuanMnO1xuaW1wb3J0ICcuLi8uLi9qcy9saWIvc2NyZWVuc2hvdC9jYW52Zy5qcyc7XG5pbXBvcnQge01lY2hhbmlzbX0gZnJvbSAnLi4vLi4vbW9kZWxzL21lY2hhbmlzbXMvbWVjaGFuaXNtJztcbmltcG9ydCB7Q2FudmFzU3RhdGV9IGZyb20gJy4vY2FudmFzX3N0YXRlJztcbmltcG9ydCB7U2NyZWVuc2hvdEZlZWRiYWNrfSBmcm9tICcuLi8uLi9tb2RlbHMvZmVlZGJhY2tzL3NjcmVlbnNob3RfZmVlZGJhY2snO1xuaW1wb3J0IHtNZWNoYW5pc21WaWV3fSBmcm9tICcuLi9tZWNoYW5pc21fdmlldyc7XG5pbXBvcnQgSVBvaW50ID0gZmFicmljLklQb2ludDtcbmltcG9ydCB7Y2xpY2tCbG9ja2VkfSBmcm9tICcuLi9kaWFsb2cvZGlhbG9nX3ZpZXcnO1xuXG5jb25zdCBmcmVlaGFuZERyYXdpbmdNb2RlOnN0cmluZyA9ICdmcmVlaGFuZERyYXdpbmdNb2RlJztcbmNvbnN0IHJlY3REcmF3aW5nTW9kZTpzdHJpbmcgPSAncmVjdERyYXdpbmdNb2RlJztcbmNvbnN0IGZpbGxSZWN0RHJhd2luZ01vZGU6c3RyaW5nID0gJ2ZpbGxSZWN0RHJhd2luZ01vZGUnO1xuY29uc3QgY2lyY2xlRHJhd2luZ01vZGU6c3RyaW5nID0gJ2NpcmNsZURyYXdpbmdNb2RlJztcbmNvbnN0IGFycm93RHJhd2luZ01vZGU6c3RyaW5nID0gJ2Fycm93RHJhd2luZ01vZGUnO1xuY29uc3QgY3JvcHBpbmdNb2RlOnN0cmluZyA9ICdjcm9wcGluZ01vZGUnO1xuY29uc3Qgc3RpY2tpbmdNb2RlOnN0cmluZyA9ICdzdGlja2luZ01vZGUnO1xuY29uc3QgdGV4dE1vZGU6c3RyaW5nID0gJ3RleHRNb2RlJztcbmNvbnN0IHRleHRNb2RlMjpzdHJpbmcgPSAndGV4dE1vZGUyJztcbmNvbnN0IGJsYWNrOnN0cmluZyA9IFwiIzAwMDAwMFwiO1xuY29uc3QgZGVmYXVsdENvbG9yOnN0cmluZyA9IGJsYWNrO1xuY29uc3QgY2FudmFzSWQ6c3RyaW5nID0gJ3NjcmVlbnNob3RDYW52YXMnO1xuY29uc3QgZGVmYXVsdEZvbnRTaXplOm51bWJlciA9IDMwO1xuY29uc3QgdGV4dFR5cGVPYmplY3RJZGVudGlmaWVyOnN0cmluZyA9ICdpLXRleHQnO1xuY29uc3QgY3JvcHBlclR5cGVPYmplY3RJZGVudGlmaWVyOnN0cmluZyA9ICdjcm9wcGVyJztcblxuXG5leHBvcnQgY2xhc3MgU2NyZWVuc2hvdFZpZXcgaW1wbGVtZW50cyBNZWNoYW5pc21WaWV3IHtcbiAgICBzY3JlZW5zaG90TWVjaGFuaXNtOk1lY2hhbmlzbTtcbiAgICBzY3JlZW5zaG90UHJldmlld0VsZW1lbnQ6SlF1ZXJ5O1xuICAgIHNjcmVlbnNob3RDYXB0dXJlQnV0dG9uOkpRdWVyeTtcbiAgICBlbGVtZW50VG9DYXB0dXJlOkpRdWVyeTtcbiAgICBlbGVtZW50c1RvSGlkZTpbc3RyaW5nXTtcbiAgICBzY3JlZW5zaG90Q2FudmFzOmFueTtcbiAgICBjb250ZXh0OmFueTtcbiAgICBzdGFydFg6bnVtYmVyO1xuICAgIHN0YXJ0WTpudW1iZXI7XG4gICAgZHJhd2luZ01vZGU6c3RyaW5nO1xuICAgIGNhbnZhc1N0YXRlOkhUTUxJbWFnZUVsZW1lbnQ7XG4gICAgY2FudmFzU3RhdGVzOkNhbnZhc1N0YXRlW107XG4gICAgY2FudmFzV2lkdGg6bnVtYmVyO1xuICAgIGNhbnZhc0hlaWdodDpudW1iZXI7XG4gICAgc2NyZWVuc2hvdFZpZXdEcmF3aW5nOlNjcmVlbnNob3RWaWV3RHJhd2luZztcbiAgICBjYW52YXNPcmlnaW5hbFdpZHRoOm51bWJlcjtcbiAgICBjYW52YXNPcmlnaW5hbEhlaWdodDpudW1iZXI7XG4gICAgY29udGFpbmVyOkpRdWVyeTtcbiAgICBkaXN0UGF0aDpzdHJpbmc7XG4gICAgZmFicmljQ2FudmFzO1xuICAgIGNhbnZhcztcbiAgICBjcm9wcGluZ0lzQWN0aXZlOmJvb2xlYW47XG4gICAgZnJlZWhhbmRBY3RpdmU6Ym9vbGVhbjtcbiAgICBjb2xvclBpY2tlckNTU0NsYXNzOnN0cmluZyA9ICdjb2xvci1waWNrZXInO1xuICAgIGRlZmF1bHRTdHJva2VXaWR0aDpudW1iZXIgPSAzO1xuICAgIHNlbGVjdGVkT2JqZWN0Q29udHJvbHM6YW55O1xuICAgIGhhc0JvcmRlcnNBbmRDb250cm9sczpib29sZWFuID0gdHJ1ZTtcbiAgICBwYW5uaW5nOmJvb2xlYW4gPSBmYWxzZTtcbiAgICBibG9ja1Bhbm5pbmc6Ym9vbGVhbiA9IGZhbHNlO1xuICAgIGNhbnZhc01vdmVtZW50WDpudW1iZXIgPSAwO1xuICAgIGNhbnZhc01vdmVtZW50WTpudW1iZXIgPSAwO1xuICAgIGN1cnJlbnRPYmplY3RJblRvb2xiYXI6YW55ID0gbnVsbDtcbiAgICBjcm9wcGluZ1JlY3Q6YW55O1xuXG4gICAgY29uc3RydWN0b3Ioc2NyZWVuc2hvdE1lY2hhbmlzbTpNZWNoYW5pc20sIHNjcmVlbnNob3RQcmV2aWV3RWxlbWVudDpKUXVlcnksIHNjcmVlbnNob3RDYXB0dXJlQnV0dG9uOkpRdWVyeSxcbiAgICAgICAgICAgICAgICBlbGVtZW50VG9DYXB0dXJlOkpRdWVyeSwgY29udGFpbmVyOkpRdWVyeSwgZGlzdFBhdGg6c3RyaW5nLCBlbGVtZW50c1RvSGlkZT86YW55LCBoYXNCb3JkZXJzQW5kQ29udHJvbHM/OmJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5zY3JlZW5zaG90TWVjaGFuaXNtID0gc2NyZWVuc2hvdE1lY2hhbmlzbTtcbiAgICAgICAgdGhpcy5zY3JlZW5zaG90UHJldmlld0VsZW1lbnQgPSBzY3JlZW5zaG90UHJldmlld0VsZW1lbnQ7XG4gICAgICAgIHRoaXMuc2NyZWVuc2hvdENhcHR1cmVCdXR0b24gPSBzY3JlZW5zaG90Q2FwdHVyZUJ1dHRvbjtcbiAgICAgICAgdGhpcy5lbGVtZW50VG9DYXB0dXJlID0gZWxlbWVudFRvQ2FwdHVyZTtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgICAgIHRoaXMuZWxlbWVudHNUb0hpZGUgPSBlbGVtZW50c1RvSGlkZTtcbiAgICAgICAgdGhpcy5jYW52YXNTdGF0ZSA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FudmFzU3RhdGVzID0gW107XG4gICAgICAgIHRoaXMuZGlzdFBhdGggPSBkaXN0UGF0aDtcbiAgICAgICAgdGhpcy5zY3JlZW5zaG90Vmlld0RyYXdpbmcgPSBuZXcgU2NyZWVuc2hvdFZpZXdEcmF3aW5nKCk7XG4gICAgICAgIHRoaXMuYWRkQ2FwdHVyZUV2ZW50VG9CdXR0b24oKTtcbiAgICAgICAgdGhpcy5jcm9wcGluZ0lzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZnJlZWhhbmRBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5oYXNCb3JkZXJzQW5kQ29udHJvbHMgPSAoaGFzQm9yZGVyc0FuZENvbnRyb2xzID09PSBudWxsIHx8IGhhc0JvcmRlcnNBbmRDb250cm9scyA9PT0gdW5kZWZpbmVkKSA/IHRydWUgOiBoYXNCb3JkZXJzQW5kQ29udHJvbHM7XG4gICAgfVxuXG4gICAgY2hlY2tBdXRvVGFrZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuc2NyZWVuc2hvdE1lY2hhbmlzbS5nZXRQYXJhbWV0ZXJWYWx1ZSgnYXV0b1Rha2UnKSkge1xuICAgICAgICAgICAgdGhpcy5nZW5lcmF0ZVNjcmVlbnNob3QoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlcGxhY2VPcHRpb25zV2l0aFRlbXBvcmFyeVNwYW5zKCkge1xuICAgICAgICBqUXVlcnkoJ3NlbGVjdCcpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0VGV4dCA9IGpRdWVyeSh0aGlzKS5maW5kKCdvcHRpb246c2VsZWN0ZWQnKS50ZXh0KCk7XG5cbiAgICAgICAgICAgIGpRdWVyeSh0aGlzKS5kYXRhKCdvcmlnaW5hbC1jb2xvcicsIGpRdWVyeSh0aGlzKS5jc3MoJ2NvbG9yJykpO1xuICAgICAgICAgICAgalF1ZXJ5KHRoaXMpLmNzcygnY29sb3InLCAndHJhbnNwYXJlbnQnKTtcbiAgICAgICAgICAgIHZhciB0ZXh0T3ZlcmxheSA9IGpRdWVyeSgnPHNwYW4gY2xhc3M9XCJodG1sMmNhbnZhcy1vcHRpb25cIj4nICsgc2VsZWN0VGV4dCArICc8L3NwYW4+Jyk7XG4gICAgICAgICAgICB0ZXh0T3ZlcmxheS5jc3MoJ3Bvc2l0aW9uJywgJ2Fic29sdXRlJylcbiAgICAgICAgICAgICAgICAuY3NzKCd0b3AnLCBqUXVlcnkodGhpcykub2Zmc2V0KCkudG9wIC0gMzAgKyAncHgnKVxuICAgICAgICAgICAgICAgIC5jc3MoJ2xlZnQnLCBqUXVlcnkodGhpcykub2Zmc2V0KCkubGVmdCArIDEwICsgJ3B4JylcbiAgICAgICAgICAgICAgICAuY3NzKCd3aWR0aCcsICdhdXRvJylcbiAgICAgICAgICAgICAgICAuY3NzKCdoZWlnaHQnLCAnMjVweCcpXG4gICAgICAgICAgICAgICAgLmNzcygnZGlzcGxheScsICdibG9jaycpXG4gICAgICAgICAgICAgICAgLmNzcygnei1pbmRleCcsIDkwMDApO1xuICAgICAgICAgICAgalF1ZXJ5KCdib2R5JykuYXBwZW5kKHRleHRPdmVybGF5KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVtb3ZlVGVtcG9yYXJ5U3BhbnMoKSB7XG4gICAgICAgIGpRdWVyeSgnLmh0bWwyY2FudmFzLW9wdGlvbicpLnJlbW92ZSgpO1xuICAgICAgICBqUXVlcnkoJ3NlbGVjdCcpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgb3JpZ2luYWxDb2xvciA9IGpRdWVyeSh0aGlzKS5kYXRhKCdvcmlnaW5hbC1jb2xvcicpO1xuICAgICAgICAgICAgalF1ZXJ5KHRoaXMpLmNzcygnY29sb3InLCBvcmlnaW5hbENvbG9yKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2VuZXJhdGVTY3JlZW5zaG90KCkge1xuICAgICAgICB2YXIgc2Nyb2xsUG9zaXRpb24gPSB0aGlzLmNvbnRhaW5lci5vZmZzZXQoKS50b3A7XG4gICAgICAgIHRoaXMuaGlkZUVsZW1lbnRzKCk7XG4gICAgICAgIHZhciBteVRoaXMgPSB0aGlzO1xuXG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBteVRoaXMuc3ZnVG9DYW52YXMoKTtcbiAgICAgICAgICAgIG15VGhpcy5yZXBsYWNlT3B0aW9uc1dpdGhUZW1wb3JhcnlTcGFucygpO1xuXG4gICAgICAgICAgICBodG1sMmNhbnZhcyhteVRoaXMuZWxlbWVudFRvQ2FwdHVyZSwge1xuICAgICAgICAgICAgICAgIHVzZUNPUlM6IHRydWUsXG4gICAgICAgICAgICAgICAgb25yZW5kZXJlZDogZnVuY3Rpb24gKGNhbnZhcykge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cobXlUaGlzLmNvbnRhaW5lci5vZmZzZXQoKS50b3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KCdodG1sLCBib2R5JykuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiBzY3JvbGxQb3NpdGlvbiAtIDg1XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAwKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbXlUaGlzLnJlbW92ZVRlbXBvcmFyeVNwYW5zKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBteVRoaXMuc2hvd0VsZW1lbnRzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBteVRoaXMuc2hvd0FsbENhbnZhc0VsZW1lbnRzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBteVRoaXMuY2FudmFzID0gY2FudmFzO1xuICAgICAgICAgICAgICAgICAgICAgICAgbXlUaGlzLnNjcmVlbnNob3RQcmV2aWV3RWxlbWVudC5lbXB0eSgpLmFwcGVuZChjYW52YXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbXlUaGlzLnNjcmVlbnNob3RQcmV2aWV3RWxlbWVudC5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkoJy5zY3JlZW5zaG90LXByZXZpZXcgY2FudmFzJykuYXR0cignaWQnLCBjYW52YXNJZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB3aW5kb3dSYXRpbyA9IG15VGhpcy5lbGVtZW50VG9DYXB0dXJlLndpZHRoKCkgLyBteVRoaXMuZWxlbWVudFRvQ2FwdHVyZS5oZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2F2ZSB0aGUgY2FudmFzIGNvbnRlbnQgYXMgaW1hZ2VVUkxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gY2FudmFzLnRvRGF0YVVSTChcImltYWdlL3BuZ1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG15VGhpcy5jb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG15VGhpcy5jYW52YXNPcmlnaW5hbFdpZHRoID0gY2FudmFzLndpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgbXlUaGlzLmNhbnZhc09yaWdpbmFsSGVpZ2h0ID0gY2FudmFzLmhlaWdodDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbXlUaGlzLmNhbnZhc1dpZHRoID0gbXlUaGlzLnNjcmVlbnNob3RQcmV2aWV3RWxlbWVudC53aWR0aCgpIC0gMjtcbiAgICAgICAgICAgICAgICAgICAgICAgIG15VGhpcy5jYW52YXNIZWlnaHQgPSAobXlUaGlzLnNjcmVlbnNob3RQcmV2aWV3RWxlbWVudC53aWR0aCgpIC8gd2luZG93UmF0aW8pIC0gMjtcblxuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KGNhbnZhcykucHJvcCgnd2lkdGgnLCBteVRoaXMuY2FudmFzV2lkdGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KGNhbnZhcykucHJvcCgnaGVpZ2h0JywgbXlUaGlzLmNhbnZhc0hlaWdodCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbWcgPSBuZXcgSW1hZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG15VGhpcy5jYW52YXNTdGF0ZSA9IGltZztcbiAgICAgICAgICAgICAgICAgICAgICAgIG15VGhpcy5zY3JlZW5zaG90Q2FudmFzID0gY2FudmFzO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW1nLnNyYyA9IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15VGhpcy5jb250ZXh0LmRyYXdJbWFnZShpbWcsIDAsIDAsIGltZy53aWR0aCwgaW1nLmhlaWdodCwgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIG15VGhpcy5pbml0RmFicmljKGltZywgY2FudmFzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG15VGhpcy5pbml0RnJlZWhhbmREcmF3aW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBteVRoaXMuaW5pdFN0aWNrZXJzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBteVRoaXMuaW5pdFNjcmVlbnNob3RPcGVyYXRpb25zKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBteVRoaXMuY3VzdG9taXplQ29udHJvbHMoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG15VGhpcy5pbml0Wm9vbSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBteVRoaXMuY29udGFpbmVyLmZpbmQoJyNzY3JlZW5zaG90TWVjaGFuaXNtJyArIG15VGhpcy5zY3JlZW5zaG90TWVjaGFuaXNtLmlkKS5hZGRDbGFzcygnZGlydHknKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNjcmVlbnNob3RDYXB0dXJlQnV0dG9uQWN0aXZlVGV4dCA9IG15VGhpcy5zY3JlZW5zaG90Q2FwdHVyZUJ1dHRvbi5kYXRhKCdhY3RpdmUtdGV4dCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbXlUaGlzLnNjcmVlbnNob3RDYXB0dXJlQnV0dG9uLnRleHQoc2NyZWVuc2hvdENhcHR1cmVCdXR0b25BY3RpdmVUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgMjAwKTtcbiAgICB9XG5cbiAgICBpbml0RmFicmljKGltZywgY2FudmFzKSB7XG4gICAgICAgIHZhciBteVRoaXMgPSB0aGlzO1xuICAgICAgICB0aGlzLmZhYnJpY0NhbnZhcyA9IG5ldyBmYWJyaWMuQ2FudmFzKGNhbnZhc0lkKTtcblxuICAgICAgICB2YXIgcGFnZVNjcmVlbnNob3RDYW52YXMgPSBuZXcgZmFicmljLkltYWdlKGltZywge3dpZHRoOiBjYW52YXMud2lkdGgsIGhlaWdodDogY2FudmFzLmhlaWdodH0pO1xuXG4gICAgICAgIHBhZ2VTY3JlZW5zaG90Q2FudmFzLnNldCgnc2VsZWN0YWJsZScsIGZhbHNlKTtcbiAgICAgICAgcGFnZVNjcmVlbnNob3RDYW52YXMuc2V0KCdob3ZlckN1cnNvcicsICdkZWZhdWx0Jyk7XG4gICAgICAgIHRoaXMuZmFicmljQ2FudmFzLmFkZChwYWdlU2NyZWVuc2hvdENhbnZhcyk7XG5cbiAgICAgICAgdGhpcy5zZWxlY3RlZE9iamVjdENvbnRyb2xzID0galF1ZXJ5KCcjc2NyZWVuc2hvdE1lY2hhbmlzbScgKyBteVRoaXMuc2NyZWVuc2hvdE1lY2hhbmlzbS5pZCArICcgLnNlbGVjdGVkLW9iamVjdC1jb250cm9scycpO1xuICAgICAgICB0aGlzLnNlbGVjdGVkT2JqZWN0Q29udHJvbHMuaGlkZSgpO1xuXG4gICAgICAgIG15VGhpcy5mYWJyaWNDYW52YXMub24oJ29iamVjdDpzZWxlY3RlZCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBteVRoaXMuYmxvY2tQYW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZE9iamVjdCA9IGUudGFyZ2V0O1xuXG4gICAgICAgICAgICBzZWxlY3RlZE9iamVjdC5icmluZ1RvRnJvbnQoKTtcblxuICAgICAgICAgICAgbXlUaGlzLmZhYnJpY0NhbnZhcy51bmlTY2FsZVRyYW5zZm9ybSA9IHNlbGVjdGVkT2JqZWN0LmdldCgndHlwZScpID09PSAnZmFicmljT2JqZWN0JyB8fCBzZWxlY3RlZE9iamVjdC5nZXQoJ3R5cGUnKSA9PT0gJ2ZpbGxSZWN0JztcblxuICAgICAgICAgICAgbXlUaGlzLnNlbGVjdGVkT2JqZWN0Q29udHJvbHMuc2hvdygpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkT2JqZWN0LmdldCgndHlwZScpID09PSB0ZXh0VHlwZU9iamVjdElkZW50aWZpZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dFNpemVJbnB1dCA9IG15VGhpcy5zZWxlY3RlZE9iamVjdENvbnRyb2xzLmZpbmQoJy50ZXh0LXNpemUnKTtcbiAgICAgICAgICAgICAgICB0ZXh0U2l6ZUlucHV0LnNob3coKTtcbiAgICAgICAgICAgICAgICB0ZXh0U2l6ZUlucHV0LnZhbChzZWxlY3RlZE9iamVjdC5nZXRGb250U2l6ZSgpKTtcbiAgICAgICAgICAgICAgICB0ZXh0U2l6ZUlucHV0Lm9mZigpLm9uKCdrZXl1cCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRPYmplY3Quc2V0Rm9udFNpemUoalF1ZXJ5KHRoaXMpLnZhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgbXlUaGlzLmZhYnJpY0NhbnZhcy5yZW5kZXJBbGwoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbXlUaGlzLnNlbGVjdGVkT2JqZWN0Q29udHJvbHMuZmluZCgnLnRleHQtc2l6ZScpLmhpZGUoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcHJldmVudCBmb3JtIHN1Ym1pc3Npb24gb24gZW50ZXIgcHJlc3NcbiAgICAgICAgICAgIG15VGhpcy5zZWxlY3RlZE9iamVjdENvbnRyb2xzLmZpbmQoJy50ZXh0LXNpemUnKS5vbigna2V5ZG93bicsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYoZXZlbnQua2V5Q29kZSA9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGlmIChzZWxlY3RlZE9iamVjdC5nZXQoJ3R5cGUnKSA9PT0gJ3BhdGgtZ3JvdXAnKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgcGF0aCBvZiBzZWxlY3RlZE9iamVjdC5wYXRocykge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aC5nZXRGaWxsKCkgIT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRPYmplY3RDb2xvciA9IHBhdGguZ2V0RmlsbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdGVkT2JqZWN0LmdldCgndHlwZScpID09PSAncGF0aCcgfHwgc2VsZWN0ZWRPYmplY3QuZ2V0KCd0eXBlJykgPT09ICdmYWJyaWNPYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRPYmplY3RDb2xvciA9IHNlbGVjdGVkT2JqZWN0LmdldFN0cm9rZSgpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZE9iamVjdC5nZXQoJ3R5cGUnKSA9PT0gJ2ZpbGxSZWN0Jykge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50T2JqZWN0Q29sb3IgPSBzZWxlY3RlZE9iamVjdC5nZXRGaWxsKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW50T2JqZWN0Q29sb3IgPSBzZWxlY3RlZE9iamVjdC5nZXRGaWxsKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG15VGhpcy5zZWxlY3RlZE9iamVjdENvbnRyb2xzLmZpbmQoJy5kZWxldGUnKS5vZmYoKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZE9iamVjdC5nZXQoJ2N1c3RvbVR5cGUnKSA9PT0gJ2Fycm93Jykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRPYmplY3QubGluZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE9iamVjdC5saW5lLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZE9iamVjdC5hcnJvdyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE9iamVjdC5hcnJvdy5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRPYmplY3QuY2lyY2xlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LmNpcmNsZS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZE9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE9iamVjdC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbXlUaGlzLnNlbGVjdGVkT2JqZWN0Q29udHJvbHMuZmluZCgnYS5jb2xvcicpLmNzcygnY29sb3InLCBjdXJyZW50T2JqZWN0Q29sb3IpO1xuICAgICAgICAgICAgbXlUaGlzLnNlbGVjdGVkT2JqZWN0Q29udHJvbHMuZmluZCgnYS5jb2xvcicpLm9mZigpLnNwZWN0cnVtKHtcbiAgICAgICAgICAgICAgICBjb2xvcjogY3VycmVudE9iamVjdENvbG9yLFxuICAgICAgICAgICAgICAgIGNvbnRhaW5lckNsYXNzTmFtZTogbXlUaGlzLmNvbG9yUGlja2VyQ1NTQ2xhc3MsXG4gICAgICAgICAgICAgICAgc2hvd1BhbGV0dGVPbmx5OiB0cnVlLFxuICAgICAgICAgICAgICAgIHRvZ2dsZVBhbGV0dGVPbmx5OiB0cnVlLFxuICAgICAgICAgICAgICAgIHRvZ2dsZVBhbGV0dGVNb3JlVGV4dDogJ21vcmUnLFxuICAgICAgICAgICAgICAgIHRvZ2dsZVBhbGV0dGVMZXNzVGV4dDogJ2xlc3MnLFxuICAgICAgICAgICAgICAgIHBhbGV0dGU6IFtcbiAgICAgICAgICAgICAgICAgICAgW1wiIzAwMFwiLCBcIiM0NDRcIiwgXCIjNjY2XCIsIFwiIzk5OVwiLCBcIiNjY2NcIiwgXCIjZWVlXCIsIFwiI2YzZjNmM1wiLCBcIiNmZmZcIl0sXG4gICAgICAgICAgICAgICAgICAgIFtcIiNmMDBcIiwgXCIjZjkwXCIsIFwiI2ZmMFwiLCBcIiMwZjBcIiwgXCIjMGZmXCIsIFwiIzAwZlwiLCBcIiM5MGZcIiwgXCIjZjBmXCJdLFxuICAgICAgICAgICAgICAgICAgICBbXCIjZjRjY2NjXCIsIFwiI2ZjZTVjZFwiLCBcIiNmZmYyY2NcIiwgXCIjZDllYWQzXCIsIFwiI2QwZTBlM1wiLCBcIiNjZmUyZjNcIiwgXCIjZDlkMmU5XCIsIFwiI2VhZDFkY1wiXSxcbiAgICAgICAgICAgICAgICAgICAgW1wiI2VhOTk5OVwiLCBcIiNmOWNiOWNcIiwgXCIjZmZlNTk5XCIsIFwiI2I2ZDdhOFwiLCBcIiNhMmM0YzlcIiwgXCIjOWZjNWU4XCIsIFwiI2I0YTdkNlwiLCBcIiNkNWE2YmRcIl0sXG4gICAgICAgICAgICAgICAgICAgIFtcIiNlMDY2NjZcIiwgXCIjZjZiMjZiXCIsIFwiI2ZmZDk2NlwiLCBcIiM5M2M0N2RcIiwgXCIjNzZhNWFmXCIsIFwiIzZmYThkY1wiLCBcIiM4ZTdjYzNcIiwgXCIjYzI3YmEwXCJdLFxuICAgICAgICAgICAgICAgICAgICBbXCIjYzAwXCIsIFwiI2U2OTEzOFwiLCBcIiNmMWMyMzJcIiwgXCIjNmFhODRmXCIsIFwiIzQ1ODE4ZVwiLCBcIiMzZDg1YzZcIiwgXCIjNjc0ZWE3XCIsIFwiI2E2NGQ3OVwiXSxcbiAgICAgICAgICAgICAgICAgICAgW1wiIzkwMFwiLCBcIiNiNDVmMDZcIiwgXCIjYmY5MDAwXCIsIFwiIzM4NzYxZFwiLCBcIiMxMzRmNWNcIiwgXCIjMGI1Mzk0XCIsIFwiIzM1MWM3NVwiLCBcIiM3NDFiNDdcIl0sXG4gICAgICAgICAgICAgICAgICAgIFtcIiM2MDBcIiwgXCIjNzgzZjA0XCIsIFwiIzdmNjAwMFwiLCBcIiMyNzRlMTNcIiwgXCIjMGMzNDNkXCIsIFwiIzA3Mzc2M1wiLCBcIiMyMDEyNGRcIiwgXCIjNGMxMTMwXCJdXG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uIChjb2xvcikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY29sb3IgPSBjb2xvci50b0hleFN0cmluZygpO1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkodGhpcykuY3NzKCdjb2xvcicsIGNvbG9yKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRPYmplY3QuZ2V0KCdjdXN0b21UeXBlJykgPT09ICdhcnJvdycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LnNldEZpbGwoY29sb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRPYmplY3Quc2V0U3Ryb2tlKGNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNlbGVjdGVkT2JqZWN0LmxpbmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LmxpbmUuc2V0RmlsbChjb2xvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRPYmplY3QubGluZS5zZXRTdHJva2UoY29sb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2VsZWN0ZWRPYmplY3QuYXJyb3cgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LmFycm93LnNldEZpbGwoY29sb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LmFycm93LnNldFN0cm9rZShjb2xvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihzZWxlY3RlZE9iamVjdC5jaXJjbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LmNpcmNsZS5zZXRGaWxsKGNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE9iamVjdC5jaXJjbGUuc2V0U3Ryb2tlKGNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZE9iamVjdC5nZXQoJ3R5cGUnKSA9PT0gJ3BhdGgtZ3JvdXAnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwYXRoIG9mIHNlbGVjdGVkT2JqZWN0LnBhdGhzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGguZ2V0RmlsbCgpICE9IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aC5zZXRGaWxsKGNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWRPYmplY3QuZ2V0KCd0eXBlJykgPT09ICdwYXRoJyB8fCBzZWxlY3RlZE9iamVjdC5nZXQoJ3R5cGUnKSA9PT0gJ2ZhYnJpY09iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LnNldFN0cm9rZShjb2xvcik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWRPYmplY3QuZ2V0KCd0eXBlJykgPT09ICdmaWxsUmVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LnNldFN0cm9rZShjb2xvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE9iamVjdC5zZXRGaWxsKGNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LnNldEZpbGwoY29sb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgbXlUaGlzLmZhYnJpY0NhbnZhcy5yZW5kZXJBbGwoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJlZm9yZVNob3c6IGZ1bmN0aW9uIChjb2xvcikge1xuICAgICAgICAgICAgICAgICAgICBqUXVlcnkodGhpcykuc3BlY3RydW0oXCJvcHRpb25cIiwgJ2NvbG9yJywgY3VycmVudE9iamVjdENvbG9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbXlUaGlzLmZhYnJpY0NhbnZhcy5vbignc2VsZWN0aW9uOmNsZWFyZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRPYmplY3RDb250cm9scyA9IGpRdWVyeSgnI3NjcmVlbnNob3RNZWNoYW5pc20nICsgbXlUaGlzLnNjcmVlbnNob3RNZWNoYW5pc20uaWQgKyAnIC5zZWxlY3RlZC1vYmplY3QtY29udHJvbHMnKTtcbiAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0Q29udHJvbHMuaGlkZSgpO1xuICAgICAgICAgICAgc2VsZWN0ZWRPYmplY3RDb250cm9scy5maW5kKCcuZGVsZXRlJykub2ZmKCk7XG4gICAgICAgICAgICBzZWxlY3RlZE9iamVjdENvbnRyb2xzLmZpbmQoJy5jb2xvcicpLm9mZigpO1xuICAgICAgICAgICAgbXlUaGlzLmJsb2NrUGFubmluZyA9IGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICBteVRoaXMuZmFicmljQ2FudmFzLm9uKCdvYmplY3Q6YWRkZWQnLCBmdW5jdGlvbiAob2JqZWN0KSB7XG4gICAgICAgICAgICBpZiAobXlUaGlzLmZyZWVoYW5kQWN0aXZlKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG15VGhpcy5mYWJyaWNDYW52YXMub24oJ29iamVjdDpzY2FsaW5nJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBvYmplY3QgPSBlLnRhcmdldDtcbiAgICAgICAgICAgIGlmIChvYmplY3QudHlwZSA9PT0gJ2ZhYnJpY09iamVjdCcpIHtcbiAgICAgICAgICAgICAgICB2YXIgbyA9IGUudGFyZ2V0O1xuICAgICAgICAgICAgICAgIGlmICghby5zdHJva2VXaWR0aFVuc2NhbGVkICYmIG8uc3Ryb2tlV2lkdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgby5zdHJva2VXaWR0aFVuc2NhbGVkID0gby5zdHJva2VXaWR0aDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG8uc3Ryb2tlV2lkdGhVbnNjYWxlZCkge1xuICAgICAgICAgICAgICAgICAgICBvLnN0cm9rZVdpZHRoID0gby5zdHJva2VXaWR0aFVuc2NhbGVkIC8gby5zY2FsZVg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpbml0Wm9vbSgpIHtcbiAgICAgICAgdmFyIG15VGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmZpbmQoJ2ltZy56b29tLWluJykub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBteVRoaXMuZmFicmljQ2FudmFzLnpvb21Ub1BvaW50KG5ldyBmYWJyaWMuUG9pbnQobXlUaGlzLmZhYnJpY0NhbnZhcy53aWR0aCAvIDIsIG15VGhpcy5mYWJyaWNDYW52YXMuaGVpZ2h0IC8gMiksIG15VGhpcy5mYWJyaWNDYW52YXMuZ2V0Wm9vbSgpICogMS4xKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmZpbmQoJ2ltZy56b29tLW91dCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgbXlUaGlzLmZhYnJpY0NhbnZhcy56b29tVG9Qb2ludChuZXcgZmFicmljLlBvaW50KG15VGhpcy5mYWJyaWNDYW52YXMud2lkdGggLyAyLCBteVRoaXMuZmFicmljQ2FudmFzLmhlaWdodCAvIDIpLCBteVRoaXMuZmFicmljQ2FudmFzLmdldFpvb20oKSAvIDEuMSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZmFicmljQ2FudmFzLm9uKCdtb3VzZTp1cCcsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBteVRoaXMucGFubmluZyA9IGZhbHNlO1xuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY2xpY2tCbG9ja2VkID0gZmFsc2U7XG4gICAgICAgICAgICB9LCAxMDApO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmZhYnJpY0NhbnZhcy5vbignbW91c2U6ZG93bicsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBteVRoaXMucGFubmluZyA9IHRydWU7XG4gICAgICAgICAgICBjbGlja0Jsb2NrZWQgPSB0cnVlO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmZhYnJpY0NhbnZhcy5vbignbW91c2U6bW92ZScsIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBpZiAoIW15VGhpcy5jcm9wcGluZ0lzQWN0aXZlICYmICFteVRoaXMuZnJlZWhhbmRBY3RpdmUgJiYgIW15VGhpcy5ibG9ja1Bhbm5pbmcgJiYgbXlUaGlzLnBhbm5pbmcgJiYgZSAmJiBlLmUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBuZXcgZmFicmljLlBvaW50KGUuZS5tb3ZlbWVudFgsIGUuZS5tb3ZlbWVudFkpO1xuICAgICAgICAgICAgICAgIG15VGhpcy5mYWJyaWNDYW52YXMucmVsYXRpdmVQYW4oZGVsdGEpO1xuXG4gICAgICAgICAgICAgICAgbXlUaGlzLmNhbnZhc01vdmVtZW50WCArPSBlLmUubW92ZW1lbnRYO1xuICAgICAgICAgICAgICAgIG15VGhpcy5jYW52YXNNb3ZlbWVudFkgKz0gZS5lLm1vdmVtZW50WTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gcmV0aW5hIGFuZCBjb1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKHdpbmRvdy5kZXZpY2VQaXhlbFJhdGlvICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIHpvb20gPSAxL3dpbmRvdy5kZXZpY2VQaXhlbFJhdGlvO1xuICAgICAgICAgICAgICAgIG15VGhpcy5mYWJyaWNDYW52YXMuc2V0Wm9vbSh6b29tKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgNTAwKTtcbiAgICB9XG5cbiAgICBpbml0Q3JvcCgpIHtcbiAgICAgICAgdmFyIG15VGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBwb3MgPSBbMCwgMF07XG4gICAgICAgIHZhciBjYW52YXNCb3VuZGluZ1JlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjYW52YXNJZCkuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHBvc1swXSA9IGNhbnZhc0JvdW5kaW5nUmVjdC5sZWZ0O1xuICAgICAgICBwb3NbMV0gPSBqUXVlcnkobXlUaGlzLnNjcmVlbnNob3RDYW52YXMpLnBhcmVudCgpLm9mZnNldCgpLnRvcDtcblxuICAgICAgICB2YXIgbW91c2V4ID0gMDtcbiAgICAgICAgdmFyIG1vdXNleSA9IDA7XG4gICAgICAgIHZhciBjcm9wID0gZmFsc2U7XG5cbiAgICAgICAgbXlUaGlzLmNyb3BwaW5nUmVjdCA9IG5ldyBmYWJyaWMuUmVjdCh7XG4gICAgICAgICAgICBmaWxsOiAndHJhbnNwYXJlbnQnLFxuICAgICAgICAgICAgb3JpZ2luWDogJ2xlZnQnLFxuICAgICAgICAgICAgb3JpZ2luWTogJ3RvcCcsXG4gICAgICAgICAgICBzdHJva2U6ICcjMzMzJyxcbiAgICAgICAgICAgIHN0cm9rZURhc2hBcnJheTogWzQsIDRdLFxuICAgICAgICAgICAgdHlwZTogY3JvcHBlclR5cGVPYmplY3RJZGVudGlmaWVyLFxuICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgIHdpZHRoOiAxLFxuICAgICAgICAgICAgaGVpZ2h0OiAxXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuY3JvcHBpbmdJc0FjdGl2ZSA9IHRydWU7XG5cbiAgICAgICAgbXlUaGlzLmNyb3BwaW5nUmVjdC52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZmFicmljQ2FudmFzLmFkZChteVRoaXMuY3JvcHBpbmdSZWN0KTtcblxuICAgICAgICB0aGlzLmZhYnJpY0NhbnZhcy5vbihcIm1vdXNlOmRvd25cIiwgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoIW15VGhpcy5jcm9wcGluZ0lzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgeCA9IGV2ZW50LmUucGFnZVggLSBteVRoaXMuc2NyZWVuc2hvdFByZXZpZXdFbGVtZW50Lm9mZnNldCgpLmxlZnQsXG4gICAgICAgICAgICAgICAgeSA9IGV2ZW50LmUucGFnZVkgLSBteVRoaXMuc2NyZWVuc2hvdFByZXZpZXdFbGVtZW50Lm9mZnNldCgpLnRvcDtcbiAgICAgICAgICAgIGxldCBwb2ludDpJUG9pbnQgPSBuZXcgZmFicmljLlBvaW50KHgsIHkpO1xuICAgICAgICAgICAgbGV0IHRyYW5zZm9ybWVkUG9pbnQgPSBteVRoaXMudHJhbnNmb3JtQ2xpY2tQb2ludFRvQ29vcmRpbmF0ZXMocG9pbnQpO1xuXG4gICAgICAgICAgICBteVRoaXMuY3JvcHBpbmdSZWN0LmxlZnQgPSB0cmFuc2Zvcm1lZFBvaW50Lng7XG4gICAgICAgICAgICBteVRoaXMuY3JvcHBpbmdSZWN0LnRvcCA9IHRyYW5zZm9ybWVkUG9pbnQueTtcblxuICAgICAgICAgICAgbXlUaGlzLmNyb3BwaW5nUmVjdC52aXNpYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIG1vdXNleCA9IHRyYW5zZm9ybWVkUG9pbnQueDtcbiAgICAgICAgICAgIG1vdXNleSA9IHRyYW5zZm9ybWVkUG9pbnQueTtcbiAgICAgICAgICAgIGNyb3AgPSB0cnVlO1xuICAgICAgICAgICAgbXlUaGlzLmZhYnJpY0NhbnZhcy5icmluZ1RvRnJvbnQobXlUaGlzLmNyb3BwaW5nUmVjdCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZmFicmljQ2FudmFzLm9uKFwibW91c2U6bW92ZVwiLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGlmIChjcm9wICYmIG15VGhpcy5jcm9wcGluZ0lzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgbGV0IHggPSBldmVudC5lLnBhZ2VYIC0gbXlUaGlzLnNjcmVlbnNob3RQcmV2aWV3RWxlbWVudC5vZmZzZXQoKS5sZWZ0LFxuICAgICAgICAgICAgICAgICAgICB5ID0gZXZlbnQuZS5wYWdlWSAtIG15VGhpcy5zY3JlZW5zaG90UHJldmlld0VsZW1lbnQub2Zmc2V0KCkudG9wO1xuICAgICAgICAgICAgICAgIGxldCBwb2ludDpJUG9pbnQgPSBuZXcgZmFicmljLlBvaW50KHgsIHkpO1xuICAgICAgICAgICAgICAgIGxldCB0cmFuc2Zvcm1lZFBvaW50ID0gbXlUaGlzLnRyYW5zZm9ybUNsaWNrUG9pbnRUb0Nvb3JkaW5hdGVzKHBvaW50KTtcblxuICAgICAgICAgICAgICAgIG15VGhpcy5jcm9wcGluZ1JlY3Qud2lkdGggPSB0cmFuc2Zvcm1lZFBvaW50LnggLSBtb3VzZXg7XG4gICAgICAgICAgICAgICAgbXlUaGlzLmNyb3BwaW5nUmVjdC5oZWlnaHQgPSB0cmFuc2Zvcm1lZFBvaW50LnkgLSBtb3VzZXk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBteVRoaXMuZmFicmljQ2FudmFzLnJlbmRlckFsbCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmZhYnJpY0NhbnZhcy5vbihcIm1vdXNlOnVwXCIsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgY3JvcCA9IGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmNvbnRhaW5lci5maW5kKCcuc2NyZWVuc2hvdC1jcm9wLWNhbmNlbCcpLnNob3coKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIG15VGhpcy5jYW5jZWxDcm9wcGluZygpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmNvbnRhaW5lci5maW5kKCcuc2NyZWVuc2hvdC1jcm9wLWNvbmZpcm0nKS5zaG93KCkub2ZmKCkub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBteVRoaXMuY3JvcFRoZUNhbnZhcyhteVRoaXMuY3JvcHBpbmdSZWN0KTtcbiAgICAgICAgICAgIG15VGhpcy5jcm9wcGluZ0lzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICBqUXVlcnkodGhpcykuaGlkZSgpO1xuICAgICAgICAgICAgalF1ZXJ5KCcuc2NyZWVuc2hvdC1jcm9wLWNhbmNlbCcpLmhpZGUoKTtcbiAgICAgICAgICAgIG15VGhpcy5zZXRDYW52YXNPYmplY3RzTW92ZW1lbnQoZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB0cmFuc2Zvcm1DbGlja1BvaW50VG9Db29yZGluYXRlcyhjbGlja1BvaW50OklQb2ludCk6SVBvaW50IHtcbiAgICAgICAgdmFyIGludmVydGVkTWF0cml4ID0gZmFicmljLnV0aWwuaW52ZXJ0VHJhbnNmb3JtKHRoaXMuZmFicmljQ2FudmFzLnZpZXdwb3J0VHJhbnNmb3JtKTtcbiAgICAgICAgcmV0dXJuIGZhYnJpYy51dGlsLnRyYW5zZm9ybVBvaW50KGNsaWNrUG9pbnQsIGludmVydGVkTWF0cml4KTtcbiAgICB9XG5cbiAgICB0cmFuc2Zvcm1Db29yZGluYXRlc1RvQ2xpY2tQb2ludChjb29yZGluYXRlczpJUG9pbnQpOklQb2ludCB7XG4gICAgICAgIHJldHVybiBmYWJyaWMudXRpbC50cmFuc2Zvcm1Qb2ludChjb29yZGluYXRlcywgdGhpcy5mYWJyaWNDYW52YXMudmlld3BvcnRUcmFuc2Zvcm0pO1xuICAgIH1cblxuICAgIGNhbmNlbENyb3BwaW5nKCkge1xuICAgICAgICB0aGlzLmNyb3BwaW5nSXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuZmluZCgnLnNjcmVlbnNob3QtY3JvcC1jYW5jZWwnKS5oaWRlKCk7XG4gICAgICAgIGpRdWVyeSgnLnNjcmVlbnNob3QtY3JvcC1jb25maXJtJykuaGlkZSgpO1xuICAgICAgICBpZih0aGlzLmNyb3BwaW5nUmVjdCkge1xuICAgICAgICAgICAgdGhpcy5jcm9wcGluZ1JlY3QucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZXRDYW52YXNPYmplY3RzTW92ZW1lbnQoZmFsc2UpO1xuICAgIH1cblxuICAgIGNyb3BUaGVDYW52YXMoY3JvcHBpbmdSZWN0KSB7XG4gICAgICAgIGxldCBjYW52YXMgPSB0aGlzLmZhYnJpY0NhbnZhcztcbiAgICAgICAgbGV0IG9sZFpvb20gPSBjYW52YXMuZ2V0Wm9vbSgpO1xuICAgICAgICAvLyByZXNldCB6b29tIHRlbXBvcmFyaWx5IHRvIDEgYXMgaXQgc2ltcGxpZmllcyB0aGUgY2FsY3VsYXRpb24gYSBsb3RcbiAgICAgICAgY2FudmFzLnNldFpvb20oMSk7XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIuZmluZCgnLnNjcmVlbnNob3QtZHJhdy11bmRvJykuc2hvdygpO1xuXG4gICAgICAgIC8vIENyb3BwaW5nIGNhbnZhcyBhY2NvcmRpbmcgdG8gY3JvcHBlciByZWN0YW5nbGVcbiAgICAgICAgbGV0IGNyb3BwZWRUb3AgPSBjcm9wcGluZ1JlY3QudG9wICsgMTtcbiAgICAgICAgbGV0IGNyb3BwZWRMZWZ0ID0gY3JvcHBpbmdSZWN0LmxlZnQgKyAxO1xuICAgICAgICBsZXQgY3JvcHBXaWR0aCA9IGNyb3BwaW5nUmVjdC53aWR0aCAtIDI7XG4gICAgICAgIGxldCBjcm9wcEhlaWdodCA9IGNyb3BwaW5nUmVjdC5oZWlnaHQgLSAyO1xuXG4gICAgICAgIGxldCByZXZlcnNlVHJhbnNmb3JtZWRQb2ludDpJUG9pbnQgPSB0aGlzLnRyYW5zZm9ybUNvb3JkaW5hdGVzVG9DbGlja1BvaW50KG5ldyBmYWJyaWMuUG9pbnQoY3JvcHBlZExlZnQsIGNyb3BwZWRUb3ApKTtcbiAgICAgICAgY3JvcHBlZFRvcCA9IHJldmVyc2VUcmFuc2Zvcm1lZFBvaW50Lnk7XG4gICAgICAgIGNyb3BwZWRMZWZ0ID0gcmV2ZXJzZVRyYW5zZm9ybWVkUG9pbnQueDtcblxuICAgICAgICBjcm9wcGluZ1JlY3QucmVtb3ZlKCk7XG4gICAgICAgIGNhbnZhcy5yZW5kZXJBbGwuYmluZChjYW52YXMpO1xuXG4gICAgICAgIHZhciBmYWN0b3IgPSBNYXRoLm1pbihjYW52YXMuZ2V0V2lkdGgoKSAvIGNyb3BwV2lkdGgsIGNhbnZhcy5nZXRIZWlnaHQoKSAvIGNyb3BwSGVpZ2h0KTtcbiAgICAgICAgdGhpcy51cGRhdGVDYW52YXNTdGF0ZShjcm9wcGVkVG9wLCBjcm9wcGVkTGVmdCwgY2FudmFzLmdldFpvb20oKSk7XG5cbiAgICAgICAgdmFyIGZhY3RvclggPSBjYW52YXMuZ2V0V2lkdGgoKSAvIGNyb3BwV2lkdGg7XG4gICAgICAgIHZhciBmYWN0b3JZID0gY2FudmFzLmdldEhlaWdodCgpIC8gY3JvcHBIZWlnaHQ7XG5cbiAgICAgICAgLy8gU2hpZnRpbmcgdGhlIGVsZW1lbnRzIGFjY29yZGluZ2x5XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2FudmFzLmdldE9iamVjdHMoKS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYoY2FudmFzLmdldE9iamVjdHMoKVtpXS50eXBlID09PSAnaW1hZ2UnKSB7XG4gICAgICAgICAgICAgICAgY2FudmFzLmdldE9iamVjdHMoKVtpXS5sZWZ0ID0gY2FudmFzLmdldE9iamVjdHMoKVtpXS5sZWZ0ICogZmFjdG9yWCAtIGNyb3BwZWRMZWZ0O1xuICAgICAgICAgICAgICAgIGNhbnZhcy5nZXRPYmplY3RzKClbaV0udG9wID0gY2FudmFzLmdldE9iamVjdHMoKVtpXS50b3AgKiBmYWN0b3JZIC0gY3JvcHBlZFRvcDtcbiAgICAgICAgICAgICAgICBjYW52YXMuZ2V0T2JqZWN0cygpW2ldLnNldENvb3JkcygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYW52YXMuZ2V0T2JqZWN0cygpW2ldLmxlZnQgPSBjYW52YXMuZ2V0T2JqZWN0cygpW2ldLmxlZnQgLSBjcm9wcGVkTGVmdDtcbiAgICAgICAgICAgICAgICBjYW52YXMuZ2V0T2JqZWN0cygpW2ldLnRvcCA9IGNhbnZhcy5nZXRPYmplY3RzKClbaV0udG9wIC0gY3JvcHBlZFRvcDtcbiAgICAgICAgICAgICAgICBjYW52YXMuZ2V0T2JqZWN0cygpW2ldLnNldENvb3JkcygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY2FudmFzLnNldFdpZHRoKGNyb3BwV2lkdGggKiBmYWN0b3IgLSAxKTtcbiAgICAgICAgY2FudmFzLnNldEhlaWdodChjcm9wcEhlaWdodCAqIGZhY3RvciAtIDEpO1xuICAgICAgICBjYW52YXMuc2V0Wm9vbShvbGRab29tKTtcbiAgICAgICAgY2FudmFzLnNldFpvb20oZmFjdG9yKTtcbiAgICAgICAgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcyk7XG4gICAgfVxuXG4gICAgYWRkVGV4dEFubm90YXRpb24obGVmdCwgdG9wKSB7XG4gICAgICAgIHZhciB0ZXh0ID0gbmV3IGZhYnJpYy5JVGV4dCgnWW91ciB0ZXh0Jywge1xuICAgICAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgICAgIHRvcDogdG9wLFxuICAgICAgICAgICAgZm9udEZhbWlseTogJ2FyaWFsJyxcbiAgICAgICAgICAgIGZvbnRTaXplOiBkZWZhdWx0Rm9udFNpemVcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZmFicmljQ2FudmFzLmFkZCh0ZXh0KTtcbiAgICAgICAgdGhpcy5mYWJyaWNDYW52YXMuc2V0QWN0aXZlT2JqZWN0KHRleHQpO1xuICAgICAgICB0ZXh0LmVudGVyRWRpdGluZygpO1xuICAgICAgICB0ZXh0LmhpZGRlblRleHRhcmVhLmZvY3VzKCk7XG4gICAgICAgIHRleHQuc2VsZWN0QWxsKCk7XG4gICAgfVxuXG4gICAgaW5pdEZyZWVoYW5kRHJhd2luZygpIHtcbiAgICAgICAgdmFyIG15VGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjdXJyZW50RnJlZWhhbmREcmF3aW5nQ29sb3IgPSBcIiMwMDAwMDBcIjtcbiAgICAgICAgdmFyIGZyZWVoYW5kQ29udHJvbHMgPSBqUXVlcnkoJy5mcmVlaGFuZC1jb250cm9scycpO1xuICAgICAgICBmcmVlaGFuZENvbnRyb2xzLmhpZGUoKTtcblxuICAgICAgICBteVRoaXMuZmFicmljQ2FudmFzLmZyZWVEcmF3aW5nQnJ1c2gud2lkdGggPSA2O1xuXG4gICAgICAgIGZyZWVoYW5kQ29udHJvbHMuZmluZCgnYS5mcmVlaGFuZC1jb2xvcicpLmNzcygnY29sb3InLCBjdXJyZW50RnJlZWhhbmREcmF3aW5nQ29sb3IpO1xuICAgICAgICBmcmVlaGFuZENvbnRyb2xzLmZpbmQoJ2EuZnJlZWhhbmQtY29sb3InKS5vZmYoKS5zcGVjdHJ1bSh7XG4gICAgICAgICAgICBjb2xvcjogZGVmYXVsdENvbG9yLFxuICAgICAgICAgICAgY29udGFpbmVyQ2xhc3NOYW1lOiBteVRoaXMuY29sb3JQaWNrZXJDU1NDbGFzcyxcbiAgICAgICAgICAgIHNob3dQYWxldHRlT25seTogdHJ1ZSxcbiAgICAgICAgICAgIHRvZ2dsZVBhbGV0dGVPbmx5OiB0cnVlLFxuICAgICAgICAgICAgdG9nZ2xlUGFsZXR0ZU1vcmVUZXh0OiAnbW9yZScsXG4gICAgICAgICAgICB0b2dnbGVQYWxldHRlTGVzc1RleHQ6ICdsZXNzJyxcbiAgICAgICAgICAgIHBhbGV0dGU6IFtcbiAgICAgICAgICAgICAgICBbXCIjMDAwXCIsIFwiIzQ0NFwiLCBcIiM2NjZcIiwgXCIjOTk5XCIsIFwiI2NjY1wiLCBcIiNlZWVcIiwgXCIjZjNmM2YzXCIsIFwiI2ZmZlwiXSxcbiAgICAgICAgICAgICAgICBbXCIjZjAwXCIsIFwiI2Y5MFwiLCBcIiNmZjBcIiwgXCIjMGYwXCIsIFwiIzBmZlwiLCBcIiMwMGZcIiwgXCIjOTBmXCIsIFwiI2YwZlwiXSxcbiAgICAgICAgICAgICAgICBbXCIjZjRjY2NjXCIsIFwiI2ZjZTVjZFwiLCBcIiNmZmYyY2NcIiwgXCIjZDllYWQzXCIsIFwiI2QwZTBlM1wiLCBcIiNjZmUyZjNcIiwgXCIjZDlkMmU5XCIsIFwiI2VhZDFkY1wiXSxcbiAgICAgICAgICAgICAgICBbXCIjZWE5OTk5XCIsIFwiI2Y5Y2I5Y1wiLCBcIiNmZmU1OTlcIiwgXCIjYjZkN2E4XCIsIFwiI2EyYzRjOVwiLCBcIiM5ZmM1ZThcIiwgXCIjYjRhN2Q2XCIsIFwiI2Q1YTZiZFwiXSxcbiAgICAgICAgICAgICAgICBbXCIjZTA2NjY2XCIsIFwiI2Y2YjI2YlwiLCBcIiNmZmQ5NjZcIiwgXCIjOTNjNDdkXCIsIFwiIzc2YTVhZlwiLCBcIiM2ZmE4ZGNcIiwgXCIjOGU3Y2MzXCIsIFwiI2MyN2JhMFwiXSxcbiAgICAgICAgICAgICAgICBbXCIjYzAwXCIsIFwiI2U2OTEzOFwiLCBcIiNmMWMyMzJcIiwgXCIjNmFhODRmXCIsIFwiIzQ1ODE4ZVwiLCBcIiMzZDg1YzZcIiwgXCIjNjc0ZWE3XCIsIFwiI2E2NGQ3OVwiXSxcbiAgICAgICAgICAgICAgICBbXCIjOTAwXCIsIFwiI2I0NWYwNlwiLCBcIiNiZjkwMDBcIiwgXCIjMzg3NjFkXCIsIFwiIzEzNGY1Y1wiLCBcIiMwYjUzOTRcIiwgXCIjMzUxYzc1XCIsIFwiIzc0MWI0N1wiXSxcbiAgICAgICAgICAgICAgICBbXCIjNjAwXCIsIFwiIzc4M2YwNFwiLCBcIiM3ZjYwMDBcIiwgXCIjMjc0ZTEzXCIsIFwiIzBjMzQzZFwiLCBcIiMwNzM3NjNcIiwgXCIjMjAxMjRkXCIsIFwiIzRjMTEzMFwiXVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgIGNoYW5nZTogZnVuY3Rpb24gKGNvbG9yKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbG9yID0gY29sb3IudG9IZXhTdHJpbmcoKTtcbiAgICAgICAgICAgICAgICBqUXVlcnkodGhpcykuY3NzKCdjb2xvcicsIGNvbG9yKTtcbiAgICAgICAgICAgICAgICBteVRoaXMuZmFicmljQ2FudmFzLmZyZWVEcmF3aW5nQnJ1c2guY29sb3IgPSBjb2xvcjtcbiAgICAgICAgICAgICAgICBteVRoaXMuZmFicmljQ2FudmFzLnJlbmRlckFsbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBqUXVlcnkoJy5zY3JlZW5zaG90LW9wZXJhdGlvbnMgLmZyZWVoYW5kJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKG15VGhpcy5mYWJyaWNDYW52YXMuaXNEcmF3aW5nTW9kZSkge1xuICAgICAgICAgICAgICAgIG15VGhpcy5kaXNhYmxlRnJlZWhhbmREcmF3aW5nKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG15VGhpcy5lbmFibGVGcmVlaGFuZERyYXdpbmcoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZW5hYmxlRnJlZWhhbmREcmF3aW5nKCkge1xuICAgICAgICB0aGlzLmNhbmNlbENyb3BwaW5nKCk7XG4gICAgICAgIHRoaXMuZGlzYWJsZUN1cnJlbnRPYmplY3RJblRvb2xiYXIoKTtcbiAgICAgICAgdmFyIGZyZWVoYW5kQ29udHJvbHMgPSBqUXVlcnkoJy5mcmVlaGFuZC1jb250cm9scycpO1xuICAgICAgICB0aGlzLmZhYnJpY0NhbnZhcy5pc0RyYXdpbmdNb2RlID0gdHJ1ZTtcbiAgICAgICAgalF1ZXJ5KCcuc2NyZWVuc2hvdC1vcGVyYXRpb25zIC5mcmVlaGFuZCcpLmNzcygnYm9yZGVyLWJvdHRvbScsICcycHggc29saWQgYmxhY2snKTtcbiAgICAgICAgZnJlZWhhbmRDb250cm9scy5zaG93KCk7XG4gICAgICAgIHRoaXMuZnJlZWhhbmRBY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLmJsb2NrUGFubmluZyA9IHRydWU7XG4gICAgfVxuXG4gICAgZGlzYWJsZUZyZWVoYW5kRHJhd2luZygpIHtcbiAgICAgICAgdmFyIGZyZWVoYW5kQ29udHJvbHMgPSBqUXVlcnkoJy5mcmVlaGFuZC1jb250cm9scycpO1xuICAgICAgICBqUXVlcnkoJy5zY3JlZW5zaG90LW9wZXJhdGlvbnMgLmZyZWVoYW5kJykuY3NzKCdib3JkZXItYm90dG9tJywgJ25vbmUnKTtcbiAgICAgICAgdGhpcy5mYWJyaWNDYW52YXMuaXNEcmF3aW5nTW9kZSA9IGZhbHNlO1xuICAgICAgICBmcmVlaGFuZENvbnRyb2xzLmhpZGUoKTtcbiAgICAgICAgdGhpcy5mcmVlaGFuZEFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLmJsb2NrUGFubmluZyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGRpc2FibGVDdXJyZW50T2JqZWN0SW5Ub29sYmFyKCkge1xuICAgICAgICBpZih0aGlzLmN1cnJlbnRPYmplY3RJblRvb2xiYXIpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudE9iamVjdEluVG9vbGJhci5jc3MoJ2JvcmRlci1ib3R0b20nLCAnbm9uZScpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50T2JqZWN0SW5Ub29sYmFyID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGluaXRTdGlja2VycygpIHtcbiAgICAgICAgdmFyIG15VGhpcyA9IHRoaXM7XG5cbiAgICAgICAgbXlUaGlzLmNvbnRhaW5lci5maW5kKCcuc3RpY2tlci1zb3VyY2UnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIG15VGhpcy5kaXNhYmxlRnJlZWhhbmREcmF3aW5nKCk7XG4gICAgICAgICAgICBteVRoaXMuY2FuY2VsQ3JvcHBpbmcoKTtcbiAgICAgICAgICAgIGlmKG15VGhpcy5jdXJyZW50T2JqZWN0SW5Ub29sYmFyKSB7XG4gICAgICAgICAgICAgICAgbXlUaGlzLmN1cnJlbnRPYmplY3RJblRvb2xiYXIuY3NzKCdib3JkZXItYm90dG9tJywgJ25vbmUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKG15VGhpcy5jdXJyZW50T2JqZWN0SW5Ub29sYmFyICE9PSBudWxsICYmIG15VGhpcy5jdXJyZW50T2JqZWN0SW5Ub29sYmFyLmF0dHIoJ2lkJykgPT09IGpRdWVyeSh0aGlzKS5hdHRyKCdpZCcpKSB7XG4gICAgICAgICAgICAgICAgbXlUaGlzLmN1cnJlbnRPYmplY3RJblRvb2xiYXIgPSBudWxsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBteVRoaXMuY3VycmVudE9iamVjdEluVG9vbGJhciA9IGpRdWVyeSh0aGlzKTtcbiAgICAgICAgICAgICAgICBqUXVlcnkodGhpcykuY3NzKCdib3JkZXItYm90dG9tJywgJzJweCBzb2xpZCBibGFjaycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbXlUaGlzLnNjcmVlbnNob3RQcmV2aWV3RWxlbWVudC5vbignY2xpY2snLCBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICBpZihteVRoaXMuY3VycmVudE9iamVjdEluVG9vbGJhciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHZhciBzdGlja2VyID0gbXlUaGlzLmN1cnJlbnRPYmplY3RJblRvb2xiYXI7XG5cbiAgICAgICAgICAgICAgIHZhciBwID0ge3g6IGV2ZW50LnBhZ2VYIC0gJCh0aGlzKS5vZmZzZXQoKS5sZWZ0LCB5OiBldmVudC5wYWdlWSAtICQodGhpcykub2Zmc2V0KCkudG9wfTtcbiAgICAgICAgICAgICAgIHZhciBpbnZlcnRlZE1hdHJpeCA9IGZhYnJpYy51dGlsLmludmVydFRyYW5zZm9ybShteVRoaXMuZmFicmljQ2FudmFzLnZpZXdwb3J0VHJhbnNmb3JtKTtcbiAgICAgICAgICAgICAgIHZhciB0cmFuc2Zvcm1lZFAgPSBmYWJyaWMudXRpbC50cmFuc2Zvcm1Qb2ludChwLCBpbnZlcnRlZE1hdHJpeCk7XG5cbiAgICAgICAgICAgICAgIHZhciBvZmZzZXRYID0gdHJhbnNmb3JtZWRQLng7XG4gICAgICAgICAgICAgICB2YXIgb2Zmc2V0WSA9IHRyYW5zZm9ybWVkUC55O1xuXG4gICAgICAgICAgICAgICBpZiAoc3RpY2tlci5oYXNDbGFzcygndGV4dCcpKSB7XG4gICAgICAgICAgICAgICAgICAgbXlUaGlzLmFkZFRleHRBbm5vdGF0aW9uKG9mZnNldFgsIG9mZnNldFkpO1xuICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGlja2VyLmhhc0NsYXNzKCdzdmctc3RpY2tlci1zb3VyY2UnKSkge1xuICAgICAgICAgICAgICAgICAgIGZhYnJpYy5sb2FkU1ZHRnJvbVVSTChzdGlja2VyLmF0dHIoJ3NyYycpLCBmdW5jdGlvbiAob2JqZWN0cywgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICB2YXIgc3ZnT2JqZWN0ID0gZmFicmljLnV0aWwuZ3JvdXBTVkdFbGVtZW50cyhvYmplY3RzLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgc3ZnT2JqZWN0LnNldCgnbGVmdCcsIG9mZnNldFgpO1xuICAgICAgICAgICAgICAgICAgICAgICBzdmdPYmplY3Quc2V0KCd0b3AnLCBvZmZzZXRZKTtcbiAgICAgICAgICAgICAgICAgICAgICAgc3ZnT2JqZWN0LnNldCgnaGFzQm9yZGVycycsIG15VGhpcy5oYXNCb3JkZXJzQW5kQ29udHJvbHMpO1xuICAgICAgICAgICAgICAgICAgICAgICBzdmdPYmplY3Quc2V0KCdoYXNDb250cm9scycsIG15VGhpcy5oYXNCb3JkZXJzQW5kQ29udHJvbHMpO1xuICAgICAgICAgICAgICAgICAgICAgICBzdmdPYmplY3Quc2NhbGUoMyk7XG4gICAgICAgICAgICAgICAgICAgICAgIG15VGhpcy5mYWJyaWNDYW52YXMuYWRkKHN2Z09iamVjdCkucmVuZGVyQWxsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgIG15VGhpcy5mYWJyaWNDYW52YXMuc2V0QWN0aXZlT2JqZWN0KHN2Z09iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0aWNrZXIuaGFzQ2xhc3MoJ29iamVjdC1zb3VyY2UnKSkge1xuICAgICAgICAgICAgICAgICAgIGlmIChzdGlja2VyLmhhc0NsYXNzKCdhcnJvdycpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgIG15VGhpcy5hZGRBcnJvd1RvQ2FudmFzKG9mZnNldFgsIG9mZnNldFkpO1xuICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RpY2tlci5oYXNDbGFzcygncmVjdCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgIHZhciByZWN0ID0gbmV3IGZhYnJpYy5SZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IG9mZnNldFgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IG9mZnNldFksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogNTAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDUwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQm9yZGVyczogbXlUaGlzLmhhc0JvcmRlcnNBbmRDb250cm9scyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0NvbnRyb2xzOiBteVRoaXMuaGFzQm9yZGVyc0FuZENvbnRyb2xzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZhYnJpY09iamVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U6IGRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiBteVRoaXMuZGVmYXVsdFN0cm9rZVdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9ja1VuaVNjYWxpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogJ3RyYW5zcGFyZW50J1xuICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgbXlUaGlzLmZhYnJpY0NhbnZhcy5hZGQocmVjdCkucmVuZGVyQWxsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgIG15VGhpcy5mYWJyaWNDYW52YXMuc2V0QWN0aXZlT2JqZWN0KHJlY3QpO1xuICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RpY2tlci5oYXNDbGFzcygnZmlsbFJlY3QnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVjdCA9IG5ldyBmYWJyaWMuUmVjdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBvZmZzZXRYLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBvZmZzZXRZLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDUwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiA1MCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0JvcmRlcnM6IG15VGhpcy5oYXNCb3JkZXJzQW5kQ29udHJvbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNDb250cm9sczogbXlUaGlzLmhhc0JvcmRlcnNBbmRDb250cm9scyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmaWxsUmVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U6IGRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiBteVRoaXMuZGVmYXVsdFN0cm9rZVdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9ja1VuaVNjYWxpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogZGVmYXVsdENvbG9yXG4gICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICBteVRoaXMuZmFicmljQ2FudmFzLmFkZChyZWN0KS5yZW5kZXJBbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgbXlUaGlzLmZhYnJpY0NhbnZhcy5zZXRBY3RpdmVPYmplY3QocmVjdCk7XG4gICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGlja2VyLmhhc0NsYXNzKCdjaXJjbGUnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2lyY2xlID0gbmV3IGZhYnJpYy5DaXJjbGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogb2Zmc2V0WCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogb2Zmc2V0WSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhZGl1czogNTAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNCb3JkZXJzOiBteVRoaXMuaGFzQm9yZGVyc0FuZENvbnRyb2xzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ29udHJvbHM6IG15VGhpcy5oYXNCb3JkZXJzQW5kQ29udHJvbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydEFuZ2xlOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZhYnJpY09iamVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRBbmdsZTogMiAqIE1hdGguUEksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJva2U6IGRlZmF1bHRDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiBteVRoaXMuZGVmYXVsdFN0cm9rZVdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogJ3RyYW5zcGFyZW50J1xuICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgbXlUaGlzLmZhYnJpY0NhbnZhcy5hZGQoY2lyY2xlKS5yZW5kZXJBbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgbXlUaGlzLmZhYnJpY0NhbnZhcy5zZXRBY3RpdmVPYmplY3QoY2lyY2xlKTtcbiAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICBteVRoaXMuY3VycmVudE9iamVjdEluVG9vbGJhci5jc3MoJ2JvcmRlci1ib3R0b20nLCAnbm9uZScpO1xuICAgICAgICAgICAgICAgbXlUaGlzLmN1cnJlbnRPYmplY3RJblRvb2xiYXIgPSBudWxsO1xuICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG5cbiAgICAgICAgbXlUaGlzLmNvbnRhaW5lci5maW5kKCcuc3RpY2tlci1zb3VyY2UnKS5kcmFnZ2FibGUoe1xuICAgICAgICAgICAgY3Vyc29yOiBcImNyb3NzaGFpclwiLFxuICAgICAgICAgICAgcmV2ZXJ0OiBcImludmFsaWRcIixcbiAgICAgICAgICAgIGhlbHBlcjogXCJjbG9uZVwiLFxuICAgICAgICAgICAgekluZGV4OiA1MDAwLFxuICAgICAgICAgICAgZHJhZzogZnVuY3Rpb24gKGV2ZW50OkV2ZW50LCB1aSkge1xuICAgICAgICAgICAgICAgIG15VGhpcy5kaXNhYmxlRnJlZWhhbmREcmF3aW5nKCk7XG4gICAgICAgICAgICAgICAgbXlUaGlzLnNjcmVlbnNob3RQcmV2aWV3RWxlbWVudC5jc3MoJ2JvcmRlci1zdHlsZScsICdkYXNoZWQnKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdG9wOiBmdW5jdGlvbiAoZXZlbnQ6RHJhZ0V2ZW50LCB1aSkge1xuICAgICAgICAgICAgICAgIG15VGhpcy5zY3JlZW5zaG90UHJldmlld0VsZW1lbnQuY3NzKCdib3JkZXItc3R5bGUnLCAnc29saWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSkub24oJ21vdXNlb3ZlciBtb3VzZWVudGVyJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbXlUaGlzLnNjcmVlbnNob3RQcmV2aWV3RWxlbWVudC5jc3MoJ2JvcmRlci1zdHlsZScsICdkYXNoZWQnKTtcbiAgICAgICAgfSkub24oJ21vdXNlbGVhdmUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBteVRoaXMuc2NyZWVuc2hvdFByZXZpZXdFbGVtZW50LmNzcygnYm9yZGVyLXN0eWxlJywgJ3NvbGlkJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG15VGhpcy5zY3JlZW5zaG90UHJldmlld0VsZW1lbnQuZHJvcHBhYmxlKHtcbiAgICAgICAgICAgIGRyb3A6IGZ1bmN0aW9uIChldmVudDpEcmFnRXZlbnQsIHVpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN0aWNrZXIgPSAkKHVpLmhlbHBlcik7XG5cbiAgICAgICAgICAgICAgICB2YXIgcCA9IHt4OiBldmVudC5wYWdlWCAtICQodGhpcykub2Zmc2V0KCkubGVmdCwgeTogZXZlbnQucGFnZVkgLSAkKHRoaXMpLm9mZnNldCgpLnRvcH07XG4gICAgICAgICAgICAgICAgdmFyIGludmVydGVkTWF0cml4ID0gZmFicmljLnV0aWwuaW52ZXJ0VHJhbnNmb3JtKG15VGhpcy5mYWJyaWNDYW52YXMudmlld3BvcnRUcmFuc2Zvcm0pO1xuICAgICAgICAgICAgICAgIHZhciB0cmFuc2Zvcm1lZFAgPSBmYWJyaWMudXRpbC50cmFuc2Zvcm1Qb2ludChwLCBpbnZlcnRlZE1hdHJpeCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgb2Zmc2V0WCA9IHRyYW5zZm9ybWVkUC54O1xuICAgICAgICAgICAgICAgIHZhciBvZmZzZXRZID0gdHJhbnNmb3JtZWRQLnk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3RpY2tlci5oYXNDbGFzcygndGV4dCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIG15VGhpcy5hZGRUZXh0QW5ub3RhdGlvbihvZmZzZXRYLCBvZmZzZXRZKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0aWNrZXIuaGFzQ2xhc3MoJ3N2Zy1zdGlja2VyLXNvdXJjZScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZhYnJpYy5sb2FkU1ZHRnJvbVVSTChzdGlja2VyLmF0dHIoJ3NyYycpLCBmdW5jdGlvbiAob2JqZWN0cywgb3B0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN2Z09iamVjdCA9IGZhYnJpYy51dGlsLmdyb3VwU1ZHRWxlbWVudHMob2JqZWN0cywgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdmdPYmplY3Quc2V0KCdsZWZ0Jywgb2Zmc2V0WCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdmdPYmplY3Quc2V0KCd0b3AnLCBvZmZzZXRZKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN2Z09iamVjdC5zZXQoJ2hhc0JvcmRlcnMnLCBteVRoaXMuaGFzQm9yZGVyc0FuZENvbnRyb2xzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN2Z09iamVjdC5zZXQoJ2hhc0NvbnRyb2xzJywgbXlUaGlzLmhhc0JvcmRlcnNBbmRDb250cm9scyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdmdPYmplY3Quc2NhbGUoMyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBteVRoaXMuZmFicmljQ2FudmFzLmFkZChzdmdPYmplY3QpLnJlbmRlckFsbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbXlUaGlzLmZhYnJpY0NhbnZhcy5zZXRBY3RpdmVPYmplY3Qoc3ZnT2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGlja2VyLmhhc0NsYXNzKCdvYmplY3Qtc291cmNlJykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0aWNrZXIuaGFzQ2xhc3MoJ2Fycm93JykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG15VGhpcy5hZGRBcnJvd1RvQ2FudmFzKG9mZnNldFgsIG9mZnNldFkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHN0aWNrZXIuaGFzQ2xhc3MoJ3JlY3QnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlY3QgPSBuZXcgZmFicmljLlJlY3Qoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6IG9mZnNldFgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBvZmZzZXRZLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiA1MCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IDUwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0JvcmRlcnM6IG15VGhpcy5oYXNCb3JkZXJzQW5kQ29udHJvbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ29udHJvbHM6IG15VGhpcy5oYXNCb3JkZXJzQW5kQ29udHJvbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ZhYnJpY09iamVjdCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiBkZWZhdWx0Q29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IG15VGhpcy5kZWZhdWx0U3Ryb2tlV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9ja1VuaVNjYWxpbmc6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw6ICd0cmFuc3BhcmVudCdcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbXlUaGlzLmZhYnJpY0NhbnZhcy5hZGQocmVjdCkucmVuZGVyQWxsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBteVRoaXMuZmFicmljQ2FudmFzLnNldEFjdGl2ZU9iamVjdChyZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGlja2VyLmhhc0NsYXNzKCdmaWxsUmVjdCcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcmVjdCA9IG5ldyBmYWJyaWMuUmVjdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogb2Zmc2V0WCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IG9mZnNldFksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDUwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogNTAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQm9yZGVyczogbXlUaGlzLmhhc0JvcmRlcnNBbmRDb250cm9scyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNDb250cm9sczogbXlUaGlzLmhhc0JvcmRlcnNBbmRDb250cm9scyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZmlsbFJlY3QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZTogZGVmYXVsdENvbG9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cm9rZVdpZHRoOiBteVRoaXMuZGVmYXVsdFN0cm9rZVdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvY2tVbmlTY2FsaW5nOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsOiBkZWZhdWx0Q29sb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgbXlUaGlzLmZhYnJpY0NhbnZhcy5hZGQocmVjdCkucmVuZGVyQWxsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBteVRoaXMuZmFicmljQ2FudmFzLnNldEFjdGl2ZU9iamVjdChyZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzdGlja2VyLmhhc0NsYXNzKCdjaXJjbGUnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNpcmNsZSA9IG5ldyBmYWJyaWMuQ2lyY2xlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBvZmZzZXRYLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogb2Zmc2V0WSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWRpdXM6IDUwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhhc0JvcmRlcnM6IG15VGhpcy5oYXNCb3JkZXJzQW5kQ29udHJvbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzQ29udHJvbHM6IG15VGhpcy5oYXNCb3JkZXJzQW5kQ29udHJvbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnRBbmdsZTogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZmFicmljT2JqZWN0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbmRBbmdsZTogMiAqIE1hdGguUEksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlOiBkZWZhdWx0Q29sb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IG15VGhpcy5kZWZhdWx0U3Ryb2tlV2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbDogJ3RyYW5zcGFyZW50J1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBteVRoaXMuZmFicmljQ2FudmFzLmFkZChjaXJjbGUpLnJlbmRlckFsbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbXlUaGlzLmZhYnJpY0NhbnZhcy5zZXRBY3RpdmVPYmplY3QoY2lyY2xlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0U2NyZWVuc2hvdEFzQmluYXJ5KCkge1xuICAgICAgICBpZiAodGhpcy5zY3JlZW5zaG90Q2FudmFzKSB7XG4gICAgICAgICAgICB2YXIgZGF0YVVSTCA9IHRoaXMuc2NyZWVuc2hvdENhbnZhcy50b0RhdGFVUkwoXCJpbWFnZS9wbmdcIik7XG4gICAgICAgICAgICByZXR1cm4gRGF0YUhlbHBlci5kYXRhVVJJdG9CbG9iKGRhdGFVUkwpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRDYXB0dXJlRXZlbnRUb0J1dHRvbigpIHtcbiAgICAgICAgdmFyIG15VGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuc2NyZWVuc2hvdENhcHR1cmVCdXR0b24ub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBteVRoaXMuZ2VuZXJhdGVTY3JlZW5zaG90KCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGhpZGVFbGVtZW50cygpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudHNUb0hpZGUgIT0gbnVsbCkge1xuICAgICAgICAgICAgZm9yICh2YXIgZWxlbWVudFRvSGlkZSBvZiB0aGlzLmVsZW1lbnRzVG9IaWRlKSB7XG4gICAgICAgICAgICAgICAgalF1ZXJ5KCcnICsgZWxlbWVudFRvSGlkZSkuaGlkZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2hvd0VsZW1lbnRzKCkge1xuICAgICAgICBpZiAodGhpcy5lbGVtZW50c1RvSGlkZSAhPSBudWxsKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBlbGVtZW50VG9IaWRlIG9mIHRoaXMuZWxlbWVudHNUb0hpZGUpIHtcbiAgICAgICAgICAgICAgICBqUXVlcnkoJycgKyBlbGVtZW50VG9IaWRlKS5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRGZWVkYmFjaygpOiBTY3JlZW5zaG90RmVlZGJhY2sge1xuICAgICAgICByZXR1cm4gbmV3IFNjcmVlbnNob3RGZWVkYmFjayh0aGlzLmdldFBhcnROYW1lKCksIHRoaXMuc2NyZWVuc2hvdE1lY2hhbmlzbS5pZCwgdGhpcy5nZXRQYXJ0TmFtZSgpLCAncG5nJyk7XG4gICAgfTtcblxuICAgIGdldFBhcnROYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcInNjcmVlbnNob3RcIiArIHRoaXMuc2NyZWVuc2hvdE1lY2hhbmlzbS5pZDtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5zY3JlZW5zaG90UHJldmlld0VsZW1lbnQuaGlkZSgpO1xuICAgICAgICBpZiAodGhpcy5jb250ZXh0KSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRleHQuY2xlYXJSZWN0KDAsIDAsIHRoaXMuY29udGV4dC53aWR0aCwgdGhpcy5jb250ZXh0LmhlaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zY3JlZW5zaG90Q2FudmFzID0gbnVsbDtcbiAgICAgICAgdGhpcy5jYW52YXNTdGF0ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuZmluZCgnLnNjcmVlbnNob3Qtb3BlcmF0aW9ucycpLmhpZGUoKTtcblxuICAgICAgICB0aGlzLmRpc2FibGVBbGxTY3JlZW5zaG90T3BlcmF0aW9ucygpO1xuXG4gICAgICAgIGxldCBzY3JlZW5zaG90Q2FwdHVyZUJ1dHRvbkRlZmF1bHRUZXh0ID0gdGhpcy5zY3JlZW5zaG90Q2FwdHVyZUJ1dHRvbi5kYXRhKCdkZWZhdWx0LXRleHQnKTtcbiAgICAgICAgdGhpcy5zY3JlZW5zaG90Q2FwdHVyZUJ1dHRvbi50ZXh0KHNjcmVlbnNob3RDYXB0dXJlQnV0dG9uRGVmYXVsdFRleHQpO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmZpbmQoJyNzY3JlZW5zaG90TWVjaGFuaXNtJyArIHRoaXMuc2NyZWVuc2hvdE1lY2hhbmlzbS5pZCkucmVtb3ZlQ2xhc3MoJ2RpcnR5Jyk7XG4gICAgfVxuXG4gICAgdXBkYXRlQ2FudmFzU3RhdGUoc2hpZnRUb3A6bnVtYmVyLCBzaGlmdExlZnQ6bnVtYmVyLCB6b29tRmFjdG9yOm51bWJlcikge1xuICAgICAgICB2YXIgY2FudmFzU3RhdGUgPSBuZXcgQ2FudmFzU3RhdGUoSlNPTi5zdHJpbmdpZnkodGhpcy5mYWJyaWNDYW52YXMpLCB0aGlzLmZhYnJpY0NhbnZhcy5nZXRXaWR0aCgpLCB0aGlzLmZhYnJpY0NhbnZhcy5nZXRIZWlnaHQoKSwgc2hpZnRUb3AsIHNoaWZ0TGVmdCwgem9vbUZhY3Rvcik7XG4gICAgICAgIHRoaXMuY2FudmFzU3RhdGVzLnB1c2goY2FudmFzU3RhdGUpO1xuICAgIH1cblxuICAgIHVuZG9PcGVyYXRpb24oKSB7XG4gICAgICAgIGlmICh0aGlzLmNhbnZhc1N0YXRlcy5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG15VGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBjYW52YXMgPSB0aGlzLmZhYnJpY0NhbnZhcztcbiAgICAgICAgY2FudmFzLmNsZWFyKCkucmVuZGVyQWxsKCk7XG5cbiAgICAgICAgdmFyIGNhbnZhc1N0YXRlVG9SZXN0b3JlID0gdGhpcy5jYW52YXNTdGF0ZXMucG9wKCk7XG5cbiAgICAgICAgdGhpcy5mYWJyaWNDYW52YXMuc2V0V2lkdGgoY2FudmFzU3RhdGVUb1Jlc3RvcmUud2lkdGgpO1xuICAgICAgICB0aGlzLmZhYnJpY0NhbnZhcy5zZXRIZWlnaHQoY2FudmFzU3RhdGVUb1Jlc3RvcmUuaGVpZ2h0KTtcbiAgICAgICAgdGhpcy5mYWJyaWNDYW52YXMuc2V0Wm9vbShjYW52YXNTdGF0ZVRvUmVzdG9yZS56b29tRmFjdG9yKTtcblxuICAgICAgICBjYW52YXMubG9hZEZyb21KU09OKGNhbnZhc1N0YXRlVG9SZXN0b3JlLnNyYywgY2FudmFzLnJlbmRlckFsbC5iaW5kKGNhbnZhcyksIGZ1bmN0aW9uIChvLCBvYmplY3QpIHtcbiAgICAgICAgICAgIC8vIHVwZGF0ZSBwYWdlIHNjcmVlbnNob3Qgb2JqZWN0XG4gICAgICAgICAgICBpZiAob2JqZWN0LnR5cGUgPT09ICdpbWFnZScpIHtcbiAgICAgICAgICAgICAgICBvYmplY3Quc2V0KCdzZWxlY3RhYmxlJywgZmFsc2UpO1xuICAgICAgICAgICAgICAgIG9iamVjdC5zZXQoJ2hvdmVyQ3Vyc29yJywgJ2RlZmF1bHQnKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob2JqZWN0LnR5cGUgPT09IGNyb3BwZXJUeXBlT2JqZWN0SWRlbnRpZmllcikge1xuICAgICAgICAgICAgICAgIG9iamVjdC5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG15VGhpcy5jYW52YXNTdGF0ZXMubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgbXlUaGlzLmNvbnRhaW5lci5maW5kKCcuc2NyZWVuc2hvdC1kcmF3LXVuZG8nKS5oaWRlKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpbml0U2NyZWVuc2hvdE9wZXJhdGlvbnMoKSB7XG4gICAgICAgIHZhciBteVRoaXMgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmZpbmQoJy5zY3JlZW5zaG90LWNyb3AnKS5vZmYoKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIG15VGhpcy5mYWJyaWNDYW52YXMuZGVhY3RpdmF0ZUFsbCgpLnJlbmRlckFsbCgpO1xuICAgICAgICAgICAgbXlUaGlzLnNlbGVjdGVkT2JqZWN0Q29udHJvbHMuaGlkZSgpO1xuICAgICAgICAgICAgbXlUaGlzLnNldENhbnZhc09iamVjdHNNb3ZlbWVudCh0cnVlKTtcbiAgICAgICAgICAgIG15VGhpcy5kaXNhYmxlRnJlZWhhbmREcmF3aW5nKCk7XG4gICAgICAgICAgICBteVRoaXMuZGlzYWJsZUN1cnJlbnRPYmplY3RJblRvb2xiYXIoKTtcbiAgICAgICAgICAgIG15VGhpcy5pbml0Q3JvcCgpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmNvbnRhaW5lci5maW5kKCcuc2NyZWVuc2hvdC1kcmF3LXVuZG8nKS5vZmYoKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgIG15VGhpcy51bmRvT3BlcmF0aW9uKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLmZpbmQoJy5zY3JlZW5zaG90LWRyYXctcmVtb3ZlJykub2ZmKCkub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBteVRoaXMucmVzZXQoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5jb250YWluZXIuZmluZCgnLnNjcmVlbnNob3Qtb3BlcmF0aW9ucycpLnNob3coKTtcbiAgICAgICAgdGhpcy5jb250YWluZXIuZmluZCgnLnNjcmVlbnNob3Qtb3BlcmF0aW9uLmRlZmF1bHQtaGlkZGVuJykuaGlkZSgpO1xuICAgIH1cblxuICAgIGRpc2FibGVBbGxTY3JlZW5zaG90T3BlcmF0aW9ucygpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXIuZmluZCgnYnV0dG9uLnNjcmVlbnNob3Qtb3BlcmF0aW9uJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgIH1cblxuICAgIGN1c3RvbWl6ZUNvbnRyb2xzKCkge1xuICAgICAgICB2YXIgbXlUaGlzID0gdGhpcztcbiAgICAgICAgdmFyIGNvbG9yTGlua0VsZW1lbnQgPSBqUXVlcnkoJzxhIGNsYXNzPVwiY29ybmVyLWNvbG9yXCIgaHJlZj1cIiNcIj48aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+Zm9ybWF0X2NvbG9yX2ZpbGw8L2k+PC9hPicpO1xuXG4gICAgICAgIGNvbG9yTGlua0VsZW1lbnQuY3NzKCdwb3NpdGlvbicsICdhYnNvbHV0ZScpO1xuICAgICAgICBjb2xvckxpbmtFbGVtZW50LmNzcygnY29sb3InLCBkZWZhdWx0Q29sb3IpO1xuICAgICAgICBjb2xvckxpbmtFbGVtZW50LmNzcygnd2lkdGgnLCAnMTZweCcpO1xuICAgICAgICBjb2xvckxpbmtFbGVtZW50LmNzcygnaGVpZ2h0JywgJzE2cHgnKTtcbiAgICAgICAgY29sb3JMaW5rRWxlbWVudC5jc3MoJ29wYWNpdHknLCAnMCcpO1xuXG4gICAgICAgIHZhciBzZWxlY3RlZE9iamVjdENvbnRyb2xzID0galF1ZXJ5KCcjc2NyZWVuc2hvdE1lY2hhbmlzbScgKyBteVRoaXMuc2NyZWVuc2hvdE1lY2hhbmlzbS5pZCArICcgLnNlbGVjdGVkLW9iamVjdC1jb250cm9scycpO1xuXG4gICAgICAgIGZhYnJpYy5PYmplY3QucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB0aGlzLnNldCh7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgICAgICAgICBzZWxlY3RhYmxlOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZmFicmljLk9iamVjdC5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0KHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgICAgIHNlbGVjdGFibGU6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZhYnJpYy5DYW52YXMucHJvdG90eXBlLmN1c3RvbWlzZUNvbnRyb2xzKHtcbiAgICAgICAgICAgIG10OiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoZSwgdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZE9iamVjdCA9IHRhcmdldDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0LmdldCgndHlwZScpID09PSAncGF0aC1ncm91cCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHBhdGggb2YgdGFyZ2V0LnBhdGhzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhdGguZ2V0RmlsbCgpICE9IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRPYmplY3RDb2xvciA9IHBhdGguZ2V0RmlsbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0LmdldCgndHlwZScpID09PSAncGF0aCcgfHwgdGFyZ2V0LmdldCgndHlwZScpID09PSAnZmFicmljT2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRPYmplY3RDb2xvciA9IHRhcmdldC5nZXRTdHJva2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0YXJnZXQuZ2V0KCd0eXBlJykgPT09ICdmaWxsUmVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjdXJyZW50T2JqZWN0Q29sb3IgPSB0YXJnZXQuZ2V0RmlsbCgpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnJlbnRPYmplY3RDb2xvciA9IHRhcmdldC5nZXRGaWxsKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjb2xvckxpbmtFbGVtZW50LmNzcygndG9wJywgZS5vZmZzZXRZIC0gMTIgKyAncHgnKTtcbiAgICAgICAgICAgICAgICAgICAgY29sb3JMaW5rRWxlbWVudC5jc3MoJ2xlZnQnLCBlLm9mZnNldFggLSA4ICsgJ3B4Jyk7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yTGlua0VsZW1lbnQub2ZmKCkuc3BlY3RydW0oe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29sb3I6IGN1cnJlbnRPYmplY3RDb2xvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lckNsYXNzTmFtZTogbXlUaGlzLmNvbG9yUGlja2VyQ1NTQ2xhc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaG93UGFsZXR0ZU9ubHk6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2dnbGVQYWxldHRlT25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvZ2dsZVBhbGV0dGVNb3JlVGV4dDogJ21vcmUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9nZ2xlUGFsZXR0ZUxlc3NUZXh0OiAnbGVzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYWxldHRlOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiIzAwMFwiLCBcIiM0NDRcIiwgXCIjNjY2XCIsIFwiIzk5OVwiLCBcIiNjY2NcIiwgXCIjZWVlXCIsIFwiI2YzZjNmM1wiLCBcIiNmZmZcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiI2YwMFwiLCBcIiNmOTBcIiwgXCIjZmYwXCIsIFwiIzBmMFwiLCBcIiMwZmZcIiwgXCIjMDBmXCIsIFwiIzkwZlwiLCBcIiNmMGZcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiI2Y0Y2NjY1wiLCBcIiNmY2U1Y2RcIiwgXCIjZmZmMmNjXCIsIFwiI2Q5ZWFkM1wiLCBcIiNkMGUwZTNcIiwgXCIjY2ZlMmYzXCIsIFwiI2Q5ZDJlOVwiLCBcIiNlYWQxZGNcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiI2VhOTk5OVwiLCBcIiNmOWNiOWNcIiwgXCIjZmZlNTk5XCIsIFwiI2I2ZDdhOFwiLCBcIiNhMmM0YzlcIiwgXCIjOWZjNWU4XCIsIFwiI2I0YTdkNlwiLCBcIiNkNWE2YmRcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiI2UwNjY2NlwiLCBcIiNmNmIyNmJcIiwgXCIjZmZkOTY2XCIsIFwiIzkzYzQ3ZFwiLCBcIiM3NmE1YWZcIiwgXCIjNmZhOGRjXCIsIFwiIzhlN2NjM1wiLCBcIiNjMjdiYTBcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiI2MwMFwiLCBcIiNlNjkxMzhcIiwgXCIjZjFjMjMyXCIsIFwiIzZhYTg0ZlwiLCBcIiM0NTgxOGVcIiwgXCIjM2Q4NWM2XCIsIFwiIzY3NGVhN1wiLCBcIiNhNjRkNzlcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiIzkwMFwiLCBcIiNiNDVmMDZcIiwgXCIjYmY5MDAwXCIsIFwiIzM4NzYxZFwiLCBcIiMxMzRmNWNcIiwgXCIjMGI1Mzk0XCIsIFwiIzM1MWM3NVwiLCBcIiM3NDFiNDdcIl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW1wiIzYwMFwiLCBcIiM3ODNmMDRcIiwgXCIjN2Y2MDAwXCIsIFwiIzI3NGUxM1wiLCBcIiMwYzM0M2RcIiwgXCIjMDczNzYzXCIsIFwiIzIwMTI0ZFwiLCBcIiM0YzExMzBcIl1cbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjaGFuZ2U6IGZ1bmN0aW9uIChjb2xvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xvciA9IGNvbG9yLnRvSGV4U3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHRoaXMpLmNzcygnY29sb3InLCBjb2xvcik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRPYmplY3QuZ2V0KCdjdXN0b21UeXBlJykgPT09ICdhcnJvdycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRPYmplY3Quc2V0RmlsbChjb2xvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LnNldFN0cm9rZShjb2xvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNlbGVjdGVkT2JqZWN0LmxpbmUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRPYmplY3QubGluZS5zZXRGaWxsKGNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LmxpbmUuc2V0U3Ryb2tlKGNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihzZWxlY3RlZE9iamVjdC5hcnJvdyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZE9iamVjdC5hcnJvdy5zZXRGaWxsKGNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LmFycm93LnNldFN0cm9rZShjb2xvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoc2VsZWN0ZWRPYmplY3QuY2lyY2xlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LmNpcmNsZS5zZXRGaWxsKGNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LmNpcmNsZS5zZXRTdHJva2UoY29sb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZWxlY3RlZE9iamVjdC5nZXQoJ3R5cGUnKSA9PT0gJ3BhdGgtZ3JvdXAnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIHBhdGggb2Ygc2VsZWN0ZWRPYmplY3QucGF0aHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXRoLmdldEZpbGwoKSAhPSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aC5zZXRGaWxsKGNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsZWN0ZWRPYmplY3QuZ2V0KCd0eXBlJykgPT09ICdwYXRoJyB8fCBzZWxlY3RlZE9iamVjdC5nZXQoJ3R5cGUnKSA9PT0gJ2ZhYnJpY09iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRPYmplY3Quc2V0U3Ryb2tlKGNvbG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlbGVjdGVkT2JqZWN0LmdldCgndHlwZScpID09PSAnZmlsbFJlY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LnNldFN0cm9rZShjb2xvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LnNldEZpbGwoY29sb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0LnNldEZpbGwoY29sb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkT2JqZWN0Q29udHJvbHMuZmluZCgnYS5jb2xvcicpLmNzcygnY29sb3InLCBjb2xvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXlUaGlzLmZhYnJpY0NhbnZhcy5yZW5kZXJBbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqUXVlcnkodGhpcykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgYmVmb3JlU2hvdzogZnVuY3Rpb24gKGNvbG9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHRoaXMpLnNwZWN0cnVtKFwib3B0aW9uXCIsICdjb2xvcicsIG15VGhpcy5nZXRPYmplY3RDb2xvcih0YXJnZXQpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIG15VGhpcy5zY3JlZW5zaG90UHJldmlld0VsZW1lbnQuYXBwZW5kKGNvbG9yTGlua0VsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICBjb2xvckxpbmtFbGVtZW50LmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBjdXJzb3I6ICdwb2ludGVyJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG1sOiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiBmdW5jdGlvbiAoZSwgdGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmYWJyaWNDYW52YXMgPSBteVRoaXMuZmFicmljQ2FudmFzO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBhY3RpdmVPYmplY3QgPSBmYWJyaWNDYW52YXMuZ2V0QWN0aXZlT2JqZWN0KCksXG4gICAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVHcm91cCA9IGZhYnJpY0NhbnZhcy5nZXRBY3RpdmVHcm91cCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmKHRhcmdldC5jdXN0b21UeXBlID09PSAnYXJyb3cnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWJyaWNDYW52YXMuZGVhY3RpdmF0ZUFsbCgpLnJlbmRlckFsbCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldC5saW5lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQubGluZS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuYXJyb3cgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldC5hcnJvdy5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQuY2lyY2xlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQuY2lyY2xlLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFjdGl2ZUdyb3VwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2JqZWN0c0luR3JvdXAgPSBhY3RpdmVHcm91cC5nZXRPYmplY3RzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBmYWJyaWNDYW52YXMuZGlzY2FyZEFjdGl2ZUdyb3VwKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYmplY3RzSW5Hcm91cC5mb3JFYWNoKGZ1bmN0aW9uIChvYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmYWJyaWNDYW52YXMucmVtb3ZlKG9iamVjdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChhY3RpdmVPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZhYnJpY0NhbnZhcy5yZW1vdmUoYWN0aXZlT2JqZWN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGZhYnJpY0NhbnZhcy5yZW5kZXJBbGwuYmluZChmYWJyaWNDYW52YXMpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgY3Vyc29yOiAncG9pbnRlcidcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgZmFicmljLk9iamVjdC5wcm90b3R5cGUuY3VzdG9taXNlQ29ybmVySWNvbnMoe1xuICAgICAgICAgICAgc2V0dGluZ3M6IHtcbiAgICAgICAgICAgICAgICBib3JkZXJDb2xvcjogJ2JsYWNrJyxcbiAgICAgICAgICAgICAgICBjb3JuZXJTaXplOiAyNCxcbiAgICAgICAgICAgICAgICBjb3JuZXJTaGFwZTogJ3JlY3QnLFxuICAgICAgICAgICAgICAgIGNvcm5lclBhZGRpbmc6IDFcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtbDoge1xuICAgICAgICAgICAgICAgIGljb246IG15VGhpcy5kaXN0UGF0aCArICdpbWcvaWNfZGVsZXRlX2JsYWNrXzI0cHhfYmFja2dyb3VuZC5zdmcnXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbXQ6IHtcbiAgICAgICAgICAgICAgICBpY29uOiBteVRoaXMuZGlzdFBhdGggKyAnaW1nL2ljX2Zvcm1hdF9jb2xvcl9maWxsX2JsYWNrXzI0cHhfYmFja2dyb3VuZC5zdmcnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNldERlZmF1bHRTdHJva2VXaWR0aChzdHJva2VXaWR0aDpudW1iZXIpIHtcbiAgICAgICAgdGhpcy5kZWZhdWx0U3Ryb2tlV2lkdGggPSBzdHJva2VXaWR0aDtcbiAgICB9XG5cbiAgICBhZGRBcnJvd1RvQ2FudmFzKG9mZnNldFg6bnVtYmVyLCBvZmZzZXRZOm51bWJlcikge1xuICAgICAgICB2YXIgbGluZSxcbiAgICAgICAgICAgIGFycm93LFxuICAgICAgICAgICAgY2lyY2xlLFxuICAgICAgICAgICAgbXlUaGlzID0gdGhpcztcblxuICAgICAgICBsaW5lID0gbmV3IGZhYnJpYy5MaW5lKFtvZmZzZXRYLCBvZmZzZXRZLCBvZmZzZXRYICsgNTAsIG9mZnNldFkgKyA1MF0sIHtcbiAgICAgICAgICAgIHN0cm9rZTogZGVmYXVsdENvbG9yLFxuICAgICAgICAgICAgc2VsZWN0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHN0cm9rZVdpZHRoOiAzLFxuICAgICAgICAgICAgcGFkZGluZzogMSxcbiAgICAgICAgICAgIGhhc0JvcmRlcnM6IG15VGhpcy5oYXNCb3JkZXJzQW5kQ29udHJvbHMsXG4gICAgICAgICAgICBoYXNDb250cm9sczogbXlUaGlzLmhhc0JvcmRlcnNBbmRDb250cm9scyxcbiAgICAgICAgICAgIG9yaWdpblg6ICdjZW50ZXInLFxuICAgICAgICAgICAgb3JpZ2luWTogJ2NlbnRlcicsXG4gICAgICAgICAgICBsb2NrU2NhbGluZ1g6IHRydWUsXG4gICAgICAgICAgICBsb2NrU2NhbGluZ1k6IHRydWUsXG4gICAgICAgICAgICBsb2NrUm90YXRpb246IHRydWUsXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHZhciBjZW50ZXJYID0gKGxpbmUueDEgKyBsaW5lLngyKSAvIDIsXG4gICAgICAgICAgICBjZW50ZXJZID0gKGxpbmUueTEgKyBsaW5lLnkyKSAvIDI7XG4gICAgICAgIHZhciBkZWx0YVggPSBsaW5lLmxlZnQgLSBjZW50ZXJYLFxuICAgICAgICAgICAgZGVsdGFZID0gbGluZS50b3AgLSBjZW50ZXJZO1xuXG4gICAgICAgIGFycm93ID0gbmV3IGZhYnJpYy5UcmlhbmdsZSh7XG4gICAgICAgICAgICBsZWZ0OiBsaW5lLmdldCgneDEnKSArIGRlbHRhWCxcbiAgICAgICAgICAgIHRvcDogbGluZS5nZXQoJ3kxJykgKyBkZWx0YVksXG4gICAgICAgICAgICBvcmlnaW5YOiAnY2VudGVyJyxcbiAgICAgICAgICAgIG9yaWdpblk6ICdjZW50ZXInLFxuICAgICAgICAgICAgaGFzQm9yZGVyczogZmFsc2UsXG4gICAgICAgICAgICBoYXNDb250cm9sczogZmFsc2UsXG4gICAgICAgICAgICBsb2NrU2NhbGluZ1g6IHRydWUsXG4gICAgICAgICAgICBsb2NrU2NhbGluZ1k6IHRydWUsXG4gICAgICAgICAgICBsb2NrUm90YXRpb246IHRydWUsXG4gICAgICAgICAgICBwYWRkaW5nOiAwLFxuICAgICAgICAgICAgcG9pbnRUeXBlOiAnYXJyb3dfc3RhcnQnLFxuICAgICAgICAgICAgYW5nbGU6IC00NSxcbiAgICAgICAgICAgIHdpZHRoOiAyMCxcbiAgICAgICAgICAgIGhlaWdodDogMjAsXG4gICAgICAgICAgICBmaWxsOiBkZWZhdWx0Q29sb3JcbiAgICAgICAgfSk7XG4gICAgICAgIGFycm93LmxpbmUgPSBsaW5lO1xuXG4gICAgICAgIGNpcmNsZSA9IG5ldyBmYWJyaWMuQ2lyY2xlKHtcbiAgICAgICAgICAgIGxlZnQ6IGxpbmUuZ2V0KCd4MicpICsgZGVsdGFYLFxuICAgICAgICAgICAgdG9wOiBsaW5lLmdldCgneTInKSArIGRlbHRhWSxcbiAgICAgICAgICAgIHJhZGl1czogMixcbiAgICAgICAgICAgIHN0cm9rZTogZGVmYXVsdENvbG9yLFxuICAgICAgICAgICAgc3Ryb2tlV2lkdGg6IDMsXG4gICAgICAgICAgICBvcmlnaW5YOiAnY2VudGVyJyxcbiAgICAgICAgICAgIG9yaWdpblk6ICdjZW50ZXInLFxuICAgICAgICAgICAgaGFzQm9yZGVyczogZmFsc2UsXG4gICAgICAgICAgICBoYXNDb250cm9sczogZmFsc2UsXG4gICAgICAgICAgICBsb2NrU2NhbGluZ1g6IHRydWUsXG4gICAgICAgICAgICBsb2NrU2NhbGluZ1k6IHRydWUsXG4gICAgICAgICAgICBsb2NrUm90YXRpb246IHRydWUsXG4gICAgICAgICAgICBwYWRkaW5nOiAwLFxuICAgICAgICAgICAgcG9pbnRUeXBlOiAnYXJyb3dfZW5kJyxcbiAgICAgICAgICAgIGZpbGw6IGRlZmF1bHRDb2xvclxuICAgICAgICB9KTtcbiAgICAgICAgY2lyY2xlLmxpbmUgPSBsaW5lO1xuXG4gICAgICAgIGxpbmUuY3VzdG9tVHlwZSA9IGFycm93LmN1c3RvbVR5cGUgPSBjaXJjbGUuY3VzdG9tVHlwZSA9ICdhcnJvdyc7XG4gICAgICAgIGxpbmUuY2lyY2xlID0gYXJyb3cuY2lyY2xlID0gY2lyY2xlO1xuICAgICAgICBsaW5lLmFycm93ID0gY2lyY2xlLmFycm93ID0gYXJyb3c7XG5cbiAgICAgICAgbXlUaGlzLmZhYnJpY0NhbnZhcy5hZGQobGluZSwgYXJyb3csIGNpcmNsZSk7XG5cbiAgICAgICAgZnVuY3Rpb24gbW92ZUVuZChvYmopIHtcbiAgICAgICAgICAgIHZhciBwID0gb2JqLFxuICAgICAgICAgICAgICAgIHgxLCB5MSwgeDIsIHkyO1xuXG4gICAgICAgICAgICBpZiAob2JqLnBvaW50VHlwZSA9PT0gJ2Fycm93X2VuZCcpIHtcbiAgICAgICAgICAgICAgICBvYmoubGluZS5zZXQoJ3gyJywgb2JqLmdldCgnbGVmdCcpKTtcbiAgICAgICAgICAgICAgICBvYmoubGluZS5zZXQoJ3kyJywgb2JqLmdldCgndG9wJykpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvYmoubGluZS5zZXQoJ3gxJywgb2JqLmdldCgnbGVmdCcpKTtcbiAgICAgICAgICAgICAgICBvYmoubGluZS5zZXQoJ3kxJywgb2JqLmdldCgndG9wJykpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvYmoubGluZS5fc2V0V2lkdGhIZWlnaHQoKTtcblxuICAgICAgICAgICAgeDEgPSBvYmoubGluZS5nZXQoJ3gxJyk7XG4gICAgICAgICAgICB5MSA9IG9iai5saW5lLmdldCgneTEnKTtcbiAgICAgICAgICAgIHgyID0gb2JqLmxpbmUuZ2V0KCd4MicpO1xuICAgICAgICAgICAgeTIgPSBvYmoubGluZS5nZXQoJ3kyJyk7XG5cbiAgICAgICAgICAgIHZhciBhbmdsZSA9IG15VGhpcy5jYWxjQXJyb3dBbmdsZSh4MSwgeTEsIHgyLCB5Mik7XG5cbiAgICAgICAgICAgIGlmIChvYmoucG9pbnRUeXBlID09PSAnYXJyb3dfZW5kJykge1xuICAgICAgICAgICAgICAgIG9iai5hcnJvdy5zZXQoJ2FuZ2xlJywgYW5nbGUgLSA5MCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG9iai5zZXQoJ2FuZ2xlJywgYW5nbGUgLSA5MCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9iai5saW5lLnNldENvb3JkcygpO1xuICAgICAgICAgICAgbXlUaGlzLmZhYnJpY0NhbnZhcy5yZW5kZXJBbGwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIG1vdmVMaW5lKCkge1xuICAgICAgICAgICAgdmFyIG9sZENlbnRlclggPSAobGluZS54MSArIGxpbmUueDIpIC8gMixcbiAgICAgICAgICAgICAgICBvbGRDZW50ZXJZID0gKGxpbmUueTEgKyBsaW5lLnkyKSAvIDIsXG4gICAgICAgICAgICAgICAgZGVsdGFYID0gbGluZS5sZWZ0IC0gb2xkQ2VudGVyWCxcbiAgICAgICAgICAgICAgICBkZWx0YVkgPSBsaW5lLnRvcCAtIG9sZENlbnRlclk7XG5cbiAgICAgICAgICAgIGxpbmUuYXJyb3cuc2V0KHtcbiAgICAgICAgICAgICAgICAnbGVmdCc6IGxpbmUueDEgKyBkZWx0YVgsXG4gICAgICAgICAgICAgICAgJ3RvcCc6IGxpbmUueTEgKyBkZWx0YVlcbiAgICAgICAgICAgIH0pLnNldENvb3JkcygpO1xuXG4gICAgICAgICAgICBsaW5lLmNpcmNsZS5zZXQoe1xuICAgICAgICAgICAgICAgICdsZWZ0JzogbGluZS54MiArIGRlbHRhWCxcbiAgICAgICAgICAgICAgICAndG9wJzogbGluZS55MiArIGRlbHRhWVxuICAgICAgICAgICAgfSkuc2V0Q29vcmRzKCk7XG5cbiAgICAgICAgICAgIGxpbmUuc2V0KHtcbiAgICAgICAgICAgICAgICAneDEnOiBsaW5lLngxICsgZGVsdGFYLFxuICAgICAgICAgICAgICAgICd5MSc6IGxpbmUueTEgKyBkZWx0YVksXG4gICAgICAgICAgICAgICAgJ3gyJzogbGluZS54MiArIGRlbHRhWCxcbiAgICAgICAgICAgICAgICAneTInOiBsaW5lLnkyICsgZGVsdGFZXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgbGluZS5zZXQoe1xuICAgICAgICAgICAgICAgICdsZWZ0JzogKGxpbmUueDEgKyBsaW5lLngyKSAvIDIsXG4gICAgICAgICAgICAgICAgJ3RvcCc6IChsaW5lLnkxICsgbGluZS55MikgLyAyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGFycm93Lm9uKCdtb3ZpbmcnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgIG1vdmVFbmQoYXJyb3cpO1xuICAgICAgICB9KTtcblxuICAgICAgICBjaXJjbGUub24oJ21vdmluZycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIG1vdmVFbmQoY2lyY2xlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgbGluZS5vbignbW92aW5nJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbW92ZUxpbmUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY2FsY0Fycm93QW5nbGUoeDEsIHkxLCB4MiwgeTIpIHtcbiAgICAgICAgdmFyIGFuZ2xlID0gMCxcbiAgICAgICAgICAgIHgsIHk7XG5cbiAgICAgICAgeCA9ICh4MiAtIHgxKTtcbiAgICAgICAgeSA9ICh5MiAtIHkxKTtcblxuICAgICAgICBpZiAoeCA9PT0gMCkge1xuICAgICAgICAgICAgYW5nbGUgPSAoeSA9PT0gMCkgPyAwIDogKHkgPiAwKSA/IE1hdGguUEkgLyAyIDogTWF0aC5QSSAqIDMgLyAyO1xuICAgICAgICB9IGVsc2UgaWYgKHkgPT09IDApIHtcbiAgICAgICAgICAgIGFuZ2xlID0gKHggPiAwKSA/IDAgOiBNYXRoLlBJO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYW5nbGUgPSAoeCA8IDApID8gTWF0aC5hdGFuKHkgLyB4KSArIE1hdGguUEkgOiAoeSA8IDApID8gTWF0aC5hdGFuKHkgLyB4KSArICgyICogTWF0aC5QSSkgOiBNYXRoLmF0YW4oeSAvIHgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChhbmdsZSAqIDE4MCAvIE1hdGguUEkpO1xuICAgIH1cblxuICAgIHNldENhbnZhc09iamVjdHNNb3ZlbWVudChsb2NrOmJvb2xlYW4pIHtcbiAgICAgICAgdmFyIG9iamVjdHMgPSB0aGlzLmZhYnJpY0NhbnZhcy5nZXRPYmplY3RzKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZih0aGlzLmZhYnJpY0NhbnZhcy5nZXRPYmplY3RzKClbaV0uZ2V0KCd0eXBlJykgIT09IGNyb3BwZXJUeXBlT2JqZWN0SWRlbnRpZmllcikge1xuICAgICAgICAgICAgICAgIHRoaXMuZmFicmljQ2FudmFzLmdldE9iamVjdHMoKVtpXS5sb2NrTW92ZW1lbnRYID0gbG9jaztcbiAgICAgICAgICAgICAgICB0aGlzLmZhYnJpY0NhbnZhcy5nZXRPYmplY3RzKClbaV0ubG9ja01vdmVtZW50WCA9IGxvY2s7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRPYmplY3RDb2xvcihvYmplY3Q6YW55KSB7XG4gICAgICAgIGlmIChvYmplY3QuZ2V0KCd0eXBlJykgPT09ICdwYXRoLWdyb3VwJykge1xuICAgICAgICAgICAgZm9yICh2YXIgcGF0aCBvZiBvYmplY3QucGF0aHMpIHtcbiAgICAgICAgICAgICAgICBpZiAocGF0aC5nZXRGaWxsKCkgIT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgY3VycmVudE9iamVjdENvbG9yID0gcGF0aC5nZXRGaWxsKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChvYmplY3QuZ2V0KCd0eXBlJykgPT09ICdwYXRoJyB8fCBvYmplY3QuZ2V0KCd0eXBlJykgPT09ICdmYWJyaWNPYmplY3QnKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudE9iamVjdENvbG9yID0gb2JqZWN0LmdldFN0cm9rZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKG9iamVjdC5nZXQoJ3R5cGUnKSA9PT0gJ2ZpbGxSZWN0Jykge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRPYmplY3RDb2xvciA9IG9iamVjdC5nZXRGaWxsKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudE9iamVjdENvbG9yID0gb2JqZWN0LmdldEZpbGwoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjdXJyZW50T2JqZWN0Q29sb3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgU1ZHIG9iamVjdHMgKGUuZy4gZnJvbSBoaWdoY2hhcnRzIGxpYikgdG8gYSB0ZW1wb3JhcnkgY2FudmFzLiBUaGlzIGVuYWJsZXMgdXMgdG8gY2FwdHVyZSBhbHNvIFNWRyBzdHVmZlxuICAgICAqIG9uIHRoZSBzY3JlZW5zaG90LlxuICAgICAqL1xuICAgIHN2Z1RvQ2FudmFzKCkge1xuICAgICAgICB2YXIgbXlUaGlzID0gdGhpcztcbiAgICAgICAgdmFyIHN2Z0VsZW1lbnRzID0gdGhpcy5lbGVtZW50VG9DYXB0dXJlLmZpbmQoJ3N2Zzpub3QoLmpxLXN0YXItc3ZnKScpO1xuXG4gICAgICAgIC8vcmVwbGFjZSBhbGwgc3ZncyB3aXRoIGEgdGVtcCBjYW52YXNcbiAgICAgICAgc3ZnRWxlbWVudHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjYW52YXMsIHhtbDtcblxuICAgICAgICAgICAgLy8gY2FudmcgZG9lc24ndCBjb3BlIHZlcnkgd2VsbCB3aXRoIGVtIGZvbnQgc2l6ZXMgc28gZmluZCB0aGUgY2FsY3VsYXRlZCBzaXplIGluIHBpeGVscyBhbmQgcmVwbGFjZSBpdCBpbiB0aGUgZWxlbWVudC5cbiAgICAgICAgICAgIGpRdWVyeS5lYWNoKGpRdWVyeSh0aGlzKS5maW5kKCdbc3R5bGUqPWVtXScpLCBmdW5jdGlvbihpbmRleCwgZWwpIHtcbiAgICAgICAgICAgICAgICBqUXVlcnkodGhpcykuY3NzKCdmb250LXNpemUnLCBteVRoaXMuZ2V0U3R5bGUoZWwsICdmb250LXNpemUnKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtcbiAgICAgICAgICAgIGNhbnZhcy5jbGFzc05hbWUgPSBcInNjcmVlblNob3RUZW1wQ2FudmFzXCI7XG4gICAgICAgICAgICAvL2NvbnZlcnQgU1ZHIGludG8gYSBYTUwgc3RyaW5nXG4gICAgICAgICAgICB4bWwgPSAobmV3IFhNTFNlcmlhbGl6ZXIoKSkuc2VyaWFsaXplVG9TdHJpbmcodGhpcyk7XG5cbiAgICAgICAgICAgIC8vIFJlbW92aW5nIHRoZSBuYW1lIHNwYWNlIGFzIElFIHRocm93cyBhbiBlcnJvclxuICAgICAgICAgICAgeG1sID0geG1sLnJlcGxhY2UoL3htbG5zPVxcXCJodHRwOlxcL1xcL3d3d1xcLnczXFwub3JnXFwvMjAwMFxcL3N2Z1xcXCIvLCAnJyk7XG5cbiAgICAgICAgICAgIC8vZHJhdyB0aGUgU1ZHIG9udG8gYSBjYW52YXNcbiAgICAgICAgICAgIGNhbnZnKGNhbnZhcywgeG1sKTtcbiAgICAgICAgICAgIGpRdWVyeShjYW52YXMpLmluc2VydEFmdGVyKHRoaXMpO1xuICAgICAgICAgICAgLy9oaWRlIHRoZSBTVkcgZWxlbWVudFxuICAgICAgICAgICAgalF1ZXJ5KHRoaXMpLmF0dHIoJ2NsYXNzJywgJ3RlbXAtaGlkZScpO1xuICAgICAgICAgICAgalF1ZXJ5KHRoaXMpLmhpZGUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2hvd0FsbENhbnZhc0VsZW1lbnRzKCkge1xuICAgICAgICBqUXVlcnkoJy50ZW1wLWhpZGUnKS5zaG93KCk7XG4gICAgfVxuXG4gICAgZ2V0U3R5bGUoZWwsIHN0eWxlUHJvcCkge1xuICAgICAgICBsZXQgY2FtZWxpemUgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoL1xcLShcXHcpL2csIGZ1bmN0aW9uKHN0ciwgbGV0dGVyKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGV0dGVyLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZWwuY3VycmVudFN0eWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gZWwuY3VycmVudFN0eWxlW2NhbWVsaXplKHN0eWxlUHJvcCldO1xuICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmRlZmF1bHRWaWV3ICYmIGRvY3VtZW50LmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUpIHtcbiAgICAgICAgICAgIHJldHVybiBkb2N1bWVudC5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKGVsLG51bGwpXG4gICAgICAgICAgICAgICAgLmdldFByb3BlcnR5VmFsdWUoc3R5bGVQcm9wKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBlbC5zdHlsZVtjYW1lbGl6ZShzdHlsZVByb3ApXTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

/***/ }),
/* 59 */
/***/ (function(module, exports) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var ScreenshotViewDrawing = (function () {
	    function ScreenshotViewDrawing() {
	    }
	    ScreenshotViewDrawing.prototype.getRectangleTopLeftCorner = function (startX, startY, endX, endY) {
	        return [Math.min(startX, endX), Math.min(startY, endY)];
	    };
	    ScreenshotViewDrawing.prototype.getRectangleWidthAndHeight = function (startX, startY, endX, endY) {
	        return [Math.abs(startX - endX), Math.abs(startY - endY)];
	    };
	    ScreenshotViewDrawing.prototype.getNewDimensionsAfterCrop = function (startX, startY, endX, endY, canvasWidth, canvasHeight) {
	        var croppedImageDimensions = this.getRectangleWidthAndHeight(startX, startY, endX, endY);
	        var croppedImageWidth = croppedImageDimensions[0];
	        var croppedImageHeight = croppedImageDimensions[1];
	        var ratioToScaleTheCroppedImage = Math.min(canvasWidth / croppedImageWidth, canvasHeight / croppedImageHeight);
	        var scaledUpCroppedImageWidth = ratioToScaleTheCroppedImage * croppedImageWidth;
	        var scaledUpCroppedImageHeight = ratioToScaleTheCroppedImage * croppedImageHeight;
	        return [scaledUpCroppedImageWidth, scaledUpCroppedImageHeight];
	    };
	    return ScreenshotViewDrawing;
	}());
	exports.ScreenshotViewDrawing = ScreenshotViewDrawing;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC92aWV3cy9zY3JlZW5zaG90L3NjcmVlbnNob3Rfdmlld19kcmF3aW5nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBS0E7SUFBQTtJQXFCQSxDQUFDO0lBbkJHLHlEQUF5QixHQUF6QixVQUEwQixNQUFNLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJO1FBQ2hELE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUE7SUFDM0QsQ0FBQztJQUVELDBEQUEwQixHQUExQixVQUEyQixNQUFNLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJO1FBQ2pELE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxFQUFFLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUE7SUFDN0QsQ0FBQztJQUVELHlEQUF5QixHQUF6QixVQUEwQixNQUFNLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLFlBQVk7UUFDM0UsSUFBSSxzQkFBc0IsR0FBRyxJQUFJLENBQUMsMEJBQTBCLENBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDekYsSUFBSSxpQkFBaUIsR0FBRyxzQkFBc0IsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNsRCxJQUFJLGtCQUFrQixHQUFHLHNCQUFzQixDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRW5ELElBQUksMkJBQTJCLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxXQUFXLEdBQUMsaUJBQWlCLEVBQUUsWUFBWSxHQUFDLGtCQUFrQixDQUFDLENBQUM7UUFDM0csSUFBSSx5QkFBeUIsR0FBRywyQkFBMkIsR0FBRyxpQkFBaUIsQ0FBQztRQUNoRixJQUFJLDBCQUEwQixHQUFHLDJCQUEyQixHQUFHLGtCQUFrQixDQUFDO1FBRWxGLE1BQU0sQ0FBQyxDQUFDLHlCQUF5QixFQUFFLDBCQUEwQixDQUFDLENBQUM7SUFDbkUsQ0FBQztJQUNMLDRCQUFDO0FBQUQsQ0FyQkEsQUFxQkMsSUFBQTtBQXJCWSxzREFBcUIiLCJmaWxlIjoiYXBwL3ZpZXdzL3NjcmVlbnNob3Qvc2NyZWVuc2hvdF92aWV3X2RyYXdpbmcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNvbWUgZHJhd2luZyBhbmQgaGVscGVyIGZ1bmN0aW9ucy5cbiAqXG4gKiBIaW50OiBUb3AgbGVmdCBjb3JuZXIgaW4gY2FudmFzIGhhcyBjb29yZGluYXRlcyAwLDAuXG4gKi9cbmV4cG9ydCBjbGFzcyBTY3JlZW5zaG90Vmlld0RyYXdpbmcge1xuXG4gICAgZ2V0UmVjdGFuZ2xlVG9wTGVmdENvcm5lcihzdGFydFgsIHN0YXJ0WSwgZW5kWCwgZW5kWSkge1xuICAgICAgICByZXR1cm4gW01hdGgubWluKHN0YXJ0WCwgZW5kWCksIE1hdGgubWluKHN0YXJ0WSwgZW5kWSldXG4gICAgfVxuXG4gICAgZ2V0UmVjdGFuZ2xlV2lkdGhBbmRIZWlnaHQoc3RhcnRYLCBzdGFydFksIGVuZFgsIGVuZFkpIHtcbiAgICAgICAgcmV0dXJuIFtNYXRoLmFicyhzdGFydFggLSBlbmRYKSwgTWF0aC5hYnMoc3RhcnRZIC0gZW5kWSldXG4gICAgfVxuXG4gICAgZ2V0TmV3RGltZW5zaW9uc0FmdGVyQ3JvcChzdGFydFgsIHN0YXJ0WSwgZW5kWCwgZW5kWSwgY2FudmFzV2lkdGgsIGNhbnZhc0hlaWdodCkge1xuICAgICAgICB2YXIgY3JvcHBlZEltYWdlRGltZW5zaW9ucyA9IHRoaXMuZ2V0UmVjdGFuZ2xlV2lkdGhBbmRIZWlnaHQoc3RhcnRYLCBzdGFydFksIGVuZFgsIGVuZFkpO1xuICAgICAgICB2YXIgY3JvcHBlZEltYWdlV2lkdGggPSBjcm9wcGVkSW1hZ2VEaW1lbnNpb25zWzBdO1xuICAgICAgICB2YXIgY3JvcHBlZEltYWdlSGVpZ2h0ID0gY3JvcHBlZEltYWdlRGltZW5zaW9uc1sxXTtcblxuICAgICAgICB2YXIgcmF0aW9Ub1NjYWxlVGhlQ3JvcHBlZEltYWdlID0gTWF0aC5taW4oY2FudmFzV2lkdGgvY3JvcHBlZEltYWdlV2lkdGgsIGNhbnZhc0hlaWdodC9jcm9wcGVkSW1hZ2VIZWlnaHQpO1xuICAgICAgICB2YXIgc2NhbGVkVXBDcm9wcGVkSW1hZ2VXaWR0aCA9IHJhdGlvVG9TY2FsZVRoZUNyb3BwZWRJbWFnZSAqIGNyb3BwZWRJbWFnZVdpZHRoO1xuICAgICAgICB2YXIgc2NhbGVkVXBDcm9wcGVkSW1hZ2VIZWlnaHQgPSByYXRpb1RvU2NhbGVUaGVDcm9wcGVkSW1hZ2UgKiBjcm9wcGVkSW1hZ2VIZWlnaHQ7XG5cbiAgICAgICAgcmV0dXJuIFtzY2FsZWRVcENyb3BwZWRJbWFnZVdpZHRoLCBzY2FsZWRVcENyb3BwZWRJbWFnZUhlaWdodF07XG4gICAgfVxufVxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

/***/ }),
/* 60 */
/***/ (function(module, exports) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var DataHelper = (function () {
	    function DataHelper() {
	    }
	    DataHelper.dataURItoBlob = function (dataURI) {
	        var byteString;
	        if (dataURI.split(',')[0].indexOf('base64') >= 0)
	            byteString = atob(dataURI.split(',')[1]);
	        else
	            byteString = decodeURIComponent(dataURI.split(',')[1]);
	        var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0];
	        var ia = new Uint8Array(byteString.length);
	        for (var i = 0; i < byteString.length; i++) {
	            ia[i] = byteString.charCodeAt(i);
	        }
	        return new Blob([ia], { type: mimeString });
	    };
	    return DataHelper;
	}());
	exports.DataHelper = DataHelper;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9qcy9oZWxwZXJzL2RhdGFfaGVscGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUE7SUFBQTtJQTRCQSxDQUFDO0lBbEJVLHdCQUFhLEdBQXBCLFVBQXFCLE9BQU87UUFDeEIsSUFBSSxVQUFVLENBQUM7UUFDZixFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDN0MsVUFBVSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDN0MsSUFBSTtZQUNBLFVBQVUsR0FBRyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFHM0QsSUFBSSxVQUFVLEdBQUcsT0FBTyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBR25FLElBQUksRUFBRSxHQUFHLElBQUksVUFBVSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUMzQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFVBQVUsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBQztZQUN6QyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsVUFBVSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNyQyxDQUFDO1FBRUQsTUFBTSxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBQyxJQUFJLEVBQUUsVUFBVSxFQUFDLENBQUMsQ0FBQztJQUM5QyxDQUFDO0lBQ0wsaUJBQUM7QUFBRCxDQTVCQSxBQTRCQyxJQUFBO0FBNUJZLGdDQUFVIiwiZmlsZSI6ImFwcC9qcy9oZWxwZXJzL2RhdGFfaGVscGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIERhdGFIZWxwZXIge1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYmFzZTY0L1VSTEVuY29kZWQgZGF0YSBjb21wb25lbnQgdG8gcmF3IGJpbmFyeSBkYXRhLlxuICAgICAqXG4gICAgICogQHBhcmFtIGRhdGFVUklcbiAgICAgKiAgZGF0YVVSSSBmcm9tIGEgY2FudmFzIGVsZW1lbnQgcmV0cmlldmVkIGJ5IGNhbnZhcy50b0RhdGFVUkwoKVxuICAgICAqIEByZXR1cm5zIHtCbG9ifVxuICAgICAqICBUaGUgaW1hZ2UgYXMgYSBiaW5hcnkuXG4gICAgICovXG4gICAgc3RhdGljIGRhdGFVUkl0b0Jsb2IoZGF0YVVSSSkge1xuICAgICAgICB2YXIgYnl0ZVN0cmluZztcbiAgICAgICAgaWYgKGRhdGFVUkkuc3BsaXQoJywnKVswXS5pbmRleE9mKCdiYXNlNjQnKSA+PSAwKVxuICAgICAgICAgICAgYnl0ZVN0cmluZyA9IGF0b2IoZGF0YVVSSS5zcGxpdCgnLCcpWzFdKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgYnl0ZVN0cmluZyA9IGRlY29kZVVSSUNvbXBvbmVudChkYXRhVVJJLnNwbGl0KCcsJylbMV0pO1xuXG4gICAgICAgIC8vIHNlcGFyYXRlIG91dCB0aGUgbWltZSBjb21wb25lbnRcbiAgICAgICAgdmFyIG1pbWVTdHJpbmcgPSBkYXRhVVJJLnNwbGl0KCcsJylbMF0uc3BsaXQoJzonKVsxXS5zcGxpdCgnOycpWzBdO1xuXG4gICAgICAgIC8vIHdyaXRlIHRoZSBieXRlcyBvZiB0aGUgc3RyaW5nIHRvIGEgdHlwZWQgYXJyYXlcbiAgICAgICAgdmFyIGlhID0gbmV3IFVpbnQ4QXJyYXkoYnl0ZVN0cmluZy5sZW5ndGgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5dGVTdHJpbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlhW2ldID0gYnl0ZVN0cmluZy5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBCbG9iKFtpYV0sIHt0eXBlOiBtaW1lU3RyaW5nfSk7XG4gICAgfVxufSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/***/ }),
/* 61 */
/***/ (function(module, exports, __webpack_require__) {

	var require;var require;/* WEBPACK VAR INJECTION */(function(global) {/*
	  html2canvas 0.5.0-beta3 <http://html2canvas.hertzen.com>
	  Copyright (c) 2016 Niklas von Hertzen

	  Released under  License
	*/
	!function(e){if(true)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),n.html2canvas=e()}}(function(){var e;return function n(e,f,o){function d(t,l){if(!f[t]){if(!e[t]){var s="function"==typeof require&&require;if(!l&&s)return require(t,!0);if(i)return i(t,!0);var u=new Error("Cannot find module '"+t+"'");throw u.code="MODULE_NOT_FOUND",u}var a=f[t]={exports:{}};e[t][0].call(a.exports,function(n){var f=e[t][1][n];return d(f?f:n)},a,a.exports,n,e,f,o)}return f[t].exports}for(var i="function"==typeof require&&require,t=0;t<o.length;t++)d(o[t]);return d}({1:[function(n,f,o){(function(n){!function(d){function i(e){throw RangeError(I[e])}function t(e,n){for(var f=e.length;f--;)e[f]=n(e[f]);return e}function l(e,n){return t(e.split(H),n).join(".")}function s(e){for(var n,f,o=[],d=0,i=e.length;i>d;)n=e.charCodeAt(d++),n>=55296&&56319>=n&&i>d?(f=e.charCodeAt(d++),56320==(64512&f)?o.push(((1023&n)<<10)+(1023&f)+65536):(o.push(n),d--)):o.push(n);return o}function u(e){return t(e,function(e){var n="";return e>65535&&(e-=65536,n+=L(e>>>10&1023|55296),e=56320|1023&e),n+=L(e)}).join("")}function a(e){return 10>e-48?e-22:26>e-65?e-65:26>e-97?e-97:k}function p(e,n){return e+22+75*(26>e)-((0!=n)<<5)}function c(e,n,f){var o=0;for(e=f?K(e/B):e>>1,e+=K(e/n);e>J*z>>1;o+=k)e=K(e/J);return K(o+(J+1)*e/(e+A))}function y(e){var n,f,o,d,t,l,s,p,y,m,r=[],v=e.length,w=0,b=D,g=C;for(f=e.lastIndexOf(E),0>f&&(f=0),o=0;f>o;++o)e.charCodeAt(o)>=128&&i("not-basic"),r.push(e.charCodeAt(o));for(d=f>0?f+1:0;v>d;){for(t=w,l=1,s=k;d>=v&&i("invalid-input"),p=a(e.charCodeAt(d++)),(p>=k||p>K((j-w)/l))&&i("overflow"),w+=p*l,y=g>=s?q:s>=g+z?z:s-g,!(y>p);s+=k)m=k-y,l>K(j/m)&&i("overflow"),l*=m;n=r.length+1,g=c(w-t,n,0==t),K(w/n)>j-b&&i("overflow"),b+=K(w/n),w%=n,r.splice(w++,0,b)}return u(r)}function m(e){var n,f,o,d,t,l,u,a,y,m,r,v,w,b,g,h=[];for(e=s(e),v=e.length,n=D,f=0,t=C,l=0;v>l;++l)r=e[l],128>r&&h.push(L(r));for(o=d=h.length,d&&h.push(E);v>o;){for(u=j,l=0;v>l;++l)r=e[l],r>=n&&u>r&&(u=r);for(w=o+1,u-n>K((j-f)/w)&&i("overflow"),f+=(u-n)*w,n=u,l=0;v>l;++l)if(r=e[l],n>r&&++f>j&&i("overflow"),r==n){for(a=f,y=k;m=t>=y?q:y>=t+z?z:y-t,!(m>a);y+=k)g=a-m,b=k-m,h.push(L(p(m+g%b,0))),a=K(g/b);h.push(L(p(a,0))),t=c(f,w,o==d),f=0,++o}++f,++n}return h.join("")}function r(e){return l(e,function(e){return F.test(e)?y(e.slice(4).toLowerCase()):e})}function v(e){return l(e,function(e){return G.test(e)?"xn--"+m(e):e})}var w="object"==typeof o&&o,b="object"==typeof f&&f&&f.exports==w&&f,g="object"==typeof n&&n;(g.global===g||g.window===g)&&(d=g);var h,x,j=2147483647,k=36,q=1,z=26,A=38,B=700,C=72,D=128,E="-",F=/^xn--/,G=/[^ -~]/,H=/\x2E|\u3002|\uFF0E|\uFF61/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},J=k-q,K=Math.floor,L=String.fromCharCode;if(h={version:"1.2.4",ucs2:{decode:s,encode:u},decode:y,encode:m,toASCII:v,toUnicode:r},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e("punycode",function(){return h});else if(w&&!w.nodeType)if(b)b.exports=h;else for(x in h)h.hasOwnProperty(x)&&(w[x]=h[x]);else d.punycode=h}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],2:[function(e,n){function f(e,n,f){!e.defaultView||n===e.defaultView.pageXOffset&&f===e.defaultView.pageYOffset||e.defaultView.scrollTo(n,f)}function o(e,n){try{n&&(n.width=e.width,n.height=e.height,n.getContext("2d").putImageData(e.getContext("2d").getImageData(0,0,e.width,e.height),0,0))}catch(f){t("Unable to copy canvas content from",e,f)}}function d(e,n){for(var f=3===e.nodeType?document.createTextNode(e.nodeValue):e.cloneNode(!1),i=e.firstChild;i;)(n===!0||1!==i.nodeType||"SCRIPT"!==i.nodeName)&&f.appendChild(d(i,n)),i=i.nextSibling;return 1===e.nodeType&&(f._scrollTop=e.scrollTop,f._scrollLeft=e.scrollLeft,"CANVAS"===e.nodeName?o(e,f):("TEXTAREA"===e.nodeName||"SELECT"===e.nodeName)&&(f.value=e.value)),f}function i(e){if(1===e.nodeType){e.scrollTop=e._scrollTop,e.scrollLeft=e._scrollLeft;for(var n=e.firstChild;n;)i(n),n=n.nextSibling}}var t=e("./log");n.exports=function(e,n,o,t,l,s,u){var a=d(e.documentElement,l.javascriptEnabled),p=n.createElement("iframe");return p.className="html2canvas-container",p.style.visibility="hidden",p.style.position="fixed",p.style.left="-10000px",p.style.top="0px",p.style.border="0",p.width=o,p.height=t,p.scrolling="no",n.body.appendChild(p),new Promise(function(n){var o=p.contentWindow.document;p.contentWindow.onload=p.onload=function(){var e=setInterval(function(){o.body.childNodes.length>0&&(i(o.documentElement),clearInterval(e),"view"===l.type&&(p.contentWindow.scrollTo(s,u),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||p.contentWindow.scrollY===u&&p.contentWindow.scrollX===s||(o.documentElement.style.top=-u+"px",o.documentElement.style.left=-s+"px",o.documentElement.style.position="absolute")),n(p))},50)},o.open(),o.write("<!DOCTYPE html><html></html>"),f(e,s,u),o.replaceChild(o.adoptNode(a),o.documentElement),o.close()})}},{"./log":13}],3:[function(e,n){function f(e){this.r=0,this.g=0,this.b=0,this.a=null;this.fromArray(e)||this.namedColor(e)||this.rgb(e)||this.rgba(e)||this.hex6(e)||this.hex3(e)}f.prototype.darken=function(e){var n=1-e;return new f([Math.round(this.r*n),Math.round(this.g*n),Math.round(this.b*n),this.a])},f.prototype.isTransparent=function(){return 0===this.a},f.prototype.isBlack=function(){return 0===this.r&&0===this.g&&0===this.b},f.prototype.fromArray=function(e){return Array.isArray(e)&&(this.r=Math.min(e[0],255),this.g=Math.min(e[1],255),this.b=Math.min(e[2],255),e.length>3&&(this.a=e[3])),Array.isArray(e)};var o=/^#([a-f0-9]{3})$/i;f.prototype.hex3=function(e){var n=null;return null!==(n=e.match(o))&&(this.r=parseInt(n[1][0]+n[1][0],16),this.g=parseInt(n[1][1]+n[1][1],16),this.b=parseInt(n[1][2]+n[1][2],16)),null!==n};var d=/^#([a-f0-9]{6})$/i;f.prototype.hex6=function(e){var n=null;return null!==(n=e.match(d))&&(this.r=parseInt(n[1].substring(0,2),16),this.g=parseInt(n[1].substring(2,4),16),this.b=parseInt(n[1].substring(4,6),16)),null!==n};var i=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/;f.prototype.rgb=function(e){var n=null;return null!==(n=e.match(i))&&(this.r=Number(n[1]),this.g=Number(n[2]),this.b=Number(n[3])),null!==n};var t=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d?\.?\d+)\s*\)$/;f.prototype.rgba=function(e){var n=null;return null!==(n=e.match(t))&&(this.r=Number(n[1]),this.g=Number(n[2]),this.b=Number(n[3]),this.a=Number(n[4])),null!==n},f.prototype.toString=function(){return null!==this.a&&1!==this.a?"rgba("+[this.r,this.g,this.b,this.a].join(",")+")":"rgb("+[this.r,this.g,this.b].join(",")+")"},f.prototype.namedColor=function(e){e=e.toLowerCase();var n=l[e];if(n)this.r=n[0],this.g=n[1],this.b=n[2];else if("transparent"===e)return this.r=this.g=this.b=this.a=0,!0;return!!n},f.prototype.isColor=!0;var l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};n.exports=f},{}],4:[function(n,f){function o(e,n){var f=j++;if(n=n||{},n.logging&&(v.options.logging=!0,v.options.start=Date.now()),n.async="undefined"==typeof n.async?!0:n.async,n.allowTaint="undefined"==typeof n.allowTaint?!1:n.allowTaint,n.removeContainer="undefined"==typeof n.removeContainer?!0:n.removeContainer,n.javascriptEnabled="undefined"==typeof n.javascriptEnabled?!1:n.javascriptEnabled,n.imageTimeout="undefined"==typeof n.imageTimeout?1e4:n.imageTimeout,n.renderer="function"==typeof n.renderer?n.renderer:c,n.strict=!!n.strict,"string"==typeof e){if("string"!=typeof n.proxy)return Promise.reject("Proxy must be used when rendering url");var o=null!=n.width?n.width:window.innerWidth,t=null!=n.height?n.height:window.innerHeight;return g(a(e),n.proxy,document,o,t,n).then(function(e){return i(e.contentWindow.document.documentElement,e,n,o,t)})}var l=(void 0===e?[document.documentElement]:e.length?e:[e])[0];return l.setAttribute(x+f,f),d(l.ownerDocument,n,l.ownerDocument.defaultView.innerWidth,l.ownerDocument.defaultView.innerHeight,f).then(function(e){return"function"==typeof n.onrendered&&(v("options.onrendered is deprecated, html2canvas returns a Promise containing the canvas"),n.onrendered(e)),e})}function d(e,n,f,o,d){return b(e,e,f,o,n,e.defaultView.pageXOffset,e.defaultView.pageYOffset).then(function(t){v("Document cloned");var l=x+d,s="["+l+"='"+d+"']";e.querySelector(s).removeAttribute(l);var u=t.contentWindow,a=u.document.querySelector(s),p=Promise.resolve("function"==typeof n.onclone?n.onclone(u.document):!0);return p.then(function(){return i(a,t,n,f,o)})})}function i(e,n,f,o,d){var i=n.contentWindow,a=new p(i.document),c=new y(f,a),r=h(e),w="view"===f.type?o:s(i.document),b="view"===f.type?d:u(i.document),g=new f.renderer(w,b,c,f,document),x=new m(e,g,a,c,f);return x.ready.then(function(){v("Finished rendering");var o;return o="view"===f.type?l(g.canvas,{width:g.canvas.width,height:g.canvas.height,top:0,left:0,x:0,y:0}):e===i.document.body||e===i.document.documentElement||null!=f.canvas?g.canvas:l(g.canvas,{width:null!=f.width?f.width:r.width,height:null!=f.height?f.height:r.height,top:r.top,left:r.left,x:0,y:0}),t(n,f),o})}function t(e,n){n.removeContainer&&(e.parentNode.removeChild(e),v("Cleaned up container"))}function l(e,n){var f=document.createElement("canvas"),o=Math.min(e.width-1,Math.max(0,n.left)),d=Math.min(e.width,Math.max(1,n.left+n.width)),i=Math.min(e.height-1,Math.max(0,n.top)),t=Math.min(e.height,Math.max(1,n.top+n.height));f.width=n.width,f.height=n.height;var l=d-o,s=t-i;return v("Cropping canvas at:","left:",n.left,"top:",n.top,"width:",l,"height:",s),v("Resulting crop with width",n.width,"and height",n.height,"with x",o,"and y",i),f.getContext("2d").drawImage(e,o,i,l,s,n.x,n.y,l,s),f}function s(e){return Math.max(Math.max(e.body.scrollWidth,e.documentElement.scrollWidth),Math.max(e.body.offsetWidth,e.documentElement.offsetWidth),Math.max(e.body.clientWidth,e.documentElement.clientWidth))}function u(e){return Math.max(Math.max(e.body.scrollHeight,e.documentElement.scrollHeight),Math.max(e.body.offsetHeight,e.documentElement.offsetHeight),Math.max(e.body.clientHeight,e.documentElement.clientHeight))}function a(e){var n=document.createElement("a");return n.href=e,n.href=n.href,n}var p=n("./support"),c=n("./renderers/canvas"),y=n("./imageloader"),m=n("./nodeparser"),r=n("./nodecontainer"),v=n("./log"),w=n("./utils"),b=n("./clone"),g=n("./proxy").loadUrlDocument,h=w.getBounds,x="data-html2canvas-node",j=0;o.CanvasRenderer=c,o.NodeContainer=r,o.log=v,o.utils=w;var k="undefined"==typeof document||"function"!=typeof Object.create||"function"!=typeof document.createElement("canvas").getContext?function(){return Promise.reject("No canvas support")}:o;f.exports=k,"function"==typeof e&&e.amd&&e("html2canvas",[],function(){return k})},{"./clone":2,"./imageloader":11,"./log":13,"./nodecontainer":14,"./nodeparser":15,"./proxy":16,"./renderers/canvas":20,"./support":22,"./utils":26}],5:[function(e,n){function f(e){if(this.src=e,o("DummyImageContainer for",e),!this.promise||!this.image){o("Initiating DummyImageContainer"),f.prototype.image=new Image;var n=this.image;f.prototype.promise=new Promise(function(e,f){n.onload=e,n.onerror=f,n.src=d(),n.complete===!0&&e(n)})}}var o=e("./log"),d=e("./utils").smallImage;n.exports=f},{"./log":13,"./utils":26}],6:[function(e,n){function f(e,n){var f,d,i=document.createElement("div"),t=document.createElement("img"),l=document.createElement("span"),s="Hidden Text";i.style.visibility="hidden",i.style.fontFamily=e,i.style.fontSize=n,i.style.margin=0,i.style.padding=0,document.body.appendChild(i),t.src=o(),t.width=1,t.height=1,t.style.margin=0,t.style.padding=0,t.style.verticalAlign="baseline",l.style.fontFamily=e,l.style.fontSize=n,l.style.margin=0,l.style.padding=0,l.appendChild(document.createTextNode(s)),i.appendChild(l),i.appendChild(t),f=t.offsetTop-l.offsetTop+1,i.removeChild(l),i.appendChild(document.createTextNode(s)),i.style.lineHeight="normal",t.style.verticalAlign="super",d=t.offsetTop-i.offsetTop+1,document.body.removeChild(i),this.baseline=f,this.lineWidth=1,this.middle=d}var o=e("./utils").smallImage;n.exports=f},{"./utils":26}],7:[function(e,n){function f(){this.data={}}var o=e("./font");f.prototype.getMetrics=function(e,n){return void 0===this.data[e+"-"+n]&&(this.data[e+"-"+n]=new o(e,n)),this.data[e+"-"+n]},n.exports=f},{"./font":6}],8:[function(e,n){function f(n,f,o){this.image=null,this.src=n;var i=this,t=d(n);this.promise=(f?new Promise(function(e){"about:blank"===n.contentWindow.document.URL||null==n.contentWindow.document.documentElement?n.contentWindow.onload=n.onload=function(){e(n)}:e(n)}):this.proxyLoad(o.proxy,t,o)).then(function(n){var f=e("./core");return f(n.contentWindow.document.documentElement,{type:"view",width:n.width,height:n.height,proxy:o.proxy,javascriptEnabled:o.javascriptEnabled,removeContainer:o.removeContainer,allowTaint:o.allowTaint,imageTimeout:o.imageTimeout/2})}).then(function(e){return i.image=e})}var o=e("./utils"),d=o.getBounds,i=e("./proxy").loadUrlDocument;f.prototype.proxyLoad=function(e,n,f){var o=this.src;return i(o.src,e,o.ownerDocument,n.width,n.height,f)},n.exports=f},{"./core":4,"./proxy":16,"./utils":26}],9:[function(e,n){function f(e){this.src=e.value,this.colorStops=[],this.type=null,this.x0=.5,this.y0=.5,this.x1=.5,this.y1=.5,this.promise=Promise.resolve(!0)}f.TYPES={LINEAR:1,RADIAL:2},f.REGEXP_COLORSTOP=/^\s*(rgba?\(\s*\d{1,3},\s*\d{1,3},\s*\d{1,3}(?:,\s*[0-9\.]+)?\s*\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\s+(\d{1,3}(?:\.\d+)?)(%|px)?)?(?:\s|$)/i,n.exports=f},{}],10:[function(e,n){function f(e,n){this.src=e,this.image=new Image;var f=this;this.tainted=null,this.promise=new Promise(function(o,d){f.image.onload=o,f.image.onerror=d,n&&(f.image.crossOrigin="anonymous"),f.image.src=e,f.image.complete===!0&&o(f.image)})}n.exports=f},{}],11:[function(e,n){function f(e,n){this.link=null,this.options=e,this.support=n,this.origin=this.getOrigin(window.location.href)}var o=e("./log"),d=e("./imagecontainer"),i=e("./dummyimagecontainer"),t=e("./proxyimagecontainer"),l=e("./framecontainer"),s=e("./svgcontainer"),u=e("./svgnodecontainer"),a=e("./lineargradientcontainer"),p=e("./webkitgradientcontainer"),c=e("./utils").bind;f.prototype.findImages=function(e){var n=[];return e.reduce(function(e,n){switch(n.node.nodeName){case"IMG":return e.concat([{args:[n.node.src],method:"url"}]);case"svg":case"IFRAME":return e.concat([{args:[n.node],method:n.node.nodeName}])}return e},[]).forEach(this.addImage(n,this.loadImage),this),n},f.prototype.findBackgroundImage=function(e,n){return n.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(e,this.loadImage),this),e},f.prototype.addImage=function(e,n){return function(f){f.args.forEach(function(d){this.imageExists(e,d)||(e.splice(0,0,n.call(this,f)),o("Added image #"+e.length,"string"==typeof d?d.substring(0,100):d))},this)}},f.prototype.hasImageBackground=function(e){return"none"!==e.method},f.prototype.loadImage=function(e){if("url"===e.method){var n=e.args[0];return!this.isSVG(n)||this.support.svg||this.options.allowTaint?n.match(/data:image\/.*;base64,/i)?new d(n.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),!1):this.isSameOrigin(n)||this.options.allowTaint===!0||this.isSVG(n)?new d(n,!1):this.support.cors&&!this.options.allowTaint&&this.options.useCORS?new d(n,!0):this.options.proxy?new t(n,this.options.proxy):new i(n):new s(n)}return"linear-gradient"===e.method?new a(e):"gradient"===e.method?new p(e):"svg"===e.method?new u(e.args[0],this.support.svg):"IFRAME"===e.method?new l(e.args[0],this.isSameOrigin(e.args[0].src),this.options):new i(e)},f.prototype.isSVG=function(e){return"svg"===e.substring(e.length-3).toLowerCase()||s.prototype.isInline(e)},f.prototype.imageExists=function(e,n){return e.some(function(e){return e.src===n})},f.prototype.isSameOrigin=function(e){return this.getOrigin(e)===this.origin},f.prototype.getOrigin=function(e){var n=this.link||(this.link=document.createElement("a"));return n.href=e,n.href=n.href,n.protocol+n.hostname+n.port},f.prototype.getPromise=function(e){return this.timeout(e,this.options.imageTimeout)["catch"](function(){var n=new i(e.src);return n.promise.then(function(n){e.image=n})})},f.prototype.get=function(e){var n=null;return this.images.some(function(f){return(n=f).src===e})?n:null},f.prototype.fetch=function(e){return this.images=e.reduce(c(this.findBackgroundImage,this),this.findImages(e)),this.images.forEach(function(e,n){e.promise.then(function(){o("Succesfully loaded image #"+(n+1),e)},function(f){o("Failed loading image #"+(n+1),e,f)})}),this.ready=Promise.all(this.images.map(this.getPromise,this)),o("Finished searching images"),this},f.prototype.timeout=function(e,n){var f,d=Promise.race([e.promise,new Promise(function(d,i){f=setTimeout(function(){o("Timed out loading image",e),i(e)},n)})]).then(function(e){return clearTimeout(f),e});return d["catch"](function(){clearTimeout(f)}),d},n.exports=f},{"./dummyimagecontainer":5,"./framecontainer":8,"./imagecontainer":10,"./lineargradientcontainer":12,"./log":13,"./proxyimagecontainer":17,"./svgcontainer":23,"./svgnodecontainer":24,"./utils":26,"./webkitgradientcontainer":27}],12:[function(e,n){function f(e){o.apply(this,arguments),this.type=o.TYPES.LINEAR;var n=f.REGEXP_DIRECTION.test(e.args[0])||!o.REGEXP_COLORSTOP.test(e.args[0]);n?e.args[0].split(/\s+/).reverse().forEach(function(e,n){switch(e){case"left":this.x0=0,this.x1=1;break;case"top":this.y0=0,this.y1=1;break;case"right":this.x0=1,this.x1=0;break;case"bottom":this.y0=1,this.y1=0;break;case"to":var f=this.y0,o=this.x0;this.y0=this.y1,this.x0=this.x1,this.x1=o,this.y1=f;break;case"center":break;default:var d=.01*parseFloat(e,10);if(isNaN(d))break;0===n?(this.y0=d,this.y1=1-this.y0):(this.x0=d,this.x1=1-this.x0)}},this):(this.y0=0,this.y1=1),this.colorStops=e.args.slice(n?1:0).map(function(e){var n=e.match(o.REGEXP_COLORSTOP),f=+n[2],i=0===f?"%":n[3];return{color:new d(n[1]),stop:"%"===i?f/100:null}}),null===this.colorStops[0].stop&&(this.colorStops[0].stop=0),null===this.colorStops[this.colorStops.length-1].stop&&(this.colorStops[this.colorStops.length-1].stop=1),this.colorStops.forEach(function(e,n){null===e.stop&&this.colorStops.slice(n).some(function(f,o){return null!==f.stop?(e.stop=(f.stop-this.colorStops[n-1].stop)/(o+1)+this.colorStops[n-1].stop,!0):!1},this)},this)}var o=e("./gradientcontainer"),d=e("./color");f.prototype=Object.create(o.prototype),f.REGEXP_DIRECTION=/^\s*(?:to|left|right|top|bottom|center|\d{1,3}(?:\.\d+)?%?)(?:\s|$)/i,n.exports=f},{"./color":3,"./gradientcontainer":9}],13:[function(e,n){var f=function(){f.options.logging&&window.console&&window.console.log&&Function.prototype.bind.call(window.console.log,window.console).apply(window.console,[Date.now()-f.options.start+"ms","html2canvas:"].concat([].slice.call(arguments,0)))};f.options={logging:!1},n.exports=f},{}],14:[function(e,n){function f(e,n){this.node=e,this.parent=n,this.stack=null,this.bounds=null,this.borders=null,this.clip=[],this.backgroundClip=[],this.offsetBounds=null,this.visible=null,this.computedStyles=null,this.colors={},this.styles={},this.backgroundImages=null,this.transformData=null,this.transformMatrix=null,this.isPseudoElement=!1,this.opacity=null}function o(e){var n=e.options[e.selectedIndex||0];return n?n.text||"":""}function d(e){if(e&&"matrix"===e[1])return e[2].split(",").map(function(e){return parseFloat(e.trim())});if(e&&"matrix3d"===e[1]){var n=e[2].split(",").map(function(e){return parseFloat(e.trim())});return[n[0],n[1],n[4],n[5],n[12],n[13]]}}function i(e){return-1!==e.toString().indexOf("%")}function t(e){return e.replace("px","")}function l(e){return parseFloat(e)}var s=e("./color"),u=e("./utils"),a=u.getBounds,p=u.parseBackgrounds,c=u.offsetBounds;f.prototype.cloneTo=function(e){e.visible=this.visible,e.borders=this.borders,e.bounds=this.bounds,e.clip=this.clip,e.backgroundClip=this.backgroundClip,e.computedStyles=this.computedStyles,e.styles=this.styles,e.backgroundImages=this.backgroundImages,e.opacity=this.opacity},f.prototype.getOpacity=function(){return null===this.opacity?this.opacity=this.cssFloat("opacity"):this.opacity},f.prototype.assignStack=function(e){this.stack=e,e.children.push(this)},f.prototype.isElementVisible=function(){return this.node.nodeType===Node.TEXT_NODE?this.parent.visible:"none"!==this.css("display")&&"hidden"!==this.css("visibility")&&!this.node.hasAttribute("data-html2canvas-ignore")&&("INPUT"!==this.node.nodeName||"hidden"!==this.node.getAttribute("type"))},f.prototype.css=function(e){return this.computedStyles||(this.computedStyles=this.isPseudoElement?this.parent.computedStyle(this.before?":before":":after"):this.computedStyle(null)),this.styles[e]||(this.styles[e]=this.computedStyles[e])},f.prototype.prefixedCss=function(e){var n=["webkit","moz","ms","o"],f=this.css(e);return void 0===f&&n.some(function(n){return f=this.css(n+e.substr(0,1).toUpperCase()+e.substr(1)),void 0!==f},this),void 0===f?null:f},f.prototype.computedStyle=function(e){return this.node.ownerDocument.defaultView.getComputedStyle(this.node,e)},f.prototype.cssInt=function(e){var n=parseInt(this.css(e),10);return isNaN(n)?0:n},f.prototype.color=function(e){return this.colors[e]||(this.colors[e]=new s(this.css(e)))},f.prototype.cssFloat=function(e){var n=parseFloat(this.css(e));return isNaN(n)?0:n},f.prototype.fontWeight=function(){var e=this.css("fontWeight");switch(parseInt(e,10)){case 401:e="bold";break;case 400:e="normal"}return e},f.prototype.parseClip=function(){var e=this.css("clip").match(this.CLIP);return e?{top:parseInt(e[1],10),right:parseInt(e[2],10),bottom:parseInt(e[3],10),left:parseInt(e[4],10)}:null},f.prototype.parseBackgroundImages=function(){return this.backgroundImages||(this.backgroundImages=p(this.css("backgroundImage")))},f.prototype.cssList=function(e,n){var f=(this.css(e)||"").split(",");return f=f[n||0]||f[0]||"auto",f=f.trim().split(" "),1===f.length&&(f=[f[0],i(f[0])?"auto":f[0]]),f},f.prototype.parseBackgroundSize=function(e,n,f){var o,d,t=this.cssList("backgroundSize",f);if(i(t[0]))o=e.width*parseFloat(t[0])/100;else{if(/contain|cover/.test(t[0])){var l=e.width/e.height,s=n.width/n.height;return s>l^"contain"===t[0]?{width:e.height*s,height:e.height}:{width:e.width,height:e.width/s}}o=parseInt(t[0],10)}return d="auto"===t[0]&&"auto"===t[1]?n.height:"auto"===t[1]?o/n.width*n.height:i(t[1])?e.height*parseFloat(t[1])/100:parseInt(t[1],10),"auto"===t[0]&&(o=d/n.height*n.width),{width:o,height:d}},f.prototype.parseBackgroundPosition=function(e,n,f,o){var d,t,l=this.cssList("backgroundPosition",f);return d=i(l[0])?(e.width-(o||n).width)*(parseFloat(l[0])/100):parseInt(l[0],10),t="auto"===l[1]?d/n.width*n.height:i(l[1])?(e.height-(o||n).height)*parseFloat(l[1])/100:parseInt(l[1],10),"auto"===l[0]&&(d=t/n.height*n.width),{left:d,top:t}},f.prototype.parseBackgroundRepeat=function(e){return this.cssList("backgroundRepeat",e)[0]},f.prototype.parseTextShadows=function(){var e=this.css("textShadow"),n=[];if(e&&"none"!==e)for(var f=e.match(this.TEXT_SHADOW_PROPERTY),o=0;f&&o<f.length;o++){var d=f[o].match(this.TEXT_SHADOW_VALUES);n.push({color:new s(d[0]),offsetX:d[1]?parseFloat(d[1].replace("px","")):0,offsetY:d[2]?parseFloat(d[2].replace("px","")):0,blur:d[3]?d[3].replace("px",""):0})}return n},f.prototype.parseTransform=function(){if(!this.transformData)if(this.hasTransform()){var e=this.parseBounds(),n=this.prefixedCss("transformOrigin").split(" ").map(t).map(l);n[0]+=e.left,n[1]+=e.top,this.transformData={origin:n,matrix:this.parseTransformMatrix()}}else this.transformData={origin:[0,0],matrix:[1,0,0,1,0,0]};return this.transformData},f.prototype.parseTransformMatrix=function(){if(!this.transformMatrix){var e=this.prefixedCss("transform"),n=e?d(e.match(this.MATRIX_PROPERTY)):null;this.transformMatrix=n?n:[1,0,0,1,0,0]}return this.transformMatrix},f.prototype.parseBounds=function(){return this.bounds||(this.bounds=this.hasTransform()?c(this.node):a(this.node))},f.prototype.hasTransform=function(){return"1,0,0,1,0,0"!==this.parseTransformMatrix().join(",")||this.parent&&this.parent.hasTransform()},f.prototype.getValue=function(){var e=this.node.value||"";return"SELECT"===this.node.tagName?e=o(this.node):"password"===this.node.type&&(e=Array(e.length+1).join("")),0===e.length?this.node.placeholder||"":e},f.prototype.MATRIX_PROPERTY=/(matrix|matrix3d)\((.+)\)/,f.prototype.TEXT_SHADOW_PROPERTY=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,f.prototype.TEXT_SHADOW_VALUES=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g,f.prototype.CLIP=/^rect\((\d+)px,? (\d+)px,? (\d+)px,? (\d+)px\)$/,n.exports=f},{"./color":3,"./utils":26}],15:[function(e,n){function f(e,n,f,o,d){N("Starting NodeParser"),this.renderer=n,this.options=d,this.range=null,this.support=f,this.renderQueue=[],this.stack=new U(!0,1,e.ownerDocument,null);var i=new P(e,null);if(d.background&&n.rectangle(0,0,n.width,n.height,new T(d.background)),e===e.ownerDocument.documentElement){var t=new P(i.color("backgroundColor").isTransparent()?e.ownerDocument.body:e.ownerDocument.documentElement,null);n.rectangle(0,0,n.width,n.height,t.color("backgroundColor"))}i.visibile=i.isElementVisible(),this.createPseudoHideStyles(e.ownerDocument),this.disableAnimations(e.ownerDocument),this.nodes=I([i].concat(this.getChildren(i)).filter(function(e){return e.visible=e.isElementVisible()}).map(this.getPseudoElements,this)),this.fontMetrics=new S,N("Fetched nodes, total:",this.nodes.length),N("Calculate overflow clips"),this.calculateOverflowClips(),N("Start fetching images"),this.images=o.fetch(this.nodes.filter(A)),this.ready=this.images.ready.then(W(function(){return N("Images loaded, starting parsing"),N("Creating stacking contexts"),this.createStackingContexts(),N("Sorting stacking contexts"),this.sortStackingContexts(this.stack),this.parse(this.stack),N("Render queue created with "+this.renderQueue.length+" items"),new Promise(W(function(e){d.async?"function"==typeof d.async?d.async.call(this,this.renderQueue,e):this.renderQueue.length>0?(this.renderIndex=0,this.asyncRenderer(this.renderQueue,e)):e():(this.renderQueue.forEach(this.paint,this),e())},this))},this))}function o(e){return e.parent&&e.parent.clip.length}function d(e){return e.replace(/(\-[a-z])/g,function(e){return e.toUpperCase().replace("-","")})}function i(){}function t(e,n,f,o){return e.map(function(d,i){if(d.width>0){var t=n.left,l=n.top,s=n.width,u=n.height-e[2].width;switch(i){case 0:u=e[0].width,d.args=a({c1:[t,l],c2:[t+s,l],c3:[t+s-e[1].width,l+u],c4:[t+e[3].width,l+u]},o[0],o[1],f.topLeftOuter,f.topLeftInner,f.topRightOuter,f.topRightInner);break;case 1:t=n.left+n.width-e[1].width,s=e[1].width,d.args=a({c1:[t+s,l],c2:[t+s,l+u+e[2].width],c3:[t,l+u],c4:[t,l+e[0].width]},o[1],o[2],f.topRightOuter,f.topRightInner,f.bottomRightOuter,f.bottomRightInner);break;case 2:l=l+n.height-e[2].width,u=e[2].width,d.args=a({c1:[t+s,l+u],c2:[t,l+u],c3:[t+e[3].width,l],c4:[t+s-e[3].width,l]},o[2],o[3],f.bottomRightOuter,f.bottomRightInner,f.bottomLeftOuter,f.bottomLeftInner);break;case 3:s=e[3].width,d.args=a({c1:[t,l+u+e[2].width],c2:[t,l],c3:[t+s,l+e[0].width],c4:[t+s,l+u]},o[3],o[0],f.bottomLeftOuter,f.bottomLeftInner,f.topLeftOuter,f.topLeftInner)}}return d})}function l(e,n,f,o){var d=4*((Math.sqrt(2)-1)/3),i=f*d,t=o*d,l=e+f,s=n+o;return{topLeft:u({x:e,y:s},{x:e,y:s-t},{x:l-i,y:n},{x:l,y:n}),topRight:u({x:e,y:n},{x:e+i,y:n},{x:l,y:s-t},{x:l,y:s}),bottomRight:u({x:l,y:n},{x:l,y:n+t},{x:e+i,y:s},{x:e,y:s}),bottomLeft:u({x:l,y:s},{x:l-i,y:s},{x:e,y:n+t},{x:e,y:n})}}function s(e,n,f){var o=e.left,d=e.top,i=e.width,t=e.height,s=n[0][0]<i/2?n[0][0]:i/2,u=n[0][1]<t/2?n[0][1]:t/2,a=n[1][0]<i/2?n[1][0]:i/2,p=n[1][1]<t/2?n[1][1]:t/2,c=n[2][0]<i/2?n[2][0]:i/2,y=n[2][1]<t/2?n[2][1]:t/2,m=n[3][0]<i/2?n[3][0]:i/2,r=n[3][1]<t/2?n[3][1]:t/2,v=i-a,w=t-y,b=i-c,g=t-r;return{topLeftOuter:l(o,d,s,u).topLeft.subdivide(.5),topLeftInner:l(o+f[3].width,d+f[0].width,Math.max(0,s-f[3].width),Math.max(0,u-f[0].width)).topLeft.subdivide(.5),topRightOuter:l(o+v,d,a,p).topRight.subdivide(.5),topRightInner:l(o+Math.min(v,i+f[3].width),d+f[0].width,v>i+f[3].width?0:a-f[3].width,p-f[0].width).topRight.subdivide(.5),bottomRightOuter:l(o+b,d+w,c,y).bottomRight.subdivide(.5),bottomRightInner:l(o+Math.min(b,i-f[3].width),d+Math.min(w,t+f[0].width),Math.max(0,c-f[1].width),y-f[2].width).bottomRight.subdivide(.5),bottomLeftOuter:l(o,d+g,m,r).bottomLeft.subdivide(.5),bottomLeftInner:l(o+f[3].width,d+g,Math.max(0,m-f[3].width),r-f[2].width).bottomLeft.subdivide(.5)}
	}function u(e,n,f,o){var d=function(e,n,f){return{x:e.x+(n.x-e.x)*f,y:e.y+(n.y-e.y)*f}};return{start:e,startControl:n,endControl:f,end:o,subdivide:function(i){var t=d(e,n,i),l=d(n,f,i),s=d(f,o,i),a=d(t,l,i),p=d(l,s,i),c=d(a,p,i);return[u(e,t,a,c),u(c,p,s,o)]},curveTo:function(e){e.push(["bezierCurve",n.x,n.y,f.x,f.y,o.x,o.y])},curveToReversed:function(o){o.push(["bezierCurve",f.x,f.y,n.x,n.y,e.x,e.y])}}}function a(e,n,f,o,d,i,t){var l=[];return n[0]>0||n[1]>0?(l.push(["line",o[1].start.x,o[1].start.y]),o[1].curveTo(l)):l.push(["line",e.c1[0],e.c1[1]]),f[0]>0||f[1]>0?(l.push(["line",i[0].start.x,i[0].start.y]),i[0].curveTo(l),l.push(["line",t[0].end.x,t[0].end.y]),t[0].curveToReversed(l)):(l.push(["line",e.c2[0],e.c2[1]]),l.push(["line",e.c3[0],e.c3[1]])),n[0]>0||n[1]>0?(l.push(["line",d[1].end.x,d[1].end.y]),d[1].curveToReversed(l)):l.push(["line",e.c4[0],e.c4[1]]),l}function p(e,n,f,o,d,i,t){n[0]>0||n[1]>0?(e.push(["line",o[0].start.x,o[0].start.y]),o[0].curveTo(e),o[1].curveTo(e)):e.push(["line",i,t]),(f[0]>0||f[1]>0)&&e.push(["line",d[0].start.x,d[0].start.y])}function c(e){return e.cssInt("zIndex")<0}function y(e){return e.cssInt("zIndex")>0}function m(e){return 0===e.cssInt("zIndex")}function r(e){return-1!==["inline","inline-block","inline-table"].indexOf(e.css("display"))}function v(e){return e instanceof U}function w(e){return e.node.data.trim().length>0}function b(e){return/^(normal|none|0px)$/.test(e.parent.css("letterSpacing"))}function g(e){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(n){var f=e.css("border"+n+"Radius"),o=f.split(" ");return o.length<=1&&(o[1]=o[0]),o.map(F)})}function h(e){return e.nodeType===Node.TEXT_NODE||e.nodeType===Node.ELEMENT_NODE}function x(e){var n=e.css("position"),f=-1!==["absolute","relative","fixed"].indexOf(n)?e.css("zIndex"):"auto";return"auto"!==f}function j(e){return"static"!==e.css("position")}function k(e){return"none"!==e.css("float")}function q(e){return-1!==["inline-block","inline-table"].indexOf(e.css("display"))}function z(e){var n=this;return function(){return!e.apply(n,arguments)}}function A(e){return e.node.nodeType===Node.ELEMENT_NODE}function B(e){return e.isPseudoElement===!0}function C(e){return e.node.nodeType===Node.TEXT_NODE}function D(e){return function(n,f){return n.cssInt("zIndex")+e.indexOf(n)/e.length-(f.cssInt("zIndex")+e.indexOf(f)/e.length)}}function E(e){return e.getOpacity()<1}function F(e){return parseInt(e,10)}function G(e){return e.width}function H(e){return e.node.nodeType!==Node.ELEMENT_NODE||-1===["SCRIPT","HEAD","TITLE","OBJECT","BR","OPTION"].indexOf(e.node.nodeName)}function I(e){return[].concat.apply([],e)}function J(e){var n=e.substr(0,1);return n===e.substr(e.length-1)&&n.match(/'|"/)?e.substr(1,e.length-2):e}function K(e){for(var n,f=[],o=0,d=!1;e.length;)L(e[o])===d?(n=e.splice(0,o),n.length&&f.push(O.ucs2.encode(n)),d=!d,o=0):o++,o>=e.length&&(n=e.splice(0,o),n.length&&f.push(O.ucs2.encode(n)));return f}function L(e){return-1!==[32,13,10,9,45].indexOf(e)}function M(e){return/[^\u0000-\u00ff]/.test(e)}var N=e("./log"),O=e("punycode"),P=e("./nodecontainer"),Q=e("./textcontainer"),R=e("./pseudoelementcontainer"),S=e("./fontmetrics"),T=e("./color"),U=e("./stackingcontext"),V=e("./utils"),W=V.bind,X=V.getBounds,Y=V.parseBackgrounds,Z=V.offsetBounds;f.prototype.calculateOverflowClips=function(){this.nodes.forEach(function(e){if(A(e)){B(e)&&e.appendToDOM(),e.borders=this.parseBorders(e);var n="hidden"===e.css("overflow")?[e.borders.clip]:[],f=e.parseClip();f&&-1!==["absolute","fixed"].indexOf(e.css("position"))&&n.push([["rect",e.bounds.left+f.left,e.bounds.top+f.top,f.right-f.left,f.bottom-f.top]]),e.clip=o(e)?e.parent.clip.concat(n):n,e.backgroundClip="hidden"!==e.css("overflow")?e.clip.concat([e.borders.clip]):e.clip,B(e)&&e.cleanDOM()}else C(e)&&(e.clip=o(e)?e.parent.clip:[]);B(e)||(e.bounds=null)},this)},f.prototype.asyncRenderer=function(e,n,f){f=f||Date.now(),this.paint(e[this.renderIndex++]),e.length===this.renderIndex?n():f+20>Date.now()?this.asyncRenderer(e,n,f):setTimeout(W(function(){this.asyncRenderer(e,n)},this),0)},f.prototype.createPseudoHideStyles=function(e){this.createStyles(e,"."+R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+':before { content: "" !important; display: none !important; }.'+R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER+':after { content: "" !important; display: none !important; }')},f.prototype.disableAnimations=function(e){this.createStyles(e,"* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; -webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}")},f.prototype.createStyles=function(e,n){var f=e.createElement("style");f.innerHTML=n,e.body.appendChild(f)},f.prototype.getPseudoElements=function(e){var n=[[e]];if(e.node.nodeType===Node.ELEMENT_NODE){var f=this.getPseudoElement(e,":before"),o=this.getPseudoElement(e,":after");f&&n.push(f),o&&n.push(o)}return I(n)},f.prototype.getPseudoElement=function(e,n){var f=e.computedStyle(n);if(!f||!f.content||"none"===f.content||"-moz-alt-content"===f.content||"none"===f.display)return null;for(var o=J(f.content),i="url"===o.substr(0,3),t=document.createElement(i?"img":"html2canvaspseudoelement"),l=new R(t,e,n),s=f.length-1;s>=0;s--){var u=d(f.item(s));t.style[u]=f[u]}if(t.className=R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE+" "+R.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER,i)return t.src=Y(o)[0].args[0],[l];var a=document.createTextNode(o);return t.appendChild(a),[l,new Q(a,l)]},f.prototype.getChildren=function(e){return I([].filter.call(e.node.childNodes,h).map(function(n){var f=[n.nodeType===Node.TEXT_NODE?new Q(n,e):new P(n,e)].filter(H);return n.nodeType===Node.ELEMENT_NODE&&f.length&&"TEXTAREA"!==n.tagName?f[0].isElementVisible()?f.concat(this.getChildren(f[0])):[]:f},this))},f.prototype.newStackingContext=function(e,n){var f=new U(n,e.getOpacity(),e.node,e.parent);e.cloneTo(f);var o=n?f.getParentStack(this):f.parent.stack;o.contexts.push(f),e.stack=f},f.prototype.createStackingContexts=function(){this.nodes.forEach(function(e){A(e)&&(this.isRootElement(e)||E(e)||x(e)||this.isBodyWithTransparentRoot(e)||e.hasTransform())?this.newStackingContext(e,!0):A(e)&&(j(e)&&m(e)||q(e)||k(e))?this.newStackingContext(e,!1):e.assignStack(e.parent.stack)},this)},f.prototype.isBodyWithTransparentRoot=function(e){return"BODY"===e.node.nodeName&&e.parent.color("backgroundColor").isTransparent()},f.prototype.isRootElement=function(e){return null===e.parent},f.prototype.sortStackingContexts=function(e){e.contexts.sort(D(e.contexts.slice(0))),e.contexts.forEach(this.sortStackingContexts,this)},f.prototype.parseTextBounds=function(e){return function(n,f,o){if("none"!==e.parent.css("textDecoration").substr(0,4)||0!==n.trim().length){if(this.support.rangeBounds&&!e.parent.hasTransform()){var d=o.slice(0,f).join("").length;return this.getRangeBounds(e.node,d,n.length)}if(e.node&&"string"==typeof e.node.data){var i=e.node.splitText(n.length),t=this.getWrapperBounds(e.node,e.parent.hasTransform());return e.node=i,t}}else(!this.support.rangeBounds||e.parent.hasTransform())&&(e.node=e.node.splitText(n.length));return{}}},f.prototype.getWrapperBounds=function(e,n){var f=e.ownerDocument.createElement("html2canvaswrapper"),o=e.parentNode,d=e.cloneNode(!0);f.appendChild(e.cloneNode(!0)),o.replaceChild(f,e);var i=n?Z(f):X(f);return o.replaceChild(d,f),i},f.prototype.getRangeBounds=function(e,n,f){var o=this.range||(this.range=e.ownerDocument.createRange());return o.setStart(e,n),o.setEnd(e,n+f),o.getBoundingClientRect()},f.prototype.parse=function(e){var n=e.contexts.filter(c),f=e.children.filter(A),o=f.filter(z(k)),d=o.filter(z(j)).filter(z(r)),t=f.filter(z(j)).filter(k),l=o.filter(z(j)).filter(r),s=e.contexts.concat(o.filter(j)).filter(m),u=e.children.filter(C).filter(w),a=e.contexts.filter(y);n.concat(d).concat(t).concat(l).concat(s).concat(u).concat(a).forEach(function(e){this.renderQueue.push(e),v(e)&&(this.parse(e),this.renderQueue.push(new i))},this)},f.prototype.paint=function(e){try{e instanceof i?this.renderer.ctx.restore():C(e)?(B(e.parent)&&e.parent.appendToDOM(),this.paintText(e),B(e.parent)&&e.parent.cleanDOM()):this.paintNode(e)}catch(n){if(N(n),this.options.strict)throw n}},f.prototype.paintNode=function(e){v(e)&&(this.renderer.setOpacity(e.opacity),this.renderer.ctx.save(),e.hasTransform()&&this.renderer.setTransform(e.parseTransform())),"INPUT"===e.node.nodeName&&"checkbox"===e.node.type?this.paintCheckbox(e):"INPUT"===e.node.nodeName&&"radio"===e.node.type?this.paintRadio(e):this.paintElement(e)},f.prototype.paintElement=function(e){var n=e.parseBounds();this.renderer.clip(e.backgroundClip,function(){this.renderer.renderBackground(e,n,e.borders.borders.map(G))},this),this.renderer.clip(e.clip,function(){this.renderer.renderBorders(e.borders.borders)},this),this.renderer.clip(e.backgroundClip,function(){switch(e.node.nodeName){case"svg":case"IFRAME":var f=this.images.get(e.node);f?this.renderer.renderImage(e,n,e.borders,f):N("Error loading <"+e.node.nodeName+">",e.node);break;case"IMG":var o=this.images.get(e.node.src);o?this.renderer.renderImage(e,n,e.borders,o):N("Error loading <img>",e.node.src);break;case"CANVAS":this.renderer.renderImage(e,n,e.borders,{image:e.node});break;case"SELECT":case"INPUT":case"TEXTAREA":this.paintFormValue(e)}},this)},f.prototype.paintCheckbox=function(e){var n=e.parseBounds(),f=Math.min(n.width,n.height),o={width:f-1,height:f-1,top:n.top,left:n.left},d=[3,3],i=[d,d,d,d],l=[1,1,1,1].map(function(e){return{color:new T("#A5A5A5"),width:e}}),u=s(o,i,l);this.renderer.clip(e.backgroundClip,function(){this.renderer.rectangle(o.left+1,o.top+1,o.width-2,o.height-2,new T("#DEDEDE")),this.renderer.renderBorders(t(l,o,u,i)),e.node.checked&&(this.renderer.font(new T("#424242"),"normal","normal","bold",f-3+"px","arial"),this.renderer.text("",o.left+f/6,o.top+f-1))},this)},f.prototype.paintRadio=function(e){var n=e.parseBounds(),f=Math.min(n.width,n.height)-2;this.renderer.clip(e.backgroundClip,function(){this.renderer.circleStroke(n.left+1,n.top+1,f,new T("#DEDEDE"),1,new T("#A5A5A5")),e.node.checked&&this.renderer.circle(Math.ceil(n.left+f/4)+1,Math.ceil(n.top+f/4)+1,Math.floor(f/2),new T("#424242"))},this)},f.prototype.paintFormValue=function(e){var n=e.getValue();if(n.length>0){var f=e.node.ownerDocument,o=f.createElement("html2canvaswrapper"),d=["lineHeight","textAlign","fontFamily","fontWeight","fontSize","color","paddingLeft","paddingTop","paddingRight","paddingBottom","width","height","borderLeftStyle","borderTopStyle","borderLeftWidth","borderTopWidth","boxSizing","whiteSpace","wordWrap"];d.forEach(function(n){try{o.style[n]=e.css(n)}catch(f){N("html2canvas: Parse: Exception caught in renderFormValue: "+f.message)}});var i=e.parseBounds();o.style.position="fixed",o.style.left=i.left+"px",o.style.top=i.top+"px",o.textContent=n,f.body.appendChild(o),this.paintText(new Q(o.firstChild,e)),f.body.removeChild(o)}},f.prototype.paintText=function(e){e.applyTextTransform();var n=O.ucs2.decode(e.node.data),f=this.options.letterRendering&&!b(e)||M(e.node.data)?n.map(function(e){return O.ucs2.encode([e])}):K(n),o=e.parent.fontWeight(),d=e.parent.css("fontSize"),i=e.parent.css("fontFamily"),t=e.parent.parseTextShadows();this.renderer.font(e.parent.color("color"),e.parent.css("fontStyle"),e.parent.css("fontVariant"),o,d,i),t.length?this.renderer.fontShadow(t[0].color,t[0].offsetX,t[0].offsetY,t[0].blur):this.renderer.clearShadow(),this.renderer.clip(e.parent.clip,function(){f.map(this.parseTextBounds(e),this).forEach(function(n,o){n&&(this.renderer.text(f[o],n.left,n.bottom),this.renderTextDecoration(e.parent,n,this.fontMetrics.getMetrics(i,d)))},this)},this)},f.prototype.renderTextDecoration=function(e,n,f){switch(e.css("textDecoration").split(" ")[0]){case"underline":this.renderer.rectangle(n.left,Math.round(n.top+f.baseline+f.lineWidth),n.width,1,e.color("color"));break;case"overline":this.renderer.rectangle(n.left,Math.round(n.top),n.width,1,e.color("color"));break;case"line-through":this.renderer.rectangle(n.left,Math.ceil(n.top+f.middle+f.lineWidth),n.width,1,e.color("color"))}};var $={inset:[["darken",.6],["darken",.1],["darken",.1],["darken",.6]]};f.prototype.parseBorders=function(e){var n=e.parseBounds(),f=g(e),o=["Top","Right","Bottom","Left"].map(function(n,f){var o=e.css("border"+n+"Style"),d=e.color("border"+n+"Color");"inset"===o&&d.isBlack()&&(d=new T([255,255,255,d.a]));var i=$[o]?$[o][f]:null;return{width:e.cssInt("border"+n+"Width"),color:i?d[i[0]](i[1]):d,args:null}}),d=s(n,f,o);return{clip:this.parseBackgroundClip(e,d,o,f,n),borders:t(o,n,d,f)}},f.prototype.parseBackgroundClip=function(e,n,f,o,d){var i=e.css("backgroundClip"),t=[];switch(i){case"content-box":case"padding-box":p(t,o[0],o[1],n.topLeftInner,n.topRightInner,d.left+f[3].width,d.top+f[0].width),p(t,o[1],o[2],n.topRightInner,n.bottomRightInner,d.left+d.width-f[1].width,d.top+f[0].width),p(t,o[2],o[3],n.bottomRightInner,n.bottomLeftInner,d.left+d.width-f[1].width,d.top+d.height-f[2].width),p(t,o[3],o[0],n.bottomLeftInner,n.topLeftInner,d.left+f[3].width,d.top+d.height-f[2].width);break;default:p(t,o[0],o[1],n.topLeftOuter,n.topRightOuter,d.left,d.top),p(t,o[1],o[2],n.topRightOuter,n.bottomRightOuter,d.left+d.width,d.top),p(t,o[2],o[3],n.bottomRightOuter,n.bottomLeftOuter,d.left+d.width,d.top+d.height),p(t,o[3],o[0],n.bottomLeftOuter,n.topLeftOuter,d.left,d.top+d.height)}return t},n.exports=f},{"./color":3,"./fontmetrics":7,"./log":13,"./nodecontainer":14,"./pseudoelementcontainer":18,"./stackingcontext":21,"./textcontainer":25,"./utils":26,punycode:1}],16:[function(e,n,f){function o(e,n,f){var o="withCredentials"in new XMLHttpRequest;if(!n)return Promise.reject("No proxy configured");var d=t(o),s=l(n,e,d);return o?a(s):i(f,s,d).then(function(e){return m(e.content)})}function d(e,n,f){var o="crossOrigin"in new Image,d=t(o),s=l(n,e,d);return o?Promise.resolve(s):i(f,s,d).then(function(e){return"data:"+e.type+";base64,"+e.content})}function i(e,n,f){return new Promise(function(o,d){var i=e.createElement("script"),t=function(){delete window.html2canvas.proxy[f],e.body.removeChild(i)};window.html2canvas.proxy[f]=function(e){t(),o(e)},i.src=n,i.onerror=function(e){t(),d(e)},e.body.appendChild(i)})}function t(e){return e?"":"html2canvas_"+Date.now()+"_"+ ++r+"_"+Math.round(1e5*Math.random())}function l(e,n,f){return e+"?url="+encodeURIComponent(n)+(f.length?"&callback=html2canvas.proxy."+f:"")}function s(e){return function(n){var f,o=new DOMParser;try{f=o.parseFromString(n,"text/html")}catch(d){c("DOMParser not supported, falling back to createHTMLDocument"),f=document.implementation.createHTMLDocument("");try{f.open(),f.write(n),f.close()}catch(i){c("createHTMLDocument write not supported, falling back to document.body.innerHTML"),f.body.innerHTML=n}}var t=f.querySelector("base");if(!t||!t.href.host){var l=f.createElement("base");l.href=e,f.head.insertBefore(l,f.head.firstChild)}return f}}function u(e,n,f,d,i,t){return new o(e,n,window.document).then(s(e)).then(function(e){return y(e,f,d,i,t,0,0)})}var a=e("./xhr"),p=e("./utils"),c=e("./log"),y=e("./clone"),m=p.decode64,r=0;f.Proxy=o,f.ProxyURL=d,f.loadUrlDocument=u},{"./clone":2,"./log":13,"./utils":26,"./xhr":28}],17:[function(e,n){function f(e,n){var f=document.createElement("a");f.href=e,e=f.href,this.src=e,this.image=new Image;var d=this;this.promise=new Promise(function(f,i){d.image.crossOrigin="Anonymous",d.image.onload=f,d.image.onerror=i,new o(e,n,document).then(function(e){d.image.src=e})["catch"](i)})}var o=e("./proxy").ProxyURL;n.exports=f},{"./proxy":16}],18:[function(e,n){function f(e,n,f){o.call(this,e,n),this.isPseudoElement=!0,this.before=":before"===f}var o=e("./nodecontainer");f.prototype.cloneTo=function(e){f.prototype.cloneTo.call(this,e),e.isPseudoElement=!0,e.before=this.before},f.prototype=Object.create(o.prototype),f.prototype.appendToDOM=function(){this.before?this.parent.node.insertBefore(this.node,this.parent.node.firstChild):this.parent.node.appendChild(this.node),this.parent.node.className+=" "+this.getHideClass()},f.prototype.cleanDOM=function(){this.node.parentNode.removeChild(this.node),this.parent.node.className=this.parent.node.className.replace(this.getHideClass(),"")},f.prototype.getHideClass=function(){return this["PSEUDO_HIDE_ELEMENT_CLASS_"+(this.before?"BEFORE":"AFTER")]},f.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE="___html2canvas___pseudoelement_before",f.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER="___html2canvas___pseudoelement_after",n.exports=f},{"./nodecontainer":14}],19:[function(e,n){function f(e,n,f,o,d){this.width=e,this.height=n,this.images=f,this.options=o,this.document=d}var o=e("./log");f.prototype.renderImage=function(e,n,f,o){var d=e.cssInt("paddingLeft"),i=e.cssInt("paddingTop"),t=e.cssInt("paddingRight"),l=e.cssInt("paddingBottom"),s=f.borders,u=n.width-(s[1].width+s[3].width+d+t),a=n.height-(s[0].width+s[2].width+i+l);this.drawImage(o,0,0,o.image.width||u,o.image.height||a,n.left+d+s[3].width,n.top+i+s[0].width,u,a)},f.prototype.renderBackground=function(e,n,f){n.height>0&&n.width>0&&(this.renderBackgroundColor(e,n),this.renderBackgroundImage(e,n,f))},f.prototype.renderBackgroundColor=function(e,n){var f=e.color("backgroundColor");f.isTransparent()||this.rectangle(n.left,n.top,n.width,n.height,f)},f.prototype.renderBorders=function(e){e.forEach(this.renderBorder,this)},f.prototype.renderBorder=function(e){e.color.isTransparent()||null===e.args||this.drawShape(e.args,e.color)},f.prototype.renderBackgroundImage=function(e,n,f){var d=e.parseBackgroundImages();d.reverse().forEach(function(d,i,t){switch(d.method){case"url":var l=this.images.get(d.args[0]);l?this.renderBackgroundRepeating(e,n,l,t.length-(i+1),f):o("Error loading background-image",d.args[0]);break;case"linear-gradient":case"gradient":var s=this.images.get(d.value);s?this.renderBackgroundGradient(s,n,f):o("Error loading background-image",d.args[0]);break;case"none":break;default:o("Unknown background-image type",d.args[0])}},this)},f.prototype.renderBackgroundRepeating=function(e,n,f,o,d){var i=e.parseBackgroundSize(n,f.image,o),t=e.parseBackgroundPosition(n,f.image,o,i),l=e.parseBackgroundRepeat(o);switch(l){case"repeat-x":case"repeat no-repeat":this.backgroundRepeatShape(f,t,i,n,n.left+d[3],n.top+t.top+d[0],99999,i.height,d);break;case"repeat-y":case"no-repeat repeat":this.backgroundRepeatShape(f,t,i,n,n.left+t.left+d[3],n.top+d[0],i.width,99999,d);break;case"no-repeat":this.backgroundRepeatShape(f,t,i,n,n.left+t.left+d[3],n.top+t.top+d[0],i.width,i.height,d);break;default:this.renderBackgroundRepeat(f,t,i,{top:n.top,left:n.left},d[3],d[0])}},n.exports=f},{"./log":13}],20:[function(e,n){function f(e,n){d.apply(this,arguments),this.canvas=this.options.canvas||this.document.createElement("canvas"),this.options.canvas||(this.canvas.width=e,this.canvas.height=n),this.ctx=this.canvas.getContext("2d"),this.taintCtx=this.document.createElement("canvas").getContext("2d"),this.ctx.textBaseline="bottom",this.variables={},t("Initialized CanvasRenderer with size",e,"x",n)}function o(e){return e.length>0}var d=e("../renderer"),i=e("../lineargradientcontainer"),t=e("../log");f.prototype=Object.create(d.prototype),f.prototype.setFillStyle=function(e){return this.ctx.fillStyle="object"==typeof e&&e.isColor?e.toString():e,this.ctx},f.prototype.rectangle=function(e,n,f,o,d){this.setFillStyle(d).fillRect(e,n,f,o)},f.prototype.circle=function(e,n,f,o){this.setFillStyle(o),this.ctx.beginPath(),this.ctx.arc(e+f/2,n+f/2,f/2,0,2*Math.PI,!0),this.ctx.closePath(),this.ctx.fill()},f.prototype.circleStroke=function(e,n,f,o,d,i){this.circle(e,n,f,o),this.ctx.strokeStyle=i.toString(),this.ctx.stroke()},f.prototype.drawShape=function(e,n){this.shape(e),this.setFillStyle(n).fill()},f.prototype.taints=function(e){if(null===e.tainted){this.taintCtx.drawImage(e.image,0,0);try{this.taintCtx.getImageData(0,0,1,1),e.tainted=!1}catch(n){this.taintCtx=document.createElement("canvas").getContext("2d"),e.tainted=!0}}return e.tainted},f.prototype.drawImage=function(e,n,f,o,d,i,t,l,s){(!this.taints(e)||this.options.allowTaint)&&this.ctx.drawImage(e.image,n,f,o,d,i,t,l,s)},f.prototype.clip=function(e,n,f){this.ctx.save(),e.filter(o).forEach(function(e){this.shape(e).clip()},this),n.call(f),this.ctx.restore()},f.prototype.shape=function(e){return this.ctx.beginPath(),e.forEach(function(e,n){"rect"===e[0]?this.ctx.rect.apply(this.ctx,e.slice(1)):this.ctx[0===n?"moveTo":e[0]+"To"].apply(this.ctx,e.slice(1))},this),this.ctx.closePath(),this.ctx},f.prototype.font=function(e,n,f,o,d,i){this.setFillStyle(e).font=[n,f,o,d,i].join(" ").split(",")[0]},f.prototype.fontShadow=function(e,n,f,o){this.setVariable("shadowColor",e.toString()).setVariable("shadowOffsetY",n).setVariable("shadowOffsetX",f).setVariable("shadowBlur",o)},f.prototype.clearShadow=function(){this.setVariable("shadowColor","rgba(0,0,0,0)")},f.prototype.setOpacity=function(e){this.ctx.globalAlpha=e},f.prototype.setTransform=function(e){this.ctx.translate(e.origin[0],e.origin[1]),this.ctx.transform.apply(this.ctx,e.matrix),this.ctx.translate(-e.origin[0],-e.origin[1])},f.prototype.setVariable=function(e,n){return this.variables[e]!==n&&(this.variables[e]=this.ctx[e]=n),this},f.prototype.text=function(e,n,f){this.ctx.fillText(e,n,f)},f.prototype.backgroundRepeatShape=function(e,n,f,o,d,i,t,l,s){var u=[["line",Math.round(d),Math.round(i)],["line",Math.round(d+t),Math.round(i)],["line",Math.round(d+t),Math.round(l+i)],["line",Math.round(d),Math.round(l+i)]];this.clip([u],function(){this.renderBackgroundRepeat(e,n,f,o,s[3],s[0])},this)},f.prototype.renderBackgroundRepeat=function(e,n,f,o,d,i){var t=Math.round(o.left+n.left+d),l=Math.round(o.top+n.top+i);this.setFillStyle(this.ctx.createPattern(this.resizeImage(e,f),"repeat")),this.ctx.translate(t,l),this.ctx.fill(),this.ctx.translate(-t,-l)},f.prototype.renderBackgroundGradient=function(e,n){if(e instanceof i){var f=this.ctx.createLinearGradient(n.left+n.width*e.x0,n.top+n.height*e.y0,n.left+n.width*e.x1,n.top+n.height*e.y1);e.colorStops.forEach(function(e){f.addColorStop(e.stop,e.color.toString())}),this.rectangle(n.left,n.top,n.width,n.height,f)}},f.prototype.resizeImage=function(e,n){var f=e.image;if(f.width===n.width&&f.height===n.height)return f;var o,d=document.createElement("canvas");return d.width=n.width,d.height=n.height,o=d.getContext("2d"),o.drawImage(f,0,0,f.width,f.height,0,0,n.width,n.height),d},n.exports=f},{"../lineargradientcontainer":12,"../log":13,"../renderer":19}],21:[function(e,n){function f(e,n,f,d){o.call(this,f,d),this.ownStacking=e,this.contexts=[],this.children=[],this.opacity=(this.parent?this.parent.stack.opacity:1)*n}var o=e("./nodecontainer");f.prototype=Object.create(o.prototype),f.prototype.getParentStack=function(e){var n=this.parent?this.parent.stack:null;return n?n.ownStacking?n:n.getParentStack(e):e.stack},n.exports=f},{"./nodecontainer":14}],22:[function(e,n){function f(e){this.rangeBounds=this.testRangeBounds(e),this.cors=this.testCORS(),this.svg=this.testSVG()}f.prototype.testRangeBounds=function(e){var n,f,o,d,i=!1;return e.createRange&&(n=e.createRange(),n.getBoundingClientRect&&(f=e.createElement("boundtest"),f.style.height="123px",f.style.display="block",e.body.appendChild(f),n.selectNode(f),o=n.getBoundingClientRect(),d=o.height,123===d&&(i=!0),e.body.removeChild(f))),i},f.prototype.testCORS=function(){return"undefined"!=typeof(new Image).crossOrigin},f.prototype.testSVG=function(){var e=new Image,n=document.createElement("canvas"),f=n.getContext("2d");e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{f.drawImage(e,0,0),n.toDataURL()}catch(o){return!1}return!0},n.exports=f},{}],23:[function(e,n){function f(e){this.src=e,this.image=null;var n=this;this.promise=this.hasFabric().then(function(){return n.isInline(e)?Promise.resolve(n.inlineFormatting(e)):o(e)}).then(function(e){return new Promise(function(f){window.html2canvas.svg.fabric.loadSVGFromString(e,n.createCanvas.call(n,f))})})}var o=e("./xhr"),d=e("./utils").decode64;f.prototype.hasFabric=function(){return window.html2canvas.svg&&window.html2canvas.svg.fabric?Promise.resolve():Promise.reject(new Error("html2canvas.svg.js is not loaded, cannot render svg"))},f.prototype.inlineFormatting=function(e){return/^data:image\/svg\+xml;base64,/.test(e)?this.decode64(this.removeContentType(e)):this.removeContentType(e)},f.prototype.removeContentType=function(e){return e.replace(/^data:image\/svg\+xml(;base64)?,/,"")},f.prototype.isInline=function(e){return/^data:image\/svg\+xml/i.test(e)},f.prototype.createCanvas=function(e){var n=this;return function(f,o){var d=new window.html2canvas.svg.fabric.StaticCanvas("c");n.image=d.lowerCanvasEl,d.setWidth(o.width).setHeight(o.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(f,o)).renderAll(),e(d.lowerCanvasEl)}},f.prototype.decode64=function(e){return"function"==typeof window.atob?window.atob(e):d(e)},n.exports=f},{"./utils":26,"./xhr":28}],24:[function(e,n){function f(e,n){this.src=e,this.image=null;var f=this;this.promise=n?new Promise(function(n,o){f.image=new Image,f.image.onload=n,f.image.onerror=o,f.image.src="data:image/svg+xml,"+(new XMLSerializer).serializeToString(e),f.image.complete===!0&&n(f.image)}):this.hasFabric().then(function(){return new Promise(function(n){window.html2canvas.svg.fabric.parseSVGDocument(e,f.createCanvas.call(f,n))})})}var o=e("./svgcontainer");f.prototype=Object.create(o.prototype),n.exports=f},{"./svgcontainer":23}],25:[function(e,n){function f(e,n){d.call(this,e,n)}function o(e,n,f){return e.length>0?n+f.toUpperCase():void 0}var d=e("./nodecontainer");f.prototype=Object.create(d.prototype),f.prototype.applyTextTransform=function(){this.node.data=this.transform(this.parent.css("textTransform"))},f.prototype.transform=function(e){var n=this.node.data;switch(e){case"lowercase":return n.toLowerCase();case"capitalize":return n.replace(/(^|\s|:|-|\(|\))([a-z])/g,o);case"uppercase":return n.toUpperCase();default:return n}},n.exports=f},{"./nodecontainer":14}],26:[function(e,n,f){f.smallImage=function(){return"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},f.bind=function(e,n){return function(){return e.apply(n,arguments)}},f.decode64=function(e){var n,f,o,d,i,t,l,s,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=e.length,p="";for(n=0;a>n;n+=4)f=u.indexOf(e[n]),o=u.indexOf(e[n+1]),d=u.indexOf(e[n+2]),i=u.indexOf(e[n+3]),t=f<<2|o>>4,l=(15&o)<<4|d>>2,s=(3&d)<<6|i,p+=64===d?String.fromCharCode(t):64===i||-1===i?String.fromCharCode(t,l):String.fromCharCode(t,l,s);return p},f.getBounds=function(e){if(e.getBoundingClientRect){var n=e.getBoundingClientRect(),f=null==e.offsetWidth?n.width:e.offsetWidth;return{top:n.top,bottom:n.bottom||n.top+n.height,right:n.left+f,left:n.left,width:f,height:null==e.offsetHeight?n.height:e.offsetHeight}}return{}},f.offsetBounds=function(e){var n=e.offsetParent?f.offsetBounds(e.offsetParent):{top:0,left:0};return{top:e.offsetTop+n.top,bottom:e.offsetTop+e.offsetHeight+n.top,right:e.offsetLeft+n.left+e.offsetWidth,left:e.offsetLeft+n.left,width:e.offsetWidth,height:e.offsetHeight}},f.parseBackgrounds=function(e){var n,f,o,d,i,t,l,s=" \r\n	",u=[],a=0,p=0,c=function(){n&&('"'===f.substr(0,1)&&(f=f.substr(1,f.length-2)),f&&l.push(f),"-"===n.substr(0,1)&&(d=n.indexOf("-",1)+1)>0&&(o=n.substr(0,d),n=n.substr(d)),u.push({prefix:o,method:n.toLowerCase(),value:i,args:l,image:null})),l=[],n=o=f=i=""};return l=[],n=o=f=i="",e.split("").forEach(function(e){if(!(0===a&&s.indexOf(e)>-1)){switch(e){case'"':t?t===e&&(t=null):t=e;break;case"(":if(t)break;if(0===a)return a=1,void(i+=e);p++;break;case")":if(t)break;if(1===a){if(0===p)return a=0,i+=e,void c();p--}break;case",":if(t)break;if(0===a)return void c();if(1===a&&0===p&&!n.match(/^url$/i))return l.push(f),f="",void(i+=e)}i+=e,0===a?n+=e:f+=e}}),c(),u}},{}],27:[function(e,n){function f(e){o.apply(this,arguments),this.type="linear"===e.args[0]?o.TYPES.LINEAR:o.TYPES.RADIAL}var o=e("./gradientcontainer");f.prototype=Object.create(o.prototype),n.exports=f},{"./gradientcontainer":9}],28:[function(e,n){function f(e){return new Promise(function(n,f){var o=new XMLHttpRequest;o.open("GET",e),o.onload=function(){200===o.status?n(o.responseText):f(new Error(o.statusText))},o.onerror=function(){f(new Error("Network Error"))},o.send()})}n.exports=f},{}]},{},[4])(4)});
	/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))

/***/ }),
/* 62 */
/***/ (function(module, exports, __webpack_require__) {

	var require;var require;/*
	  html2canvas 0.5.0-beta3 <http://html2canvas.hertzen.com>
	  Copyright (c) 2016 Niklas von Hertzen

	  Released under  License
	*/
	!function(e){if(true)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;"undefined"!=typeof window?n=window:"undefined"!=typeof global?n=global:"undefined"!=typeof self&&(n=self),(n.html2canvas||(n.html2canvas={})).svg=e()}}(function(){var define,module,exports;return function e(n,f,o){function d(t,l){if(!f[t]){if(!n[t]){var s="function"==typeof require&&require;if(!l&&s)return require(t,!0);if(i)return i(t,!0);var u=new Error("Cannot find module '"+t+"'");throw u.code="MODULE_NOT_FOUND",u}var a=f[t]={exports:{}};n[t][0].call(a.exports,function(e){var f=n[t][1][e];return d(f?f:e)},a,a.exports,e,n,f,o)}return f[t].exports}for(var i="function"==typeof require&&require,t=0;t<o.length;t++)d(o[t]);return d}({1:[function(){},{}],2:[function(e,n,f){function o(e,n,f){if(!(this instanceof o))return new o(e,n,f);var d,i=typeof e;if("number"===i)d=e>0?e>>>0:0;else if("string"===i)d=o.byteLength(e,n);else{if("object"!==i||null===e)throw new TypeError("must start with number, buffer, array or string");"Buffer"===e.type&&K(e.data)&&(e=e.data),d=+e.length>0?Math.floor(+e.length):0}if(d>L)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+L.toString(16)+" bytes");var t;o.TYPED_ARRAY_SUPPORT?t=o._augment(new Uint8Array(d)):(t=this,t.length=d,t._isBuffer=!0);var l;if(o.TYPED_ARRAY_SUPPORT&&"number"==typeof e.byteLength)t._set(e);else if(A(e))if(o.isBuffer(e))for(l=0;d>l;l++)t[l]=e.readUInt8(l);else for(l=0;d>l;l++)t[l]=(e[l]%256+256)%256;else if("string"===i)t.write(e,0,n);else if("number"===i&&!o.TYPED_ARRAY_SUPPORT&&!f)for(l=0;d>l;l++)t[l]=0;return d>0&&d<=o.poolSize&&(t.parent=M),t}function d(e,n,f){if(!(this instanceof d))return new d(e,n,f);var i=new o(e,n,f);return delete i.parent,i}function i(e,n,f,o){f=Number(f)||0;var d=e.length-f;o?(o=Number(o),o>d&&(o=d)):o=d;var i=n.length;if(i%2!==0)throw new Error("Invalid hex string");o>i/2&&(o=i/2);for(var t=0;o>t;t++){var l=parseInt(n.substr(2*t,2),16);if(isNaN(l))throw new Error("Invalid hex string");e[f+t]=l}return t}function t(e,n,f,o){var d=G(C(n,e.length-f),e,f,o);return d}function l(e,n,f,o){var d=G(D(n),e,f,o);return d}function s(e,n,f,o){return l(e,n,f,o)}function u(e,n,f,o){var d=G(F(n),e,f,o);return d}function a(e,n,f,o){var d=G(E(n,e.length-f),e,f,o,2);return d}function p(e,n,f){return I.fromByteArray(0===n&&f===e.length?e:e.slice(n,f))}function c(e,n,f){var o="",d="";f=Math.min(e.length,f);for(var i=n;f>i;i++)e[i]<=127?(o+=H(d)+String.fromCharCode(e[i]),d=""):d+="%"+e[i].toString(16);return o+H(d)}function y(e,n,f){var o="";f=Math.min(e.length,f);for(var d=n;f>d;d++)o+=String.fromCharCode(127&e[d]);return o}function m(e,n,f){var o="";f=Math.min(e.length,f);for(var d=n;f>d;d++)o+=String.fromCharCode(e[d]);return o}function r(e,n,f){var o=e.length;(!n||0>n)&&(n=0),(!f||0>f||f>o)&&(f=o);for(var d="",i=n;f>i;i++)d+=B(e[i]);return d}function v(e,n,f){for(var o=e.slice(n,f),d="",i=0;i<o.length;i+=2)d+=String.fromCharCode(o[i]+256*o[i+1]);return d}function w(e,n,f){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+n>f)throw new RangeError("Trying to access beyond buffer length")}function b(e,n,f,d,i,t){if(!o.isBuffer(e))throw new TypeError("buffer must be a Buffer instance");if(n>i||t>n)throw new RangeError("value is out of bounds");if(f+d>e.length)throw new RangeError("index out of range")}function g(e,n,f,o){0>n&&(n=65535+n+1);for(var d=0,i=Math.min(e.length-f,2);i>d;d++)e[f+d]=(n&255<<8*(o?d:1-d))>>>8*(o?d:1-d)}function h(e,n,f,o){0>n&&(n=4294967295+n+1);for(var d=0,i=Math.min(e.length-f,4);i>d;d++)e[f+d]=n>>>8*(o?d:3-d)&255}function x(e,n,f,o,d,i){if(n>d||i>n)throw new RangeError("value is out of bounds");if(f+o>e.length)throw new RangeError("index out of range");if(0>f)throw new RangeError("index out of range")}function j(e,n,f,o,d){return d||x(e,n,f,4,3.4028234663852886e38,-3.4028234663852886e38),J.write(e,n,f,o,23,4),f+4}function k(e,n,f,o,d){return d||x(e,n,f,8,1.7976931348623157e308,-1.7976931348623157e308),J.write(e,n,f,o,52,8),f+8}function q(e){if(e=z(e).replace(O,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function A(e){return K(e)||o.isBuffer(e)||e&&"object"==typeof e&&"number"==typeof e.length}function B(e){return 16>e?"0"+e.toString(16):e.toString(16)}function C(e,n){var f,o=e.length,d=null;n=n||1/0;for(var i=[],t=0;o>t;t++){if(f=e.charCodeAt(t),f>55295&&57344>f){if(!d){if(f>56319){(n-=3)>-1&&i.push(239,191,189);continue}if(t+1===o){(n-=3)>-1&&i.push(239,191,189);continue}d=f;continue}if(56320>f){(n-=3)>-1&&i.push(239,191,189),d=f;continue}f=d-55296<<10|f-56320|65536,d=null}else d&&((n-=3)>-1&&i.push(239,191,189),d=null);if(128>f){if((n-=1)<0)break;i.push(f)}else if(2048>f){if((n-=2)<0)break;i.push(f>>6|192,63&f|128)}else if(65536>f){if((n-=3)<0)break;i.push(f>>12|224,f>>6&63|128,63&f|128)}else{if(!(2097152>f))throw new Error("Invalid code point");if((n-=4)<0)break;i.push(f>>18|240,f>>12&63|128,f>>6&63|128,63&f|128)}}return i}function D(e){for(var n=[],f=0;f<e.length;f++)n.push(255&e.charCodeAt(f));return n}function E(e,n){for(var f,o,d,i=[],t=0;t<e.length&&!((n-=2)<0);t++)f=e.charCodeAt(t),o=f>>8,d=f%256,i.push(d),i.push(o);return i}function F(e){return I.toByteArray(q(e))}function G(e,n,f,o,d){d&&(o-=o%d);for(var i=0;o>i&&!(i+f>=n.length||i>=e.length);i++)n[i+f]=e[i];return i}function H(e){try{return decodeURIComponent(e)}catch(n){return String.fromCharCode(65533)}}var I=e("base64-js"),J=e("ieee754"),K=e("is-array");f.Buffer=o,f.SlowBuffer=d,f.INSPECT_MAX_BYTES=50,o.poolSize=8192;var L=1073741823,M={};o.TYPED_ARRAY_SUPPORT=function(){try{var e=new ArrayBuffer(0),n=new Uint8Array(e);return n.foo=function(){return 42},42===n.foo()&&"function"==typeof n.subarray&&0===new Uint8Array(1).subarray(1,1).byteLength}catch(f){return!1}}(),o.isBuffer=function(e){return!(null==e||!e._isBuffer)},o.compare=function(e,n){if(!o.isBuffer(e)||!o.isBuffer(n))throw new TypeError("Arguments must be Buffers");for(var f=e.length,d=n.length,i=0,t=Math.min(f,d);t>i&&e[i]===n[i];i++);return i!==t&&(f=e[i],d=n[i]),d>f?-1:f>d?1:0},o.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(e,n){if(!K(e))throw new TypeError("Usage: Buffer.concat(list[, length])");if(0===e.length)return new o(0);if(1===e.length)return e[0];var f;if(void 0===n)for(n=0,f=0;f<e.length;f++)n+=e[f].length;var d=new o(n),i=0;for(f=0;f<e.length;f++){var t=e[f];t.copy(d,i),i+=t.length}return d},o.byteLength=function(e,n){var f;switch(e+="",n||"utf8"){case"ascii":case"binary":case"raw":f=e.length;break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":f=2*e.length;break;case"hex":f=e.length>>>1;break;case"utf8":case"utf-8":f=C(e).length;break;case"base64":f=F(e).length;break;default:f=e.length}return f},o.prototype.length=void 0,o.prototype.parent=void 0,o.prototype.toString=function(e,n,f){var o=!1;if(n>>>=0,f=void 0===f||1/0===f?this.length:f>>>0,e||(e="utf8"),0>n&&(n=0),f>this.length&&(f=this.length),n>=f)return"";for(;;)switch(e){case"hex":return r(this,n,f);case"utf8":case"utf-8":return c(this,n,f);case"ascii":return y(this,n,f);case"binary":return m(this,n,f);case"base64":return p(this,n,f);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,n,f);default:if(o)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),o=!0}},o.prototype.equals=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return 0===o.compare(this,e)},o.prototype.inspect=function(){var e="",n=f.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},o.prototype.compare=function(e){if(!o.isBuffer(e))throw new TypeError("Argument must be a Buffer");return o.compare(this,e)},o.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},o.prototype.set=function(e,n){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,n)},o.prototype.write=function(e,n,f,o){if(isFinite(n))isFinite(f)||(o=f,f=void 0);else{var d=o;o=n,n=f,f=d}if(n=Number(n)||0,0>f||0>n||n>this.length)throw new RangeError("attempt to write outside buffer bounds");var p=this.length-n;f?(f=Number(f),f>p&&(f=p)):f=p,o=String(o||"utf8").toLowerCase();var c;switch(o){case"hex":c=i(this,e,n,f);break;case"utf8":case"utf-8":c=t(this,e,n,f);break;case"ascii":c=l(this,e,n,f);break;case"binary":c=s(this,e,n,f);break;case"base64":c=u(this,e,n,f);break;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":c=a(this,e,n,f);break;default:throw new TypeError("Unknown encoding: "+o)}return c},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},o.prototype.slice=function(e,n){var f=this.length;e=~~e,n=void 0===n?f:~~n,0>e?(e+=f,0>e&&(e=0)):e>f&&(e=f),0>n?(n+=f,0>n&&(n=0)):n>f&&(n=f),e>n&&(n=e);var d;if(o.TYPED_ARRAY_SUPPORT)d=o._augment(this.subarray(e,n));else{var i=n-e;d=new o(i,void 0,!0);for(var t=0;i>t;t++)d[t]=this[t+e]}return d.length&&(d.parent=this.parent||this),d},o.prototype.readUIntLE=function(e,n,f){e>>>=0,n>>>=0,f||w(e,n,this.length);for(var o=this[e],d=1,i=0;++i<n&&(d*=256);)o+=this[e+i]*d;return o},o.prototype.readUIntBE=function(e,n,f){e>>>=0,n>>>=0,f||w(e,n,this.length);for(var o=this[e+--n],d=1;n>0&&(d*=256);)o+=this[e+--n]*d;return o},o.prototype.readUInt8=function(e,n){return n||w(e,1,this.length),this[e]},o.prototype.readUInt16LE=function(e,n){return n||w(e,2,this.length),this[e]|this[e+1]<<8},o.prototype.readUInt16BE=function(e,n){return n||w(e,2,this.length),this[e]<<8|this[e+1]},o.prototype.readUInt32LE=function(e,n){return n||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},o.prototype.readUInt32BE=function(e,n){return n||w(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},o.prototype.readIntLE=function(e,n,f){e>>>=0,n>>>=0,f||w(e,n,this.length);for(var o=this[e],d=1,i=0;++i<n&&(d*=256);)o+=this[e+i]*d;return d*=128,o>=d&&(o-=Math.pow(2,8*n)),o},o.prototype.readIntBE=function(e,n,f){e>>>=0,n>>>=0,f||w(e,n,this.length);for(var o=n,d=1,i=this[e+--o];o>0&&(d*=256);)i+=this[e+--o]*d;return d*=128,i>=d&&(i-=Math.pow(2,8*n)),i},o.prototype.readInt8=function(e,n){return n||w(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},o.prototype.readInt16LE=function(e,n){n||w(e,2,this.length);var f=this[e]|this[e+1]<<8;return 32768&f?4294901760|f:f},o.prototype.readInt16BE=function(e,n){n||w(e,2,this.length);var f=this[e+1]|this[e]<<8;return 32768&f?4294901760|f:f},o.prototype.readInt32LE=function(e,n){return n||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},o.prototype.readInt32BE=function(e,n){return n||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},o.prototype.readFloatLE=function(e,n){return n||w(e,4,this.length),J.read(this,e,!0,23,4)},o.prototype.readFloatBE=function(e,n){return n||w(e,4,this.length),J.read(this,e,!1,23,4)},o.prototype.readDoubleLE=function(e,n){return n||w(e,8,this.length),J.read(this,e,!0,52,8)},o.prototype.readDoubleBE=function(e,n){return n||w(e,8,this.length),J.read(this,e,!1,52,8)},o.prototype.writeUIntLE=function(e,n,f,o){e=+e,n>>>=0,f>>>=0,o||b(this,e,n,f,Math.pow(2,8*f),0);var d=1,i=0;for(this[n]=255&e;++i<f&&(d*=256);)this[n+i]=e/d>>>0&255;return n+f},o.prototype.writeUIntBE=function(e,n,f,o){e=+e,n>>>=0,f>>>=0,o||b(this,e,n,f,Math.pow(2,8*f),0);var d=f-1,i=1;for(this[n+d]=255&e;--d>=0&&(i*=256);)this[n+d]=e/i>>>0&255;return n+f},o.prototype.writeUInt8=function(e,n,f){return e=+e,n>>>=0,f||b(this,e,n,1,255,0),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[n]=e,n+1},o.prototype.writeUInt16LE=function(e,n,f){return e=+e,n>>>=0,f||b(this,e,n,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[n]=e,this[n+1]=e>>>8):g(this,e,n,!0),n+2},o.prototype.writeUInt16BE=function(e,n,f){return e=+e,n>>>=0,f||b(this,e,n,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=e):g(this,e,n,!1),n+2},o.prototype.writeUInt32LE=function(e,n,f){return e=+e,n>>>=0,f||b(this,e,n,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[n+3]=e>>>24,this[n+2]=e>>>16,this[n+1]=e>>>8,this[n]=e):h(this,e,n,!0),n+4},o.prototype.writeUInt32BE=function(e,n,f){return e=+e,n>>>=0,f||b(this,e,n,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e):h(this,e,n,!1),n+4},o.prototype.writeIntLE=function(e,n,f,o){e=+e,n>>>=0,o||b(this,e,n,f,Math.pow(2,8*f-1)-1,-Math.pow(2,8*f-1));var d=0,i=1,t=0>e?1:0;for(this[n]=255&e;++d<f&&(i*=256);)this[n+d]=(e/i>>0)-t&255;return n+f},o.prototype.writeIntBE=function(e,n,f,o){e=+e,n>>>=0,o||b(this,e,n,f,Math.pow(2,8*f-1)-1,-Math.pow(2,8*f-1));var d=f-1,i=1,t=0>e?1:0;for(this[n+d]=255&e;--d>=0&&(i*=256);)this[n+d]=(e/i>>0)-t&255;return n+f},o.prototype.writeInt8=function(e,n,f){return e=+e,n>>>=0,f||b(this,e,n,1,127,-128),o.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),0>e&&(e=255+e+1),this[n]=e,n+1},o.prototype.writeInt16LE=function(e,n,f){return e=+e,n>>>=0,f||b(this,e,n,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[n]=e,this[n+1]=e>>>8):g(this,e,n,!0),n+2},o.prototype.writeInt16BE=function(e,n,f){return e=+e,n>>>=0,f||b(this,e,n,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[n]=e>>>8,this[n+1]=e):g(this,e,n,!1),n+2},o.prototype.writeInt32LE=function(e,n,f){return e=+e,n>>>=0,f||b(this,e,n,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[n]=e,this[n+1]=e>>>8,this[n+2]=e>>>16,this[n+3]=e>>>24):h(this,e,n,!0),n+4},o.prototype.writeInt32BE=function(e,n,f){return e=+e,n>>>=0,f||b(this,e,n,4,2147483647,-2147483648),0>e&&(e=4294967295+e+1),o.TYPED_ARRAY_SUPPORT?(this[n]=e>>>24,this[n+1]=e>>>16,this[n+2]=e>>>8,this[n+3]=e):h(this,e,n,!1),n+4},o.prototype.writeFloatLE=function(e,n,f){return j(this,e,n,!0,f)},o.prototype.writeFloatBE=function(e,n,f){return j(this,e,n,!1,f)},o.prototype.writeDoubleLE=function(e,n,f){return k(this,e,n,!0,f)},o.prototype.writeDoubleBE=function(e,n,f){return k(this,e,n,!1,f)},o.prototype.copy=function(e,n,f,d){var i=this;if(f||(f=0),d||0===d||(d=this.length),n>=e.length&&(n=e.length),n||(n=0),d>0&&f>d&&(d=f),d===f)return 0;if(0===e.length||0===i.length)return 0;if(0>n)throw new RangeError("targetStart out of bounds");if(0>f||f>=i.length)throw new RangeError("sourceStart out of bounds");if(0>d)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),e.length-n<d-f&&(d=e.length-n+f);var t=d-f;if(1e3>t||!o.TYPED_ARRAY_SUPPORT)for(var l=0;t>l;l++)e[l+n]=this[l+f];else e._set(this.subarray(f,f+t),n);return t},o.prototype.fill=function(e,n,f){if(e||(e=0),n||(n=0),f||(f=this.length),n>f)throw new RangeError("end < start");if(f!==n&&0!==this.length){if(0>n||n>=this.length)throw new RangeError("start out of bounds");if(0>f||f>this.length)throw new RangeError("end out of bounds");var o;if("number"==typeof e)for(o=n;f>o;o++)this[o]=e;else{var d=C(e.toString()),i=d.length;for(o=n;f>o;o++)this[o]=d[o%i]}return this}},o.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(o.TYPED_ARRAY_SUPPORT)return new o(this).buffer;for(var e=new Uint8Array(this.length),n=0,f=e.length;f>n;n+=1)e[n]=this[n];return e.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var N=o.prototype;o._augment=function(e){return e.constructor=o,e._isBuffer=!0,e._get=e.get,e._set=e.set,e.get=N.get,e.set=N.set,e.write=N.write,e.toString=N.toString,e.toLocaleString=N.toString,e.toJSON=N.toJSON,e.equals=N.equals,e.compare=N.compare,e.copy=N.copy,e.slice=N.slice,e.readUIntLE=N.readUIntLE,e.readUIntBE=N.readUIntBE,e.readUInt8=N.readUInt8,e.readUInt16LE=N.readUInt16LE,e.readUInt16BE=N.readUInt16BE,e.readUInt32LE=N.readUInt32LE,e.readUInt32BE=N.readUInt32BE,e.readIntLE=N.readIntLE,e.readIntBE=N.readIntBE,e.readInt8=N.readInt8,e.readInt16LE=N.readInt16LE,e.readInt16BE=N.readInt16BE,e.readInt32LE=N.readInt32LE,e.readInt32BE=N.readInt32BE,e.readFloatLE=N.readFloatLE,e.readFloatBE=N.readFloatBE,e.readDoubleLE=N.readDoubleLE,e.readDoubleBE=N.readDoubleBE,e.writeUInt8=N.writeUInt8,e.writeUIntLE=N.writeUIntLE,e.writeUIntBE=N.writeUIntBE,e.writeUInt16LE=N.writeUInt16LE,e.writeUInt16BE=N.writeUInt16BE,e.writeUInt32LE=N.writeUInt32LE,e.writeUInt32BE=N.writeUInt32BE,e.writeIntLE=N.writeIntLE,e.writeIntBE=N.writeIntBE,e.writeInt8=N.writeInt8,e.writeInt16LE=N.writeInt16LE,e.writeInt16BE=N.writeInt16BE,e.writeInt32LE=N.writeInt32LE,e.writeInt32BE=N.writeInt32BE,e.writeFloatLE=N.writeFloatLE,e.writeFloatBE=N.writeFloatBE,e.writeDoubleLE=N.writeDoubleLE,e.writeDoubleBE=N.writeDoubleBE,e.fill=N.fill,e.inspect=N.inspect,e.toArrayBuffer=N.toArrayBuffer,e};var O=/[^+\/0-9A-z\-]/g},{"base64-js":3,ieee754:4,"is-array":5}],3:[function(e,n,f){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function n(e){var n=e.charCodeAt(0);return n===t||n===p?62:n===l||n===c?63:s>n?-1:s+10>n?n-s+26+26:a+26>n?n-a:u+26>n?n-u+26:void 0}function f(e){function f(e){u[p++]=e}var o,d,t,l,s,u;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var a=e.length;s="="===e.charAt(a-2)?2:"="===e.charAt(a-1)?1:0,u=new i(3*e.length/4-s),t=s>0?e.length-4:e.length;var p=0;for(o=0,d=0;t>o;o+=4,d+=3)l=n(e.charAt(o))<<18|n(e.charAt(o+1))<<12|n(e.charAt(o+2))<<6|n(e.charAt(o+3)),f((16711680&l)>>16),f((65280&l)>>8),f(255&l);return 2===s?(l=n(e.charAt(o))<<2|n(e.charAt(o+1))>>4,f(255&l)):1===s&&(l=n(e.charAt(o))<<10|n(e.charAt(o+1))<<4|n(e.charAt(o+2))>>2,f(l>>8&255),f(255&l)),u}function d(e){function n(e){return o.charAt(e)}function f(e){return n(e>>18&63)+n(e>>12&63)+n(e>>6&63)+n(63&e)}var d,i,t,l=e.length%3,s="";for(d=0,t=e.length-l;t>d;d+=3)i=(e[d]<<16)+(e[d+1]<<8)+e[d+2],s+=f(i);switch(l){case 1:i=e[e.length-1],s+=n(i>>2),s+=n(i<<4&63),s+="==";break;case 2:i=(e[e.length-2]<<8)+e[e.length-1],s+=n(i>>10),s+=n(i>>4&63),s+=n(i<<2&63),s+="="}return s}var i="undefined"!=typeof Uint8Array?Uint8Array:Array,t="+".charCodeAt(0),l="/".charCodeAt(0),s="0".charCodeAt(0),u="a".charCodeAt(0),a="A".charCodeAt(0),p="-".charCodeAt(0),c="_".charCodeAt(0);e.toByteArray=f,e.fromByteArray=d}("undefined"==typeof f?this.base64js={}:f)},{}],4:[function(e,n,f){f.read=function(e,n,f,o,d){var i,t,l=8*d-o-1,s=(1<<l)-1,u=s>>1,a=-7,p=f?d-1:0,c=f?-1:1,y=e[n+p];for(p+=c,i=y&(1<<-a)-1,y>>=-a,a+=l;a>0;i=256*i+e[n+p],p+=c,a-=8);for(t=i&(1<<-a)-1,i>>=-a,a+=o;a>0;t=256*t+e[n+p],p+=c,a-=8);if(0===i)i=1-u;else{if(i===s)return t?0/0:1/0*(y?-1:1);t+=Math.pow(2,o),i-=u}return(y?-1:1)*t*Math.pow(2,i-o)},f.write=function(e,n,f,o,d,i){var t,l,s,u=8*i-d-1,a=(1<<u)-1,p=a>>1,c=23===d?Math.pow(2,-24)-Math.pow(2,-77):0,y=o?0:i-1,m=o?1:-1,r=0>n||0===n&&0>1/n?1:0;for(n=Math.abs(n),isNaN(n)||1/0===n?(l=isNaN(n)?1:0,t=a):(t=Math.floor(Math.log(n)/Math.LN2),n*(s=Math.pow(2,-t))<1&&(t--,s*=2),n+=t+p>=1?c/s:c*Math.pow(2,1-p),n*s>=2&&(t++,s/=2),t+p>=a?(l=0,t=a):t+p>=1?(l=(n*s-1)*Math.pow(2,d),t+=p):(l=n*Math.pow(2,p-1)*Math.pow(2,d),t=0));d>=8;e[f+y]=255&l,y+=m,l/=256,d-=8);for(t=t<<d|l,u+=d;u>0;e[f+y]=255&t,y+=m,t/=256,u-=8);e[f+y-m]|=128*r}},{}],5:[function(e,n){var f=Array.isArray,o=Object.prototype.toString;n.exports=f||function(e){return!!e&&"[object Array]"==o.call(e)}},{}],6:[function(_dereq_,module,exports){(function(Buffer){var fabric=fabric||{version:"1.4.11"};"undefined"!=typeof exports&&(exports.fabric=fabric),"undefined"!=typeof document&&"undefined"!=typeof window?(fabric.document=document,fabric.window=window):(fabric.document=_dereq_("jsdom").jsdom("<!DOCTYPE html><html><head></head><body></body></html>"),fabric.window=fabric.document.createWindow()),fabric.isTouchSupported="ontouchstart"in fabric.document.documentElement,fabric.isLikelyNode="undefined"!=typeof Buffer&&"undefined"==typeof window,fabric.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width"],fabric.DPI=96;var Cufon=function(){function e(e){var n=this.face=e.face;this.glyphs=e.glyphs,this.w=e.w,this.baseSize=parseInt(n["units-per-em"],10),this.family=n["font-family"].toLowerCase(),this.weight=n["font-weight"],this.style=n["font-style"]||"normal",this.viewBox=function(){var e=n.bbox.split(/\s+/),f={minX:parseInt(e[0],10),minY:parseInt(e[1],10),maxX:parseInt(e[2],10),maxY:parseInt(e[3],10)};return f.width=f.maxX-f.minX,f.height=f.maxY-f.minY,f.toString=function(){return[this.minX,this.minY,this.width,this.height].join(" ")},f}(),this.ascent=-parseInt(n.ascent,10),this.descent=-parseInt(n.descent,10),this.height=-this.ascent+this.descent}function n(){var e={},n={oblique:"italic",italic:"oblique"};this.add=function(n){(e[n.style]||(e[n.style]={}))[n.weight]=n},this.get=function(f,o){var d=e[f]||e[n[f]]||e.normal||e.italic||e.oblique;if(!d)return null;if(o={normal:400,bold:700}[o]||parseInt(o,10),d[o])return d[o];var i,t,l={1:1,99:0}[o%100],s=[];void 0===l&&(l=o>400),500==o&&(o=400);for(var u in d)u=parseInt(u,10),(!i||i>u)&&(i=u),(!t||u>t)&&(t=u),s.push(u);return i>o&&(o=i),o>t&&(o=t),s.sort(function(e,n){return(l?e>o&&n>o?n>e:e>n:o>e&&o>n?e>n:n>e)?-1:1}),d[s[0]]}}function f(){function e(e,n){return e.contains?e.contains(n):16&e.compareDocumentPosition(n)}function n(n){var f=n.relatedTarget;f&&!e(this,f)&&o(this)}function f(){o(this)}function o(e){setTimeout(function(){y.replace(e,w.get(e).options,!0)},10)}this.attach=function(e){void 0===e.onmouseenter?(i(e,"mouseover",n),i(e,"mouseout",n)):(i(e,"mouseenter",f),i(e,"mouseleave",f))}}function o(){function e(e){return e.cufid||(e.cufid=++f)}var n={},f=0;this.get=function(f){var o=e(f);return n[o]||(n[o]={})}}function d(e){var n={},f={};this.get=function(f){return void 0!=n[f]?n[f]:e[f]},this.getSize=function(e,n){return f[e]||(f[e]=new r.Size(this.get(e),n))},this.extend=function(e){for(var f in e)n[f]=e[f];return this}}function i(e,n,f){e.addEventListener?e.addEventListener(n,f,!1):e.attachEvent&&e.attachEvent("on"+n,function(){return f.call(e,fabric.window.event)})}function t(e,n){var f=w.get(e);return f.options?e:(n.hover&&n.hoverables[e.nodeName.toLowerCase()]&&b.attach(e),f.options=n,e)}function l(e){var n={};return function(f){return n.hasOwnProperty(f)||(n[f]=e.apply(null,arguments)),n[f]}}function s(e,n){n||(n=r.getStyle(e));for(var f,o=r.quotedList(n.get("fontFamily").toLowerCase()),d=0,i=o.length;i>d;++d)if(f=o[d],x[f])return x[f].get(n.get("fontStyle"),n.get("fontWeight"));return null}function u(e){return fabric.document.getElementsByTagName(e)}function a(){for(var e,n={},f=0,o=arguments.length;o>f;++f)for(e in arguments[f])n[e]=arguments[f][e];return n}function p(e,n,f,o,d,i){var t=o.separate;if("none"==t)return h[o.engine].apply(null,arguments);var l,s=fabric.document.createDocumentFragment(),u=n.split(k[t]),a="words"==t;a&&v&&(/^\s/.test(n)&&u.unshift(""),/\s$/.test(n)&&u.push(""));for(var p=0,c=u.length;c>p;++p)l=h[o.engine](e,a?r.textAlign(u[p],f,p,c):u[p],f,o,d,i,c-1>p),l&&s.appendChild(l);return s}function c(e,n){for(var f,o,d,i,l=t(e,n).firstChild;l;l=d){if(d=l.nextSibling,i=!1,1==l.nodeType){if(!l.firstChild)continue;if(!/cufon/.test(l.className)){arguments.callee(l,n);continue}i=!0}if(o||(o=r.getStyle(e).extend(n)),f||(f=s(e,o)),f)if(i)h[n.engine](f,null,o,n,l,e);else{var u=l.data;if("undefined"!=typeof G_vmlCanvasManager&&(u=u.replace(/\r/g,"\n")),""!==u){var a=p(f,u,o,n,l,e);a?l.parentNode.replaceChild(a,l):l.parentNode.removeChild(l)}}}}var y=function(){return y.replace.apply(null,arguments)},m=y.DOM={ready:function(){var e=!1,n={loaded:1,complete:1},f=[],o=function(){if(!e){e=!0;for(var n;n=f.shift();n());}};return fabric.document.addEventListener&&(fabric.document.addEventListener("DOMContentLoaded",o,!1),fabric.window.addEventListener("pageshow",o,!1)),!fabric.window.opera&&fabric.document.readyState&&function(){n[fabric.document.readyState]?o():setTimeout(arguments.callee,10)}(),fabric.document.readyState&&fabric.document.createStyleSheet&&function(){try{fabric.document.body.doScroll("left"),o()}catch(e){setTimeout(arguments.callee,1)}}(),i(fabric.window,"load",o),function(n){arguments.length?e?n():f.push(n):o()}}()},r=y.CSS={Size:function(e,n){this.value=parseFloat(e),this.unit=String(e).match(/[a-z%]*$/)[0]||"px",this.convert=function(e){return e/n*this.value},this.convertFrom=function(e){return e/this.value*n},this.toString=function(){return this.value+this.unit}},getStyle:function(e){return new d(e.style)},quotedList:l(function(e){for(var n,f=[],o=/\s*((["'])([\s\S]*?[^\\])\2|[^,]+)\s*/g;n=o.exec(e);)f.push(n[3]||n[1]);return f}),ready:function(){var e=!1,n=[],f=function(){e=!0;for(var f;f=n.shift();f());},o=Object.prototype.propertyIsEnumerable?u("style"):{length:0},d=u("link");return m.ready(function(){for(var e,n=0,i=0,t=d.length;e=d[i],t>i;++i)e.disabled||"stylesheet"!=e.rel.toLowerCase()||++n;fabric.document.styleSheets.length>=o.length+n?f():setTimeout(arguments.callee,10)}),function(f){e?f():n.push(f)}}(),supports:function(e,n){var f=fabric.document.createElement("span").style;return void 0===f[e]?!1:(f[e]=n,f[e]===n)},textAlign:function(e,n,f,o){return"right"==n.get("textAlign")?f>0&&(e=" "+e):o-1>f&&(e+=" "),e},textDecoration:function(e,n){n||(n=this.getStyle(e));for(var f={underline:null,overline:null,"line-through":null},o=e;o.parentNode&&1==o.parentNode.nodeType;){var d=!0;for(var i in f)f[i]||(-1!=n.get("textDecoration").indexOf(i)&&(f[i]=n.get("color")),d=!1);if(d)break;n=this.getStyle(o=o.parentNode)}return f},textShadow:l(function(e){if("none"==e)return null;for(var n,f=[],o={},d=0,i=/(#[a-f0-9]+|[a-z]+\(.*?\)|[a-z]+)|(-?[\d.]+[a-z%]*)|,/gi;n=i.exec(e);)","==n[0]?(f.push(o),o={},d=0):n[1]?o.color=n[1]:o[["offX","offY","blur"][d++]]=n[2];return f.push(o),f}),color:l(function(e){var n={};return n.color=e.replace(/^rgba\((.*?),\s*([\d.]+)\)/,function(e,f,o){return n.opacity=parseFloat(o),"rgb("+f+")"}),n}),textTransform:function(e,n){return e[{uppercase:"toUpperCase",lowercase:"toLowerCase"}[n.get("textTransform")]||"toString"]()}},v=0==" ".split(/\s+/).length,w=new o,b=new f,g=[],h={},x={},j={engine:null,hover:!1,hoverables:{a:!0},printable:!0,selector:fabric.window.Sizzle||fabric.window.jQuery&&function(e){return jQuery(e)}||fabric.window.dojo&&dojo.query||fabric.window.$$&&function(e){return $$(e)}||fabric.window.$&&function(e){return $(e)}||fabric.document.querySelectorAll&&function(e){return fabric.document.querySelectorAll(e)}||u,separate:"words",textShadow:"none"},k={words:/\s+/,characters:""};return y.now=function(){return m.ready(),y},y.refresh=function(){for(var e=g.splice(0,g.length),n=0,f=e.length;f>n;++n)y.replace.apply(null,e[n]);return y},y.registerEngine=function(e,n){return n?(h[e]=n,y.set("engine",e)):y},y.registerFont=function(f){var o=new e(f),d=o.family;return x[d]||(x[d]=new n),x[d].add(o),y.set("fontFamily",'"'+d+'"')},y.replace=function(e,n,f){return n=a(j,n),n.engine?("string"==typeof n.textShadow&&n.textShadow&&(n.textShadow=r.textShadow(n.textShadow)),f||g.push(arguments),(e.nodeType||"string"==typeof e)&&(e=[e]),r.ready(function(){for(var f=0,o=e.length;o>f;++f){var d=e[f];"string"==typeof d?y.replace(n.selector(d),n,!0):c(d,n)}}),y):y},y.replaceElement=function(e,n){return n=a(j,n),"string"==typeof n.textShadow&&n.textShadow&&(n.textShadow=r.textShadow(n.textShadow)),c(e,n)},y.engines=h,y.fonts=x,y.getOptions=function(){return a(j)},y.set=function(e,n){return j[e]=n,y},y}();Cufon.registerEngine("canvas",function(){function e(e,n){var f,o=0,d=0,i=[],t=/([mrvxe])([^a-z]*)/g;e:for(var l=0;f=t.exec(e);++l){var s=f[2].split(",");switch(f[1]){case"v":i[l]={m:"bezierCurveTo",a:[o+~~s[0],d+~~s[1],o+~~s[2],d+~~s[3],o+=~~s[4],d+=~~s[5]]};break;case"r":i[l]={m:"lineTo",a:[o+=~~s[0],d+=~~s[1]]};break;case"m":i[l]={m:"moveTo",a:[o=~~s[0],d=~~s[1]]};break;case"x":i[l]={m:"closePath",a:[]};break;case"e":break e}n[i[l].m].apply(n,i[l].a)}return i}function n(e,n){for(var f=0,o=e.length;o>f;++f){var d=e[f];n[d.m].apply(n,d.a)}}var f=Cufon.CSS.supports("display","inline-block"),o=!f&&("BackCompat"==fabric.document.compatMode||/frameset|transitional/i.test(fabric.document.doctype.publicId)),d=fabric.document.createElement("style");d.type="text/css";var i=fabric.document.createTextNode(".cufon-canvas{text-indent:0}@media screen,projection{.cufon-canvas{display:inline;display:inline-block;position:relative;vertical-align:middle"+(o?"":";font-size:1px;line-height:1px")+"}.cufon-canvas .cufon-alt{display:-moz-inline-box;display:inline-block;width:0;height:0;overflow:hidden}"+(f?".cufon-canvas canvas{position:relative}":".cufon-canvas canvas{position:absolute}")+"}@media print{.cufon-canvas{padding:0 !important}.cufon-canvas canvas{display:none}.cufon-canvas .cufon-alt{display:inline}}");try{d.appendChild(i)}catch(t){d.setAttribute("type","text/css"),d.styleSheet.cssText=i.data}return fabric.document.getElementsByTagName("head")[0].appendChild(d),function(o,d,i,t,l){function s(){T.save();var e=0,n=0,f=[{left:0}];t.backgroundColor&&(T.save(),T.fillStyle=t.backgroundColor,T.translate(0,o.ascent),T.fillRect(0,0,A+10,(-o.ascent+o.descent)*D),T.restore()),"right"===t.textAlign?(T.translate(G[n],0),f[0].left=G[n]*U):"center"===t.textAlign&&(T.translate(G[n]/2,0),f[0].left=G[n]/2*U);for(var d=0,i=z.length;i>d;++d)if("\n"!==z[d]){var l=o.glyphs[z[d]]||o.missingGlyph;if(l){var s=Number(l.w||o.w)+y;t.textBackgroundColor&&(T.save(),T.fillStyle=t.textBackgroundColor,T.translate(0,o.ascent),T.fillRect(0,0,s+10,-o.ascent+o.descent),T.restore()),T.translate(s,0),e+=s,d==i-1&&(f[f.length-1].width=e*U,f[f.length-1].height=(-o.ascent+o.descent)*U)}}else{n++;var u=-o.ascent-o.ascent/5*t.lineHeight,a=f[f.length-1],p={left:0};a.width=e*U,a.height=(-o.ascent+o.descent)*U,"right"===t.textAlign?(T.translate(-A,u),T.translate(G[n],0),p.left=G[n]*U):"center"===t.textAlign?(T.translate(-e-G[n-1]/2,u),T.translate(G[n]/2,0),p.left=G[n]/2*U):T.translate(-e,u),f.push(p),e=0}T.restore(),Cufon.textOptions.boundaries=f}function u(f){T.fillStyle=f||Cufon.textOptions.color||i.get("color");var d=0,l=0;"right"===t.textAlign?T.translate(G[l],0):"center"===t.textAlign&&T.translate(G[l]/2,0);for(var s=0,u=z.length;u>s;++s)if("\n"!==z[s]){var a=o.glyphs[z[s]]||o.missingGlyph;if(a){var p=Number(a.w||o.w)+y;W&&(T.save(),T.strokeStyle=T.fillStyle,T.lineWidth+=T.lineWidth,T.beginPath(),W.underline&&(T.moveTo(0,-o.face["underline-position"]+.5),T.lineTo(p,-o.face["underline-position"]+.5)),W.overline&&(T.moveTo(0,o.ascent+.5),T.lineTo(p,o.ascent+.5)),W["line-through"]&&(T.moveTo(0,-o.descent+.5),T.lineTo(p,-o.descent+.5)),T.stroke(),T.restore()),X&&(T.save(),T.transform(1,0,-.25,1,0,0)),T.beginPath(),a.d&&(a.code?n(a.code,T):a.code=e("m"+a.d,T)),T.fill(),t.strokeStyle&&(T.closePath(),T.save(),T.lineWidth=t.strokeWidth,T.strokeStyle=t.strokeStyle,T.stroke(),T.restore()),X&&T.restore(),T.translate(p,0),d+=p}}else{l++;var c=-o.ascent-o.ascent/5*t.lineHeight;"right"===t.textAlign?(T.translate(-A,c),T.translate(G[l],0)):"center"===t.textAlign?(T.translate(-d-G[l-1]/2,c),T.translate(G[l]/2,0)):T.translate(-d,c),d=0}}var a=null===d,p=o.viewBox,c=i.getSize("fontSize",o.baseSize),y=i.get("letterSpacing");y="normal"==y?0:c.convertFrom(parseInt(y,10));var m=0,r=0,v=0,w=0,b=t.textShadow,g=[];if(Cufon.textOptions.shadowOffsets=[],Cufon.textOptions.shadows=null,b){Cufon.textOptions.shadows=b;for(var h=0,x=b.length;x>h;++h){var j=b[h],k=c.convertFrom(parseFloat(j.offX)),q=c.convertFrom(parseFloat(j.offY));g[h]=[k,q]}}for(var z=Cufon.CSS.textTransform(a?l.alt:d,i).split(""),A=0,B=null,C=0,D=1,E=[],h=0,x=z.length;x>h;++h)if("\n"!==z[h]){var F=o.glyphs[z[h]]||o.missingGlyph;F&&(A+=B=Number(F.w||o.w)+y)}else D++,A>C&&(C=A),E.push(A),A=0;E.push(A),A=Math.max(C,A);for(var G=[],h=E.length;h--;)G[h]=A-E[h];if(null===B)return null;r+=p.width-B,w+=p.minX;var H,I;if(a)H=l,I=l.firstChild;else if(H=fabric.document.createElement("span"),H.className="cufon cufon-canvas",H.alt=d,I=fabric.document.createElement("canvas"),H.appendChild(I),t.printable){var J=fabric.document.createElement("span");
	J.className="cufon-alt",J.appendChild(fabric.document.createTextNode(d)),H.appendChild(J)}var K=H.style,L=I.style||{},M=c.convert(p.height-m+v),N=Math.ceil(M),O=N/M;I.width=Math.ceil(c.convert(A+r-w)*O),I.height=N,m+=p.minY,L.top=Math.round(c.convert(m-o.ascent))+"px",L.left=Math.round(c.convert(w))+"px";var P=Math.ceil(c.convert(A*O)),Q=P+"px",R=c.convert(o.height),S=(t.lineHeight-1)*c.convert(-o.ascent/5)*(D-1);Cufon.textOptions.width=P,Cufon.textOptions.height=R*D+S,Cufon.textOptions.lines=D,Cufon.textOptions.totalLineHeight=S,f?(K.width=Q,K.height=R+"px"):(K.paddingLeft=Q,K.paddingBottom=R-1+"px");var T=Cufon.textOptions.context||I.getContext("2d"),U=N/p.height;Cufon.textOptions.fontAscent=o.ascent*U,Cufon.textOptions.boundaries=null;for(var V=Cufon.textOptions.shadowOffsets,h=g.length;h--;)V[h]=[g[h][0]*U,g[h][1]*U];T.save(),T.scale(U,U),T.translate(-w-1/U*I.width/2+(Cufon.fonts[o.family].offsetLeft||0),-m-Cufon.textOptions.height/U/2+(Cufon.fonts[o.family].offsetTop||0)),T.lineWidth=o.face["underline-thickness"],T.save();var W=Cufon.getTextDecoration(t),X="italic"===t.fontStyle;if(T.save(),s(),b)for(var h=0,x=b.length;x>h;++h){var j=b[h];T.save(),T.translate.apply(T,g[h]),u(j.color),T.restore()}return u(),T.restore(),T.restore(),T.restore(),H}}()),Cufon.registerEngine("vml",function(){function e(e,f){return n(e,/(?:em|ex|%)$/i.test(f)?"1em":f)}function n(e,n){if(/px$/i.test(n))return parseFloat(n);var f=e.style.left,o=e.runtimeStyle.left;e.runtimeStyle.left=e.currentStyle.left,e.style.left=n;var d=e.style.pixelLeft;return e.style.left=f,e.runtimeStyle.left=o,d}if(fabric.document.namespaces){var f=fabric.document.createElement("canvas");if(!(f&&f.getContext&&f.getContext.apply)){null==fabric.document.namespaces.cvml&&fabric.document.namespaces.add("cvml","urn:schemas-microsoft-com:vml");var o=fabric.document.createElement("cvml:shape");if(o.style.behavior="url(#default#VML)",o.coordsize)return o=null,fabric.document.write('<style type="text/css">.cufon-vml-canvas{text-indent:0}@media screen{cvml\\:shape,cvml\\:shadow{behavior:url(#default#VML);display:block;antialias:true;position:absolute}.cufon-vml-canvas{position:absolute;text-align:left}.cufon-vml{display:inline-block;position:relative;vertical-align:middle}.cufon-vml .cufon-alt{position:absolute;left:-10000in;font-size:1px}a .cufon-vml{cursor:pointer}}@media print{.cufon-vml *{display:none}.cufon-vml .cufon-alt{display:inline}}</style>'),function(f,o,d,i,t,l,s){var u=null===o;u&&(o=t.alt);var a=f.viewBox,p=d.computedFontSize||(d.computedFontSize=new Cufon.CSS.Size(e(l,d.get("fontSize"))+"px",f.baseSize)),c=d.computedLSpacing;void 0==c&&(c=d.get("letterSpacing"),d.computedLSpacing=c="normal"==c?0:~~p.convertFrom(n(l,c)));var y,m;if(u)y=t,m=t.firstChild;else{if(y=fabric.document.createElement("span"),y.className="cufon cufon-vml",y.alt=o,m=fabric.document.createElement("span"),m.className="cufon-vml-canvas",y.appendChild(m),i.printable){var r=fabric.document.createElement("span");r.className="cufon-alt",r.appendChild(fabric.document.createTextNode(o)),y.appendChild(r)}s||y.appendChild(fabric.document.createElement("cvml:shape"))}var v=y.style,w=m.style,b=p.convert(a.height),g=Math.ceil(b),h=g/b,x=a.minX,j=a.minY;w.height=g,w.top=Math.round(p.convert(j-f.ascent)),w.left=Math.round(p.convert(x)),v.height=p.convert(f.height)+"px";for(var k,q,z=(Cufon.getTextDecoration(i),d.get("color")),A=Cufon.CSS.textTransform(o,d).split(""),B=0,C=0,D=null,E=i.textShadow,F=0,G=0,H=A.length;H>F;++F)k=f.glyphs[A[F]]||f.missingGlyph,k&&(B+=D=~~(k.w||f.w)+c);if(null===D)return null;var I,J=-x+B+(a.width-D),K=p.convert(J*h),L=Math.round(K),M=J+","+a.height,N="r"+M+"nsnf";for(F=0;H>F;++F)if(k=f.glyphs[A[F]]||f.missingGlyph){u?(q=m.childNodes[G],q.firstChild&&q.removeChild(q.firstChild)):(q=fabric.document.createElement("cvml:shape"),m.appendChild(q)),q.stroked="f",q.coordsize=M,q.coordorigin=I=x-C+","+j,q.path=(k.d?"m"+k.d+"xe":"")+"m"+I+N,q.fillcolor=z;var O=q.style;if(O.width=L,O.height=g,E){var P,Q=E[0],R=E[1],S=Cufon.CSS.color(Q.color),T=fabric.document.createElement("cvml:shadow");T.on="t",T.color=S.color,T.offset=Q.offX+","+Q.offY,R&&(P=Cufon.CSS.color(R.color),T.type="double",T.color2=P.color,T.offset2=R.offX+","+R.offY),T.opacity=S.opacity||P&&P.opacity||1,q.appendChild(T)}C+=~~(k.w||f.w)+c,++G}return v.width=Math.max(Math.ceil(p.convert(B*h)),0),y}}}}()),Cufon.getTextDecoration=function(e){return{underline:"underline"===e.textDecoration,overline:"overline"===e.textDecoration,"line-through":"line-through"===e.textDecoration}},"undefined"!=typeof exports&&(exports.Cufon=Cufon),"object"!=typeof JSON&&(JSON={}),function(){"use strict";function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var n=meta[e];return"string"==typeof n?n:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,n){var f,o,d,i,t,l=gap,s=n[e];switch(s&&"object"==typeof s&&"function"==typeof s.toJSON&&(s=s.toJSON(e)),"function"==typeof rep&&(s=rep.call(n,e,s)),typeof s){case"string":return quote(s);case"number":return isFinite(s)?String(s):"null";case"boolean":case"null":return String(s);case"object":if(!s)return"null";if(gap+=indent,t=[],"[object Array]"===Object.prototype.toString.apply(s)){for(i=s.length,f=0;i>f;f+=1)t[f]=str(f,s)||"null";return d=0===t.length?"[]":gap?"[\n"+gap+t.join(",\n"+gap)+"\n"+l+"]":"["+t.join(",")+"]",gap=l,d}if(rep&&"object"==typeof rep)for(i=rep.length,f=0;i>f;f+=1)"string"==typeof rep[f]&&(o=rep[f],d=str(o,s),d&&t.push(quote(o)+(gap?": ":":")+d));else for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(d=str(o,s),d&&t.push(quote(o)+(gap?": ":":")+d));return d=0===t.length?"{}":gap?"{\n"+gap+t.join(",\n"+gap)+"\n"+l+"}":"{"+t.join(",")+"}",gap=l,d}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx,escapable,gap,indent,meta,rep;"function"!=typeof JSON.stringify&&(escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,n,f){var o;if(gap="",indent="","number"==typeof f)for(o=0;f>o;o+=1)indent+=" ";else"string"==typeof f&&(indent=f);if(rep=n,n&&"function"!=typeof n&&("object"!=typeof n||"number"!=typeof n.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,JSON.parse=function(text,reviver){function walk(e,n){var f,o,d=e[n];if(d&&"object"==typeof d)for(f in d)Object.prototype.hasOwnProperty.call(d,f)&&(o=walk(d,f),void 0!==o?d[f]=o:delete d[f]);return reviver.call(e,n,d)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(),function(){function e(e,n){this.__eventListeners[e]&&(n?fabric.util.removeFromArray(this.__eventListeners[e],n):this.__eventListeners[e].length=0)}function n(e,n){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var f in e)this.on(f,e[f]);else this.__eventListeners[e]||(this.__eventListeners[e]=[]),this.__eventListeners[e].push(n);return this}function f(n,f){if(this.__eventListeners){if(0===arguments.length)this.__eventListeners={};else if(1===arguments.length&&"object"==typeof arguments[0])for(var o in n)e.call(this,o,n[o]);else e.call(this,n,f);return this}}function o(e,n){if(this.__eventListeners){var f=this.__eventListeners[e];if(f){for(var o=0,d=f.length;d>o;o++)f[o].call(this,n||{});return this}}}fabric.Observable={observe:n,stopObserving:f,fire:o,on:n,off:f,trigger:o}}(),fabric.Collection={add:function(){this._objects.push.apply(this._objects,arguments);for(var e=0,n=arguments.length;n>e;e++)this._onObjectAdded(arguments[e]);return this.renderOnAddRemove&&this.renderAll(),this},insertAt:function(e,n,f){var o=this.getObjects();return f?o[n]=e:o.splice(n,0,e),this._onObjectAdded(e),this.renderOnAddRemove&&this.renderAll(),this},remove:function(){for(var e,n=this.getObjects(),f=0,o=arguments.length;o>f;f++)e=n.indexOf(arguments[f]),-1!==e&&(n.splice(e,1),this._onObjectRemoved(arguments[f]));return this.renderOnAddRemove&&this.renderAll(),this},forEachObject:function(e,n){for(var f=this.getObjects(),o=f.length;o--;)e.call(n,f[o],o,f);return this},getObjects:function(e){return"undefined"==typeof e?this._objects:this._objects.filter(function(n){return n.type===e})},item:function(e){return this.getObjects()[e]},isEmpty:function(){return 0===this.getObjects().length},size:function(){return this.getObjects().length},contains:function(e){return this.getObjects().indexOf(e)>-1},complexity:function(){return this.getObjects().reduce(function(e,n){return e+=n.complexity?n.complexity():0},0)}},function(e){var n=Math.sqrt,f=Math.atan2,o=Math.PI/180;fabric.util={removeFromArray:function(e,n){var f=e.indexOf(n);return-1!==f&&e.splice(f,1),e},getRandomInt:function(e,n){return Math.floor(Math.random()*(n-e+1))+e},degreesToRadians:function(e){return e*o},radiansToDegrees:function(e){return e/o},rotatePoint:function(e,n,f){var o=Math.sin(f),d=Math.cos(f);e.subtractEquals(n);var i=e.x*d-e.y*o,t=e.x*o+e.y*d;return new fabric.Point(i,t).addEquals(n)},transformPoint:function(e,n,f){return f?new fabric.Point(n[0]*e.x+n[1]*e.y,n[2]*e.x+n[3]*e.y):new fabric.Point(n[0]*e.x+n[1]*e.y+n[4],n[2]*e.x+n[3]*e.y+n[5])},invertTransform:function(e){var n=e.slice(),f=1/(e[0]*e[3]-e[1]*e[2]);n=[f*e[3],-f*e[1],-f*e[2],f*e[0],0,0];var o=fabric.util.transformPoint({x:e[4],y:e[5]},n);return n[4]=-o.x,n[5]=-o.y,n},toFixed:function(e,n){return parseFloat(Number(e).toFixed(n))},parseUnit:function(e){var n=/\D{0,2}$/.exec(e),f=parseFloat(e);switch(n[0]){case"mm":return f*fabric.DPI/25.4;case"cm":return f*fabric.DPI/2.54;case"in":return f*fabric.DPI;case"pt":return f*fabric.DPI/72;case"pc":return f*fabric.DPI/72*12;default:return f}},falseFunction:function(){return!1},getKlass:function(e,n){return e=fabric.util.string.camelize(e.charAt(0).toUpperCase()+e.slice(1)),fabric.util.resolveNamespace(n)[e]},resolveNamespace:function(n){if(!n)return fabric;for(var f=n.split("."),o=f.length,d=e||fabric.window,i=0;o>i;++i)d=d[f[i]];return d},loadImage:function(e,n,f,o){if(!e)return void(n&&n.call(f,e));var d=fabric.util.createImage();d.onload=function(){n&&n.call(f,d),d=d.onload=d.onerror=null},d.onerror=function(){fabric.log("Error loading "+d.src),n&&n.call(f,null,!0),d=d.onload=d.onerror=null},0!==e.indexOf("data")&&"undefined"!=typeof o&&(d.crossOrigin=o),d.src=e},enlivenObjects:function(e,n,f,o){function d(){++t===l&&n&&n(i)}e=e||[];var i=[],t=0,l=e.length;return l?void e.forEach(function(e,n){if(!e||!e.type)return void d();var t=fabric.util.getKlass(e.type,f);t.async?t.fromObject(e,function(f,t){t||(i[n]=f,o&&o(e,i[n])),d()}):(i[n]=t.fromObject(e),o&&o(e,i[n]),d())}):void(n&&n(i))},groupSVGElements:function(e,n,f){var o;return o=new fabric.PathGroup(e,n),"undefined"!=typeof f&&o.setSourcePath(f),o},populateWithProperties:function(e,n,f){if(f&&"[object Array]"===Object.prototype.toString.call(f))for(var o=0,d=f.length;d>o;o++)f[o]in e&&(n[f[o]]=e[f[o]])},drawDashedLine:function(e,o,d,i,t,l){var s=i-o,u=t-d,a=n(s*s+u*u),p=f(u,s),c=l.length,y=0,m=!0;for(e.save(),e.translate(o,d),e.moveTo(0,0),e.rotate(p),o=0;a>o;)o+=l[y++%c],o>a&&(o=a),e[m?"lineTo":"moveTo"](o,0),m=!m;e.restore()},createCanvasElement:function(e){return e||(e=fabric.document.createElement("canvas")),e.getContext||"undefined"==typeof G_vmlCanvasManager||G_vmlCanvasManager.initElement(e),e},createImage:function(){return fabric.isLikelyNode?new(_dereq_("canvas").Image):fabric.document.createElement("img")},createAccessors:function(e){for(var n=e.prototype,f=n.stateProperties.length;f--;){var o=n.stateProperties[f],d=o.charAt(0).toUpperCase()+o.slice(1),i="set"+d,t="get"+d;n[t]||(n[t]=function(e){return new Function('return this.get("'+e+'")')}(o)),n[i]||(n[i]=function(e){return new Function("value",'return this.set("'+e+'", value)')}(o))}},clipContext:function(e,n){n.save(),n.beginPath(),e.clipTo(n),n.clip()},multiplyTransformMatrices:function(e,n){for(var f=[[e[0],e[2],e[4]],[e[1],e[3],e[5]],[0,0,1]],o=[[n[0],n[2],n[4]],[n[1],n[3],n[5]],[0,0,1]],d=[],i=0;3>i;i++){d[i]=[];for(var t=0;3>t;t++){for(var l=0,s=0;3>s;s++)l+=f[i][s]*o[s][t];d[i][t]=l}}return[d[0][0],d[1][0],d[0][1],d[1][1],d[0][2],d[1][2]]},getFunctionBody:function(e){return(String(e).match(/function[^{]*\{([\s\S]*)\}/)||{})[1]},isTransparent:function(e,n,f,o){o>0&&(n>o?n-=o:n=0,f>o?f-=o:f=0);for(var d=!0,i=e.getImageData(n,f,2*o||1,2*o||1),t=3,l=i.data.length;l>t;t+=4){var s=i.data[t];if(d=0>=s,d===!1)break}return i=null,d}}}("undefined"!=typeof exports?exports:this),function(){function e(e,d,t,l,s,u,a){var p=i.call(arguments);if(o[p])return o[p];var c=Math.PI,y=a*(c/180),m=Math.sin(y),r=Math.cos(y),v=0,w=0;t=Math.abs(t),l=Math.abs(l);var b=-r*e-m*d,g=-r*d+m*e,h=t*t,x=l*l,j=g*g,k=b*b,q=4*h*x-h*j-x*k,z=0;if(0>q){var A=Math.sqrt(1-.25*q/(h*x));t*=A,l*=A}else z=(s===u?-.5:.5)*Math.sqrt(q/(h*j+x*k));var B=z*t*g/l,C=-z*l*b/t,D=r*B-m*C+e/2,E=m*B+r*C+d/2,F=f(1,0,(b-B)/t,(g-C)/l),G=f((b-B)/t,(g-C)/l,(-b-B)/t,(-g-C)/l);0===u&&G>0?G-=2*c:1===u&&0>G&&(G+=2*c);for(var H=Math.ceil(Math.abs(G/(.5*c))),I=[],J=G/H,K=8/3*Math.sin(J/4)*Math.sin(J/4)/Math.sin(J/2),L=F+J,M=0;H>M;M++)I[M]=n(F,L,r,m,t,l,D,E,K,v,w),v=I[M][4],w=I[M][5],F+=J,L+=J;return o[p]=I,I}function n(e,n,f,o,t,l,s,u,a,p,c){var y=i.call(arguments);if(d[y])return d[y];var m=Math.cos(e),r=Math.sin(e),v=Math.cos(n),w=Math.sin(n),b=f*t*v-o*l*w+s,g=o*t*v+f*l*w+u,h=p+a*(-f*t*r-o*l*m),x=c+a*(-o*t*r+f*l*m),j=b+a*(f*t*w+o*l*v),k=g+a*(o*t*w-f*l*v);return d[y]=[h,x,j,k,b,g],d[y]}function f(e,n,f,o){var d=Math.atan2(n,e),i=Math.atan2(o,f);return i>=d?i-d:2*Math.PI-(d-i)}var o={},d={},i=Array.prototype.join;fabric.util.drawArc=function(n,f,o,d){for(var i=d[0],t=d[1],l=d[2],s=d[3],u=d[4],a=d[5],p=d[6],c=[[],[],[],[]],y=e(a-f,p-o,i,t,s,u,l),m=0,r=y.length;r>m;m++)c[m][0]=y[m][0]+f,c[m][1]=y[m][1]+o,c[m][2]=y[m][2]+f,c[m][3]=y[m][3]+o,c[m][4]=y[m][4]+f,c[m][5]=y[m][5]+o,n.bezierCurveTo.apply(n,c[m])}}(),function(){function e(e,n){for(var f=d.call(arguments,2),o=[],i=0,t=e.length;t>i;i++)o[i]=f.length?e[i][n].apply(e[i],f):e[i][n].call(e[i]);return o}function n(e,n){return o(e,n,function(e,n){return e>=n})}function f(e,n){return o(e,n,function(e,n){return n>e})}function o(e,n,f){if(e&&0!==e.length){var o=e.length-1,d=n?e[o][n]:e[o];if(n)for(;o--;)f(e[o][n],d)&&(d=e[o][n]);else for(;o--;)f(e[o],d)&&(d=e[o]);return d}}var d=Array.prototype.slice;fabric.util.array={invoke:e,min:f,max:n}}(),function(){function e(e,n){for(var f in n)e[f]=n[f];return e}function n(n){return e({},n)}fabric.util.object={extend:e,clone:n}}(),function(){function e(e){return e.replace(/-+(.)?/g,function(e,n){return n?n.toUpperCase():""})}function n(e,n){return e.charAt(0).toUpperCase()+(n?e.slice(1):e.slice(1).toLowerCase())}function f(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}fabric.util.string={camelize:e,capitalize:n,escapeXml:f}}(),function(){function e(){}function n(e){var n=this.constructor.superclass.prototype[e];return arguments.length>1?n.apply(this,o.call(arguments,1)):n.call(this)}function f(){function f(){this.initialize.apply(this,arguments)}var i=null,l=o.call(arguments,0);"function"==typeof l[0]&&(i=l.shift()),f.superclass=i,f.subclasses=[],i&&(e.prototype=i.prototype,f.prototype=new e,i.subclasses.push(f));for(var s=0,u=l.length;u>s;s++)t(f,l[s],i);return f.prototype.initialize||(f.prototype.initialize=d),f.prototype.constructor=f,f.prototype.callSuper=n,f}var o=Array.prototype.slice,d=function(){},i=function(){for(var e in{toString:1})if("toString"===e)return!1;return!0}(),t=function(e,n,f){for(var o in n)e.prototype[o]=o in e.prototype&&"function"==typeof e.prototype[o]&&(n[o]+"").indexOf("callSuper")>-1?function(e){return function(){var o=this.constructor.superclass;this.constructor.superclass=f;var d=n[e].apply(this,arguments);return this.constructor.superclass=o,"initialize"!==e?d:void 0}}(o):n[o],i&&(n.toString!==Object.prototype.toString&&(e.prototype.toString=n.toString),n.valueOf!==Object.prototype.valueOf&&(e.prototype.valueOf=n.valueOf))};fabric.util.createClass=f}(),function(){function e(e){var n,f,o=Array.prototype.slice.call(arguments,1),d=o.length;for(f=0;d>f;f++)if(n=typeof e[o[f]],!/^(?:function|object|unknown)$/.test(n))return!1;return!0}function n(e,n){return{handler:n,wrappedHandler:f(e,n)}}function f(e,n){return function(f){n.call(t(e),f||fabric.window.event)}}function o(e,n){return function(f){if(r[e]&&r[e][n])for(var o=r[e][n],d=0,i=o.length;i>d;d++)o[d].call(this,f||fabric.window.event)}}function d(e,n){e||(e=fabric.window.event);var f=e.target||(typeof e.srcElement!==s?e.srcElement:null),o=fabric.util.getScrollLeftTop(f,n);return{x:v(e)+o.left,y:w(e)+o.top}}function i(e,n,f){var o="touchend"===e.type?"changedTouches":"touches";return e[o]&&e[o][0]?e[o][0][n]-(e[o][0][n]-e[o][0][f])||e[f]:e[f]}var t,l,s="unknown",u=function(){var e=0;return function(n){return n.__uniqueID||(n.__uniqueID="uniqueID__"+e++)}}();!function(){var e={};t=function(n){return e[n]},l=function(n,f){e[n]=f}}();var a,p,c=e(fabric.document.documentElement,"addEventListener","removeEventListener")&&e(fabric.window,"addEventListener","removeEventListener"),y=e(fabric.document.documentElement,"attachEvent","detachEvent")&&e(fabric.window,"attachEvent","detachEvent"),m={},r={};c?(a=function(e,n,f){e.addEventListener(n,f,!1)},p=function(e,n,f){e.removeEventListener(n,f,!1)}):y?(a=function(e,f,o){var d=u(e);l(d,e),m[d]||(m[d]={}),m[d][f]||(m[d][f]=[]);var i=n(d,o);m[d][f].push(i),e.attachEvent("on"+f,i.wrappedHandler)},p=function(e,n,f){var o,d=u(e);if(m[d]&&m[d][n])for(var i=0,t=m[d][n].length;t>i;i++)o=m[d][n][i],o&&o.handler===f&&(e.detachEvent("on"+n,o.wrappedHandler),m[d][n][i]=null)}):(a=function(e,n,f){var d=u(e);if(r[d]||(r[d]={}),!r[d][n]){r[d][n]=[];var i=e["on"+n];i&&r[d][n].push(i),e["on"+n]=o(d,n)}r[d][n].push(f)},p=function(e,n,f){var o=u(e);if(r[o]&&r[o][n])for(var d=r[o][n],i=0,t=d.length;t>i;i++)d[i]===f&&d.splice(i,1)}),fabric.util.addListener=a,fabric.util.removeListener=p;var v=function(e){return typeof e.clientX!==s?e.clientX:0},w=function(e){return typeof e.clientY!==s?e.clientY:0};fabric.isTouchSupported&&(v=function(e){return i(e,"pageX","clientX")},w=function(e){return i(e,"pageY","clientY")}),fabric.util.getPointer=d,fabric.util.object.extend(fabric.util,fabric.Observable)}(),function(){function e(e,n){var f=e.style;if(!f)return e;if("string"==typeof n)return e.style.cssText+=";"+n,n.indexOf("opacity")>-1?i(e,n.match(/opacity:\s*(\d?\.?\d*)/)[1]):e;for(var o in n)if("opacity"===o)i(e,n[o]);else{var d="float"===o||"cssFloat"===o?"undefined"==typeof f.styleFloat?"cssFloat":"styleFloat":o;f[d]=n[o]}return e}var n=fabric.document.createElement("div"),f="string"==typeof n.style.opacity,o="string"==typeof n.style.filter,d=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,i=function(e){return e};f?i=function(e,n){return e.style.opacity=n,e}:o&&(i=function(e,n){var f=e.style;return e.currentStyle&&!e.currentStyle.hasLayout&&(f.zoom=1),d.test(f.filter)?(n=n>=.9999?"":"alpha(opacity="+100*n+")",f.filter=f.filter.replace(d,n)):f.filter+=" alpha(opacity="+100*n+")",e}),fabric.util.setStyle=e}(),function(){function e(e){return"string"==typeof e?fabric.document.getElementById(e):e}function n(e,n){var f=fabric.document.createElement(e);for(var o in n)"class"===o?f.className=n[o]:"for"===o?f.htmlFor=n[o]:f.setAttribute(o,n[o]);return f}function f(e,n){e&&-1===(" "+e.className+" ").indexOf(" "+n+" ")&&(e.className+=(e.className?" ":"")+n)}function o(e,f,o){return"string"==typeof f&&(f=n(f,o)),e.parentNode&&e.parentNode.replaceChild(f,e),f.appendChild(e),f}function d(e,n){var f,o,d=0,i=0,t=fabric.document.documentElement,l=fabric.document.body||{scrollLeft:0,scrollTop:0};for(o=e;e&&e.parentNode&&!f;)e=e.parentNode,e!==fabric.document&&"fixed"===fabric.util.getElementStyle(e,"position")&&(f=e),e!==fabric.document&&o!==n&&"absolute"===fabric.util.getElementStyle(e,"position")?(d=0,i=0):e===fabric.document?(d=l.scrollLeft||t.scrollLeft||0,i=l.scrollTop||t.scrollTop||0):(d+=e.scrollLeft||0,i+=e.scrollTop||0);return{left:d,top:i}}function i(e){var n,f,o=e&&e.ownerDocument,d={left:0,top:0},i={left:0,top:0},t={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!o)return{left:0,top:0};for(var l in t)i[t[l]]+=parseInt(a(e,l),10)||0;return n=o.documentElement,"undefined"!=typeof e.getBoundingClientRect&&(d=e.getBoundingClientRect()),f=fabric.util.getScrollLeftTop(e,null),{left:d.left+f.left-(n.clientLeft||0)+i.left,top:d.top+f.top-(n.clientTop||0)+i.top}}var t,l=Array.prototype.slice,s=function(e){return l.call(e,0)};try{t=s(fabric.document.childNodes)instanceof Array}catch(u){}t||(s=function(e){for(var n=new Array(e.length),f=e.length;f--;)n[f]=e[f];return n});var a;a=fabric.document.defaultView&&fabric.document.defaultView.getComputedStyle?function(e,n){return fabric.document.defaultView.getComputedStyle(e,null)[n]}:function(e,n){var f=e.style[n];return!f&&e.currentStyle&&(f=e.currentStyle[n]),f},function(){function e(e){return"undefined"!=typeof e.onselectstart&&(e.onselectstart=fabric.util.falseFunction),o?e.style[o]="none":"string"==typeof e.unselectable&&(e.unselectable="on"),e}function n(e){return"undefined"!=typeof e.onselectstart&&(e.onselectstart=null),o?e.style[o]="":"string"==typeof e.unselectable&&(e.unselectable=""),e}var f=fabric.document.documentElement.style,o="userSelect"in f?"userSelect":"MozUserSelect"in f?"MozUserSelect":"WebkitUserSelect"in f?"WebkitUserSelect":"KhtmlUserSelect"in f?"KhtmlUserSelect":"";fabric.util.makeElementUnselectable=e,fabric.util.makeElementSelectable=n}(),function(){function e(e,n){var f=fabric.document.getElementsByTagName("head")[0],o=fabric.document.createElement("script"),d=!0;o.onload=o.onreadystatechange=function(e){if(d){if("string"==typeof this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)return;d=!1,n(e||fabric.window.event),o=o.onload=o.onreadystatechange=null}},o.src=e,f.appendChild(o)}fabric.util.getScript=e}(),fabric.util.getById=e,fabric.util.toArray=s,fabric.util.makeElement=n,fabric.util.addClass=f,fabric.util.wrapElement=o,fabric.util.getScrollLeftTop=d,fabric.util.getElementOffset=i,fabric.util.getElementStyle=a}(),function(){function e(e,n){return e+(/\?/.test(e)?"&":"?")+n}function n(){}function f(f,d){d||(d={});var i,t=d.method?d.method.toUpperCase():"GET",l=d.onComplete||function(){},s=o();return s.onreadystatechange=function(){4===s.readyState&&(l(s),s.onreadystatechange=n)},"GET"===t&&(i=null,"string"==typeof d.parameters&&(f=e(f,d.parameters))),s.open(t,f,!0),("POST"===t||"PUT"===t)&&s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),s.send(i),s}var o=function(){for(var e=[function(){return new ActiveXObject("Microsoft.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml2.XMLHTTP.3.0")},function(){return new XMLHttpRequest}],n=e.length;n--;)try{var f=e[n]();if(f)return e[n]}catch(o){}}();fabric.util.request=f}(),fabric.log=function(){},fabric.warn=function(){},"undefined"!=typeof console&&["log","warn"].forEach(function(e){"undefined"!=typeof console[e]&&console[e].apply&&(fabric[e]=function(){return console[e].apply(console,arguments)})}),function(e){"use strict";function n(e){return e in j?j[e]:e}function f(e,n,f){var o,d="[object Array]"===Object.prototype.toString.call(n);return"fill"!==e&&"stroke"!==e||"none"!==n?"fillRule"===e?n="evenodd"===n?"destination-over":n:"strokeDashArray"===e?n=n.replace(/,/g," ").split(/\s+/).map(function(e){return parseInt(e)}):"transformMatrix"===e?n=f&&f.transformMatrix?x(f.transformMatrix,r.parseTransformAttribute(n)):r.parseTransformAttribute(n):"visible"===e?(n="none"===n||"hidden"===n?!1:!0,f&&f.visible===!1&&(n=!1)):"originX"===e?n="start"===n?"left":"end"===n?"right":"center":o=d?n.map(h):h(n):n="",!d&&isNaN(o)?n:o}function o(e){for(var n in k)if(e[n]&&"undefined"!=typeof e[k[n]]&&0!==e[n].indexOf("url(")){var f=new r.Color(e[n]);e[n]=f.setAlpha(g(f.getAlpha()*e[k[n]],2)).toRgba()}return e}function d(e,n){var f=e.match(/(normal|italic)?\s*(normal|small-caps)?\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\s*(\d+)px(?:\/(normal|[\d\.]+))?\s+(.*)/);if(f){var o=f[1],d=f[3],i=f[4],t=f[5],l=f[6];o&&(n.fontStyle=o),d&&(n.fontWeight=isNaN(parseFloat(d))?d:parseFloat(d)),i&&(n.fontSize=parseFloat(i)),l&&(n.fontFamily=l),t&&(n.lineHeight="normal"===t?1:t)}}function i(e,o){var i,t;e.replace(/;$/,"").split(";").forEach(function(e){var l=e.split(":");i=n(l[0].trim().toLowerCase()),t=f(i,l[1].trim()),"font"===i?d(t,o):o[i]=t})}function t(e,o){var i,t;for(var l in e)"undefined"!=typeof e[l]&&(i=n(l.toLowerCase()),t=f(i,e[l]),"font"===i?d(t,o):o[i]=t)}function l(e){var n={};for(var f in r.cssRules)if(s(e,f.split(" ")))for(var o in r.cssRules[f])n[o]=r.cssRules[f][o];return n}function s(e,n){var f,o=!0;return f=a(e,n.pop()),f&&n.length&&(o=u(e,n)),f&&o&&0===n.length}function u(e,n){for(var f,o=!0;e.parentNode&&1===e.parentNode.nodeType&&n.length;)o&&(f=n.pop()),e=e.parentNode,o=a(e,f);return 0===n.length}function a(e,n){var f,o=e.nodeName,d=e.getAttribute("class"),i=e.getAttribute("id");if(f=new RegExp("^"+o,"i"),n=n.replace(f,""),i&&n.length&&(f=new RegExp("#"+i+"(?![a-zA-Z\\-]+)","i"),n=n.replace(f,"")),d&&n.length){d=d.split(" ");for(var t=d.length;t--;)f=new RegExp("\\."+d[t]+"(?![a-zA-Z\\-]+)","i"),n=n.replace(f,"")}return 0===n.length}function p(e){for(var n=e.getElementsByTagName("use");n.length;){for(var f,o=n[0],d=o.getAttribute("xlink:href").substr(1),i=o.getAttribute("x")||0,t=o.getAttribute("y")||0,l=e.getElementById(d).cloneNode(!0),s=(o.getAttribute("transform")||"")+" translate("+i+", "+t+")",u=0,a=o.attributes,p=a.length;p>u;u++){var c=a.item(u);"x"!==c.nodeName&&"y"!==c.nodeName&&"xlink:href"!==c.nodeName&&("transform"===c.nodeName?s=s+" "+c.nodeValue:l.setAttribute(c.nodeName,c.nodeValue))}l.setAttribute("transform",s),l.removeAttribute("id"),f=o.parentNode,f.replaceChild(l,o)}}function c(e,n){if(n[3]=n[0]=n[0]>n[3]?n[3]:n[0],1!==n[0]||1!==n[3]||0!==n[4]||0!==n[5]){for(var f=e.ownerDocument.createElement("g");null!=e.firstChild;)f.appendChild(e.firstChild);f.setAttribute("transform","matrix("+n[0]+" "+n[1]+" "+n[2]+" "+n[3]+" "+n[4]+" "+n[5]+")"),e.appendChild(f)}}function y(e){var n=e.objects,f=e.options;return n=n.map(function(e){return r[w(e.type)].fromObject(e)}),{objects:n,options:f}}function m(e,n,f){n[f]&&n[f].toSVG&&e.push('<pattern x="0" y="0" id="',f,'Pattern" ','width="',n[f].source.width,'" height="',n[f].source.height,'" patternUnits="userSpaceOnUse">','<image x="0" y="0" ','width="',n[f].source.width,'" height="',n[f].source.height,'" xlink:href="',n[f].source.src,'"></image></pattern>')}var r=e.fabric||(e.fabric={}),v=r.util.object.extend,w=r.util.string.capitalize,b=r.util.object.clone,g=r.util.toFixed,h=r.util.parseUnit,x=r.util.multiplyTransformMatrices,j={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","stroke-dasharray":"strokeDashArray","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"originX"},k={stroke:"strokeOpacity",fill:"fillOpacity"};r.parseTransformAttribute=function(){function e(e,n){var f=n[0];e[0]=Math.cos(f),e[1]=Math.sin(f),e[2]=-Math.sin(f),e[3]=Math.cos(f)}function n(e,n){var f=n[0],o=2===n.length?n[1]:n[0];e[0]=f,e[3]=o}function f(e,n){e[2]=n[0]}function o(e,n){e[1]=n[0]}function d(e,n){e[4]=n[0],2===n.length&&(e[5]=n[1])}var i=[1,0,0,1,0,0],t="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:e[-+]?\\d+)?)",l="(?:\\s+,?\\s*|,\\s*)",s="(?:(skewX)\\s*\\(\\s*("+t+")\\s*\\))",u="(?:(skewY)\\s*\\(\\s*("+t+")\\s*\\))",a="(?:(rotate)\\s*\\(\\s*("+t+")(?:"+l+"("+t+")"+l+"("+t+"))?\\s*\\))",p="(?:(scale)\\s*\\(\\s*("+t+")(?:"+l+"("+t+"))?\\s*\\))",c="(?:(translate)\\s*\\(\\s*("+t+")(?:"+l+"("+t+"))?\\s*\\))",y="(?:(matrix)\\s*\\(\\s*("+t+")"+l+"("+t+")"+l+"("+t+")"+l+"("+t+")"+l+"("+t+")"+l+"("+t+")\\s*\\))",m="(?:"+y+"|"+c+"|"+p+"|"+a+"|"+s+"|"+u+")",v="(?:"+m+"(?:"+l+m+")*)",w="^\\s*(?:"+v+"?)\\s*$",b=new RegExp(w),g=new RegExp(m,"g");return function(t){var l=i.concat(),s=[];if(!t||t&&!b.test(t))return l;t.replace(g,function(t){var u=new RegExp(m).exec(t).filter(function(e){return""!==e&&null!=e}),a=u[1],p=u.slice(2).map(parseFloat);switch(a){case"translate":d(l,p);break;case"rotate":p[0]=r.util.degreesToRadians(p[0]),e(l,p);break;case"scale":n(l,p);break;case"skewX":f(l,p);break;case"skewY":o(l,p);break;case"matrix":l=p}s.push(l.concat()),l=i.concat()});for(var u=s[0];s.length>1;)s.shift(),u=r.util.multiplyTransformMatrices(u,s[0]);return u}}(),r.parseSVGDocument=function(){function e(e,n){for(;e&&(e=e.parentNode);)if(n.test(e.nodeName))return!0;return!1}var n=/^(path|circle|polygon|polyline|ellipse|rect|line|image|text)$/,f="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:e[-+]?\\d+)?)",o=new RegExp("^\\s*("+f+"+)\\s*,?\\s*("+f+"+)\\s*,?\\s*("+f+"+)\\s*,?\\s*("+f+"+)\\s*$");return function(f,d,i){if(f){var t=new Date;p(f);var l,s,u=f.getAttribute("viewBox"),a=h(f.getAttribute("width")||"100%"),y=h(f.getAttribute("height")||"100%");if(u&&(u=u.match(o))){var m=parseFloat(u[1]),v=parseFloat(u[2]),w=1,g=1;l=parseFloat(u[3]),s=parseFloat(u[4]),a&&a!==l&&(w=a/l),y&&y!==s&&(g=y/s),c(f,[w,0,0,g,w*-m,g*-v])}var x=r.util.toArray(f.getElementsByTagName("*"));if(0===x.length&&r.isLikelyNode){x=f.selectNodes('//*[name(.)!="svg"]');for(var j=[],k=0,q=x.length;q>k;k++)j[k]=x[k];x=j}var z=x.filter(function(f){return n.test(f.tagName)&&!e(f,/^(?:pattern|defs)$/)});if(!z||z&&!z.length)return void(d&&d([],{}));var A={width:a?a:l,height:y?y:s,widthAttr:a,heightAttr:y};r.gradientDefs=r.getGradientDefs(f),r.cssRules=r.getCSSRules(f),r.parseElements(z,function(e){r.documentParsingTime=new Date-t,d&&d(e,A)},b(A),i)}}}();var q={has:function(e,n){n(!1)},get:function(){},set:function(){}};v(r,{getGradientDefs:function(e){var n,f,o,d,i=e.getElementsByTagName("linearGradient"),t=e.getElementsByTagName("radialGradient"),l=0,s=[],u={},a={};for(s.length=i.length+t.length,f=i.length;f--;)s[l++]=i[f];for(f=t.length;f--;)s[l++]=t[f];for(;l--;)n=s[l],d=n.getAttribute("xlink:href"),o=n.getAttribute("id"),d&&(a[o]=d.substr(1)),u[o]=n;for(o in a){var p=u[a[o]].cloneNode(!0);for(n=u[o];p.firstChild;)n.appendChild(p.firstChild)}return u},parseAttributes:function(e,d){if(e){var i,t={};e.parentNode&&/^symbol|[g|a]$/i.test(e.parentNode.nodeName)&&(t=r.parseAttributes(e.parentNode,d));var s=d.reduce(function(o,d){return i=e.getAttribute(d),i&&(d=n(d),i=f(d,i,t),o[d]=i),o},{});return s=v(s,v(l(e),r.parseStyleAttribute(e))),o(v(t,s))}},parseElements:function(e,n,f,o){new r.ElementsParser(e,n,f,o).parse()},parseStyleAttribute:function(e){var n={},f=e.getAttribute("style");return f?("string"==typeof f?i(f,n):t(f,n),n):n
	},parsePointsAttribute:function(e){if(!e)return null;e=e.replace(/,/g," ").trim(),e=e.split(/\s+/);var n,f,o=[];for(n=0,f=e.length;f>n;n+=2)o.push({x:parseFloat(e[n]),y:parseFloat(e[n+1])});return o},getCSSRules:function(e){for(var o,d=e.getElementsByTagName("style"),i={},t=0,l=d.length;l>t;t++){var s=d[0].textContent;s=s.replace(/\/\*[\s\S]*?\*\//g,""),o=s.match(/[^{]*\{[\s\S]*?\}/g),o=o.map(function(e){return e.trim()}),o.forEach(function(e){for(var o=e.match(/([\s\S]*?)\s*\{([^}]*)\}/),d={},t=o[2].trim(),l=t.replace(/;$/,"").split(/\s*;\s*/),s=0,u=l.length;u>s;s++){var a=l[s].split(/\s*:\s*/),p=n(a[0]),c=f(p,a[1],a[0]);d[p]=c}e=o[1],e.split(",").forEach(function(e){i[e.trim()]=r.util.object.clone(d)})})}return i},loadSVGFromURL:function(e,n,f){function o(o){var d=o.responseXML;d&&!d.documentElement&&r.window.ActiveXObject&&o.responseText&&(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(o.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,""))),d&&d.documentElement&&r.parseSVGDocument(d.documentElement,function(f,o){q.set(e,{objects:r.util.array.invoke(f,"toObject"),options:o}),n(f,o)},f)}e=e.replace(/^\n\s*/,"").trim(),q.has(e,function(f){f?q.get(e,function(e){var f=y(e);n(f.objects,f.options)}):new r.util.request(e,{method:"get",onComplete:o})})},loadSVGFromString:function(e,n,f){e=e.trim();var o;if("undefined"!=typeof DOMParser){var d=new DOMParser;d&&d.parseFromString&&(o=d.parseFromString(e,"text/xml"))}else r.window.ActiveXObject&&(o=new ActiveXObject("Microsoft.XMLDOM"),o.async="false",o.loadXML(e.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));r.parseSVGDocument(o.documentElement,function(e,f){n(e,f)},f)},createSVGFontFacesMarkup:function(e){for(var n="",f=0,o=e.length;o>f;f++)"text"===e[f].type&&e[f].path&&(n+=["@font-face {","font-family: ",e[f].fontFamily,"; ","src: url('",e[f].path,"')","}"].join(""));return n&&(n=['<style type="text/css">',"<![CDATA[",n,"]]>","</style>"].join("")),n},createSVGRefElementsMarkup:function(e){var n=[];return m(n,e,"backgroundColor"),m(n,e,"overlayColor"),n.join("")}})}("undefined"!=typeof exports?exports:this),fabric.ElementsParser=function(e,n,f,o){this.elements=e,this.callback=n,this.options=f,this.reviver=o},fabric.ElementsParser.prototype.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},fabric.ElementsParser.prototype.createObjects=function(){for(var e=0,n=this.elements.length;n>e;e++)!function(e,n){setTimeout(function(){e.createObject(e.elements[n],n)},0)}(this,e)},fabric.ElementsParser.prototype.createObject=function(e,n){var f=fabric[fabric.util.string.capitalize(e.tagName)];if(f&&f.fromElement)try{this._createObject(f,e,n)}catch(o){fabric.log(o)}else this.checkIfDone()},fabric.ElementsParser.prototype._createObject=function(e,n,f){if(e.async)e.fromElement(n,this.createCallback(f,n),this.options);else{var o=e.fromElement(n,this.options);this.resolveGradient(o,"fill"),this.resolveGradient(o,"stroke"),this.reviver&&this.reviver(n,o),this.instances[f]=o,this.checkIfDone()}},fabric.ElementsParser.prototype.createCallback=function(e,n){var f=this;return function(o){f.resolveGradient(o,"fill"),f.resolveGradient(o,"stroke"),f.reviver&&f.reviver(n,o),f.instances[e]=o,f.checkIfDone()}},fabric.ElementsParser.prototype.resolveGradient=function(e,n){var f=e.get(n);if(/^url\(/.test(f)){var o=f.slice(5,f.length-1);fabric.gradientDefs[o]&&e.set(n,fabric.Gradient.fromElement(fabric.gradientDefs[o],e))}},fabric.ElementsParser.prototype.checkIfDone=function(){0===--this.numElements&&(this.instances=this.instances.filter(function(e){return null!=e}),this.callback(this.instances))},function(e){"use strict";function n(e,n){this.x=e,this.y=n}var f=e.fabric||(e.fabric={});return f.Point?void f.warn("fabric.Point is already defined"):(f.Point=n,void(n.prototype={constructor:n,add:function(e){return new n(this.x+e.x,this.y+e.y)},addEquals:function(e){return this.x+=e.x,this.y+=e.y,this},scalarAdd:function(e){return new n(this.x+e,this.y+e)},scalarAddEquals:function(e){return this.x+=e,this.y+=e,this},subtract:function(e){return new n(this.x-e.x,this.y-e.y)},subtractEquals:function(e){return this.x-=e.x,this.y-=e.y,this},scalarSubtract:function(e){return new n(this.x-e,this.y-e)},scalarSubtractEquals:function(e){return this.x-=e,this.y-=e,this},multiply:function(e){return new n(this.x*e,this.y*e)},multiplyEquals:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return new n(this.x/e,this.y/e)},divideEquals:function(e){return this.x/=e,this.y/=e,this},eq:function(e){return this.x===e.x&&this.y===e.y},lt:function(e){return this.x<e.x&&this.y<e.y},lte:function(e){return this.x<=e.x&&this.y<=e.y},gt:function(e){return this.x>e.x&&this.y>e.y},gte:function(e){return this.x>=e.x&&this.y>=e.y},lerp:function(e,f){return new n(this.x+(e.x-this.x)*f,this.y+(e.y-this.y)*f)},distanceFrom:function(e){var n=this.x-e.x,f=this.y-e.y;return Math.sqrt(n*n+f*f)},midPointFrom:function(e){return new n(this.x+(e.x-this.x)/2,this.y+(e.y-this.y)/2)},min:function(e){return new n(Math.min(this.x,e.x),Math.min(this.y,e.y))},max:function(e){return new n(Math.max(this.x,e.x),Math.max(this.y,e.y))},toString:function(){return this.x+","+this.y},setXY:function(e,n){this.x=e,this.y=n},setFromPoint:function(e){this.x=e.x,this.y=e.y},swap:function(e){var n=this.x,f=this.y;this.x=e.x,this.y=e.y,e.x=n,e.y=f}}))}("undefined"!=typeof exports?exports:this),function(e){"use strict";function n(e){this.status=e,this.points=[]}var f=e.fabric||(e.fabric={});return f.Intersection?void f.warn("fabric.Intersection is already defined"):(f.Intersection=n,f.Intersection.prototype={appendPoint:function(e){this.points.push(e)},appendPoints:function(e){this.points=this.points.concat(e)}},f.Intersection.intersectLineLine=function(e,o,d,i){var t,l=(i.x-d.x)*(e.y-d.y)-(i.y-d.y)*(e.x-d.x),s=(o.x-e.x)*(e.y-d.y)-(o.y-e.y)*(e.x-d.x),u=(i.y-d.y)*(o.x-e.x)-(i.x-d.x)*(o.y-e.y);if(0!==u){var a=l/u,p=s/u;a>=0&&1>=a&&p>=0&&1>=p?(t=new n("Intersection"),t.points.push(new f.Point(e.x+a*(o.x-e.x),e.y+a*(o.y-e.y)))):t=new n}else t=new n(0===l||0===s?"Coincident":"Parallel");return t},f.Intersection.intersectLinePolygon=function(e,f,o){for(var d=new n,i=o.length,t=0;i>t;t++){var l=o[t],s=o[(t+1)%i],u=n.intersectLineLine(e,f,l,s);d.appendPoints(u.points)}return d.points.length>0&&(d.status="Intersection"),d},f.Intersection.intersectPolygonPolygon=function(e,f){for(var o=new n,d=e.length,i=0;d>i;i++){var t=e[i],l=e[(i+1)%d],s=n.intersectLinePolygon(t,l,f);o.appendPoints(s.points)}return o.points.length>0&&(o.status="Intersection"),o},void(f.Intersection.intersectPolygonRectangle=function(e,o,d){var i=o.min(d),t=o.max(d),l=new f.Point(t.x,i.y),s=new f.Point(i.x,t.y),u=n.intersectLinePolygon(i,l,e),a=n.intersectLinePolygon(l,t,e),p=n.intersectLinePolygon(t,s,e),c=n.intersectLinePolygon(s,i,e),y=new n;return y.appendPoints(u.points),y.appendPoints(a.points),y.appendPoints(p.points),y.appendPoints(c.points),y.points.length>0&&(y.status="Intersection"),y}))}("undefined"!=typeof exports?exports:this),function(e){"use strict";function n(e){e?this._tryParsingColor(e):this.setSource([0,0,0,1])}function f(e,n,f){return 0>f&&(f+=1),f>1&&(f-=1),1/6>f?e+6*(n-e)*f:.5>f?n:2/3>f?e+(n-e)*(2/3-f)*6:e}var o=e.fabric||(e.fabric={});return o.Color?void o.warn("fabric.Color is already defined."):(o.Color=n,o.Color.prototype={_tryParsingColor:function(e){var f;return e in n.colorNameMap&&(e=n.colorNameMap[e]),"transparent"===e?void this.setSource([255,255,255,0]):(f=n.sourceFromHex(e),f||(f=n.sourceFromRgb(e)),f||(f=n.sourceFromHsl(e)),void(f&&this.setSource(f)))},_rgbToHsl:function(e,n,f){e/=255,n/=255,f/=255;var d,i,t,l=o.util.array.max([e,n,f]),s=o.util.array.min([e,n,f]);if(t=(l+s)/2,l===s)d=i=0;else{var u=l-s;switch(i=t>.5?u/(2-l-s):u/(l+s),l){case e:d=(n-f)/u+(f>n?6:0);break;case n:d=(f-e)/u+2;break;case f:d=(e-n)/u+4}d/=6}return[Math.round(360*d),Math.round(100*i),Math.round(100*t)]},getSource:function(){return this._source},setSource:function(e){this._source=e},toRgb:function(){var e=this.getSource();return"rgb("+e[0]+","+e[1]+","+e[2]+")"},toRgba:function(){var e=this.getSource();return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")"},toHsl:function(){var e=this.getSource(),n=this._rgbToHsl(e[0],e[1],e[2]);return"hsl("+n[0]+","+n[1]+"%,"+n[2]+"%)"},toHsla:function(){var e=this.getSource(),n=this._rgbToHsl(e[0],e[1],e[2]);return"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+e[3]+")"},toHex:function(){var e,n,f,o=this.getSource();return e=o[0].toString(16),e=1===e.length?"0"+e:e,n=o[1].toString(16),n=1===n.length?"0"+n:n,f=o[2].toString(16),f=1===f.length?"0"+f:f,e.toUpperCase()+n.toUpperCase()+f.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(e){var n=this.getSource();return n[3]=e,this.setSource(n),this},toGrayscale:function(){var e=this.getSource(),n=parseInt((.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),10),f=e[3];return this.setSource([n,n,n,f]),this},toBlackWhite:function(e){var n=this.getSource(),f=(.3*n[0]+.59*n[1]+.11*n[2]).toFixed(0),o=n[3];return e=e||127,f=Number(f)<Number(e)?0:255,this.setSource([f,f,f,o]),this},overlayWith:function(e){e instanceof n||(e=new n(e));for(var f=[],o=this.getAlpha(),d=.5,i=this.getSource(),t=e.getSource(),l=0;3>l;l++)f.push(Math.round(i[l]*(1-d)+t[l]*d));return f[3]=o,this.setSource(f),this}},o.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,o.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/,o.Color.reHex=/^#?([0-9a-f]{6}|[0-9a-f]{3})$/i,o.Color.colorNameMap={aqua:"#00FFFF",black:"#000000",blue:"#0000FF",fuchsia:"#FF00FF",gray:"#808080",green:"#008000",lime:"#00FF00",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#FFA500",purple:"#800080",red:"#FF0000",silver:"#C0C0C0",teal:"#008080",white:"#FFFFFF",yellow:"#FFFF00"},o.Color.fromRgb=function(e){return n.fromSource(n.sourceFromRgb(e))},o.Color.sourceFromRgb=function(e){var f=e.match(n.reRGBa);if(f){var o=parseInt(f[1],10)/(/%$/.test(f[1])?100:1)*(/%$/.test(f[1])?255:1),d=parseInt(f[2],10)/(/%$/.test(f[2])?100:1)*(/%$/.test(f[2])?255:1),i=parseInt(f[3],10)/(/%$/.test(f[3])?100:1)*(/%$/.test(f[3])?255:1);return[parseInt(o,10),parseInt(d,10),parseInt(i,10),f[4]?parseFloat(f[4]):1]}},o.Color.fromRgba=n.fromRgb,o.Color.fromHsl=function(e){return n.fromSource(n.sourceFromHsl(e))},o.Color.sourceFromHsl=function(e){var o=e.match(n.reHSLa);if(o){var d,i,t,l=(parseFloat(o[1])%360+360)%360/360,s=parseFloat(o[2])/(/%$/.test(o[2])?100:1),u=parseFloat(o[3])/(/%$/.test(o[3])?100:1);if(0===s)d=i=t=u;else{var a=.5>=u?u*(s+1):u+s-u*s,p=2*u-a;d=f(p,a,l+1/3),i=f(p,a,l),t=f(p,a,l-1/3)}return[Math.round(255*d),Math.round(255*i),Math.round(255*t),o[4]?parseFloat(o[4]):1]}},o.Color.fromHsla=n.fromHsl,o.Color.fromHex=function(e){return n.fromSource(n.sourceFromHex(e))},o.Color.sourceFromHex=function(e){if(e.match(n.reHex)){var f=e.slice(e.indexOf("#")+1),o=3===f.length,d=o?f.charAt(0)+f.charAt(0):f.substring(0,2),i=o?f.charAt(1)+f.charAt(1):f.substring(2,4),t=o?f.charAt(2)+f.charAt(2):f.substring(4,6);return[parseInt(d,16),parseInt(i,16),parseInt(t,16),1]}},void(o.Color.fromSource=function(e){var f=new n;return f.setSource(e),f}))}("undefined"!=typeof exports?exports:this),function(){function e(e){var n,f,o,d=e.getAttribute("style"),i=e.getAttribute("offset");if(i=parseFloat(i)/(/%$/.test(i)?100:1),i=0>i?0:i>1?1:i,d){var t=d.split(/\s*;\s*/);""===t[t.length-1]&&t.pop();for(var l=t.length;l--;){var s=t[l].split(/\s*:\s*/),u=s[0].trim(),a=s[1].trim();"stop-color"===u?n=a:"stop-opacity"===u&&(o=a)}}return n||(n=e.getAttribute("stop-color")||"rgb(0,0,0)"),o||(o=e.getAttribute("stop-opacity")),n=new fabric.Color(n),f=n.getAlpha(),o=isNaN(parseFloat(o))?1:parseFloat(o),o*=f,{offset:i,color:n.toRgb(),opacity:o}}function n(e){return{x1:e.getAttribute("x1")||0,y1:e.getAttribute("y1")||0,x2:e.getAttribute("x2")||"100%",y2:e.getAttribute("y2")||0}}function f(e){return{x1:e.getAttribute("fx")||e.getAttribute("cx")||"50%",y1:e.getAttribute("fy")||e.getAttribute("cy")||"50%",r1:0,x2:e.getAttribute("cx")||"50%",y2:e.getAttribute("cy")||"50%",r2:e.getAttribute("r")||"50%"}}function o(e,n,f){var o,d=0,i=1,t="";for(var l in n)o=parseFloat(n[l],10),i="string"==typeof n[l]&&/^\d+%$/.test(n[l])?.01:1,"x1"===l||"x2"===l||"r2"===l?(i*="objectBoundingBox"===f?e.width:1,d="objectBoundingBox"===f?e.left||0:0):("y1"===l||"y2"===l)&&(i*="objectBoundingBox"===f?e.height:1,d="objectBoundingBox"===f?e.top||0:0),n[l]=o*i+d;if("ellipse"===e.type&&null!==n.r2&&"objectBoundingBox"===f&&e.rx!==e.ry){var s=e.ry/e.rx;t=" scale(1, "+s+")",n.y1&&(n.y1/=s),n.y2&&(n.y2/=s)}return t}fabric.Gradient=fabric.util.createClass({offsetX:0,offsetY:0,initialize:function(e){e||(e={});var n={};this.id=fabric.Object.__uid++,this.type=e.type||"linear",n={x1:e.coords.x1||0,y1:e.coords.y1||0,x2:e.coords.x2||0,y2:e.coords.y2||0},"radial"===this.type&&(n.r1=e.coords.r1||0,n.r2=e.coords.r2||0),this.coords=n,this.colorStops=e.colorStops.slice(),e.gradientTransform&&(this.gradientTransform=e.gradientTransform),this.offsetX=e.offsetX||this.offsetX,this.offsetY=e.offsetY||this.offsetY},addColorStop:function(e){for(var n in e){var f=new fabric.Color(e[n]);this.colorStops.push({offset:n,color:f.toRgb(),opacity:f.getAlpha()})}return this},toObject:function(){return{type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY}},toSVG:function(e){var n,f,o=fabric.util.object.clone(this.coords);if(this.colorStops.sort(function(e,n){return e.offset-n.offset}),!e.group||"path-group"!==e.group.type)for(var d in o)"x1"===d||"x2"===d||"r2"===d?o[d]+=this.offsetX-e.width/2:("y1"===d||"y2"===d)&&(o[d]+=this.offsetY-e.height/2);f='id="SVGID_'+this.id+'" gradientUnits="userSpaceOnUse"',this.gradientTransform&&(f+=' gradientTransform="matrix('+this.gradientTransform.join(" ")+')" '),"linear"===this.type?n=["<linearGradient ",f,' x1="',o.x1,'" y1="',o.y1,'" x2="',o.x2,'" y2="',o.y2,'">\n']:"radial"===this.type&&(n=["<radialGradient ",f,' cx="',o.x2,'" cy="',o.y2,'" r="',o.r2,'" fx="',o.x1,'" fy="',o.y1,'">\n']);for(var i=0;i<this.colorStops.length;i++)n.push("<stop ",'offset="',100*this.colorStops[i].offset+"%",'" style="stop-color:',this.colorStops[i].color,null!=this.colorStops[i].opacity?";stop-opacity: "+this.colorStops[i].opacity:";",'"/>\n');return n.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),n.join("")},toLive:function(e){var n;if(this.type){"linear"===this.type?n=e.createLinearGradient(this.coords.x1,this.coords.y1,this.coords.x2,this.coords.y2):"radial"===this.type&&(n=e.createRadialGradient(this.coords.x1,this.coords.y1,this.coords.r1,this.coords.x2,this.coords.y2,this.coords.r2));for(var f=0,o=this.colorStops.length;o>f;f++){var d=this.colorStops[f].color,i=this.colorStops[f].opacity,t=this.colorStops[f].offset;"undefined"!=typeof i&&(d=new fabric.Color(d).setAlpha(i).toRgba()),n.addColorStop(parseFloat(t),d)}return n}}}),fabric.util.object.extend(fabric.Gradient,{fromElement:function(d,i){var t,l=d.getElementsByTagName("stop"),s="linearGradient"===d.nodeName?"linear":"radial",u=d.getAttribute("gradientUnits")||"objectBoundingBox",a=d.getAttribute("gradientTransform"),p=[],c={};"linear"===s?c=n(d):"radial"===s&&(c=f(d));for(var y=l.length;y--;)p.push(e(l[y]));t=o(i,c,u);var m=new fabric.Gradient({type:s,coords:c,colorStops:p,offsetX:-i.left,offsetY:-i.top});return(a||""!==t)&&(m.gradientTransform=fabric.parseTransformAttribute((a||"")+t)),m},forObject:function(e,n){return n||(n={}),o(e,n.coords,"userSpaceOnUse"),new fabric.Gradient(n)}})}(),fabric.Pattern=fabric.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,initialize:function(e){if(e||(e={}),this.id=fabric.Object.__uid++,e.source)if("string"==typeof e.source)if("undefined"!=typeof fabric.util.getFunctionBody(e.source))this.source=new Function(fabric.util.getFunctionBody(e.source));else{var n=this;this.source=fabric.util.createImage(),fabric.util.loadImage(e.source,function(e){n.source=e})}else this.source=e.source;e.repeat&&(this.repeat=e.repeat),e.offsetX&&(this.offsetX=e.offsetX),e.offsetY&&(this.offsetY=e.offsetY)},toObject:function(){var e;return"function"==typeof this.source?e=String(this.source):"string"==typeof this.source.src&&(e=this.source.src),{source:e,repeat:this.repeat,offsetX:this.offsetX,offsetY:this.offsetY}},toSVG:function(e){var n="function"==typeof this.source?this.source():this.source,f=n.width/e.getWidth(),o=n.height/e.getHeight(),d="";return n.src?d=n.src:n.toDataURL&&(d=n.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+this.offsetX+'" y="'+this.offsetY+'" width="'+f+'" height="'+o+'"><image x="0" y="0" width="'+n.width+'" height="'+n.height+'" xlink:href="'+d+'"></image></pattern>'},toLive:function(e){var n="function"==typeof this.source?this.source():this.source;if(!n)return"";if("undefined"!=typeof n.src){if(!n.complete)return"";if(0===n.naturalWidth||0===n.naturalHeight)return""}return e.createPattern(n,this.repeat)}}),function(e){"use strict";var n=e.fabric||(e.fabric={});return n.Shadow?void n.warn("fabric.Shadow is already defined."):(n.Shadow=n.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,initialize:function(e){"string"==typeof e&&(e=this._parseShadow(e));for(var f in e)this[f]=e[f];this.id=n.Object.__uid++},_parseShadow:function(e){var f=e.trim(),o=n.Shadow.reOffsetsAndBlur.exec(f)||[],d=f.replace(n.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:d.trim(),offsetX:parseInt(o[1],10)||0,offsetY:parseInt(o[2],10)||0,blur:parseInt(o[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(e){var n="SourceAlpha";return!e||e.fill!==this.color&&e.stroke!==this.color||(n="SourceGraphic"),'<filter id="SVGID_'+this.id+'" y="-40%" height="180%"><feGaussianBlur in="'+n+'" stdDeviation="'+(this.blur?this.blur/3:0)+'"></feGaussianBlur><feOffset dx="'+this.offsetX+'" dy="'+this.offsetY+'"></feOffset><feMerge><feMergeNode></feMergeNode><feMergeNode in="SourceGraphic"></feMergeNode></feMerge></filter>'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY};var e={},f=n.Shadow.prototype;return this.color!==f.color&&(e.color=this.color),this.blur!==f.blur&&(e.blur=this.blur),this.offsetX!==f.offsetX&&(e.offsetX=this.offsetX),this.offsetY!==f.offsetY&&(e.offsetY=this.offsetY),e}}),void(n.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/))}("undefined"!=typeof exports?exports:this),function(){"use strict";if(fabric.StaticCanvas)return void fabric.warn("fabric.StaticCanvas is already defined.");var e=fabric.util.object.extend,n=fabric.util.getElementOffset,f=fabric.util.removeFromArray,o=new Error("Could not initialize `canvas` element");fabric.StaticCanvas=fabric.util.createClass({initialize:function(e,n){n||(n={}),this._initStatic(e,n),fabric.StaticCanvas.activeInstance=this},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!0,renderOnAddRemove:!0,clipTo:null,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:[1,0,0,1,0,0],onBeforeScaleRotate:function(){},_initStatic:function(e,n){this._objects=[],this._createLowerCanvas(e),this._initOptions(n),this._setImageSmoothing(),n.overlayImage&&this.setOverlayImage(n.overlayImage,this.renderAll.bind(this)),n.backgroundImage&&this.setBackgroundImage(n.backgroundImage,this.renderAll.bind(this)),n.backgroundColor&&this.setBackgroundColor(n.backgroundColor,this.renderAll.bind(this)),n.overlayColor&&this.setOverlayColor(n.overlayColor,this.renderAll.bind(this)),this.calcOffset()},calcOffset:function(){return this._offset=n(this.lowerCanvasEl),this},setOverlayImage:function(e,n,f){return this.__setBgOverlayImage("overlayImage",e,n,f)},setBackgroundImage:function(e,n,f){return this.__setBgOverlayImage("backgroundImage",e,n,f)},setOverlayColor:function(e,n){return this.__setBgOverlayColor("overlayColor",e,n)},setBackgroundColor:function(e,n){return this.__setBgOverlayColor("backgroundColor",e,n)},_setImageSmoothing:function(){var e=this.getContext();e.imageSmoothingEnabled=this.imageSmoothingEnabled,e.webkitImageSmoothingEnabled=this.imageSmoothingEnabled,e.mozImageSmoothingEnabled=this.imageSmoothingEnabled,e.msImageSmoothingEnabled=this.imageSmoothingEnabled,e.oImageSmoothingEnabled=this.imageSmoothingEnabled},__setBgOverlayImage:function(e,n,f,o){return"string"==typeof n?fabric.util.loadImage(n,function(n){this[e]=new fabric.Image(n,o),f&&f()},this):(this[e]=n,f&&f()),this},__setBgOverlayColor:function(e,n,f){if(n&&n.source){var o=this;fabric.util.loadImage(n.source,function(d){o[e]=new fabric.Pattern({source:d,repeat:n.repeat,offsetX:n.offsetX,offsetY:n.offsetY}),f&&f()})}else this[e]=n,f&&f();return this},_createCanvasElement:function(){var e=fabric.document.createElement("canvas");if(e.style||(e.style={}),!e)throw o;return this._initCanvasElement(e),e},_initCanvasElement:function(e){if(fabric.util.createCanvasElement(e),"undefined"==typeof e.getContext)throw o},_initOptions:function(e){for(var n in e)this[n]=e[n];this.width=this.width||parseInt(this.lowerCanvasEl.width,10)||0,this.height=this.height||parseInt(this.lowerCanvasEl.height,10)||0,this.lowerCanvasEl.style&&(this.lowerCanvasEl.width=this.width,this.lowerCanvasEl.height=this.height,this.lowerCanvasEl.style.width=this.width+"px",this.lowerCanvasEl.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(e){this.lowerCanvasEl=fabric.util.getById(e)||this._createCanvasElement(),this._initCanvasElement(this.lowerCanvasEl),fabric.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(e,n){return this.setDimensions({width:e},n)},setHeight:function(e,n){return this.setDimensions({height:e},n)},setDimensions:function(e,n){var f;n=n||{};for(var o in e)f=e[o],n.cssOnly||(this._setBackstoreDimension(o,e[o]),f+="px"),n.backstoreOnly||this._setCssDimension(o,f);return n.cssOnly||this.renderAll(),this.calcOffset(),this},_setBackstoreDimension:function(e,n){return this.lowerCanvasEl[e]=n,this.upperCanvasEl&&(this.upperCanvasEl[e]=n),this.cacheCanvasEl&&(this.cacheCanvasEl[e]=n),this[e]=n,this},_setCssDimension:function(e,n){return this.lowerCanvasEl.style[e]=n,this.upperCanvasEl&&(this.upperCanvasEl.style[e]=n),this.wrapperEl&&(this.wrapperEl.style[e]=n),this},getZoom:function(){return Math.sqrt(this.viewportTransform[0]*this.viewportTransform[3])},setViewportTransform:function(e){this.viewportTransform=e,this.renderAll();for(var n=0,f=this._objects.length;f>n;n++)this._objects[n].setCoords();return this},zoomToPoint:function(e,n){var f=e;e=fabric.util.transformPoint(e,fabric.util.invertTransform(this.viewportTransform)),this.viewportTransform[0]=n,this.viewportTransform[3]=n;var o=fabric.util.transformPoint(e,this.viewportTransform);this.viewportTransform[4]+=f.x-o.x,this.viewportTransform[5]+=f.y-o.y,this.renderAll();for(var d=0,i=this._objects.length;i>d;d++)this._objects[d].setCoords();return this},setZoom:function(e){return this.zoomToPoint(new fabric.Point(0,0),e),this},absolutePan:function(e){this.viewportTransform[4]=-e.x,this.viewportTransform[5]=-e.y,this.renderAll();for(var n=0,f=this._objects.length;f>n;n++)this._objects[n].setCoords();return this},relativePan:function(e){return this.absolutePan(new fabric.Point(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},getActiveObject:function(){return null},getActiveGroup:function(){return null},_draw:function(e,n){if(n){e.save();var f=this.viewportTransform;e.transform(f[0],f[1],f[2],f[3],f[4],f[5]),n.render(e),e.restore(),this.controlsAboveOverlay||n._renderControls(e)}},_onObjectAdded:function(e){this.stateful&&e.setupState(),e.canvas=this,e.setCoords(),this.fire("object:added",{target:e}),e.fire("added")},_onObjectRemoved:function(e){this.getActiveObject()===e&&(this.fire("before:selection:cleared",{target:e}),this._discardActiveObject(),this.fire("selection:cleared")),this.fire("object:removed",{target:e}),e.fire("removed")},clearContext:function(e){return e.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.discardActiveGroup&&this.discardActiveGroup(),this.discardActiveObject&&this.discardActiveObject(),this.clearContext(this.contextContainer),this.contextTop&&this.clearContext(this.contextTop),this.fire("canvas:cleared"),this.renderAll(),this},renderAll:function(e){var n=this[e===!0&&this.interactive?"contextTop":"contextContainer"],f=this.getActiveGroup();return this.contextTop&&this.selection&&!this._groupSelector&&this.clearContext(this.contextTop),e||this.clearContext(n),this.fire("before:render"),this.clipTo&&fabric.util.clipContext(this,n),this._renderBackground(n),this._renderObjects(n,f),this._renderActiveGroup(n,f),this.clipTo&&n.restore(),this._renderOverlay(n),this.controlsAboveOverlay&&this.interactive&&this.drawControls(n),this.fire("after:render"),this},_renderObjects:function(e,n){var f,o;if(n)for(f=0,o=this._objects.length;o>f;++f)this._objects[f]&&!n.contains(this._objects[f])&&this._draw(e,this._objects[f]);else for(f=0,o=this._objects.length;o>f;++f)this._draw(e,this._objects[f])},_renderActiveGroup:function(e,n){if(n){var f=[];this.forEachObject(function(e){n.contains(e)&&f.push(e)}),n._set("objects",f),this._draw(e,n)}},_renderBackground:function(e){this.backgroundColor&&(e.fillStyle=this.backgroundColor.toLive?this.backgroundColor.toLive(e):this.backgroundColor,e.fillRect(this.backgroundColor.offsetX||0,this.backgroundColor.offsetY||0,this.width,this.height)),this.backgroundImage&&this._draw(e,this.backgroundImage)},_renderOverlay:function(e){this.overlayColor&&(e.fillStyle=this.overlayColor.toLive?this.overlayColor.toLive(e):this.overlayColor,e.fillRect(this.overlayColor.offsetX||0,this.overlayColor.offsetY||0,this.width,this.height)),this.overlayImage&&this._draw(e,this.overlayImage)},renderTop:function(){var e=this.contextTop||this.contextContainer;this.clearContext(e),this.selection&&this._groupSelector&&this._drawSelection();var n=this.getActiveGroup();return n&&n.render(e),this._renderOverlay(e),this.fire("after:render"),this},getCenter:function(){return{top:this.getHeight()/2,left:this.getWidth()/2}},centerObjectH:function(e){return this._centerObject(e,new fabric.Point(this.getCenter().left,e.getCenterPoint().y)),this.renderAll(),this},centerObjectV:function(e){return this._centerObject(e,new fabric.Point(e.getCenterPoint().x,this.getCenter().top)),this.renderAll(),this},centerObject:function(e){var n=this.getCenter();return this._centerObject(e,new fabric.Point(n.left,n.top)),this.renderAll(),this},_centerObject:function(e,n){return e.setPositionByOrigin(n,"center","center"),this},toDatalessJSON:function(e){return this.toDatalessObject(e)},toObject:function(e){return this._toObjectMethod("toObject",e)},toDatalessObject:function(e){return this._toObjectMethod("toDatalessObject",e)},_toObjectMethod:function(n,f){var o=this.getActiveGroup();o&&this.discardActiveGroup();var d={objects:this._toObjects(n,f)};return e(d,this.__serializeBgOverlay()),fabric.util.populateWithProperties(this,d,f),o&&(this.setActiveGroup(new fabric.Group(o.getObjects(),{originX:"center",originY:"center"})),o.forEachObject(function(e){e.set("active",!0)}),this._currentTransform&&(this._currentTransform.target=this.getActiveGroup())),d},_toObjects:function(e,n){return this.getObjects().map(function(f){return this._toObject(f,e,n)},this)},_toObject:function(e,n,f){var o;this.includeDefaultValues||(o=e.includeDefaultValues,e.includeDefaultValues=!1);var d=e[n](f);return this.includeDefaultValues||(e.includeDefaultValues=o),d},__serializeBgOverlay:function(){var e={background:this.backgroundColor&&this.backgroundColor.toObject?this.backgroundColor.toObject():this.backgroundColor};return this.overlayColor&&(e.overlay=this.overlayColor.toObject?this.overlayColor.toObject():this.overlayColor),this.backgroundImage&&(e.backgroundImage=this.backgroundImage.toObject()),this.overlayImage&&(e.overlayImage=this.overlayImage.toObject()),e},svgViewportTransformation:!0,toSVG:function(e,n){e||(e={});var f=[];return this._setSVGPreamble(f,e),this._setSVGHeader(f,e),this._setSVGBgOverlayColor(f,"backgroundColor"),this._setSVGBgOverlayImage(f,"backgroundImage"),this._setSVGObjects(f,n),this._setSVGBgOverlayColor(f,"overlayColor"),this._setSVGBgOverlayImage(f,"overlayImage"),f.push("</svg>"),f.join("")},_setSVGPreamble:function(e,n){n.suppressPreamble||e.push('<?xml version="1.0" encoding="',n.encoding||"UTF-8",'" standalone="no" ?>','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(e,n){var f,o,d;n.viewBox?(f=n.viewBox.width,o=n.viewBox.height):(f=this.width,o=this.height,this.svgViewportTransformation||(d=this.viewportTransform,f/=d[0],o/=d[3])),e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',f,'" ','height="',o,'" ',this.backgroundColor&&!this.backgroundColor.toLive?'style="background-color: '+this.backgroundColor+'" ':null,n.viewBox?'viewBox="'+n.viewBox.x+" "+n.viewBox.y+" "+n.viewBox.width+" "+n.viewBox.height+'" ':null,'xml:space="preserve">',"<desc>Created with Fabric.js ",fabric.version,"</desc>","<defs>",fabric.createSVGFontFacesMarkup(this.getObjects()),fabric.createSVGRefElementsMarkup(this),"</defs>")},_setSVGObjects:function(e,n){var f=this.getActiveGroup();f&&this.discardActiveGroup();for(var o=0,d=this.getObjects(),i=d.length;i>o;o++)e.push(d[o].toSVG(n));f&&(this.setActiveGroup(new fabric.Group(f.getObjects())),f.forEachObject(function(e){e.set("active",!0)}))},_setSVGBgOverlayImage:function(e,n){this[n]&&this[n].toSVG&&e.push(this[n].toSVG())},_setSVGBgOverlayColor:function(e,n){this[n]&&this[n].source?e.push('<rect x="',this[n].offsetX,'" y="',this[n].offsetY,'" ','width="',"repeat-y"===this[n].repeat||"no-repeat"===this[n].repeat?this[n].source.width:this.width,'" height="',"repeat-x"===this[n].repeat||"no-repeat"===this[n].repeat?this[n].source.height:this.height,'" fill="url(#'+n+'Pattern)"',"></rect>"):this[n]&&"overlayColor"===n&&e.push('<rect x="0" y="0" ','width="',this.width,'" height="',this.height,'" fill="',this[n],'"',"></rect>")},sendToBack:function(e){return f(this._objects,e),this._objects.unshift(e),this.renderAll&&this.renderAll()},bringToFront:function(e){return f(this._objects,e),this._objects.push(e),this.renderAll&&this.renderAll()},sendBackwards:function(e,n){var o=this._objects.indexOf(e);if(0!==o){var d=this._findNewLowerIndex(e,o,n);f(this._objects,e),this._objects.splice(d,0,e),this.renderAll&&this.renderAll()}return this},_findNewLowerIndex:function(e,n,f){var o;if(f){o=n;for(var d=n-1;d>=0;--d){var i=e.intersectsWithObject(this._objects[d])||e.isContainedWithinObject(this._objects[d])||this._objects[d].isContainedWithinObject(e);if(i){o=d;break}}}else o=n-1;return o},bringForward:function(e,n){var o=this._objects.indexOf(e);if(o!==this._objects.length-1){var d=this._findNewUpperIndex(e,o,n);f(this._objects,e),this._objects.splice(d,0,e),this.renderAll&&this.renderAll()}return this},_findNewUpperIndex:function(e,n,f){var o;if(f){o=n;for(var d=n+1;d<this._objects.length;++d){var i=e.intersectsWithObject(this._objects[d])||e.isContainedWithinObject(this._objects[d])||this._objects[d].isContainedWithinObject(e);if(i){o=d;
	break}}}else o=n+1;return o},moveTo:function(e,n){return f(this._objects,e),this._objects.splice(n,0,e),this.renderAll&&this.renderAll()},dispose:function(){return this.clear(),this.interactive&&this.removeListeners(),this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this.getObjects().length+" }>"}}),e(fabric.StaticCanvas.prototype,fabric.Observable),e(fabric.StaticCanvas.prototype,fabric.Collection),e(fabric.StaticCanvas.prototype,fabric.DataURLExporter),e(fabric.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(e){var n=fabric.util.createCanvasElement();if(!n||!n.getContext)return null;var f=n.getContext("2d");if(!f)return null;switch(e){case"getImageData":return"undefined"!=typeof f.getImageData;case"setLineDash":return"undefined"!=typeof f.setLineDash;case"toDataURL":return"undefined"!=typeof n.toDataURL;case"toDataURLWithQuality":try{return n.toDataURL("image/jpeg",0),!0}catch(o){}return!1;default:return null}}}),fabric.StaticCanvas.prototype.toJSON=fabric.StaticCanvas.prototype.toObject}(),fabric.BaseBrush=fabric.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",setShadow:function(e){return this.shadow=new fabric.Shadow(e),this},_setBrushStyles:function(){var e=this.canvas.contextTop;e.strokeStyle=this.color,e.lineWidth=this.width,e.lineCap=this.strokeLineCap,e.lineJoin=this.strokeLineJoin},_setShadow:function(){if(this.shadow){var e=this.canvas.contextTop;e.shadowColor=this.shadow.color,e.shadowBlur=this.shadow.blur,e.shadowOffsetX=this.shadow.offsetX,e.shadowOffsetY=this.shadow.offsetY}},_resetShadow:function(){var e=this.canvas.contextTop;e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0}}),function(){var e=fabric.util.array.min,n=fabric.util.array.max;fabric.PencilBrush=fabric.util.createClass(fabric.BaseBrush,{initialize:function(e){this.canvas=e,this._points=[]},onMouseDown:function(e){this._prepareForDrawing(e),this._captureDrawingPath(e),this._render()},onMouseMove:function(e){this._captureDrawingPath(e),this.canvas.clearContext(this.canvas.contextTop),this._render()},onMouseUp:function(){this._finalizeAndAddPath()},_prepareForDrawing:function(e){var n=new fabric.Point(e.x,e.y);this._reset(),this._addPoint(n),this.canvas.contextTop.moveTo(n.x,n.y)},_addPoint:function(e){this._points.push(e)},_reset:function(){this._points.length=0,this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(e){var n=new fabric.Point(e.x,e.y);this._addPoint(n)},_render:function(){var e=this.canvas.contextTop,n=this.canvas.viewportTransform,f=this._points[0],o=this._points[1];e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),e.beginPath(),2===this._points.length&&f.x===o.x&&f.y===o.y&&(f.x-=.5,o.x+=.5),e.moveTo(f.x,f.y);for(var d=1,i=this._points.length;i>d;d++){var t=f.midPointFrom(o);e.quadraticCurveTo(f.x,f.y,t.x,t.y),f=this._points[d],o=this._points[d+1]}e.lineTo(f.x,f.y),e.stroke(),e.restore()},_getSVGPathData:function(){return this.box=this.getPathBoundingBox(this._points),this.convertPointsToSVGPath(this._points,this.box.minX,this.box.minY)},getPathBoundingBox:function(f){for(var o=[],d=[],i=f[0],t=f[1],l=i,s=1,u=f.length;u>s;s++){var a=i.midPointFrom(t);o.push(l.x),o.push(a.x),d.push(l.y),d.push(a.y),i=f[s],t=f[s+1],l=a}return o.push(i.x),d.push(i.y),{minX:e(o),minY:e(d),maxX:n(o),maxY:n(d)}},convertPointsToSVGPath:function(e,n,f){var o=[],d=new fabric.Point(e[0].x-n,e[0].y-f),i=new fabric.Point(e[1].x-n,e[1].y-f);o.push("M ",e[0].x-n," ",e[0].y-f," ");for(var t=1,l=e.length;l>t;t++){var s=d.midPointFrom(i);o.push("Q ",d.x," ",d.y," ",s.x," ",s.y," "),d=new fabric.Point(e[t].x-n,e[t].y-f),t+1<e.length&&(i=new fabric.Point(e[t+1].x-n,e[t+1].y-f))}return o.push("L ",d.x," ",d.y," "),o},createPath:function(e){var n=new fabric.Path(e);return n.fill=null,n.stroke=this.color,n.strokeWidth=this.width,n.strokeLineCap=this.strokeLineCap,n.strokeLineJoin=this.strokeLineJoin,this.shadow&&(this.shadow.affectStroke=!0,n.setShadow(this.shadow)),n},_finalizeAndAddPath:function(){var e=this.canvas.contextTop;e.closePath();var n=this._getSVGPathData().join("");if("M 0 0 Q 0 0 0 0 L 0 0"===n)return void this.canvas.renderAll();var f=this.box.minX+(this.box.maxX-this.box.minX)/2,o=this.box.minY+(this.box.maxY-this.box.minY)/2;this.canvas.contextTop.arc(f,o,3,0,2*Math.PI,!1);var d=this.createPath(n);d.set({left:f,top:o,originX:"center",originY:"center"}),this.canvas.add(d),d.setCoords(),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderAll(),this.canvas.fire("path:created",{path:d})}})}(),fabric.CircleBrush=fabric.util.createClass(fabric.BaseBrush,{width:10,initialize:function(e){this.canvas=e,this.points=[]},drawDot:function(e){var n=this.addPoint(e),f=this.canvas.contextTop,o=this.canvas.viewportTransform;f.save(),f.transform(o[0],o[1],o[2],o[3],o[4],o[5]),f.fillStyle=n.fill,f.beginPath(),f.arc(n.x,n.y,n.radius,0,2*Math.PI,!1),f.closePath(),f.fill(),f.restore()},onMouseDown:function(e){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(e)},onMouseMove:function(e){this.drawDot(e)},onMouseUp:function(){var e=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var n=[],f=0,o=this.points.length;o>f;f++){var d=this.points[f],i=new fabric.Circle({radius:d.radius,left:d.x,top:d.y,originX:"center",originY:"center",fill:d.fill});this.shadow&&i.setShadow(this.shadow),n.push(i)}var t=new fabric.Group(n,{originX:"center",originY:"center"});t.canvas=this.canvas,this.canvas.add(t),this.canvas.fire("path:created",{path:t}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=e,this.canvas.renderAll()},addPoint:function(e){var n=new fabric.Point(e.x,e.y),f=fabric.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,o=new fabric.Color(this.color).setAlpha(fabric.util.getRandomInt(0,100)/100).toRgba();return n.radius=f,n.fill=o,this.points.push(n),n}}),fabric.SprayBrush=fabric.util.createClass(fabric.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(e){this.canvas=e,this.sprayChunks=[]},onMouseDown:function(e){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(e),this.render()},onMouseMove:function(e){this.addSprayChunk(e),this.render()},onMouseUp:function(){var e=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var n=[],f=0,o=this.sprayChunks.length;o>f;f++)for(var d=this.sprayChunks[f],i=0,t=d.length;t>i;i++){var l=new fabric.Rect({width:d[i].width,height:d[i].width,left:d[i].x+1,top:d[i].y+1,originX:"center",originY:"center",fill:this.color});this.shadow&&l.setShadow(this.shadow),n.push(l)}this.optimizeOverlapping&&(n=this._getOptimizedRects(n));var s=new fabric.Group(n,{originX:"center",originY:"center"});s.canvas=this.canvas,this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=e,this.canvas.renderAll()},_getOptimizedRects:function(e){for(var n,f={},o=0,d=e.length;d>o;o++)n=e[o].left+""+e[o].top,f[n]||(f[n]=e[o]);var i=[];for(n in f)i.push(f[n]);return i},render:function(){var e=this.canvas.contextTop;e.fillStyle=this.color;var n=this.canvas.viewportTransform;e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]);for(var f=0,o=this.sprayChunkPoints.length;o>f;f++){var d=this.sprayChunkPoints[f];"undefined"!=typeof d.opacity&&(e.globalAlpha=d.opacity),e.fillRect(d.x,d.y,d.width,d.width)}e.restore()},addSprayChunk:function(e){this.sprayChunkPoints=[];for(var n,f,o,d=this.width/2,i=0;i<this.density;i++){n=fabric.util.getRandomInt(e.x-d,e.x+d),f=fabric.util.getRandomInt(e.y-d,e.y+d),o=this.dotWidthVariance?fabric.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var t=new fabric.Point(n,f);t.width=o,this.randomOpacity&&(t.opacity=fabric.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(t)}this.sprayChunks.push(this.sprayChunkPoints)}}),fabric.PatternBrush=fabric.util.createClass(fabric.PencilBrush,{getPatternSrc:function(){var e=20,n=5,f=fabric.document.createElement("canvas"),o=f.getContext("2d");return f.width=f.height=e+n,o.fillStyle=this.color,o.beginPath(),o.arc(e/2,e/2,e/2,0,2*Math.PI,!1),o.closePath(),o.fill(),f},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(e){var n=this.callSuper("createPath",e);return n.stroke=new fabric.Pattern({source:this.source||this.getPatternSrcFunction()}),n}}),fabric.util.object.extend(fabric.StaticCanvas.prototype,{toDataURL:function(e){e||(e={});var n=e.format||"png",f=e.quality||1,o=e.multiplier||1,d={left:e.left,top:e.top,width:e.width,height:e.height};return 1!==o?this.__toDataURLWithMultiplier(n,f,d,o):this.__toDataURL(n,f,d)},__toDataURL:function(e,n,f){this.renderAll(!0);var o=this.upperCanvasEl||this.lowerCanvasEl,d=this.__getCroppedCanvas(o,f);"jpg"===e&&(e="jpeg");var i=fabric.StaticCanvas.supports("toDataURLWithQuality")?(d||o).toDataURL("image/"+e,n):(d||o).toDataURL("image/"+e);return this.contextTop&&this.clearContext(this.contextTop),this.renderAll(),d&&(d=null),i},__getCroppedCanvas:function(e,n){var f,o,d="left"in n||"top"in n||"width"in n||"height"in n;return d&&(f=fabric.util.createCanvasElement(),o=f.getContext("2d"),f.width=n.width||this.width,f.height=n.height||this.height,o.drawImage(e,-n.left||0,-n.top||0)),f},__toDataURLWithMultiplier:function(e,n,f,o){var d=this.getWidth(),i=this.getHeight(),t=d*o,l=i*o,s=this.getActiveObject(),u=this.getActiveGroup(),a=this.contextTop||this.contextContainer;o>1&&this.setWidth(t).setHeight(l),a.scale(o,o),f.left&&(f.left*=o),f.top&&(f.top*=o),f.width?f.width*=o:1>o&&(f.width=t),f.height?f.height*=o:1>o&&(f.height=l),u?this._tempRemoveBordersControlsFromGroup(u):s&&this.deactivateAll&&this.deactivateAll(),this.renderAll(!0);var p=this.__toDataURL(e,n,f);return this.width=d,this.height=i,a.scale(1/o,1/o),this.setWidth(d).setHeight(i),u?this._restoreBordersControlsOnGroup(u):s&&this.setActiveObject&&this.setActiveObject(s),this.contextTop&&this.clearContext(this.contextTop),this.renderAll(),p},toDataURLWithMultiplier:function(e,n,f){return this.toDataURL({format:e,multiplier:n,quality:f})},_tempRemoveBordersControlsFromGroup:function(e){e.origHasControls=e.hasControls,e.origBorderColor=e.borderColor,e.hasControls=!0,e.borderColor="rgba(0,0,0,0)",e.forEachObject(function(e){e.origBorderColor=e.borderColor,e.borderColor="rgba(0,0,0,0)"})},_restoreBordersControlsOnGroup:function(e){e.hideControls=e.origHideControls,e.borderColor=e.origBorderColor,e.forEachObject(function(e){e.borderColor=e.origBorderColor,delete e.origBorderColor})}}),fabric.util.object.extend(fabric.StaticCanvas.prototype,{loadFromDatalessJSON:function(e,n,f){return this.loadFromJSON(e,n,f)},loadFromJSON:function(e,n,f){if(e){var o="string"==typeof e?JSON.parse(e):e;this.clear();var d=this;return this._enlivenObjects(o.objects,function(){d._setBgOverlay(o,n)},f),this}},_setBgOverlay:function(e,n){var f=this,o={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!(e.backgroundImage||e.overlayImage||e.background||e.overlay))return void(n&&n());var d=function(){o.backgroundImage&&o.overlayImage&&o.backgroundColor&&o.overlayColor&&(f.renderAll(),n&&n())};this.__setBgOverlay("backgroundImage",e.backgroundImage,o,d),this.__setBgOverlay("overlayImage",e.overlayImage,o,d),this.__setBgOverlay("backgroundColor",e.background,o,d),this.__setBgOverlay("overlayColor",e.overlay,o,d),d()},__setBgOverlay:function(e,n,f,o){var d=this;return n?void("backgroundImage"===e||"overlayImage"===e?fabric.Image.fromObject(n,function(n){d[e]=n,f[e]=!0,o&&o()}):this["set"+fabric.util.string.capitalize(e,!0)](n,function(){f[e]=!0,o&&o()})):void(f[e]=!0)},_enlivenObjects:function(e,n,f){var o=this;if(!e||0===e.length)return void(n&&n());var d=this.renderOnAddRemove;this.renderOnAddRemove=!1,fabric.util.enlivenObjects(e,function(e){e.forEach(function(e,n){o.insertAt(e,n,!0)}),o.renderOnAddRemove=d,n&&n()},null,f)},_toDataURL:function(e,n){this.clone(function(f){n(f.toDataURL(e))})},_toDataURLWithMultiplier:function(e,n,f){this.clone(function(o){f(o.toDataURLWithMultiplier(e,n))})},clone:function(e,n){var f=JSON.stringify(this.toJSON(n));this.cloneWithoutData(function(n){n.loadFromJSON(f,function(){e&&e(n)})})},cloneWithoutData:function(e){var n=fabric.document.createElement("canvas");n.width=this.getWidth(),n.height=this.getHeight();var f=new fabric.Canvas(n);f.clipTo=this.clipTo,this.backgroundImage?(f.setBackgroundImage(this.backgroundImage.src,function(){f.renderAll(),e&&e(f)}),f.backgroundImageOpacity=this.backgroundImageOpacity,f.backgroundImageStretch=this.backgroundImageStretch):e&&e(f)}}),function(e){"use strict";var n=e.fabric||(e.fabric={}),f=n.util.object.extend,o=n.util.toFixed,d=n.util.string.capitalize,i=n.util.degreesToRadians,t=n.StaticCanvas.supports("setLineDash");n.Object||(n.Object=n.util.createClass({type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,cornerSize:12,transparentCorners:!0,hoverCursor:null,padding:0,borderColor:"rgba(102,153,255,0.75)",cornerColor:"rgba(102,153,255,0.5)",centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"source-over",backgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:10,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,minScaleLimit:.01,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,rotatingPointOffset:40,perPixelTargetFind:!1,includeDefaultValues:!0,clipTo:null,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,lockScalingFlip:!1,stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeLineJoin strokeMiterLimit angle opacity fill fillRule shadow clipTo visible backgroundColor".split(" "),initialize:function(e){e&&this.setOptions(e)},_initGradient:function(e){!e.fill||!e.fill.colorStops||e.fill instanceof n.Gradient||this.set("fill",new n.Gradient(e.fill))},_initPattern:function(e){!e.fill||!e.fill.source||e.fill instanceof n.Pattern||this.set("fill",new n.Pattern(e.fill)),!e.stroke||!e.stroke.source||e.stroke instanceof n.Pattern||this.set("stroke",new n.Pattern(e.stroke))},_initClipping:function(e){if(e.clipTo&&"string"==typeof e.clipTo){var f=n.util.getFunctionBody(e.clipTo);"undefined"!=typeof f&&(this.clipTo=new Function("ctx",f))}},setOptions:function(e){for(var n in e)this.set(n,e[n]);this._initGradient(e),this._initPattern(e),this._initClipping(e)},transform:function(e,n){this.group&&this.group.transform(e,n),e.globalAlpha=this.opacity;var f=n?this._getLeftTopCoords():this.getCenterPoint();e.translate(f.x,f.y),e.rotate(i(this.angle)),e.scale(this.scaleX*(this.flipX?-1:1),this.scaleY*(this.flipY?-1:1))},toObject:function(e){var f=n.Object.NUM_FRACTION_DIGITS,d={type:this.type,originX:this.originX,originY:this.originY,left:o(this.left,f),top:o(this.top,f),width:o(this.width,f),height:o(this.height,f),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:o(this.strokeWidth,f),strokeDashArray:this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:o(this.strokeMiterLimit,f),scaleX:o(this.scaleX,f),scaleY:o(this.scaleY,f),angle:o(this.getAngle(),f),flipX:this.flipX,flipY:this.flipY,opacity:o(this.opacity,f),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,clipTo:this.clipTo&&String(this.clipTo),backgroundColor:this.backgroundColor};return this.includeDefaultValues||(d=this._removeDefaultValues(d)),n.util.populateWithProperties(this,d,e),d},toDatalessObject:function(e){return this.toObject(e)},_removeDefaultValues:function(e){var f=n.util.getKlass(e.type).prototype,o=f.stateProperties;return o.forEach(function(n){e[n]===f[n]&&delete e[n]}),e},toString:function(){return"#<fabric."+d(this.type)+">"},get:function(e){return this[e]},_setObject:function(e){for(var n in e)this._set(n,e[n])},set:function(e,n){return"object"==typeof e?this._setObject(e):"function"==typeof n&&"clipTo"!==e?this._set(e,n(this.get(e))):this._set(e,n),this},_set:function(e,f){var d="scaleX"===e||"scaleY"===e;return d&&(f=this._constrainScale(f)),"scaleX"===e&&0>f?(this.flipX=!this.flipX,f*=-1):"scaleY"===e&&0>f?(this.flipY=!this.flipY,f*=-1):"width"===e||"height"===e?this.minScaleLimit=o(Math.min(.1,1/Math.max(this.width,this.height)),2):"shadow"!==e||!f||f instanceof n.Shadow||(f=new n.Shadow(f)),this[e]=f,this},toggle:function(e){var n=this.get(e);return"boolean"==typeof n&&this.set(e,!n),this},setSourcePath:function(e){return this.sourcePath=e,this},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:[1,0,0,1,0,0]},render:function(e,f){if(0!==this.width&&0!==this.height&&this.visible){if(e.save(),this._setupFillRule(e),this._transform(e,f),this._setStrokeStyles(e),this._setFillStyles(e),this.group&&"path-group"===this.group.type){e.translate(-this.group.width/2,-this.group.height/2);var o=this.transformMatrix;o&&e.transform.apply(e,o)}e.globalAlpha=this.group?e.globalAlpha*this.opacity:this.opacity,this._setShadow(e),this.clipTo&&n.util.clipContext(this,e),this._render(e,f),this.clipTo&&e.restore(),this._removeShadow(e),this._restoreFillRule(e),e.restore()}},_transform:function(e,n){var f=this.transformMatrix;f&&!this.group&&e.setTransform.apply(e,f),n||this.transform(e)},_setStrokeStyles:function(e){this.stroke&&(e.lineWidth=this.strokeWidth,e.lineCap=this.strokeLineCap,e.lineJoin=this.strokeLineJoin,e.miterLimit=this.strokeMiterLimit,e.strokeStyle=this.stroke.toLive?this.stroke.toLive(e):this.stroke)},_setFillStyles:function(e){this.fill&&(e.fillStyle=this.fill.toLive?this.fill.toLive(e):this.fill)},_renderControls:function(e,f){var o=this.getViewportTransform();if(e.save(),this.active&&!f){var d;this.group&&(d=n.util.transformPoint(this.group.getCenterPoint(),o),e.translate(d.x,d.y),e.rotate(i(this.group.angle))),d=n.util.transformPoint(this.getCenterPoint(),o,null!=this.group),this.group&&(d.x*=this.group.scaleX,d.y*=this.group.scaleY),e.translate(d.x,d.y),e.rotate(i(this.angle)),this.drawBorders(e),this.drawControls(e)}e.restore()},_setShadow:function(e){this.shadow&&(e.shadowColor=this.shadow.color,e.shadowBlur=this.shadow.blur,e.shadowOffsetX=this.shadow.offsetX,e.shadowOffsetY=this.shadow.offsetY)},_removeShadow:function(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)},_renderFill:function(e){if(this.fill){if(e.save(),this.fill.toLive&&e.translate(-this.width/2+this.fill.offsetX||0,-this.height/2+this.fill.offsetY||0),this.fill.gradientTransform){var n=this.fill.gradientTransform;e.transform.apply(e,n)}"destination-over"===this.fillRule?e.fill("evenodd"):e.fill(),e.restore(),this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e)}},_renderStroke:function(e){if(this.stroke&&0!==this.strokeWidth){if(e.save(),this.strokeDashArray)1&this.strokeDashArray.length&&this.strokeDashArray.push.apply(this.strokeDashArray,this.strokeDashArray),t?(e.setLineDash(this.strokeDashArray),this._stroke&&this._stroke(e)):this._renderDashedStroke&&this._renderDashedStroke(e),e.stroke();else{if(this.stroke.gradientTransform){var n=this.stroke.gradientTransform;e.transform.apply(e,n)}this._stroke?this._stroke(e):e.stroke()}this._removeShadow(e),e.restore()}},clone:function(e,f){return this.constructor.fromObject?this.constructor.fromObject(this.toObject(f),e):new n.Object(this.toObject(f))},cloneAsImage:function(e){var f=this.toDataURL();return n.util.loadImage(f,function(f){e&&e(new n.Image(f))}),this},toDataURL:function(e){e||(e={});var f=n.util.createCanvasElement(),o=this.getBoundingRect();f.width=o.width,f.height=o.height,n.util.wrapElement(f,"div");var d=new n.Canvas(f);"jpg"===e.format&&(e.format="jpeg"),"jpeg"===e.format&&(d.backgroundColor="#fff");var i={active:this.get("active"),left:this.getLeft(),top:this.getTop()};this.set("active",!1),this.setPositionByOrigin(new n.Point(f.width/2,f.height/2),"center","center");var t=this.canvas;d.add(this);var l=d.toDataURL(e);return this.set(i).setCoords(),this.canvas=t,d.dispose(),d=null,l},isType:function(e){return this.type===e},complexity:function(){return 0},toJSON:function(e){return this.toObject(e)},setGradient:function(e,f){f||(f={});var o={colorStops:[]};o.type=f.type||(f.r1||f.r2?"radial":"linear"),o.coords={x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2},(f.r1||f.r2)&&(o.coords.r1=f.r1,o.coords.r2=f.r2);for(var d in f.colorStops){var i=new n.Color(f.colorStops[d]);o.colorStops.push({offset:d,color:i.toRgb(),opacity:i.getAlpha()})}return this.set(e,n.Gradient.forObject(this,o))},setPatternFill:function(e){return this.set("fill",new n.Pattern(e))},setShadow:function(e){return this.set("shadow",e?new n.Shadow(e):null)},setColor:function(e){return this.set("fill",e),this},setAngle:function(e){var n=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return n&&this._setOriginToCenter(),this.set("angle",e),n&&this._resetOrigin(),this},centerH:function(){return this.canvas.centerObjectH(this),this},centerV:function(){return this.canvas.centerObjectV(this),this},center:function(){return this.canvas.centerObject(this),this},remove:function(){return this.canvas.remove(this),this},getLocalPointer:function(e,n){n=n||this.canvas.getPointer(e);var f=this.translateToOriginPoint(this.getCenterPoint(),"left","top");return{x:n.x-f.x,y:n.y-f.y}},_setupFillRule:function(e){this.fillRule&&(this._prevFillRule=e.globalCompositeOperation,e.globalCompositeOperation=this.fillRule)},_restoreFillRule:function(e){this.fillRule&&this._prevFillRule&&(e.globalCompositeOperation=this._prevFillRule)}}),n.util.createAccessors(n.Object),n.Object.prototype.rotate=n.Object.prototype.setAngle,f(n.Object.prototype,n.Observable),n.Object.NUM_FRACTION_DIGITS=2,n.Object.__uid=0)}("undefined"!=typeof exports?exports:this),function(){var e=fabric.util.degreesToRadians;fabric.util.object.extend(fabric.Object.prototype,{translateToCenterPoint:function(n,f,o){var d=n.x,i=n.y,t=this.stroke?this.strokeWidth:0;return"left"===f?d=n.x+(this.getWidth()+t*this.scaleX)/2:"right"===f&&(d=n.x-(this.getWidth()+t*this.scaleX)/2),"top"===o?i=n.y+(this.getHeight()+t*this.scaleY)/2:"bottom"===o&&(i=n.y-(this.getHeight()+t*this.scaleY)/2),fabric.util.rotatePoint(new fabric.Point(d,i),n,e(this.angle))},translateToOriginPoint:function(n,f,o){var d=n.x,i=n.y,t=this.stroke?this.strokeWidth:0;return"left"===f?d=n.x-(this.getWidth()+t*this.scaleX)/2:"right"===f&&(d=n.x+(this.getWidth()+t*this.scaleX)/2),"top"===o?i=n.y-(this.getHeight()+t*this.scaleY)/2:"bottom"===o&&(i=n.y+(this.getHeight()+t*this.scaleY)/2),fabric.util.rotatePoint(new fabric.Point(d,i),n,e(this.angle))},getCenterPoint:function(){var e=new fabric.Point(this.left,this.top);return this.translateToCenterPoint(e,this.originX,this.originY)},getPointByOrigin:function(e,n){var f=this.getCenterPoint();return this.translateToOriginPoint(f,e,n)},toLocalPoint:function(n,f,o){var d,i,t=this.getCenterPoint(),l=this.stroke?this.strokeWidth:0;return f&&o?(d="left"===f?t.x-(this.getWidth()+l*this.scaleX)/2:"right"===f?t.x+(this.getWidth()+l*this.scaleX)/2:t.x,i="top"===o?t.y-(this.getHeight()+l*this.scaleY)/2:"bottom"===o?t.y+(this.getHeight()+l*this.scaleY)/2:t.y):(d=this.left,i=this.top),fabric.util.rotatePoint(new fabric.Point(n.x,n.y),t,-e(this.angle)).subtractEquals(new fabric.Point(d,i))},setPositionByOrigin:function(e,n,f){var o=this.translateToCenterPoint(e,n,f),d=this.translateToOriginPoint(o,this.originX,this.originY);this.set("left",d.x),this.set("top",d.y)},adjustPosition:function(n){var f=e(this.angle),o=this.getWidth()/2,d=Math.cos(f)*o,i=Math.sin(f)*o,t=this.getWidth(),l=Math.cos(f)*t,s=Math.sin(f)*t;"center"===this.originX&&"left"===n||"right"===this.originX&&"center"===n?(this.left-=d,this.top-=i):"left"===this.originX&&"center"===n||"center"===this.originX&&"right"===n?(this.left+=d,this.top+=i):"left"===this.originX&&"right"===n?(this.left+=l,this.top+=s):"right"===this.originX&&"left"===n&&(this.left-=l,this.top-=s),this.setCoords(),this.originX=n},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var e=this.getCenterPoint();this.originX="center",this.originY="center",this.left=e.x,this.top=e.y},_resetOrigin:function(){var e=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=e.x,this.top=e.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","center")}})}(),function(){var e=fabric.util.degreesToRadians;fabric.util.object.extend(fabric.Object.prototype,{oCoords:null,intersectsWithRect:function(e,n){var f=this.oCoords,o=new fabric.Point(f.tl.x,f.tl.y),d=new fabric.Point(f.tr.x,f.tr.y),i=new fabric.Point(f.bl.x,f.bl.y),t=new fabric.Point(f.br.x,f.br.y),l=fabric.Intersection.intersectPolygonRectangle([o,d,t,i],e,n);return"Intersection"===l.status},intersectsWithObject:function(e){function n(e){return{tl:new fabric.Point(e.tl.x,e.tl.y),tr:new fabric.Point(e.tr.x,e.tr.y),bl:new fabric.Point(e.bl.x,e.bl.y),br:new fabric.Point(e.br.x,e.br.y)}}var f=n(this.oCoords),o=n(e.oCoords),d=fabric.Intersection.intersectPolygonPolygon([f.tl,f.tr,f.br,f.bl],[o.tl,o.tr,o.br,o.bl]);return"Intersection"===d.status},isContainedWithinObject:function(e){var n=e.getBoundingRect(),f=new fabric.Point(n.left,n.top),o=new fabric.Point(n.left+n.width,n.top+n.height);return this.isContainedWithinRect(f,o)},isContainedWithinRect:function(e,n){var f=this.getBoundingRect();return f.left>=e.x&&f.left+f.width<=n.x&&f.top>=e.y&&f.top+f.height<=n.y},containsPoint:function(e){var n=this._getImageLines(this.oCoords),f=this._findCrossPoints(e,n);return 0!==f&&f%2===1},_getImageLines:function(e){return{topline:{o:e.tl,d:e.tr},rightline:{o:e.tr,d:e.br},bottomline:{o:e.br,d:e.bl},leftline:{o:e.bl,d:e.tl}}},_findCrossPoints:function(e,n){var f,o,d,i,t,l,s,u=0;for(var a in n)if(s=n[a],!(s.o.y<e.y&&s.d.y<e.y||s.o.y>=e.y&&s.d.y>=e.y||(s.o.x===s.d.x&&s.o.x>=e.x?(t=s.o.x,l=e.y):(f=0,o=(s.d.y-s.o.y)/(s.d.x-s.o.x),d=e.y-f*e.x,i=s.o.y-o*s.o.x,t=-(d-i)/(f-o),l=d+f*t),t>=e.x&&(u+=1),2!==u)))break;return u},getBoundingRectWidth:function(){return this.getBoundingRect().width},getBoundingRectHeight:function(){return this.getBoundingRect().height},getBoundingRect:function(){this.oCoords||this.setCoords();var e=[this.oCoords.tl.x,this.oCoords.tr.x,this.oCoords.br.x,this.oCoords.bl.x],n=fabric.util.array.min(e),f=fabric.util.array.max(e),o=Math.abs(n-f),d=[this.oCoords.tl.y,this.oCoords.tr.y,this.oCoords.br.y,this.oCoords.bl.y],i=fabric.util.array.min(d),t=fabric.util.array.max(d),l=Math.abs(i-t);return{left:n,top:i,width:o,height:l}},getWidth:function(){return this.width*this.scaleX},getHeight:function(){return this.height*this.scaleY},_constrainScale:function(e){return Math.abs(e)<this.minScaleLimit?0>e?-this.minScaleLimit:this.minScaleLimit:e},scale:function(e){return e=this._constrainScale(e),0>e&&(this.flipX=!this.flipX,this.flipY=!this.flipY,e*=-1),this.scaleX=e,this.scaleY=e,this.setCoords(),this},scaleToWidth:function(e){var n=this.getBoundingRectWidth()/this.getWidth();return this.scale(e/this.width/n)},scaleToHeight:function(e){var n=this.getBoundingRectHeight()/this.getHeight();return this.scale(e/this.height/n)},setCoords:function(){var n=this.strokeWidth>1?this.strokeWidth:0,f=e(this.angle),o=this.getViewportTransform(),d=function(e){return fabric.util.transformPoint(e,o)},i=this.width,t=this.height,l="round"===this.strokeLineCap||"square"===this.strokeLineCap,s="line"===this.type&&1===this.width,u="line"===this.type&&1===this.height,a=l&&u||"line"!==this.type,p=l&&s||"line"!==this.type;s?i=n:u&&(t=n),a&&(i+=n),p&&(t+=n),this.currentWidth=i*this.scaleX,this.currentHeight=t*this.scaleY,this.currentWidth<0&&(this.currentWidth=Math.abs(this.currentWidth));var c=Math.sqrt(Math.pow(this.currentWidth/2,2)+Math.pow(this.currentHeight/2,2)),y=Math.atan(isFinite(this.currentHeight/this.currentWidth)?this.currentHeight/this.currentWidth:0),m=Math.cos(y+f)*c,r=Math.sin(y+f)*c,v=Math.sin(f),w=Math.cos(f),b=this.getCenterPoint(),g=new fabric.Point(this.currentWidth,this.currentHeight),h=new fabric.Point(b.x-m,b.y-r),x=new fabric.Point(h.x+g.x*w,h.y+g.x*v),j=new fabric.Point(h.x-g.y*v,h.y+g.y*w),k=new fabric.Point(h.x+g.x/2*w,h.y+g.x/2*v),q=d(h),z=d(x),A=d(new fabric.Point(x.x-g.y*v,x.y+g.y*w)),B=d(j),C=d(new fabric.Point(h.x-g.y/2*v,h.y+g.y/2*w)),D=d(k),E=d(new fabric.Point(x.x-g.y/2*v,x.y+g.y/2*w)),F=d(new fabric.Point(j.x+g.x/2*w,j.y+g.x/2*v)),G=d(new fabric.Point(k.x,k.y)),H=Math.cos(y+f)*this.padding*Math.sqrt(2),I=Math.sin(y+f)*this.padding*Math.sqrt(2);return q=q.add(new fabric.Point(-H,-I)),z=z.add(new fabric.Point(I,-H)),A=A.add(new fabric.Point(H,I)),B=B.add(new fabric.Point(-I,H)),C=C.add(new fabric.Point((-H-I)/2,(-I+H)/2)),D=D.add(new fabric.Point((I-H)/2,-(I+H)/2)),E=E.add(new fabric.Point((I+H)/2,(I-H)/2)),F=F.add(new fabric.Point((H-I)/2,(H+I)/2)),G=G.add(new fabric.Point((I-H)/2,-(I+H)/2)),this.oCoords={tl:q,tr:z,br:A,bl:B,ml:C,mt:D,mr:E,mb:F,mtr:G},this._setCornerCoords&&this._setCornerCoords(),this}})}(),fabric.util.object.extend(fabric.Object.prototype,{sendToBack:function(){return this.group?fabric.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?fabric.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas.bringToFront(this),this},sendBackwards:function(e){return this.group?fabric.StaticCanvas.prototype.sendBackwards.call(this.group,this,e):this.canvas.sendBackwards(this,e),this},bringForward:function(e){return this.group?fabric.StaticCanvas.prototype.bringForward.call(this.group,this,e):this.canvas.bringForward(this,e),this},moveTo:function(e){return this.group?fabric.StaticCanvas.prototype.moveTo.call(this.group,this,e):this.canvas.moveTo(this,e),this}}),fabric.util.object.extend(fabric.Object.prototype,{getSvgStyles:function(){var e=this.fill?this.fill.toLive?"url(#SVGID_"+this.fill.id+")":this.fill:"none",n="destination-over"===this.fillRule?"evenodd":this.fillRule,f=this.stroke?this.stroke.toLive?"url(#SVGID_"+this.stroke.id+")":this.stroke:"none",o=this.strokeWidth?this.strokeWidth:"0",d=this.strokeDashArray?this.strokeDashArray.join(" "):"",i=this.strokeLineCap?this.strokeLineCap:"butt",t=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",s="undefined"!=typeof this.opacity?this.opacity:"1",u=this.visible?"":" visibility: hidden;",a=this.shadow&&"text"!==this.type?"filter: url(#SVGID_"+this.shadow.id+");":"";return["stroke: ",f,"; ","stroke-width: ",o,"; ","stroke-dasharray: ",d,"; ","stroke-linecap: ",i,"; ","stroke-linejoin: ",t,"; ","stroke-miterlimit: ",l,"; ","fill: ",e,"; ","fill-rule: ",n,"; ","opacity: ",s,";",a,u].join("")},getSvgTransform:function(){if(this.group)return"";var e=fabric.util.toFixed,n=this.getAngle(),f=!this.canvas||this.canvas.svgViewportTransformation?this.getViewportTransform():[1,0,0,1,0,0],o=fabric.util.transformPoint(this.getCenterPoint(),f),d=fabric.Object.NUM_FRACTION_DIGITS,i="path-group"===this.type?"":"translate("+e(o.x,d)+" "+e(o.y,d)+")",t=0!==n?" rotate("+e(n,d)+")":"",l=1===this.scaleX&&1===this.scaleY&&1===f[0]&&1===f[3]?"":" scale("+e(this.scaleX*f[0],d)+" "+e(this.scaleY*f[3],d)+")",s="path-group"===this.type?this.width*f[0]:0,u=this.flipX?" matrix(-1 0 0 1 "+s+" 0) ":"",a="path-group"===this.type?this.height*f[3]:0,p=this.flipY?" matrix(1 0 0 -1 0 "+a+")":"";
	return[i,t,l,u,p].join("")},getSvgTransformMatrix:function(){return this.transformMatrix?" matrix("+this.transformMatrix.join(" ")+")":""},_createBaseSVGMarkup:function(){var e=[];return this.fill&&this.fill.toLive&&e.push(this.fill.toSVG(this,!1)),this.stroke&&this.stroke.toLive&&e.push(this.stroke.toSVG(this,!1)),this.shadow&&e.push(this.shadow.toSVG(this)),e}}),fabric.util.object.extend(fabric.Object.prototype,{hasStateChanged:function(){return this.stateProperties.some(function(e){return this.get(e)!==this.originalState[e]},this)},saveState:function(e){return this.stateProperties.forEach(function(e){this.originalState[e]=this.get(e)},this),e&&e.stateProperties&&e.stateProperties.forEach(function(e){this.originalState[e]=this.get(e)},this),this},setupState:function(){return this.originalState={},this.saveState(),this}}),function(e){"use strict";function n(e,n){var f=e.origin,o=e.axis1,d=e.axis2,i=e.dimension,t=n.nearest,l=n.center,s=n.farthest;return function(){switch(this.get(f)){case t:return Math.min(this.get(o),this.get(d));case l:return Math.min(this.get(o),this.get(d))+.5*this.get(i);case s:return Math.max(this.get(o),this.get(d))}}}var f=e.fabric||(e.fabric={}),o=f.util.object.extend,d={x1:1,x2:1,y1:1,y2:1},i=f.StaticCanvas.supports("setLineDash");return f.Line?void f.warn("fabric.Line is already defined"):(f.Line=f.util.createClass(f.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,initialize:function(e,n){n=n||{},e||(e=[0,0,0,0]),this.callSuper("initialize",n),this.set("x1",e[0]),this.set("y1",e[1]),this.set("x2",e[2]),this.set("y2",e[3]),this._setWidthHeight(n)},_setWidthHeight:function(e){e||(e={}),this.width=Math.abs(this.x2-this.x1)||1,this.height=Math.abs(this.y2-this.y1)||1,this.left="left"in e?e.left:this._getLeftToOriginX(),this.top="top"in e?e.top:this._getTopToOriginY()},_set:function(e,n){return this[e]=n,"undefined"!=typeof d[e]&&this._setWidthHeight(),this},_getLeftToOriginX:n({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:n({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(e,n){if(e.beginPath(),n){var f=this.getCenterPoint();e.translate(f.x,f.y)}if(!this.strokeDashArray||this.strokeDashArray&&i){var o=this.x1<=this.x2?-1:1,d=this.y1<=this.y2?-1:1;e.moveTo(1===this.width?0:o*this.width/2,1===this.height?0:d*this.height/2),e.lineTo(1===this.width?0:-1*o*this.width/2,1===this.height?0:-1*d*this.height/2)}e.lineWidth=this.strokeWidth;var t=e.strokeStyle;e.strokeStyle=this.stroke||e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=t},_renderDashedStroke:function(e){var n=this.x1<=this.x2?-1:1,o=this.y1<=this.y2?-1:1,d=1===this.width?0:n*this.width/2,i=1===this.height?0:o*this.height/2;e.beginPath(),f.util.drawDashedLine(e,d,i,-d,-i,this.strokeDashArray),e.closePath()},toObject:function(e){return o(this.callSuper("toObject",e),{x1:this.get("x1"),y1:this.get("y1"),x2:this.get("x2"),y2:this.get("y2")})},toSVG:function(e){var n=this._createBaseSVGMarkup(),f="";if(!this.group){var o=-this.width/2-(this.x1>this.x2?this.x2:this.x1),d=-this.height/2-(this.y1>this.y2?this.y2:this.y1);f="translate("+o+", "+d+") "}return n.push("<line ",'x1="',this.x1,'" y1="',this.y1,'" x2="',this.x2,'" y2="',this.y2,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),f,this.getSvgTransformMatrix(),'"/>\n'),e?e(n.join("")):n.join("")},complexity:function(){return 1}}),f.Line.ATTRIBUTE_NAMES=f.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),f.Line.fromElement=function(e,n){var d=f.parseAttributes(e,f.Line.ATTRIBUTE_NAMES),i=[d.x1||0,d.y1||0,d.x2||0,d.y2||0];return new f.Line(i,o(d,n))},void(f.Line.fromObject=function(e){var n=[e.x1,e.y1,e.x2,e.y2];return new f.Line(n,e)}))}("undefined"!=typeof exports?exports:this),function(e){"use strict";function n(e){return"radius"in e&&e.radius>0}var f=e.fabric||(e.fabric={}),o=2*Math.PI,d=f.util.object.extend;return f.Circle?void f.warn("fabric.Circle is already defined."):(f.Circle=f.util.createClass(f.Object,{type:"circle",radius:0,initialize:function(e){e=e||{},this.callSuper("initialize",e),this.set("radius",e.radius||0)},_set:function(e,n){return this.callSuper("_set",e,n),"radius"===e&&this.setRadius(n),this},toObject:function(e){return d(this.callSuper("toObject",e),{radius:this.get("radius")})},toSVG:function(e){var n=this._createBaseSVGMarkup(),f=0,o=0;return this.group&&(f=this.left+this.radius,o=this.top+this.radius),n.push("<circle ",'cx="'+f+'" cy="'+o+'" ','r="',this.radius,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/>\n'),e?e(n.join("")):n.join("")},_render:function(e,n){e.beginPath(),e.arc(n?this.left+this.radius:0,n?this.top+this.radius:0,this.radius,0,o,!1),this._renderFill(e),this._renderStroke(e)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(e){this.radius=e,this.set("width",2*e).set("height",2*e)},complexity:function(){return 1}}),f.Circle.ATTRIBUTE_NAMES=f.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),f.Circle.fromElement=function(e,o){o||(o={});var i=f.parseAttributes(e,f.Circle.ATTRIBUTE_NAMES);if(!n(i))throw new Error("value of `r` attribute is required and can not be negative");i.left=i.left||0,i.top=i.top||0;var t=new f.Circle(d(i,o));return t.left-=t.radius,t.top-=t.radius,t},void(f.Circle.fromObject=function(e){return new f.Circle(e)}))}("undefined"!=typeof exports?exports:this),function(e){"use strict";var n=e.fabric||(e.fabric={});return n.Triangle?void n.warn("fabric.Triangle is already defined"):(n.Triangle=n.util.createClass(n.Object,{type:"triangle",initialize:function(e){e=e||{},this.callSuper("initialize",e),this.set("width",e.width||100).set("height",e.height||100)},_render:function(e){var n=this.width/2,f=this.height/2;e.beginPath(),e.moveTo(-n,f),e.lineTo(0,-f),e.lineTo(n,f),e.closePath(),this._renderFill(e),this._renderStroke(e)},_renderDashedStroke:function(e){var f=this.width/2,o=this.height/2;e.beginPath(),n.util.drawDashedLine(e,-f,o,0,-o,this.strokeDashArray),n.util.drawDashedLine(e,0,-o,f,o,this.strokeDashArray),n.util.drawDashedLine(e,f,o,-f,o,this.strokeDashArray),e.closePath()},toSVG:function(e){var n=this._createBaseSVGMarkup(),f=this.width/2,o=this.height/2,d=[-f+" "+o,"0 "+-o,f+" "+o].join(",");return n.push("<polygon ",'points="',d,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),'"/>'),e?e(n.join("")):n.join("")},complexity:function(){return 1}}),void(n.Triangle.fromObject=function(e){return new n.Triangle(e)}))}("undefined"!=typeof exports?exports:this),function(e){"use strict";var n=e.fabric||(e.fabric={}),f=2*Math.PI,o=n.util.object.extend;return n.Ellipse?void n.warn("fabric.Ellipse is already defined."):(n.Ellipse=n.util.createClass(n.Object,{type:"ellipse",rx:0,ry:0,initialize:function(e){e=e||{},this.callSuper("initialize",e),this.set("rx",e.rx||0),this.set("ry",e.ry||0),this.set("width",2*this.get("rx")),this.set("height",2*this.get("ry"))},toObject:function(e){return o(this.callSuper("toObject",e),{rx:this.get("rx"),ry:this.get("ry")})},toSVG:function(e){var n=this._createBaseSVGMarkup(),f=0,o=0;return this.group&&(f=this.left+this.rx,o=this.top+this.ry),n.push("<ellipse ",'cx="',f,'" cy="',o,'" ','rx="',this.rx,'" ry="',this.ry,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n'),e?e(n.join("")):n.join("")},_render:function(e,n){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(n?this.left+this.rx:0,n?(this.top+this.ry)*this.rx/this.ry:0,this.rx,0,f,!1),e.restore(),this._renderFill(e),this._renderStroke(e)},complexity:function(){return 1}}),n.Ellipse.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),n.Ellipse.fromElement=function(e,f){f||(f={});var d=n.parseAttributes(e,n.Ellipse.ATTRIBUTE_NAMES);d.left=d.left||0,d.top=d.top||0;var i=new n.Ellipse(o(d,f));return i.top-=i.ry,i.left-=i.rx,i},void(n.Ellipse.fromObject=function(e){return new n.Ellipse(e)}))}("undefined"!=typeof exports?exports:this),function(e){"use strict";var n=e.fabric||(e.fabric={}),f=n.util.object.extend;if(n.Rect)return void console.warn("fabric.Rect is already defined");var o=n.Object.prototype.stateProperties.concat();o.push("rx","ry","x","y"),n.Rect=n.util.createClass(n.Object,{stateProperties:o,type:"rect",rx:0,ry:0,strokeDashArray:null,initialize:function(e){e=e||{},this.callSuper("initialize",e),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(e,n){if(1===this.width&&1===this.height)return void e.fillRect(0,0,1,1);var f=this.rx?Math.min(this.rx,this.width/2):0,o=this.ry?Math.min(this.ry,this.height/2):0,d=this.width,i=this.height,t=n?this.left:-this.width/2,l=n?this.top:-this.height/2,s=0!==f||0!==o,u=.4477152502;e.beginPath(),e.moveTo(t+f,l),e.lineTo(t+d-f,l),s&&e.bezierCurveTo(t+d-u*f,l,t+d,l+u*o,t+d,l+o),e.lineTo(t+d,l+i-o),s&&e.bezierCurveTo(t+d,l+i-u*o,t+d-u*f,l+i,t+d-f,l+i),e.lineTo(t+f,l+i),s&&e.bezierCurveTo(t+u*f,l+i,t,l+i-u*o,t,l+i-o),e.lineTo(t,l+o),s&&e.bezierCurveTo(t,l+u*o,t+u*f,l,t+f,l),e.closePath(),this._renderFill(e),this._renderStroke(e)},_renderDashedStroke:function(e){var f=-this.width/2,o=-this.height/2,d=this.width,i=this.height;e.beginPath(),n.util.drawDashedLine(e,f,o,f+d,o,this.strokeDashArray),n.util.drawDashedLine(e,f+d,o,f+d,o+i,this.strokeDashArray),n.util.drawDashedLine(e,f+d,o+i,f,o+i,this.strokeDashArray),n.util.drawDashedLine(e,f,o+i,f,o,this.strokeDashArray),e.closePath()},toObject:function(e){var n=f(this.callSuper("toObject",e),{rx:this.get("rx")||0,ry:this.get("ry")||0});return this.includeDefaultValues||this._removeDefaultValues(n),n},toSVG:function(e){var n=this._createBaseSVGMarkup(),f=this.left,o=this.top;return this.group||(f=-this.width/2,o=-this.height/2),n.push("<rect ",'x="',f,'" y="',o,'" rx="',this.get("rx"),'" ry="',this.get("ry"),'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'"/>\n'),e?e(n.join("")):n.join("")},complexity:function(){return 1}}),n.Rect.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),n.Rect.fromElement=function(e,o){if(!e)return null;o=o||{};var d=n.parseAttributes(e,n.Rect.ATTRIBUTE_NAMES);return d.left=d.left||0,d.top=d.top||0,new n.Rect(f(o?n.util.object.clone(o):{},d))},n.Rect.fromObject=function(e){return new n.Rect(e)}}("undefined"!=typeof exports?exports:this),function(e){"use strict";var n=e.fabric||(e.fabric={}),f=n.util.toFixed;return n.Polyline?void n.warn("fabric.Polyline is already defined"):(n.Polyline=n.util.createClass(n.Object,{type:"polyline",points:null,initialize:function(e,n){n=n||{},this.set("points",e),this.callSuper("initialize",n),this._calcDimensions()},_calcDimensions:function(){return n.Polygon.prototype._calcDimensions.call(this)},_applyPointOffset:function(){return n.Polygon.prototype._applyPointOffset.call(this)},toObject:function(e){return n.Polygon.prototype.toObject.call(this,e)},toSVG:function(e){for(var n=[],o=this._createBaseSVGMarkup(),d=0,i=this.points.length;i>d;d++)n.push(f(this.points[d].x,2),",",f(this.points[d].y,2)," ");return o.push("<polyline ",'points="',n.join(""),'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/>\n'),e?e(o.join("")):o.join("")},_render:function(e){var n;e.beginPath(),this._applyPointOffset&&(this.group&&"path-group"===this.group.type||this._applyPointOffset(),this._applyPointOffset=null),e.moveTo(this.points[0].x,this.points[0].y);for(var f=0,o=this.points.length;o>f;f++)n=this.points[f],e.lineTo(n.x,n.y);this._renderFill(e),this._renderStroke(e)},_renderDashedStroke:function(e){var f,o;e.beginPath();for(var d=0,i=this.points.length;i>d;d++)f=this.points[d],o=this.points[d+1]||f,n.util.drawDashedLine(e,f.x,f.y,o.x,o.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),n.Polyline.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat(),n.Polyline.fromElement=function(e,f){if(!e)return null;f||(f={});var o=n.parsePointsAttribute(e.getAttribute("points")),d=n.parseAttributes(e,n.Polyline.ATTRIBUTE_NAMES);return null===o?null:new n.Polyline(o,n.util.object.extend(d,f))},void(n.Polyline.fromObject=function(e){var f=e.points;return new n.Polyline(f,e,!0)}))}("undefined"!=typeof exports?exports:this),function(e){"use strict";var n=e.fabric||(e.fabric={}),f=n.util.object.extend,o=n.util.array.min,d=n.util.array.max,i=n.util.toFixed;return n.Polygon?void n.warn("fabric.Polygon is already defined"):(n.Polygon=n.util.createClass(n.Object,{type:"polygon",points:null,initialize:function(e,n){n=n||{},this.points=e,this.callSuper("initialize",n),this._calcDimensions()},_calcDimensions:function(){var e=this.points,n=o(e,"x"),f=o(e,"y"),i=d(e,"x"),t=d(e,"y");this.width=i-n||1,this.height=t-f||1,this.left=n,this.top=f},_applyPointOffset:function(){this.points.forEach(function(e){e.x-=this.left+this.width/2,e.y-=this.top+this.height/2},this)},toObject:function(e){return f(this.callSuper("toObject",e),{points:this.points.concat()})},toSVG:function(e){for(var n=[],f=this._createBaseSVGMarkup(),o=0,d=this.points.length;d>o;o++)n.push(i(this.points[o].x,2),",",i(this.points[o].y,2)," ");return f.push("<polygon ",'points="',n.join(""),'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform()," ",this.getSvgTransformMatrix(),'"/>\n'),e?e(f.join("")):f.join("")},_render:function(e){var n;e.beginPath(),this._applyPointOffset&&(this.group&&"path-group"===this.group.type||this._applyPointOffset(),this._applyPointOffset=null),e.moveTo(this.points[0].x,this.points[0].y);for(var f=0,o=this.points.length;o>f;f++)n=this.points[f],e.lineTo(n.x,n.y);this._renderFill(e),(this.stroke||this.strokeDashArray)&&(e.closePath(),this._renderStroke(e))},_renderDashedStroke:function(e){var f,o;e.beginPath();for(var d=0,i=this.points.length;i>d;d++)f=this.points[d],o=this.points[d+1]||this.points[0],n.util.drawDashedLine(e,f.x,f.y,o.x,o.y,this.strokeDashArray);e.closePath()},complexity:function(){return this.points.length}}),n.Polygon.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat(),n.Polygon.fromElement=function(e,o){if(!e)return null;o||(o={});var d=n.parsePointsAttribute(e.getAttribute("points")),i=n.parseAttributes(e,n.Polygon.ATTRIBUTE_NAMES);return null===d?null:new n.Polygon(d,f(i,o))},void(n.Polygon.fromObject=function(e){return new n.Polygon(e.points,e,!0)}))}("undefined"!=typeof exports?exports:this),function(e){"use strict";function n(e){return"H"===e[0]?e[1]:e[e.length-2]}function f(e){return"V"===e[0]?e[1]:e[e.length-1]}var o=e.fabric||(e.fabric={}),d=o.util.array.min,i=o.util.array.max,t=o.util.object.extend,l=Object.prototype.toString,s=o.util.drawArc,u={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},a={m:"l",M:"L"};return o.Path?void o.warn("fabric.Path is already defined"):(o.Path=o.util.createClass(o.Object,{type:"path",path:null,initialize:function(e,n){if(n=n||{},this.setOptions(n),!e)throw new Error("`path` argument is required");var f="[object Array]"===l.call(e);this.path=f?e:e.match&&e.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi),this.path&&(f||(this.path=this._parsePath()),this._initializePath(n),n.sourcePath&&this.setSourcePath(n.sourcePath))},_initializePath:function(e){var n="width"in e&&null!=e.width,f="height"in e&&null!=e.width,o="left"in e,d="top"in e,i=o?this.left:0,l=d?this.top:0;n&&f?(d||(this.top=this.height/2),o||(this.left=this.width/2)):(t(this,this._parseDimensions()),n&&(this.width=e.width),f&&(this.height=e.height)),this.pathOffset=this.pathOffset||this._calculatePathOffset(i,l)},_calculatePathOffset:function(e,n){return{x:this.left-e-this.width/2,y:this.top-n-this.height/2}},_render:function(e,n){var f,o,d,i,t,l=null,u=0,a=0,p=0,c=0,y=0,m=0,r=-(this.width/2+this.pathOffset.x),v=-(this.height/2+this.pathOffset.y);n&&(r+=this.width/2,v+=this.height/2);for(var w=0,b=this.path.length;b>w;++w){switch(f=this.path[w],f[0]){case"l":p+=f[1],c+=f[2],e.lineTo(p+r,c+v);break;case"L":p=f[1],c=f[2],e.lineTo(p+r,c+v);break;case"h":p+=f[1],e.lineTo(p+r,c+v);break;case"H":p=f[1],e.lineTo(p+r,c+v);break;case"v":c+=f[1],e.lineTo(p+r,c+v);break;case"V":c=f[1],e.lineTo(p+r,c+v);break;case"m":p+=f[1],c+=f[2],u=p,a=c,e.moveTo(p+r,c+v);break;case"M":p=f[1],c=f[2],u=p,a=c,e.moveTo(p+r,c+v);break;case"c":o=p+f[5],d=c+f[6],y=p+f[3],m=c+f[4],e.bezierCurveTo(p+f[1]+r,c+f[2]+v,y+r,m+v,o+r,d+v),p=o,c=d;break;case"C":p=f[5],c=f[6],y=f[3],m=f[4],e.bezierCurveTo(f[1]+r,f[2]+v,y+r,m+v,p+r,c+v);break;case"s":o=p+f[3],d=c+f[4],y=y?2*p-y:p,m=m?2*c-m:c,e.bezierCurveTo(y+r,m+v,p+f[1]+r,c+f[2]+v,o+r,d+v),y=p+f[1],m=c+f[2],p=o,c=d;break;case"S":o=f[3],d=f[4],y=2*p-y,m=2*c-m,e.bezierCurveTo(y+r,m+v,f[1]+r,f[2]+v,o+r,d+v),p=o,c=d,y=f[1],m=f[2];break;case"q":o=p+f[3],d=c+f[4],y=p+f[1],m=c+f[2],e.quadraticCurveTo(y+r,m+v,o+r,d+v),p=o,c=d;break;case"Q":o=f[3],d=f[4],e.quadraticCurveTo(f[1]+r,f[2]+v,o+r,d+v),p=o,c=d,y=f[1],m=f[2];break;case"t":o=p+f[1],d=c+f[2],null===l[0].match(/[QqTt]/)?(y=p,m=c):"t"===l[0]?(y=2*p-i,m=2*c-t):"q"===l[0]&&(y=2*p-y,m=2*c-m),i=y,t=m,e.quadraticCurveTo(y+r,m+v,o+r,d+v),p=o,c=d,y=p+f[1],m=c+f[2];break;case"T":o=f[1],d=f[2],y=2*p-y,m=2*c-m,e.quadraticCurveTo(y+r,m+v,o+r,d+v),p=o,c=d;break;case"a":s(e,p+r,c+v,[f[1],f[2],f[3],f[4],f[5],f[6]+p+r,f[7]+c+v]),p+=f[6],c+=f[7];break;case"A":s(e,p+r,c+v,[f[1],f[2],f[3],f[4],f[5],f[6]+r,f[7]+v]),p=f[6],c=f[7];break;case"z":case"Z":p=u,c=a,e.closePath()}l=f}},render:function(e,n){if(this.visible){e.save(),n&&e.translate(-this.width/2,-this.height/2);var f=this.transformMatrix;f&&e.transform(f[0],f[1],f[2],f[3],f[4],f[5]),n||this.transform(e),this._setStrokeStyles(e),this._setFillStyles(e),this._setShadow(e),this.clipTo&&o.util.clipContext(this,e),e.beginPath(),e.globalAlpha=this.group?e.globalAlpha*this.opacity:this.opacity,this._render(e,n),this._renderFill(e),this._renderStroke(e),this.clipTo&&e.restore(),this._removeShadow(e),e.restore()}},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(e){var n=t(this.callSuper("toObject",e),{path:this.path.map(function(e){return e.slice()}),pathOffset:this.pathOffset});return this.sourcePath&&(n.sourcePath=this.sourcePath),this.transformMatrix&&(n.transformMatrix=this.transformMatrix),n},toDatalessObject:function(e){var n=this.toObject(e);return this.sourcePath&&(n.path=this.sourcePath),delete n.sourcePath,n},toSVG:function(e){for(var n=[],f=this._createBaseSVGMarkup(),o=0,d=this.path.length;d>o;o++)n.push(this.path[o].join(" "));var i=n.join(" ");return f.push("<path ",'d="',i,'" style="',this.getSvgStyles(),'" transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'" stroke-linecap="round" ',"/>\n"),e?e(f.join("")):f.join("")},complexity:function(){return this.path.length},_parsePath:function(){for(var e,n,f,o,d,i=[],t=[],l=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,s=0,p=this.path.length;p>s;s++){for(e=this.path[s],o=e.slice(1).trim(),t.length=0;f=l.exec(o);)t.push(f[0]);d=[e.charAt(0)];for(var c=0,y=t.length;y>c;c++)n=parseFloat(t[c]),isNaN(n)||d.push(n);var m=d[0],r=u[m.toLowerCase()],v=a[m]||m;if(d.length-1>r)for(var w=1,b=d.length;b>w;w+=r)i.push([m].concat(d.slice(w,w+r))),m=v;else i.push(d)}return i},_parseDimensions:function(){var e=[],n=[],f={};this.path.forEach(function(o,d){this._getCoordsFromCommand(o,d,e,n,f)},this);var o=d(e),t=d(n),l=i(e),s=i(n),u=l-o,a=s-t,p={left:this.left+(o+u/2),top:this.top+(t+a/2),width:u,height:a};return p},_getCoordsFromCommand:function(e,o,d,i,t){var l=!1;"H"!==e[0]&&(t.x=n(0===o?e:this.path[o-1])),"V"!==e[0]&&(t.y=f(0===o?e:this.path[o-1])),e[0]===e[0].toLowerCase()&&(l=!0);var s,u=this._getXY(e,l,t);s=parseInt(u.x,10),isNaN(s)||d.push(s),s=parseInt(u.y,10),isNaN(s)||i.push(s)},_getXY:function(e,o,d){var i=o?d.x+n(e):"V"===e[0]?d.x:n(e),t=o?d.y+f(e):"H"===e[0]?d.y:f(e);return{x:i,y:t}}}),o.Path.fromObject=function(e,n){"string"==typeof e.path?o.loadSVGFromURL(e.path,function(f){var d=f[0],i=e.path;delete e.path,o.util.object.extend(d,e),d.setSourcePath(i),n(d)}):n(new o.Path(e.path,e))},o.Path.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat(["d"]),o.Path.fromElement=function(e,n,f){var d=o.parseAttributes(e,o.Path.ATTRIBUTE_NAMES);n&&n(new o.Path(d.d,t(d,f)))},void(o.Path.async=!0))}("undefined"!=typeof exports?exports:this),function(e){"use strict";var n=e.fabric||(e.fabric={}),f=n.util.object.extend,o=n.util.array.invoke,d=n.Object.prototype.toObject;return n.PathGroup?void n.warn("fabric.PathGroup is already defined"):(n.PathGroup=n.util.createClass(n.Path,{type:"path-group",fill:"",initialize:function(e,n){n=n||{},this.paths=e||[];for(var f=this.paths.length;f--;)this.paths[f].group=this;this.setOptions(n),n.widthAttr&&(this.scaleX=n.widthAttr/n.width),n.heightAttr&&(this.scaleY=n.heightAttr/n.height),this.setCoords(),n.sourcePath&&this.setSourcePath(n.sourcePath)},render:function(e){if(this.visible){e.save();var f=this.transformMatrix;f&&e.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this.transform(e),this._setShadow(e),this.clipTo&&n.util.clipContext(this,e);for(var o=0,d=this.paths.length;d>o;++o)this.paths[o].render(e,!0);this.clipTo&&e.restore(),this._removeShadow(e),e.restore()}},_set:function(e,n){if("fill"===e&&n&&this.isSameColor())for(var f=this.paths.length;f--;)this.paths[f]._set(e,n);return this.callSuper("_set",e,n)},toObject:function(e){var n=f(d.call(this,e),{paths:o(this.getObjects(),"toObject",e)});return this.sourcePath&&(n.sourcePath=this.sourcePath),n},toDatalessObject:function(e){var n=this.toObject(e);return this.sourcePath&&(n.paths=this.sourcePath),n},toSVG:function(e){for(var n=this.getObjects(),f="translate("+this.left+" "+this.top+")",o=["<g ",'style="',this.getSvgStyles(),'" ','transform="',f,this.getSvgTransform(),'" ',">\n"],d=0,i=n.length;i>d;d++)o.push(n[d].toSVG(e));return o.push("</g>\n"),e?e(o.join("")):o.join("")},toString:function(){return"#<fabric.PathGroup ("+this.complexity()+"): { top: "+this.top+", left: "+this.left+" }>"},isSameColor:function(){var e=(this.getObjects()[0].get("fill")||"").toLowerCase();return this.getObjects().every(function(n){return(n.get("fill")||"").toLowerCase()===e})},complexity:function(){return this.paths.reduce(function(e,n){return e+(n&&n.complexity?n.complexity():0)},0)},getObjects:function(){return this.paths}}),n.PathGroup.fromObject=function(e,f){"string"==typeof e.paths?n.loadSVGFromURL(e.paths,function(o){var d=e.paths;delete e.paths;var i=n.util.groupSVGElements(o,e,d);f(i)}):n.util.enlivenObjects(e.paths,function(o){delete e.paths,f(new n.PathGroup(o,e))})},void(n.PathGroup.async=!0))}("undefined"!=typeof exports?exports:this),function(e){"use strict";var n=e.fabric||(e.fabric={}),f=n.util.object.extend,o=n.util.array.min,d=n.util.array.max,i=n.util.array.invoke;if(!n.Group){var t={lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0};n.Group=n.util.createClass(n.Object,n.Collection,{type:"group",initialize:function(e,n){n=n||{},this._objects=e||[];for(var o=this._objects.length;o--;)this._objects[o].group=this;this.originalState={},this.callSuper("initialize"),this._calcBounds(),this._updateObjectsCoords(),n&&f(this,n),this._setOpacityIfSame(),this.setCoords(),this.saveCoords()},_updateObjectsCoords:function(){this.forEachObject(this._updateObjectCoords,this)},_updateObjectCoords:function(e){var n=e.getLeft(),f=e.getTop();e.set({originalLeft:n,originalTop:f,left:n-this.left,top:f-this.top}),e.setCoords(),e.__origHasControls=e.hasControls,e.hasControls=!1},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(e){return this._restoreObjectsState(),e&&(this._objects.push(e),e.group=this),this.forEachObject(this._setObjectActive,this),this._calcBounds(),this._updateObjectsCoords(),this},_setObjectActive:function(e){e.set("active",!0),e.group=this},removeWithUpdate:function(e){return this._moveFlippedObject(e),this._restoreObjectsState(),this.forEachObject(this._setObjectActive,this),this.remove(e),this._calcBounds(),this._updateObjectsCoords(),this},_onObjectAdded:function(e){e.group=this},_onObjectRemoved:function(e){delete e.group,e.set("active",!1)},delegatedProperties:{fill:!0,opacity:!0,fontFamily:!0,fontWeight:!0,fontSize:!0,fontStyle:!0,lineHeight:!0,textDecoration:!0,textAlign:!0,backgroundColor:!0},_set:function(e,n){if(e in this.delegatedProperties){var f=this._objects.length;for(this[e]=n;f--;)this._objects[f].set(e,n)}else this[e]=n},toObject:function(e){return f(this.callSuper("toObject",e),{objects:i(this._objects,"toObject",e)})},render:function(e){if(this.visible){e.save(),this.clipTo&&n.util.clipContext(this,e);for(var f=0,o=this._objects.length;o>f;f++)this._renderObject(this._objects[f],e);this.clipTo&&e.restore(),e.restore()}},_renderControls:function(e,n){this.callSuper("_renderControls",e,n);for(var f=0,o=this._objects.length;o>f;f++)this._objects[f]._renderControls(e)},_renderObject:function(e,n){var f=e.hasRotatingPoint;e.visible&&(e.hasRotatingPoint=!1,e.render(n),e.hasRotatingPoint=f)},_restoreObjectsState:function(){return this._objects.forEach(this._restoreObjectState,this),this},_moveFlippedObject:function(e){var n=e.get("originX"),f=e.get("originY"),o=e.getCenterPoint();e.set({originX:"center",originY:"center",left:o.x,top:o.y}),this._toggleFlipping(e);var d=e.getPointByOrigin(n,f);return e.set({originX:n,originY:f,left:d.x,top:d.y}),this},_toggleFlipping:function(e){this.flipX&&(e.toggle("flipX"),e.set("left",-e.get("left")),e.setAngle(-e.getAngle())),this.flipY&&(e.toggle("flipY"),e.set("top",-e.get("top")),e.setAngle(-e.getAngle()))},_restoreObjectState:function(e){return this._setObjectPosition(e),e.setCoords(),e.hasControls=e.__origHasControls,delete e.__origHasControls,e.set("active",!1),e.setCoords(),delete e.group,this},_setObjectPosition:function(e){var n=this.getLeft(),f=this.getTop(),o=this._getRotatedLeftTop(e);e.set({angle:e.getAngle()+this.getAngle(),left:n+o.left,top:f+o.top,scaleX:e.get("scaleX")*this.get("scaleX"),scaleY:e.get("scaleY")*this.get("scaleY")})},_getRotatedLeftTop:function(e){var n=this.getAngle()*(Math.PI/180);return{left:-Math.sin(n)*e.getTop()*this.get("scaleY")+Math.cos(n)*e.getLeft()*this.get("scaleX"),top:Math.cos(n)*e.getTop()*this.get("scaleY")+Math.sin(n)*e.getLeft()*this.get("scaleX")}},destroy:function(){return this._objects.forEach(this._moveFlippedObject,this),this._restoreObjectsState()},saveCoords:function(){return this._originalLeft=this.get("left"),this._originalTop=this.get("top"),this},hasMoved:function(){return this._originalLeft!==this.get("left")||this._originalTop!==this.get("top")},setObjectsCoords:function(){return this.forEachObject(function(e){e.setCoords()}),this},_setOpacityIfSame:function(){var e=this.getObjects(),n=e[0]?e[0].get("opacity"):1,f=e.every(function(e){return e.get("opacity")===n});f&&(this.opacity=n)},_calcBounds:function(e){for(var n,f=[],o=[],d=0,i=this._objects.length;i>d;++d){n=this._objects[d],n.setCoords();for(var t in n.oCoords)f.push(n.oCoords[t].x),o.push(n.oCoords[t].y)}this.set(this._getBounds(f,o,e))},_getBounds:function(e,f,i){var t=n.util.invertTransform(this.getViewportTransform()),l=n.util.transformPoint(new n.Point(o(e),o(f)),t),s=n.util.transformPoint(new n.Point(d(e),d(f)),t),u={width:s.x-l.x||0,height:s.y-l.y||0};return i||(u.left=(l.x+s.x)/2||0,u.top=(l.y+s.y)/2||0),u},toSVG:function(e){for(var n=["<g ",'transform="',this.getSvgTransform(),'">\n'],f=0,o=this._objects.length;o>f;f++)n.push(this._objects[f].toSVG(e));return n.push("</g>\n"),e?e(n.join("")):n.join("")},get:function(e){if(e in t){if(this[e])return this[e];for(var n=0,f=this._objects.length;f>n;n++)if(this._objects[n][e])return!0;return!1}return e in this.delegatedProperties?this._objects[0]&&this._objects[0].get(e):this[e]}}),n.Group.fromObject=function(e,f){n.util.enlivenObjects(e.objects,function(o){delete e.objects,f&&f(new n.Group(o,e))})},n.Group.async=!0}}("undefined"!=typeof exports?exports:this),function(e){"use strict";var n=fabric.util.object.extend;return e.fabric||(e.fabric={}),e.fabric.Image?void fabric.warn("fabric.Image is already defined."):(fabric.Image=fabric.util.createClass(fabric.Object,{type:"image",crossOrigin:"",initialize:function(e,n){n||(n={}),this.filters=[],this.callSuper("initialize",n),this._initElement(e,n),this._initConfig(n),n.filters&&(this.filters=n.filters,this.applyFilters())},getElement:function(){return this._element},setElement:function(e,n){return this._element=e,this._originalElement=e,this._initConfig(),0!==this.filters.length&&this.applyFilters(n),this},setCrossOrigin:function(e){return this.crossOrigin=e,this._element.crossOrigin=e,this},getOriginalSize:function(){var e=this.getElement();return{width:e.width,height:e.height}},_stroke:function(e){e.save(),this._setStrokeStyles(e),e.beginPath(),e.strokeRect(-this.width/2,-this.height/2,this.width,this.height),e.closePath(),e.restore()},_renderDashedStroke:function(e){var n=-this.width/2,f=-this.height/2,o=this.width,d=this.height;e.save(),this._setStrokeStyles(e),e.beginPath(),fabric.util.drawDashedLine(e,n,f,n+o,f,this.strokeDashArray),fabric.util.drawDashedLine(e,n+o,f,n+o,f+d,this.strokeDashArray),fabric.util.drawDashedLine(e,n+o,f+d,n,f+d,this.strokeDashArray),fabric.util.drawDashedLine(e,n,f+d,n,f,this.strokeDashArray),e.closePath(),e.restore()},toObject:function(e){return n(this.callSuper("toObject",e),{src:this._originalElement.src||this._originalElement._src,filters:this.filters.map(function(e){return e&&e.toObject()}),crossOrigin:this.crossOrigin})},toSVG:function(e){var n=[],f=-this.width/2,o=-this.height/2;if(this.group&&(f=this.left,o=this.top),n.push('<g transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'">\n','<image xlink:href="',this.getSvgSrc(),'" x="',f,'" y="',o,'" style="',this.getSvgStyles(),'" width="',this.width,'" height="',this.height,'" preserveAspectRatio="none"',"></image>\n"),this.stroke||this.strokeDashArray){var d=this.fill;this.fill=null,n.push("<rect ",'x="',f,'" y="',o,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'),this.fill=d}return n.push("</g>\n"),e?e(n.join("")):n.join("")},getSrc:function(){return this.getElement()?this.getElement().src||this.getElement()._src:void 0},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},clone:function(e,n){this.constructor.fromObject(this.toObject(n),e)},applyFilters:function(e){if(this._originalElement){if(0===this.filters.length)return this._element=this._originalElement,void(e&&e());var n=this._originalElement,f=fabric.util.createCanvasElement(),o=fabric.util.createImage(),d=this;return f.width=n.width,f.height=n.height,f.getContext("2d").drawImage(n,0,0,n.width,n.height),this.filters.forEach(function(e){e&&e.applyTo(f)}),o.width=n.width,o.height=n.height,fabric.isLikelyNode?(o.src=f.toBuffer(void 0,fabric.Image.pngCompression),d._element=o,e&&e()):(o.onload=function(){d._element=o,e&&e(),o.onload=f=n=null},o.src=f.toDataURL("image/png")),this}},_render:function(e,n){this._element&&e.drawImage(this._element,n?this.left:-this.width/2,n?this.top:-this.height/2,this.width,this.height),this._renderStroke(e)},_resetWidthHeight:function(){var e=this.getElement();this.set("width",e.width),this.set("height",e.height)},_initElement:function(e){this.setElement(fabric.util.getById(e)),fabric.util.addClass(this.getElement(),fabric.Image.CSS_CANVAS)},_initConfig:function(e){e||(e={}),this.setOptions(e),this._setWidthHeight(e),this._element&&this.crossOrigin&&(this._element.crossOrigin=this.crossOrigin)},_initFilters:function(e,n){e.filters&&e.filters.length?fabric.util.enlivenObjects(e.filters,function(e){n&&n(e)},"fabric.Image.filters"):n&&n()},_setWidthHeight:function(e){this.width="width"in e?e.width:this.getElement()?this.getElement().width||0:0,this.height="height"in e?e.height:this.getElement()?this.getElement().height||0:0
	},complexity:function(){return 1}}),fabric.Image.CSS_CANVAS="canvas-img",fabric.Image.prototype.getSvgSrc=fabric.Image.prototype.getSrc,fabric.Image.fromObject=function(e,n){fabric.util.loadImage(e.src,function(f){fabric.Image.prototype._initFilters.call(e,e,function(o){e.filters=o||[];var d=new fabric.Image(f,e);n&&n(d)})},null,e.crossOrigin)},fabric.Image.fromURL=function(e,n,f){fabric.util.loadImage(e,function(e){n(new fabric.Image(e,f))},null,f&&f.crossOrigin)},fabric.Image.ATTRIBUTE_NAMES=fabric.SHARED_ATTRIBUTES.concat("x y width height xlink:href".split(" ")),fabric.Image.fromElement=function(e,f,o){var d=fabric.parseAttributes(e,fabric.Image.ATTRIBUTE_NAMES);fabric.Image.fromURL(d["xlink:href"],f,n(o?fabric.util.object.clone(o):{},d))},fabric.Image.async=!0,void(fabric.Image.pngCompression=1))}("undefined"!=typeof exports?exports:this),fabric.Image.filters=fabric.Image.filters||{},fabric.Image.filters.BaseFilter=fabric.util.createClass({type:"BaseFilter",toObject:function(){return{type:this.type}},toJSON:function(){return this.toObject()}}),function(e){"use strict";var n=e.fabric||(e.fabric={}),f=n.util.object.extend;n.Image.filters.Brightness=n.util.createClass(n.Image.filters.BaseFilter,{type:"Brightness",initialize:function(e){e=e||{},this.brightness=e.brightness||0},applyTo:function(e){for(var n=e.getContext("2d"),f=n.getImageData(0,0,e.width,e.height),o=f.data,d=this.brightness,i=0,t=o.length;t>i;i+=4)o[i]+=d,o[i+1]+=d,o[i+2]+=d;n.putImageData(f,0,0)},toObject:function(){return f(this.callSuper("toObject"),{brightness:this.brightness})}}),n.Image.filters.Brightness.fromObject=function(e){return new n.Image.filters.Brightness(e)}}("undefined"!=typeof exports?exports:this),function(e){"use strict";var n=e.fabric||(e.fabric={}),f=n.util.object.extend;n.Image.filters.Convolute=n.util.createClass(n.Image.filters.BaseFilter,{type:"Convolute",initialize:function(e){e=e||{},this.opaque=e.opaque,this.matrix=e.matrix||[0,0,0,0,1,0,0,0,0];var f=n.util.createCanvasElement();this.tmpCtx=f.getContext("2d")},_createImageData:function(e,n){return this.tmpCtx.createImageData(e,n)},applyTo:function(e){for(var n=this.matrix,f=e.getContext("2d"),o=f.getImageData(0,0,e.width,e.height),d=Math.round(Math.sqrt(n.length)),i=Math.floor(d/2),t=o.data,l=o.width,s=o.height,u=l,a=s,p=this._createImageData(u,a),c=p.data,y=this.opaque?1:0,m=0;a>m;m++)for(var r=0;u>r;r++){for(var v=m,w=r,b=4*(m*u+r),g=0,h=0,x=0,j=0,k=0;d>k;k++)for(var q=0;d>q;q++){var z=v+k-i,A=w+q-i;if(!(0>z||z>s||0>A||A>l)){var B=4*(z*l+A),C=n[k*d+q];g+=t[B]*C,h+=t[B+1]*C,x+=t[B+2]*C,j+=t[B+3]*C}}c[b]=g,c[b+1]=h,c[b+2]=x,c[b+3]=j+y*(255-j)}f.putImageData(p,0,0)},toObject:function(){return f(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),n.Image.filters.Convolute.fromObject=function(e){return new n.Image.filters.Convolute(e)}}("undefined"!=typeof exports?exports:this),function(e){"use strict";var n=e.fabric||(e.fabric={}),f=n.util.object.extend;n.Image.filters.GradientTransparency=n.util.createClass(n.Image.filters.BaseFilter,{type:"GradientTransparency",initialize:function(e){e=e||{},this.threshold=e.threshold||100},applyTo:function(e){for(var n=e.getContext("2d"),f=n.getImageData(0,0,e.width,e.height),o=f.data,d=this.threshold,i=o.length,t=0,l=o.length;l>t;t+=4)o[t+3]=d+255*(i-t)/i;n.putImageData(f,0,0)},toObject:function(){return f(this.callSuper("toObject"),{threshold:this.threshold})}}),n.Image.filters.GradientTransparency.fromObject=function(e){return new n.Image.filters.GradientTransparency(e)}}("undefined"!=typeof exports?exports:this),function(e){"use strict";var n=e.fabric||(e.fabric={});n.Image.filters.Grayscale=n.util.createClass(n.Image.filters.BaseFilter,{type:"Grayscale",applyTo:function(e){for(var n,f=e.getContext("2d"),o=f.getImageData(0,0,e.width,e.height),d=o.data,i=o.width*o.height*4,t=0;i>t;)n=(d[t]+d[t+1]+d[t+2])/3,d[t]=n,d[t+1]=n,d[t+2]=n,t+=4;f.putImageData(o,0,0)}}),n.Image.filters.Grayscale.fromObject=function(){return new n.Image.filters.Grayscale}}("undefined"!=typeof exports?exports:this),function(e){"use strict";var n=e.fabric||(e.fabric={});n.Image.filters.Invert=n.util.createClass(n.Image.filters.BaseFilter,{type:"Invert",applyTo:function(e){var n,f=e.getContext("2d"),o=f.getImageData(0,0,e.width,e.height),d=o.data,i=d.length;for(n=0;i>n;n+=4)d[n]=255-d[n],d[n+1]=255-d[n+1],d[n+2]=255-d[n+2];f.putImageData(o,0,0)}}),n.Image.filters.Invert.fromObject=function(){return new n.Image.filters.Invert}}("undefined"!=typeof exports?exports:this),function(e){"use strict";var n=e.fabric||(e.fabric={}),f=n.util.object.extend;n.Image.filters.Mask=n.util.createClass(n.Image.filters.BaseFilter,{type:"Mask",initialize:function(e){e=e||{},this.mask=e.mask,this.channel=[0,1,2,3].indexOf(e.channel)>-1?e.channel:0},applyTo:function(e){if(this.mask){var f,o=e.getContext("2d"),d=o.getImageData(0,0,e.width,e.height),i=d.data,t=this.mask.getElement(),l=n.util.createCanvasElement(),s=this.channel,u=d.width*d.height*4;l.width=t.width,l.height=t.height,l.getContext("2d").drawImage(t,0,0,t.width,t.height);var a=l.getContext("2d").getImageData(0,0,t.width,t.height),p=a.data;for(f=0;u>f;f+=4)i[f+3]=p[f+s];o.putImageData(d,0,0)}},toObject:function(){return f(this.callSuper("toObject"),{mask:this.mask.toObject(),channel:this.channel})}}),n.Image.filters.Mask.fromObject=function(e,f){n.util.loadImage(e.mask.src,function(o){e.mask=new n.Image(o,e.mask),f&&f(new n.Image.filters.Mask(e))})},n.Image.filters.Mask.async=!0}("undefined"!=typeof exports?exports:this),function(e){"use strict";var n=e.fabric||(e.fabric={}),f=n.util.object.extend;n.Image.filters.Noise=n.util.createClass(n.Image.filters.BaseFilter,{type:"Noise",initialize:function(e){e=e||{},this.noise=e.noise||0},applyTo:function(e){for(var n,f=e.getContext("2d"),o=f.getImageData(0,0,e.width,e.height),d=o.data,i=this.noise,t=0,l=d.length;l>t;t+=4)n=(.5-Math.random())*i,d[t]+=n,d[t+1]+=n,d[t+2]+=n;f.putImageData(o,0,0)},toObject:function(){return f(this.callSuper("toObject"),{noise:this.noise})}}),n.Image.filters.Noise.fromObject=function(e){return new n.Image.filters.Noise(e)}}("undefined"!=typeof exports?exports:this),function(e){"use strict";var n=e.fabric||(e.fabric={}),f=n.util.object.extend;n.Image.filters.Pixelate=n.util.createClass(n.Image.filters.BaseFilter,{type:"Pixelate",initialize:function(e){e=e||{},this.blocksize=e.blocksize||4},applyTo:function(e){var n,f,o,d,i,t,l,s=e.getContext("2d"),u=s.getImageData(0,0,e.width,e.height),a=u.data,p=u.height,c=u.width;for(f=0;p>f;f+=this.blocksize)for(o=0;c>o;o+=this.blocksize){n=4*f*c+4*o,d=a[n],i=a[n+1],t=a[n+2],l=a[n+3];for(var y=f,m=f+this.blocksize;m>y;y++)for(var r=o,v=o+this.blocksize;v>r;r++)n=4*y*c+4*r,a[n]=d,a[n+1]=i,a[n+2]=t,a[n+3]=l}s.putImageData(u,0,0)},toObject:function(){return f(this.callSuper("toObject"),{blocksize:this.blocksize})}}),n.Image.filters.Pixelate.fromObject=function(e){return new n.Image.filters.Pixelate(e)}}("undefined"!=typeof exports?exports:this),function(e){"use strict";var n=e.fabric||(e.fabric={}),f=n.util.object.extend;n.Image.filters.RemoveWhite=n.util.createClass(n.Image.filters.BaseFilter,{type:"RemoveWhite",initialize:function(e){e=e||{},this.threshold=e.threshold||30,this.distance=e.distance||20},applyTo:function(e){for(var n,f,o,d=e.getContext("2d"),i=d.getImageData(0,0,e.width,e.height),t=i.data,l=this.threshold,s=this.distance,u=255-l,a=Math.abs,p=0,c=t.length;c>p;p+=4)n=t[p],f=t[p+1],o=t[p+2],n>u&&f>u&&o>u&&a(n-f)<s&&a(n-o)<s&&a(f-o)<s&&(t[p+3]=1);d.putImageData(i,0,0)},toObject:function(){return f(this.callSuper("toObject"),{threshold:this.threshold,distance:this.distance})}}),n.Image.filters.RemoveWhite.fromObject=function(e){return new n.Image.filters.RemoveWhite(e)}}("undefined"!=typeof exports?exports:this),function(e){"use strict";var n=e.fabric||(e.fabric={});n.Image.filters.Sepia=n.util.createClass(n.Image.filters.BaseFilter,{type:"Sepia",applyTo:function(e){var n,f,o=e.getContext("2d"),d=o.getImageData(0,0,e.width,e.height),i=d.data,t=i.length;for(n=0;t>n;n+=4)f=.3*i[n]+.59*i[n+1]+.11*i[n+2],i[n]=f+100,i[n+1]=f+50,i[n+2]=f+255;o.putImageData(d,0,0)}}),n.Image.filters.Sepia.fromObject=function(){return new n.Image.filters.Sepia}}("undefined"!=typeof exports?exports:this),function(e){"use strict";var n=e.fabric||(e.fabric={});n.Image.filters.Sepia2=n.util.createClass(n.Image.filters.BaseFilter,{type:"Sepia2",applyTo:function(e){var n,f,o,d,i=e.getContext("2d"),t=i.getImageData(0,0,e.width,e.height),l=t.data,s=l.length;for(n=0;s>n;n+=4)f=l[n],o=l[n+1],d=l[n+2],l[n]=(.393*f+.769*o+.189*d)/1.351,l[n+1]=(.349*f+.686*o+.168*d)/1.203,l[n+2]=(.272*f+.534*o+.131*d)/2.14;i.putImageData(t,0,0)}}),n.Image.filters.Sepia2.fromObject=function(){return new n.Image.filters.Sepia2}}("undefined"!=typeof exports?exports:this),function(e){"use strict";var n=e.fabric||(e.fabric={}),f=n.util.object.extend;n.Image.filters.Tint=n.util.createClass(n.Image.filters.BaseFilter,{type:"Tint",initialize:function(e){e=e||{},this.color=e.color||"#000000",this.opacity="undefined"!=typeof e.opacity?e.opacity:new n.Color(this.color).getAlpha()},applyTo:function(e){var f,o,d,i,t,l,s,u,a,p=e.getContext("2d"),c=p.getImageData(0,0,e.width,e.height),y=c.data,m=y.length;for(a=new n.Color(this.color).getSource(),o=a[0]*this.opacity,d=a[1]*this.opacity,i=a[2]*this.opacity,u=1-this.opacity,f=0;m>f;f+=4)t=y[f],l=y[f+1],s=y[f+2],y[f]=o+t*u,y[f+1]=d+l*u,y[f+2]=i+s*u;p.putImageData(c,0,0)},toObject:function(){return f(this.callSuper("toObject"),{color:this.color,opacity:this.opacity})}}),n.Image.filters.Tint.fromObject=function(e){return new n.Image.filters.Tint(e)}}("undefined"!=typeof exports?exports:this),function(e){"use strict";var n=e.fabric||(e.fabric={}),f=n.util.object.extend;n.Image.filters.Multiply=n.util.createClass(n.Image.filters.BaseFilter,{type:"Multiply",initialize:function(e){e=e||{},this.color=e.color||"#000000"},applyTo:function(e){var f,o,d=e.getContext("2d"),i=d.getImageData(0,0,e.width,e.height),t=i.data,l=t.length;for(o=new n.Color(this.color).getSource(),f=0;l>f;f+=4)t[f]*=o[0]/255,t[f+1]*=o[1]/255,t[f+2]*=o[2]/255;d.putImageData(i,0,0)},toObject:function(){return f(this.callSuper("toObject"),{color:this.color})}}),n.Image.filters.Multiply.fromObject=function(e){return new n.Image.filters.Multiply(e)}}("undefined"!=typeof exports?exports:this),function(e){"use strict";var n=e.fabric;n.Image.filters.Blend=n.util.createClass({type:"Blend",initialize:function(e){e=e||{},this.color=e.color||"#000",this.image=e.image||!1,this.mode=e.mode||"multiply",this.alpha=e.alpha||1},applyTo:function(e){var f,o,d,i,t,l,s,u=e.getContext("2d"),a=u.getImageData(0,0,e.width,e.height),p=a.data,c=!1;if(this.image){c=!0;var y=n.util.createCanvasElement();y.width=this.image.width,y.height=this.image.height;var m=new n.StaticCanvas(y);m.add(this.image);var r=m.getContext("2d");s=r.getImageData(0,0,m.width,m.height).data}else s=new n.Color(this.color).getSource(),f=s[0]*this.alpha,o=s[1]*this.alpha,d=s[2]*this.alpha;for(var v=0,w=p.length;w>v;v+=4)switch(i=p[v],t=p[v+1],l=p[v+2],c&&(f=s[v]*this.alpha,o=s[v+1]*this.alpha,d=s[v+2]*this.alpha),this.mode){case"multiply":p[v]=i*f/255,p[v+1]=t*o/255,p[v+2]=l*d/255;break;case"screen":p[v]=1-(1-i)*(1-f),p[v+1]=1-(1-t)*(1-o),p[v+2]=1-(1-l)*(1-d);break;case"add":p[v]=Math.min(255,i+f),p[v+1]=Math.min(255,t+o),p[v+2]=Math.min(255,l+d);break;case"diff":case"difference":p[v]=Math.abs(i-f),p[v+1]=Math.abs(t-o),p[v+2]=Math.abs(l-d);break;case"subtract":var b=i-f,g=t-o,h=l-d;p[v]=0>b?0:b,p[v+1]=0>g?0:g,p[v+2]=0>h?0:h;break;case"darken":p[v]=Math.min(i,f),p[v+1]=Math.min(t,o),p[v+2]=Math.min(l,d);break;case"lighten":p[v]=Math.max(i,f),p[v+1]=Math.max(t,o),p[v+2]=Math.max(l,d)}u.putImageData(a,0,0)}}),n.Image.filters.Blend.fromObject=function(e){return new n.Image.filters.Blend(e)}}("undefined"!=typeof exports?exports:this),function(e){"use strict";var n=e.fabric||(e.fabric={}),f=n.util.object.extend,o=n.util.object.clone,d=n.util.toFixed,i=n.StaticCanvas.supports("setLineDash");if(n.Text)return void n.warn("fabric.Text is already defined");var t=n.Object.prototype.stateProperties.concat();t.push("fontFamily","fontWeight","fontSize","text","textDecoration","textAlign","fontStyle","lineHeight","textBackgroundColor","useNative","path"),n.Text=n.util.createClass(n.Object,{_dimensionAffectingProps:{fontSize:!0,fontWeight:!0,fontFamily:!0,textDecoration:!0,fontStyle:!0,lineHeight:!0,stroke:!0,strokeWidth:!0,text:!0},_reNewline:/\r?\n/,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",textDecoration:"",textAlign:"left",fontStyle:"",lineHeight:1.3,textBackgroundColor:"",path:null,useNative:!0,stateProperties:t,stroke:null,shadow:null,initialize:function(e,n){n=n||{},this.text=e,this.__skipDimension=!0,this.setOptions(n),this.__skipDimension=!1,this._initDimensions()},_initDimensions:function(){if(!this.__skipDimension){var e=n.util.createCanvasElement();this._render(e.getContext("2d"))}},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_render:function(e){"undefined"==typeof Cufon||this.useNative===!0?this._renderViaNative(e):this._renderViaCufon(e)},_renderViaNative:function(e){var f=this.text.split(this._reNewline);this._setTextStyles(e),this.width=this._getTextWidth(e,f),this.height=this._getTextHeight(e,f),this.clipTo&&n.util.clipContext(this,e),this._renderTextBackground(e,f),this._translateForTextAlign(e),this._renderText(e,f),"left"!==this.textAlign&&"justify"!==this.textAlign&&e.restore(),this._renderTextDecoration(e,f),this.clipTo&&e.restore(),this._setBoundaries(e,f),this._totalLineHeight=0},_renderText:function(e,n){e.save(),this._setShadow(e),this._setupFillRule(e),this._renderTextFill(e,n),this._renderTextStroke(e,n),this._restoreFillRule(e),this._removeShadow(e),e.restore()},_translateForTextAlign:function(e){"left"!==this.textAlign&&"justify"!==this.textAlign&&(e.save(),e.translate("center"===this.textAlign?this.width/2:this.width,0))},_setBoundaries:function(e,n){this._boundaries=[];for(var f=0,o=n.length;o>f;f++){var d=this._getLineWidth(e,n[f]),i=this._getLineLeftOffset(d);this._boundaries.push({height:this.fontSize*this.lineHeight,width:d,left:i})}},_setTextStyles:function(e){this._setFillStyles(e),this._setStrokeStyles(e),e.textBaseline="alphabetic",this.skipTextAlign||(e.textAlign=this.textAlign),e.font=this._getFontDeclaration()},_getTextHeight:function(e,n){return this.fontSize*n.length*this.lineHeight},_getTextWidth:function(e,n){for(var f=e.measureText(n[0]||"|").width,o=1,d=n.length;d>o;o++){var i=e.measureText(n[o]).width;i>f&&(f=i)}return f},_renderChars:function(e,n,f,o,d){n[e](f,o,d)},_renderTextLine:function(e,n,f,o,d,i){if(d-=this.fontSize/4,"justify"!==this.textAlign)return void this._renderChars(e,n,f,o,d,i);var t=n.measureText(f).width,l=this.width;if(l>t)for(var s=f.split(/\s+/),u=n.measureText(f.replace(/\s+/g,"")).width,a=l-u,p=s.length-1,c=a/p,y=0,m=0,r=s.length;r>m;m++)this._renderChars(e,n,s[m],o+y,d,i),y+=n.measureText(s[m]).width+c;else this._renderChars(e,n,f,o,d,i)},_getLeftOffset:function(){return n.isLikelyNode?0:-this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextFill:function(e,n){if(this.fill||this._skipFillStrokeCheck){this._boundaries=[];for(var f=0,o=0,d=n.length;d>o;o++){var i=this._getHeightOfLine(e,o,n);f+=i,this._renderTextLine("fillText",e,n[o],this._getLeftOffset(),this._getTopOffset()+f,o)}}},_renderTextStroke:function(e,n){if(this.stroke&&0!==this.strokeWidth||this._skipFillStrokeCheck){var f=0;e.save(),this.strokeDashArray&&(1&this.strokeDashArray.length&&this.strokeDashArray.push.apply(this.strokeDashArray,this.strokeDashArray),i&&e.setLineDash(this.strokeDashArray)),e.beginPath();for(var o=0,d=n.length;d>o;o++){var t=this._getHeightOfLine(e,o,n);f+=t,this._renderTextLine("strokeText",e,n[o],this._getLeftOffset(),this._getTopOffset()+f,o)}e.closePath(),e.restore()}},_getHeightOfLine:function(){return this.fontSize*this.lineHeight},_renderTextBackground:function(e,n){this._renderTextBoxBackground(e),this._renderTextLinesBackground(e,n)},_renderTextBoxBackground:function(e){this.backgroundColor&&(e.save(),e.fillStyle=this.backgroundColor,e.fillRect(this._getLeftOffset(),this._getTopOffset(),this.width,this.height),e.restore())},_renderTextLinesBackground:function(e,n){if(this.textBackgroundColor){e.save(),e.fillStyle=this.textBackgroundColor;for(var f=0,o=n.length;o>f;f++)if(""!==n[f]){var d=this._getLineWidth(e,n[f]),i=this._getLineLeftOffset(d);e.fillRect(this._getLeftOffset()+i,this._getTopOffset()+f*this.fontSize*this.lineHeight,d,this.fontSize*this.lineHeight)}e.restore()}},_getLineLeftOffset:function(e){return"center"===this.textAlign?(this.width-e)/2:"right"===this.textAlign?this.width-e:0},_getLineWidth:function(e,n){return"justify"===this.textAlign?this.width:e.measureText(n).width},_renderTextDecoration:function(e,n){function f(f){for(var i=0,t=n.length;t>i;i++){var l=d._getLineWidth(e,n[i]),s=d._getLineLeftOffset(l);e.fillRect(d._getLeftOffset()+s,~~(f+i*d._getHeightOfLine(e,i,n)-o),l,1)}}if(this.textDecoration){var o=this._getTextHeight(e,n)/2,d=this;this.textDecoration.indexOf("underline")>-1&&f(this.fontSize*this.lineHeight),this.textDecoration.indexOf("line-through")>-1&&f(this.fontSize*this.lineHeight-this.fontSize/2),this.textDecoration.indexOf("overline")>-1&&f(this.fontSize*this.lineHeight-this.fontSize)}},_getFontDeclaration:function(){return[n.isLikelyNode?this.fontWeight:this.fontStyle,n.isLikelyNode?this.fontStyle:this.fontWeight,this.fontSize+"px",n.isLikelyNode?'"'+this.fontFamily+'"':this.fontFamily].join(" ")},render:function(e,n){if(this.visible){e.save(),this._transform(e,n);var f=this.transformMatrix,o=this.group&&"path-group"===this.group.type;o&&e.translate(-this.group.width/2,-this.group.height/2),f&&e.transform(f[0],f[1],f[2],f[3],f[4],f[5]),o&&e.translate(this.left,this.top),this._render(e),e.restore()}},toObject:function(e){var n=f(this.callSuper("toObject",e),{text:this.text,fontSize:this.fontSize,fontWeight:this.fontWeight,fontFamily:this.fontFamily,fontStyle:this.fontStyle,lineHeight:this.lineHeight,textDecoration:this.textDecoration,textAlign:this.textAlign,path:this.path,textBackgroundColor:this.textBackgroundColor,useNative:this.useNative});return this.includeDefaultValues||this._removeDefaultValues(n),n},toSVG:function(e){var n=[],f=this.text.split(this._reNewline),o=this._getSVGLeftTopOffsets(f),d=this._getSVGTextAndBg(o.lineTop,o.textLeft,f),i=this._getSVGShadows(o.lineTop,f);return o.textTop+=this._fontAscent?this._fontAscent/5*this.lineHeight:0,this._wrapSVGTextAndBg(n,d,i,o),e?e(n.join("")):n.join("")},_getSVGLeftTopOffsets:function(e){var n=this.useNative?this.fontSize*this.lineHeight:-this._fontAscent-this._fontAscent/5*this.lineHeight,f=-(this.width/2),o=this.useNative?this.fontSize-1:this.height/2-e.length*this.fontSize-this._totalLineHeight;return{textLeft:f+(this.group&&"path-group"===this.group.type?this.left:0),textTop:o+(this.group&&"path-group"===this.group.type?this.top:0),lineTop:n}},_wrapSVGTextAndBg:function(e,n,f,o){e.push('<g transform="',this.getSvgTransform(),this.getSvgTransformMatrix(),'">\n',n.textBgRects.join(""),"<text ",this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",this.textDecoration?'text-decoration="'+this.textDecoration+'" ':"",'style="',this.getSvgStyles(),'" ','transform="translate(',d(o.textLeft,2)," ",d(o.textTop,2),')">',f.join(""),n.textSpans.join(""),"</text>\n","</g>\n")},_getSVGShadows:function(e,f){var o,i,t=[],l=1;if(!this.shadow||!this._boundaries)return t;for(o=0,i=f.length;i>o;o++)if(""!==f[o]){var s=this._boundaries&&this._boundaries[o]?this._boundaries[o].left:0;t.push('<tspan x="',d(s+l+this.shadow.offsetX,2),0===o||this.useNative?'" y':'" dy','="',d(this.useNative?e*o-this.height/2+this.shadow.offsetY:e+(0===o?this.shadow.offsetY:0),2),'" ',this._getFillAttributes(this.shadow.color),">",n.util.string.escapeXml(f[o]),"</tspan>"),l=1}else l++;return t},_getSVGTextAndBg:function(e,n,f){var o=[],d=[],i=1;this._setSVGBg(d);for(var t=0,l=f.length;l>t;t++)""!==f[t]?(this._setSVGTextLineText(f[t],t,o,e,i,d),i=1):i++,this.textBackgroundColor&&this._boundaries&&this._setSVGTextLineBg(d,t,n,e);return{textSpans:o,textBgRects:d}},_setSVGTextLineText:function(e,f,o,i,t){var l=this._boundaries&&this._boundaries[f]?d(this._boundaries[f].left,2):0;o.push('<tspan x="',l,'" ',0===f||this.useNative?"y":"dy",'="',d(this.useNative?i*f-this.height/2:i*t,2),'" ',this._getFillAttributes(this.fill),">",n.util.string.escapeXml(e),"</tspan>")},_setSVGTextLineBg:function(e,n,f,o){e.push("<rect ",this._getFillAttributes(this.textBackgroundColor),' x="',d(f+this._boundaries[n].left,2),'" y="',d(o*n-this.height/2,2),'" width="',d(this._boundaries[n].width,2),'" height="',d(this._boundaries[n].height,2),'"></rect>\n')},_setSVGBg:function(e){this.backgroundColor&&this._boundaries&&e.push("<rect ",this._getFillAttributes(this.backgroundColor),' x="',d(-this.width/2,2),'" y="',d(-this.height/2,2),'" width="',d(this.width,2),'" height="',d(this.height,2),'"></rect>')},_getFillAttributes:function(e){var f=e&&"string"==typeof e?new n.Color(e):"";return f&&f.getSource()&&1!==f.getAlpha()?'opacity="'+f.getAlpha()+'" fill="'+f.setAlpha(1).toRgb()+'"':'fill="'+e+'"'},_set:function(e,n){"fontFamily"===e&&this.path&&(this.path=this.path.replace(/(.*?)([^\/]*)(\.font\.js)/,"$1"+n+"$3")),this.callSuper("_set",e,n),e in this._dimensionAffectingProps&&(this._initDimensions(),this.setCoords())},complexity:function(){return 1}}),n.Text.ATTRIBUTE_NAMES=n.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size text-decoration text-anchor".split(" ")),n.Text.DEFAULT_SVG_FONT_SIZE=16,n.Text.fromElement=function(e,f){if(!e)return null;var o=n.parseAttributes(e,n.Text.ATTRIBUTE_NAMES);f=n.util.object.extend(f?n.util.object.clone(f):{},o),"dx"in o&&(f.left+=o.dx),"dy"in o&&(f.top+=o.dy),"fontSize"in f||(f.fontSize=n.Text.DEFAULT_SVG_FONT_SIZE),f.originX||(f.originX="left");var d=new n.Text(e.textContent,f),i=0;return"left"===d.originX&&(i=d.getWidth()/2),"right"===d.originX&&(i=-d.getWidth()/2),d.set({left:d.getLeft()+i,top:d.getTop()-d.getHeight()/2}),d},n.Text.fromObject=function(e){return new n.Text(e.text,o(e))},n.util.createAccessors(n.Text)}("undefined"!=typeof exports?exports:this)}).call(this,_dereq_("buffer").Buffer)},{buffer:2,canvas:1,jsdom:1}]},{},[6])(6)});

/***/ }),
/* 63 */
/***/ (function(module, exports) {

	/**
	 * A class to parse color values
	 * @author Stoyan Stefanov <sstoo@gmail.com>
	 * @link   http://www.phpied.com/rgb-color-parser-in-javascript/
	 * @license Use it if you like it
	 */
	function RGBColor(color_string)
	{
	    this.ok = false;

	    // strip any leading #
	    if (color_string.charAt(0) == '#') { // remove # if any
	        color_string = color_string.substr(1,6);
	    }

	    color_string = color_string.replace(/ /g,'');
	    color_string = color_string.toLowerCase();

	    // before getting into regexps, try simple matches
	    // and overwrite the input
	    var simple_colors = {
	        aliceblue: 'f0f8ff',
	        antiquewhite: 'faebd7',
	        aqua: '00ffff',
	        aquamarine: '7fffd4',
	        azure: 'f0ffff',
	        beige: 'f5f5dc',
	        bisque: 'ffe4c4',
	        black: '000000',
	        blanchedalmond: 'ffebcd',
	        blue: '0000ff',
	        blueviolet: '8a2be2',
	        brown: 'a52a2a',
	        burlywood: 'deb887',
	        cadetblue: '5f9ea0',
	        chartreuse: '7fff00',
	        chocolate: 'd2691e',
	        coral: 'ff7f50',
	        cornflowerblue: '6495ed',
	        cornsilk: 'fff8dc',
	        crimson: 'dc143c',
	        cyan: '00ffff',
	        darkblue: '00008b',
	        darkcyan: '008b8b',
	        darkgoldenrod: 'b8860b',
	        darkgray: 'a9a9a9',
	        darkgreen: '006400',
	        darkkhaki: 'bdb76b',
	        darkmagenta: '8b008b',
	        darkolivegreen: '556b2f',
	        darkorange: 'ff8c00',
	        darkorchid: '9932cc',
	        darkred: '8b0000',
	        darksalmon: 'e9967a',
	        darkseagreen: '8fbc8f',
	        darkslateblue: '483d8b',
	        darkslategray: '2f4f4f',
	        darkturquoise: '00ced1',
	        darkviolet: '9400d3',
	        deeppink: 'ff1493',
	        deepskyblue: '00bfff',
	        dimgray: '696969',
	        dodgerblue: '1e90ff',
	        feldspar: 'd19275',
	        firebrick: 'b22222',
	        floralwhite: 'fffaf0',
	        forestgreen: '228b22',
	        fuchsia: 'ff00ff',
	        gainsboro: 'dcdcdc',
	        ghostwhite: 'f8f8ff',
	        gold: 'ffd700',
	        goldenrod: 'daa520',
	        gray: '808080',
	        green: '008000',
	        greenyellow: 'adff2f',
	        honeydew: 'f0fff0',
	        hotpink: 'ff69b4',
	        indianred : 'cd5c5c',
	        indigo : '4b0082',
	        ivory: 'fffff0',
	        khaki: 'f0e68c',
	        lavender: 'e6e6fa',
	        lavenderblush: 'fff0f5',
	        lawngreen: '7cfc00',
	        lemonchiffon: 'fffacd',
	        lightblue: 'add8e6',
	        lightcoral: 'f08080',
	        lightcyan: 'e0ffff',
	        lightgoldenrodyellow: 'fafad2',
	        lightgrey: 'd3d3d3',
	        lightgreen: '90ee90',
	        lightpink: 'ffb6c1',
	        lightsalmon: 'ffa07a',
	        lightseagreen: '20b2aa',
	        lightskyblue: '87cefa',
	        lightslateblue: '8470ff',
	        lightslategray: '778899',
	        lightsteelblue: 'b0c4de',
	        lightyellow: 'ffffe0',
	        lime: '00ff00',
	        limegreen: '32cd32',
	        linen: 'faf0e6',
	        magenta: 'ff00ff',
	        maroon: '800000',
	        mediumaquamarine: '66cdaa',
	        mediumblue: '0000cd',
	        mediumorchid: 'ba55d3',
	        mediumpurple: '9370d8',
	        mediumseagreen: '3cb371',
	        mediumslateblue: '7b68ee',
	        mediumspringgreen: '00fa9a',
	        mediumturquoise: '48d1cc',
	        mediumvioletred: 'c71585',
	        midnightblue: '191970',
	        mintcream: 'f5fffa',
	        mistyrose: 'ffe4e1',
	        moccasin: 'ffe4b5',
	        navajowhite: 'ffdead',
	        navy: '000080',
	        oldlace: 'fdf5e6',
	        olive: '808000',
	        olivedrab: '6b8e23',
	        orange: 'ffa500',
	        orangered: 'ff4500',
	        orchid: 'da70d6',
	        palegoldenrod: 'eee8aa',
	        palegreen: '98fb98',
	        paleturquoise: 'afeeee',
	        palevioletred: 'd87093',
	        papayawhip: 'ffefd5',
	        peachpuff: 'ffdab9',
	        peru: 'cd853f',
	        pink: 'ffc0cb',
	        plum: 'dda0dd',
	        powderblue: 'b0e0e6',
	        purple: '800080',
	        red: 'ff0000',
	        rosybrown: 'bc8f8f',
	        royalblue: '4169e1',
	        saddlebrown: '8b4513',
	        salmon: 'fa8072',
	        sandybrown: 'f4a460',
	        seagreen: '2e8b57',
	        seashell: 'fff5ee',
	        sienna: 'a0522d',
	        silver: 'c0c0c0',
	        skyblue: '87ceeb',
	        slateblue: '6a5acd',
	        slategray: '708090',
	        snow: 'fffafa',
	        springgreen: '00ff7f',
	        steelblue: '4682b4',
	        tan: 'd2b48c',
	        teal: '008080',
	        thistle: 'd8bfd8',
	        tomato: 'ff6347',
	        turquoise: '40e0d0',
	        violet: 'ee82ee',
	        violetred: 'd02090',
	        wheat: 'f5deb3',
	        white: 'ffffff',
	        whitesmoke: 'f5f5f5',
	        yellow: 'ffff00',
	        yellowgreen: '9acd32'
	    };
	    for (var key in simple_colors) {
	        if (color_string == key) {
	            color_string = simple_colors[key];
	        }
	    }
	    // emd of simple type-in colors

	    // array of color definition objects
	    var color_defs = [
	        {
	            re: /^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,
	            example: ['rgb(123, 234, 45)', 'rgb(255,234,245)'],
	            process: function (bits){
	                return [
	                    parseInt(bits[1]),
	                    parseInt(bits[2]),
	                    parseInt(bits[3])
	                ];
	            }
	        },
	        {
	            re: /^(\w{2})(\w{2})(\w{2})$/,
	            example: ['#00ff00', '336699'],
	            process: function (bits){
	                return [
	                    parseInt(bits[1], 16),
	                    parseInt(bits[2], 16),
	                    parseInt(bits[3], 16)
	                ];
	            }
	        },
	        {
	            re: /^(\w{1})(\w{1})(\w{1})$/,
	            example: ['#fb0', 'f0f'],
	            process: function (bits){
	                return [
	                    parseInt(bits[1] + bits[1], 16),
	                    parseInt(bits[2] + bits[2], 16),
	                    parseInt(bits[3] + bits[3], 16)
	                ];
	            }
	        }
	    ];

	    // search through the definitions to find a match
	    for (var i = 0; i < color_defs.length; i++) {
	        var re = color_defs[i].re;
	        var processor = color_defs[i].process;
	        var bits = re.exec(color_string);
	        if (bits) {
	            channels = processor(bits);
	            this.r = channels[0];
	            this.g = channels[1];
	            this.b = channels[2];
	            this.ok = true;
	        }

	    }

	    // validate/cleanup values
	    this.r = (this.r < 0 || isNaN(this.r)) ? 0 : ((this.r > 255) ? 255 : this.r);
	    this.g = (this.g < 0 || isNaN(this.g)) ? 0 : ((this.g > 255) ? 255 : this.g);
	    this.b = (this.b < 0 || isNaN(this.b)) ? 0 : ((this.b > 255) ? 255 : this.b);

	    // some getters
	    this.toRGB = function () {
	        return 'rgb(' + this.r + ', ' + this.g + ', ' + this.b + ')';
	    }
	    this.toHex = function () {
	        var r = this.r.toString(16);
	        var g = this.g.toString(16);
	        var b = this.b.toString(16);
	        if (r.length == 1) r = '0' + r;
	        if (g.length == 1) g = '0' + g;
	        if (b.length == 1) b = '0' + b;
	        return '#' + r + g + b;
	    }

	    // help
	    this.getHelpXML = function () {

	        var examples = new Array();
	        // add regexps
	        for (var i = 0; i < color_defs.length; i++) {
	            var example = color_defs[i].example;
	            for (var j = 0; j < example.length; j++) {
	                examples[examples.length] = example[j];
	            }
	        }
	        // add type-in colors
	        for (var sc in simple_colors) {
	            examples[examples.length] = sc;
	        }

	        var xml = document.createElement('ul');
	        xml.setAttribute('id', 'rgbcolor-examples');
	        for (var i = 0; i < examples.length; i++) {
	            try {
	                var list_item = document.createElement('li');
	                var list_color = new RGBColor(examples[i]);
	                var example_div = document.createElement('div');
	                example_div.style.cssText =
	                        'margin: 3px; '
	                        + 'border: 1px solid black; '
	                        + 'background:' + list_color.toHex() + '; '
	                        + 'color:' + list_color.toHex()
	                ;
	                example_div.appendChild(document.createTextNode('test'));
	                var list_item_value = document.createTextNode(
	                    ' ' + examples[i] + ' -> ' + list_color.toRGB() + ' -> ' + list_color.toHex()
	                );
	                list_item.appendChild(example_div);
	                list_item.appendChild(list_item_value);
	                xml.appendChild(list_item);

	            } catch(e){}
	        }
	        return xml;

	    }

	}



/***/ }),
/* 64 */
/***/ (function(module, exports) {

	/*

	StackBlur - a fast almost Gaussian Blur For Canvas

	Version: 	0.5
	Author:		Mario Klingemann
	Contact: 	mario@quasimondo.com
	Website:	http://www.quasimondo.com/StackBlurForCanvas
	Twitter:	@quasimondo

	In case you find this class useful - especially in commercial projects -
	I am not totally unhappy for a small donation to my PayPal account
	mario@quasimondo.de

	Or support me on flattr: 
	https://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript

	Copyright (c) 2010 Mario Klingemann

	Permission is hereby granted, free of charge, to any person
	obtaining a copy of this software and associated documentation
	files (the "Software"), to deal in the Software without
	restriction, including without limitation the rights to use,
	copy, modify, merge, publish, distribute, sublicense, and/or sell
	copies of the Software, and to permit persons to whom the
	Software is furnished to do so, subject to the following
	conditions:

	The above copyright notice and this permission notice shall be
	included in all copies or substantial portions of the Software.

	THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
	EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
	OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
	NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
	HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
	WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
	FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
	OTHER DEALINGS IN THE SOFTWARE.
	*/

	var mul_table = [
	        512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,
	        454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,
	        482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,
	        437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,
	        497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,
	        320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,
	        446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,
	        329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,
	        505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,
	        399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,
	        324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,
	        268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,
	        451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,
	        385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,
	        332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,
	        289,287,285,282,280,278,275,273,271,269,267,265,263,261,259];
	        
	   
	var shg_table = [
		     9, 11, 12, 13, 13, 14, 14, 15, 15, 15, 15, 16, 16, 16, 16, 17, 
			17, 17, 17, 17, 17, 17, 18, 18, 18, 18, 18, 18, 18, 18, 18, 19, 
			19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 19, 20, 20, 20,
			20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 20, 21,
			21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 21,
			21, 21, 21, 21, 21, 21, 21, 21, 21, 21, 22, 22, 22, 22, 22, 22, 
			22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22,
			22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 23, 
			23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
			23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23,
			23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 23, 
			23, 23, 23, 23, 23, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 
			24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
			24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
			24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24,
			24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24, 24 ];

	function premultiplyAlpha(imageData)
	{
		var pixels = imageData.data;
		var size = imageData.width * imageData.height * 4;
		
		for (var i=0; i<size; i+=4)
		{
			var a = pixels[i+3] / 255;
			pixels[i  ] *= a;
			pixels[i+1] *= a;
			pixels[i+2] *= a;
		}
	}

	function unpremultiplyAlpha(imageData)
	{
		var pixels = imageData.data;
		var size = imageData.width * imageData.height * 4;
		
		for (var i=0; i<size; i+=4)
		{
			var a = pixels[i+3];
			if (a != 0)
			{
				a = 255 / a;
				pixels[i  ] *= a;
				pixels[i+1] *= a;
				pixels[i+2] *= a;
			}
		}
	}

	function stackBlurImage( imageID, canvasID, radius, blurAlphaChannel )
	{
				
	 	var img = document.getElementById( imageID );
		var w = img.naturalWidth;
	    var h = img.naturalHeight;
	       
		var canvas = document.getElementById( canvasID );
	      
	    canvas.style.width  = w + "px";
	    canvas.style.height = h + "px";
	    canvas.width = w;
	    canvas.height = h;
	    
	    var context = canvas.getContext("2d");
	    context.clearRect( 0, 0, w, h );
	    context.drawImage( img, 0, 0 );

		if ( isNaN(radius) || radius < 1 ) return;
		
		if ( blurAlphaChannel )
			stackBlurCanvasRGBA( canvasID, 0, 0, w, h, radius );
		else 
			stackBlurCanvasRGB( canvasID, 0, 0, w, h, radius );
	}


	function stackBlurCanvasRGBA( id, top_x, top_y, width, height, radius )
	{
		if ( isNaN(radius) || radius < 1 ) return;
		radius |= 0;
		
		var canvas  = document.getElementById( id );
		var context = canvas.getContext("2d");
		var imageData;
		
		try {
		  try {
			imageData = context.getImageData( top_x, top_y, width, height );
		  } catch(e) {
		  
			// NOTE: this part is supposedly only needed if you want to work with local files
			// so it might be okay to remove the whole try/catch block and just use
			// imageData = context.getImageData( top_x, top_y, width, height );
			try {
				netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");
				imageData = context.getImageData( top_x, top_y, width, height );
			} catch(e) {
				alert("Cannot access local image");
				throw new Error("unable to access local image data: " + e);
				return;
			}
		  }
		} catch(e) {
		  alert("Cannot access image");
		  throw new Error("unable to access image data: " + e);
		}
		
		premultiplyAlpha(imageData);
		
		var pixels = imageData.data;
				
		var x, y, i, p, yp, yi, yw, r_sum, g_sum, b_sum, a_sum, 
		r_out_sum, g_out_sum, b_out_sum, a_out_sum,
		r_in_sum, g_in_sum, b_in_sum, a_in_sum, 
		pr, pg, pb, pa, rbs;
				
		var div = radius + radius + 1;
		var w4 = width << 2;
		var widthMinus1  = width - 1;
		var heightMinus1 = height - 1;
		var radiusPlus1  = radius + 1;
		var sumFactor = radiusPlus1 * ( radiusPlus1 + 1 ) / 2;
		
		var stackStart = new BlurStack();
		var stack = stackStart;
		for ( i = 1; i < div; i++ )
		{
			stack = stack.next = new BlurStack();
			if ( i == radiusPlus1 ) var stackEnd = stack;
		}
		stack.next = stackStart;
		var stackIn = null;
		var stackOut = null;
		
		yw = yi = 0;
		
		var mul_sum = mul_table[radius];
		var shg_sum = shg_table[radius];
		
		for ( y = 0; y < height; y++ )
		{
			r_in_sum = g_in_sum = b_in_sum = a_in_sum = r_sum = g_sum = b_sum = a_sum = 0;
			
			r_out_sum = radiusPlus1 * ( pr = pixels[yi] );
			g_out_sum = radiusPlus1 * ( pg = pixels[yi+1] );
			b_out_sum = radiusPlus1 * ( pb = pixels[yi+2] );
			a_out_sum = radiusPlus1 * ( pa = pixels[yi+3] );
			
			r_sum += sumFactor * pr;
			g_sum += sumFactor * pg;
			b_sum += sumFactor * pb;
			a_sum += sumFactor * pa;
			
			stack = stackStart;
			
			for( i = 0; i < radiusPlus1; i++ )
			{
				stack.r = pr;
				stack.g = pg;
				stack.b = pb;
				stack.a = pa;
				stack = stack.next;
			}
			
			for( i = 1; i < radiusPlus1; i++ )
			{
				p = yi + (( widthMinus1 < i ? widthMinus1 : i ) << 2 );
				r_sum += ( stack.r = ( pr = pixels[p])) * ( rbs = radiusPlus1 - i );
				g_sum += ( stack.g = ( pg = pixels[p+1])) * rbs;
				b_sum += ( stack.b = ( pb = pixels[p+2])) * rbs;
				a_sum += ( stack.a = ( pa = pixels[p+3])) * rbs;
				
				r_in_sum += pr;
				g_in_sum += pg;
				b_in_sum += pb;
				a_in_sum += pa;
				
				stack = stack.next;
			}
			
			stackIn = stackStart;
			stackOut = stackEnd;
			for ( x = 0; x < width; x++ )
			{
				pixels[yi]   = (r_sum * mul_sum) >> shg_sum;
				pixels[yi+1] = (g_sum * mul_sum) >> shg_sum;
				pixels[yi+2] = (b_sum * mul_sum) >> shg_sum;
				pixels[yi+3] = (a_sum * mul_sum) >> shg_sum;
				
				r_sum -= r_out_sum;
				g_sum -= g_out_sum;
				b_sum -= b_out_sum;
				a_sum -= a_out_sum;
				
				r_out_sum -= stackIn.r;
				g_out_sum -= stackIn.g;
				b_out_sum -= stackIn.b;
				a_out_sum -= stackIn.a;
				
				p =  ( yw + ( ( p = x + radius + 1 ) < widthMinus1 ? p : widthMinus1 ) ) << 2;
				
				r_in_sum += ( stackIn.r = pixels[p]);
				g_in_sum += ( stackIn.g = pixels[p+1]);
				b_in_sum += ( stackIn.b = pixels[p+2]);
				a_in_sum += ( stackIn.a = pixels[p+3]);
				
				r_sum += r_in_sum;
				g_sum += g_in_sum;
				b_sum += b_in_sum;
				a_sum += a_in_sum;
				
				stackIn = stackIn.next;
				
				r_out_sum += ( pr = stackOut.r );
				g_out_sum += ( pg = stackOut.g );
				b_out_sum += ( pb = stackOut.b );
				a_out_sum += ( pa = stackOut.a );
				
				r_in_sum -= pr;
				g_in_sum -= pg;
				b_in_sum -= pb;
				a_in_sum -= pa;
				
				stackOut = stackOut.next;

				yi += 4;
			}
			yw += width;
		}

		
		for ( x = 0; x < width; x++ )
		{
			g_in_sum = b_in_sum = a_in_sum = r_in_sum = g_sum = b_sum = a_sum = r_sum = 0;
			
			yi = x << 2;
			r_out_sum = radiusPlus1 * ( pr = pixels[yi]);
			g_out_sum = radiusPlus1 * ( pg = pixels[yi+1]);
			b_out_sum = radiusPlus1 * ( pb = pixels[yi+2]);
			a_out_sum = radiusPlus1 * ( pa = pixels[yi+3]);
			
			r_sum += sumFactor * pr;
			g_sum += sumFactor * pg;
			b_sum += sumFactor * pb;
			a_sum += sumFactor * pa;
			
			stack = stackStart;
			
			for( i = 0; i < radiusPlus1; i++ )
			{
				stack.r = pr;
				stack.g = pg;
				stack.b = pb;
				stack.a = pa;
				stack = stack.next;
			}
			
			yp = width;
			
			for( i = 1; i <= radius; i++ )
			{
				yi = ( yp + x ) << 2;
				
				r_sum += ( stack.r = ( pr = pixels[yi])) * ( rbs = radiusPlus1 - i );
				g_sum += ( stack.g = ( pg = pixels[yi+1])) * rbs;
				b_sum += ( stack.b = ( pb = pixels[yi+2])) * rbs;
				a_sum += ( stack.a = ( pa = pixels[yi+3])) * rbs;
			   
				r_in_sum += pr;
				g_in_sum += pg;
				b_in_sum += pb;
				a_in_sum += pa;
				
				stack = stack.next;
			
				if( i < heightMinus1 )
				{
					yp += width;
				}
			}
			
			yi = x;
			stackIn = stackStart;
			stackOut = stackEnd;
			for ( y = 0; y < height; y++ )
			{
				p = yi << 2;
				pixels[p]   = (r_sum * mul_sum) >> shg_sum;
				pixels[p+1] = (g_sum * mul_sum) >> shg_sum;
				pixels[p+2] = (b_sum * mul_sum) >> shg_sum;
				pixels[p+3] = (a_sum * mul_sum) >> shg_sum;
				
				r_sum -= r_out_sum;
				g_sum -= g_out_sum;
				b_sum -= b_out_sum;
				a_sum -= a_out_sum;
			   
				r_out_sum -= stackIn.r;
				g_out_sum -= stackIn.g;
				b_out_sum -= stackIn.b;
				a_out_sum -= stackIn.a;
				
				p = ( x + (( ( p = y + radiusPlus1) < heightMinus1 ? p : heightMinus1 ) * width )) << 2;
				
				r_sum += ( r_in_sum += ( stackIn.r = pixels[p]));
				g_sum += ( g_in_sum += ( stackIn.g = pixels[p+1]));
				b_sum += ( b_in_sum += ( stackIn.b = pixels[p+2]));
				a_sum += ( a_in_sum += ( stackIn.a = pixels[p+3]));
			   
				stackIn = stackIn.next;
				
				r_out_sum += ( pr = stackOut.r );
				g_out_sum += ( pg = stackOut.g );
				b_out_sum += ( pb = stackOut.b );
				a_out_sum += ( pa = stackOut.a );
				
				r_in_sum -= pr;
				g_in_sum -= pg;
				b_in_sum -= pb;
				a_in_sum -= pa;
				
				stackOut = stackOut.next;
				
				yi += width;
			}
		}
		
		unpremultiplyAlpha(imageData);
		
		context.putImageData( imageData, top_x, top_y );
	}


	function stackBlurCanvasRGB( id, top_x, top_y, width, height, radius )
	{
		if ( isNaN(radius) || radius < 1 ) return;
		radius |= 0;
		
		var canvas  = document.getElementById( id );
		var context = canvas.getContext("2d");
		var imageData;
		
		try {
		  try {
			imageData = context.getImageData( top_x, top_y, width, height );
		  } catch(e) {
		  
			// NOTE: this part is supposedly only needed if you want to work with local files
			// so it might be okay to remove the whole try/catch block and just use
			// imageData = context.getImageData( top_x, top_y, width, height );
			try {
				netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");
				imageData = context.getImageData( top_x, top_y, width, height );
			} catch(e) {
				alert("Cannot access local image");
				throw new Error("unable to access local image data: " + e);
				return;
			}
		  }
		} catch(e) {
		  alert("Cannot access image");
		  throw new Error("unable to access image data: " + e);
		}
				
		var pixels = imageData.data;
				
		var x, y, i, p, yp, yi, yw, r_sum, g_sum, b_sum,
		r_out_sum, g_out_sum, b_out_sum,
		r_in_sum, g_in_sum, b_in_sum,
		pr, pg, pb, rbs;
				
		var div = radius + radius + 1;
		var w4 = width << 2;
		var widthMinus1  = width - 1;
		var heightMinus1 = height - 1;
		var radiusPlus1  = radius + 1;
		var sumFactor = radiusPlus1 * ( radiusPlus1 + 1 ) / 2;
		
		var stackStart = new BlurStack();
		var stack = stackStart;
		for ( i = 1; i < div; i++ )
		{
			stack = stack.next = new BlurStack();
			if ( i == radiusPlus1 ) var stackEnd = stack;
		}
		stack.next = stackStart;
		var stackIn = null;
		var stackOut = null;
		
		yw = yi = 0;
		
		var mul_sum = mul_table[radius];
		var shg_sum = shg_table[radius];
		
		for ( y = 0; y < height; y++ )
		{
			r_in_sum = g_in_sum = b_in_sum = r_sum = g_sum = b_sum = 0;
			
			r_out_sum = radiusPlus1 * ( pr = pixels[yi] );
			g_out_sum = radiusPlus1 * ( pg = pixels[yi+1] );
			b_out_sum = radiusPlus1 * ( pb = pixels[yi+2] );
			
			r_sum += sumFactor * pr;
			g_sum += sumFactor * pg;
			b_sum += sumFactor * pb;
			
			stack = stackStart;
			
			for( i = 0; i < radiusPlus1; i++ )
			{
				stack.r = pr;
				stack.g = pg;
				stack.b = pb;
				stack = stack.next;
			}
			
			for( i = 1; i < radiusPlus1; i++ )
			{
				p = yi + (( widthMinus1 < i ? widthMinus1 : i ) << 2 );
				r_sum += ( stack.r = ( pr = pixels[p])) * ( rbs = radiusPlus1 - i );
				g_sum += ( stack.g = ( pg = pixels[p+1])) * rbs;
				b_sum += ( stack.b = ( pb = pixels[p+2])) * rbs;
				
				r_in_sum += pr;
				g_in_sum += pg;
				b_in_sum += pb;
				
				stack = stack.next;
			}
			
			
			stackIn = stackStart;
			stackOut = stackEnd;
			for ( x = 0; x < width; x++ )
			{
				pixels[yi]   = (r_sum * mul_sum) >> shg_sum;
				pixels[yi+1] = (g_sum * mul_sum) >> shg_sum;
				pixels[yi+2] = (b_sum * mul_sum) >> shg_sum;
				
				r_sum -= r_out_sum;
				g_sum -= g_out_sum;
				b_sum -= b_out_sum;
				
				r_out_sum -= stackIn.r;
				g_out_sum -= stackIn.g;
				b_out_sum -= stackIn.b;
				
				p =  ( yw + ( ( p = x + radius + 1 ) < widthMinus1 ? p : widthMinus1 ) ) << 2;
				
				r_in_sum += ( stackIn.r = pixels[p]);
				g_in_sum += ( stackIn.g = pixels[p+1]);
				b_in_sum += ( stackIn.b = pixels[p+2]);
				
				r_sum += r_in_sum;
				g_sum += g_in_sum;
				b_sum += b_in_sum;
				
				stackIn = stackIn.next;
				
				r_out_sum += ( pr = stackOut.r );
				g_out_sum += ( pg = stackOut.g );
				b_out_sum += ( pb = stackOut.b );
				
				r_in_sum -= pr;
				g_in_sum -= pg;
				b_in_sum -= pb;
				
				stackOut = stackOut.next;

				yi += 4;
			}
			yw += width;
		}

		
		for ( x = 0; x < width; x++ )
		{
			g_in_sum = b_in_sum = r_in_sum = g_sum = b_sum = r_sum = 0;
			
			yi = x << 2;
			r_out_sum = radiusPlus1 * ( pr = pixels[yi]);
			g_out_sum = radiusPlus1 * ( pg = pixels[yi+1]);
			b_out_sum = radiusPlus1 * ( pb = pixels[yi+2]);
			
			r_sum += sumFactor * pr;
			g_sum += sumFactor * pg;
			b_sum += sumFactor * pb;
			
			stack = stackStart;
			
			for( i = 0; i < radiusPlus1; i++ )
			{
				stack.r = pr;
				stack.g = pg;
				stack.b = pb;
				stack = stack.next;
			}
			
			yp = width;
			
			for( i = 1; i <= radius; i++ )
			{
				yi = ( yp + x ) << 2;
				
				r_sum += ( stack.r = ( pr = pixels[yi])) * ( rbs = radiusPlus1 - i );
				g_sum += ( stack.g = ( pg = pixels[yi+1])) * rbs;
				b_sum += ( stack.b = ( pb = pixels[yi+2])) * rbs;
				
				r_in_sum += pr;
				g_in_sum += pg;
				b_in_sum += pb;
				
				stack = stack.next;
			
				if( i < heightMinus1 )
				{
					yp += width;
				}
			}
			
			yi = x;
			stackIn = stackStart;
			stackOut = stackEnd;
			for ( y = 0; y < height; y++ )
			{
				p = yi << 2;
				pixels[p]   = (r_sum * mul_sum) >> shg_sum;
				pixels[p+1] = (g_sum * mul_sum) >> shg_sum;
				pixels[p+2] = (b_sum * mul_sum) >> shg_sum;
				
				r_sum -= r_out_sum;
				g_sum -= g_out_sum;
				b_sum -= b_out_sum;
				
				r_out_sum -= stackIn.r;
				g_out_sum -= stackIn.g;
				b_out_sum -= stackIn.b;
				
				p = ( x + (( ( p = y + radiusPlus1) < heightMinus1 ? p : heightMinus1 ) * width )) << 2;
				
				r_sum += ( r_in_sum += ( stackIn.r = pixels[p]));
				g_sum += ( g_in_sum += ( stackIn.g = pixels[p+1]));
				b_sum += ( b_in_sum += ( stackIn.b = pixels[p+2]));
				
				stackIn = stackIn.next;
				
				r_out_sum += ( pr = stackOut.r );
				g_out_sum += ( pg = stackOut.g );
				b_out_sum += ( pb = stackOut.b );
				
				r_in_sum -= pr;
				g_in_sum -= pg;
				b_in_sum -= pb;
				
				stackOut = stackOut.next;
				
				yi += width;
			}
		}
		
		context.putImageData( imageData, top_x, top_y );
		
	}

	function BlurStack()
	{
		this.r = 0;
		this.g = 0;
		this.b = 0;
		this.a = 0;
		this.next = null;
	}


/***/ }),
/* 65 */
/***/ (function(module, exports) {

	/*
	 * canvg.js - Javascript SVG parser and renderer on Canvas
	 * MIT Licensed
	 * Gabe Lerner (gabelerner@gmail.com)
	 * http://code.google.com/p/canvg/
	 *
	 * Requires: rgbcolor.js - http://www.phpied.com/rgb-color-parser-in-javascript/
	 */
	(function(){
		// canvg(target, s)
		// empty parameters: replace all 'svg' elements on page with 'canvas' elements
		// target: canvas element or the id of a canvas element
		// s: svg string, url to svg file, or xml document
		// opts: optional hash of options
		//		 ignoreMouse: true => ignore mouse events
		//		 ignoreAnimation: true => ignore animations
		//		 ignoreDimensions: true => does not try to resize canvas
		//		 ignoreClear: true => does not clear canvas
		//		 offsetX: int => draws at a x offset
		//		 offsetY: int => draws at a y offset
		//		 scaleWidth: int => scales horizontally to width
		//		 scaleHeight: int => scales vertically to height
		//		 renderCallback: function => will call the function after the first render is completed
		//		 forceRedraw: function => will call the function on every frame, if it returns true, will redraw
		this.canvg = function (target, s, opts) {
			// no parameters
			if (target == null && s == null && opts == null) {
				var svgTags = document.querySelectorAll('svg');
				for (var i=0; i<svgTags.length; i++) {
					var svgTag = svgTags[i];
					var c = document.createElement('canvas');
					c.width = svgTag.clientWidth;
					c.height = svgTag.clientHeight;
					svgTag.parentNode.insertBefore(c, svgTag);
					svgTag.parentNode.removeChild(svgTag);
					var div = document.createElement('div');
					div.appendChild(svgTag);
					canvg(c, div.innerHTML);
				}
				return;
			}

			if (typeof target == 'string') {
				target = document.getElementById(target);
			}

			// store class on canvas
			if (target.svg != null) target.svg.stop();
			var svg = build(opts || {});
			// on i.e. 8 for flash canvas, we can't assign the property so check for it
			if (!(target.childNodes.length == 1 && target.childNodes[0].nodeName == 'OBJECT')) target.svg = svg;

			var ctx = target.getContext('2d');
			if (typeof(s.documentElement) != 'undefined') {
				// load from xml doc
				svg.loadXmlDoc(ctx, s);
			}
			else if (s.substr(0,1) == '<') {
				// load from xml string
				svg.loadXml(ctx, s);
			}
			else {
				// load from url
				svg.load(ctx, s);
			}
		}

		// see https://developer.mozilla.org/en-US/docs/Web/API/Element.matches
		var matchesSelector;
		if (typeof(Element.prototype.matches) != 'undefined') {
			matchesSelector = function(node, selector) {
				return node.matches(selector);
			};
		} else if (typeof(Element.prototype.webkitMatchesSelector) != 'undefined') {
			matchesSelector = function(node, selector) {
				return node.webkitMatchesSelector(selector);
			};
		} else if (typeof(Element.prototype.mozMatchesSelector) != 'undefined') {
			matchesSelector = function(node, selector) {
				return node.mozMatchesSelector(selector);
			};
		} else if (typeof(Element.prototype.msMatchesSelector) != 'undefined') {
			matchesSelector = function(node, selector) {
				return node.msMatchesSelector(selector);
			};
		} else if (typeof(Element.prototype.oMatchesSelector) != 'undefined') {
			matchesSelector = function(node, selector) {
				return node.oMatchesSelector(selector);
			};
		} else {
			// requires Sizzle: https://github.com/jquery/sizzle/wiki/Sizzle-Documentation
			// or jQuery: http://jquery.com/download/
			// or Zepto: http://zeptojs.com/#
			// without it, this is a ReferenceError

			if (typeof jQuery === 'function' || typeof Zepto === 'function') {
				matchesSelector = function (node, selector) {
					return $(node).is(selector);
				};
			}

			if (typeof matchesSelector === 'undefined') {
				matchesSelector = Sizzle.matchesSelector;
			}
		}

		// slightly modified version of https://github.com/keeganstreet/specificity/blob/master/specificity.js
		var attributeRegex = /(\[[^\]]+\])/g;
		var idRegex = /(#[^\s\+>~\.\[:]+)/g;
		var classRegex = /(\.[^\s\+>~\.\[:]+)/g;
		var pseudoElementRegex = /(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi;
		var pseudoClassWithBracketsRegex = /(:[\w-]+\([^\)]*\))/gi;
		var pseudoClassRegex = /(:[^\s\+>~\.\[:]+)/g;
		var elementRegex = /([^\s\+>~\.\[:]+)/g;
		function getSelectorSpecificity(selector) {
			var typeCount = [0, 0, 0];
			var findMatch = function(regex, type) {
				var matches = selector.match(regex);
				if (matches == null) {
					return;
				}
				typeCount[type] += matches.length;
				selector = selector.replace(regex, ' ');
			};

			selector = selector.replace(/:not\(([^\)]*)\)/g, '     $1 ');
			selector = selector.replace(/{[^]*/gm, ' ');
			findMatch(attributeRegex, 1);
			findMatch(idRegex, 0);
			findMatch(classRegex, 1);
			findMatch(pseudoElementRegex, 2);
			findMatch(pseudoClassWithBracketsRegex, 1);
			findMatch(pseudoClassRegex, 1);
			selector = selector.replace(/[\*\s\+>~]/g, ' ');
			selector = selector.replace(/[#\.]/g, ' ');
			findMatch(elementRegex, 2);
			return typeCount.join('');
		}

		function build(opts) {
			var svg = { opts: opts };

			svg.FRAMERATE = 30;
			svg.MAX_VIRTUAL_PIXELS = 30000;

			svg.log = function(msg) {};
			if (svg.opts['log'] == true && typeof(console) != 'undefined') {
				svg.log = function(msg) { console.log(msg); };
			};

			// globals
			svg.init = function(ctx) {
				var uniqueId = 0;
				svg.UniqueId = function () { uniqueId++; return 'canvg' + uniqueId;	};
				svg.Definitions = {};
				svg.Styles = {};
				svg.StylesSpecificity = {};
				svg.Animations = [];
				svg.Images = [];
				svg.ctx = ctx;
				svg.ViewPort = new (function () {
					this.viewPorts = [];
					this.Clear = function() { this.viewPorts = []; }
					this.SetCurrent = function(width, height) { this.viewPorts.push({ width: width, height: height }); }
					this.RemoveCurrent = function() { this.viewPorts.pop(); }
					this.Current = function() { return this.viewPorts[this.viewPorts.length - 1]; }
					this.width = function() { return this.Current().width; }
					this.height = function() { return this.Current().height; }
					this.ComputeSize = function(d) {
						if (d != null && typeof(d) == 'number') return d;
						if (d == 'x') return this.width();
						if (d == 'y') return this.height();
						return Math.sqrt(Math.pow(this.width(), 2) + Math.pow(this.height(), 2)) / Math.sqrt(2);
					}
				});
			}
			svg.init();

			// images loaded
			svg.ImagesLoaded = function() {
				for (var i=0; i<svg.Images.length; i++) {
					if (!svg.Images[i].loaded) return false;
				}
				return true;
			}

			// trim
			svg.trim = function(s) { return s.replace(/^\s+|\s+$/g, ''); }

			// compress spaces
			svg.compressSpaces = function(s) { return s.replace(/[\s\r\t\n]+/gm,' '); }

			// ajax
			svg.ajax = function(url) {
				var AJAX;
				if(window.XMLHttpRequest){AJAX=new XMLHttpRequest();}
				else{AJAX=new ActiveXObject('Microsoft.XMLHTTP');}
				if(AJAX){
				   AJAX.open('GET',url,false);
				   AJAX.send(null);
				   return AJAX.responseText;
				}
				return null;
			}

			// parse xml
			svg.parseXml = function(xml) {
				if (typeof(Windows) != 'undefined' && typeof(Windows.Data) != 'undefined' && typeof(Windows.Data.Xml) != 'undefined') {
					var xmlDoc = new Windows.Data.Xml.Dom.XmlDocument();
					var settings = new Windows.Data.Xml.Dom.XmlLoadSettings();
					settings.prohibitDtd = false;
					xmlDoc.loadXml(xml, settings);
					return xmlDoc;
				}
				else if (window.DOMParser)
				{
					var parser = new DOMParser();
					return parser.parseFromString(xml, 'text/xml');
				}
				else
				{
					xml = xml.replace(/<!DOCTYPE svg[^>]*>/, '');
					var xmlDoc = new ActiveXObject('Microsoft.XMLDOM');
					xmlDoc.async = 'false';
					xmlDoc.loadXML(xml);
					return xmlDoc;
				}
			}

			svg.Property = function(name, value) {
				this.name = name;
				this.value = value;
			}
				svg.Property.prototype.getValue = function() {
					return this.value;
				}

				svg.Property.prototype.hasValue = function() {
					return (this.value != null && this.value !== '');
				}

				// return the numerical value of the property
				svg.Property.prototype.numValue = function() {
					if (!this.hasValue()) return 0;

					var n = parseFloat(this.value);
					if ((this.value + '').match(/%$/)) {
						n = n / 100.0;
					}
					return n;
				}

				svg.Property.prototype.valueOrDefault = function(def) {
					if (this.hasValue()) return this.value;
					return def;
				}

				svg.Property.prototype.numValueOrDefault = function(def) {
					if (this.hasValue()) return this.numValue();
					return def;
				}

				// color extensions
					// augment the current color value with the opacity
					svg.Property.prototype.addOpacity = function(opacityProp) {
						var newValue = this.value;
						if (opacityProp.value != null && opacityProp.value != '' && typeof(this.value)=='string') { // can only add opacity to colors, not patterns
							var color = new RGBColor(this.value);
							if (color.ok) {
								newValue = 'rgba(' + color.r + ', ' + color.g + ', ' + color.b + ', ' + opacityProp.numValue() + ')';
							}
						}
						return new svg.Property(this.name, newValue);
					}

				// definition extensions
					// get the definition from the definitions table
					svg.Property.prototype.getDefinition = function() {
						var name = this.value.match(/#([^\)'"]+)/);
						if (name) { name = name[1]; }
						if (!name) { name = this.value; }
						return svg.Definitions[name];
					}

					svg.Property.prototype.isUrlDefinition = function() {
						return this.value.indexOf('url(') == 0
					}

					svg.Property.prototype.getFillStyleDefinition = function(e, opacityProp) {
						var def = this.getDefinition();

						// gradient
						if (def != null && def.createGradient) {
							return def.createGradient(svg.ctx, e, opacityProp);
						}

						// pattern
						if (def != null && def.createPattern) {
							if (def.getHrefAttribute().hasValue()) {
								var pt = def.attribute('patternTransform');
								def = def.getHrefAttribute().getDefinition();
								if (pt.hasValue()) { def.attribute('patternTransform', true).value = pt.value; }
							}
							return def.createPattern(svg.ctx, e);
						}

						return null;
					}

				// length extensions
					svg.Property.prototype.getDPI = function(viewPort) {
						return 96.0; // TODO: compute?
					}

					svg.Property.prototype.getEM = function(viewPort) {
						var em = 12;

						var fontSize = new svg.Property('fontSize', svg.Font.Parse(svg.ctx.font).fontSize);
						if (fontSize.hasValue()) em = fontSize.toPixels(viewPort);

						return em;
					}

					svg.Property.prototype.getUnits = function() {
						var s = this.value+'';
						return s.replace(/[0-9\.\-]/g,'');
					}

					// get the length as pixels
					svg.Property.prototype.toPixels = function(viewPort, processPercent) {
						if (!this.hasValue()) return 0;
						var s = this.value+'';
						if (s.match(/em$/)) return this.numValue() * this.getEM(viewPort);
						if (s.match(/ex$/)) return this.numValue() * this.getEM(viewPort) / 2.0;
						if (s.match(/px$/)) return this.numValue();
						if (s.match(/pt$/)) return this.numValue() * this.getDPI(viewPort) * (1.0 / 72.0);
						if (s.match(/pc$/)) return this.numValue() * 15;
						if (s.match(/cm$/)) return this.numValue() * this.getDPI(viewPort) / 2.54;
						if (s.match(/mm$/)) return this.numValue() * this.getDPI(viewPort) / 25.4;
						if (s.match(/in$/)) return this.numValue() * this.getDPI(viewPort);
						if (s.match(/%$/)) return this.numValue() * svg.ViewPort.ComputeSize(viewPort);
						var n = this.numValue();
						if (processPercent && n < 1.0) return n * svg.ViewPort.ComputeSize(viewPort);
						return n;
					}

				// time extensions
					// get the time as milliseconds
					svg.Property.prototype.toMilliseconds = function() {
						if (!this.hasValue()) return 0;
						var s = this.value+'';
						if (s.match(/s$/)) return this.numValue() * 1000;
						if (s.match(/ms$/)) return this.numValue();
						return this.numValue();
					}

				// angle extensions
					// get the angle as radians
					svg.Property.prototype.toRadians = function() {
						if (!this.hasValue()) return 0;
						var s = this.value+'';
						if (s.match(/deg$/)) return this.numValue() * (Math.PI / 180.0);
						if (s.match(/grad$/)) return this.numValue() * (Math.PI / 200.0);
						if (s.match(/rad$/)) return this.numValue();
						return this.numValue() * (Math.PI / 180.0);
					}

				// text extensions
					// get the text baseline
					var textBaselineMapping = {
						'baseline': 'alphabetic',
						'before-edge': 'top',
						'text-before-edge': 'top',
						'middle': 'middle',
						'central': 'middle',
						'after-edge': 'bottom',
						'text-after-edge': 'bottom',
						'ideographic': 'ideographic',
						'alphabetic': 'alphabetic',
						'hanging': 'hanging',
						'mathematical': 'alphabetic'
					};
					svg.Property.prototype.toTextBaseline = function () {
						if (!this.hasValue()) return null;
						return textBaselineMapping[this.value];
					}

			// fonts
			svg.Font = new (function() {
				this.Styles = 'normal|italic|oblique|inherit';
				this.Variants = 'normal|small-caps|inherit';
				this.Weights = 'normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit';

				this.CreateFont = function(fontStyle, fontVariant, fontWeight, fontSize, fontFamily, inherit) {
					var f = inherit != null ? this.Parse(inherit) : this.CreateFont('', '', '', '', '', svg.ctx.font);
					return {
						fontFamily: fontFamily || f.fontFamily,
						fontSize: fontSize || f.fontSize,
						fontStyle: fontStyle || f.fontStyle,
						fontWeight: fontWeight || f.fontWeight,
						fontVariant: fontVariant || f.fontVariant,
						toString: function () { return [this.fontStyle, this.fontVariant, this.fontWeight, this.fontSize, this.fontFamily].join(' ') }
					}
				}

				var that = this;
				this.Parse = function(s) {
					var f = {};
					var d = svg.trim(svg.compressSpaces(s || '')).split(' ');
					var set = { fontSize: false, fontStyle: false, fontWeight: false, fontVariant: false }
					var ff = '';
					for (var i=0; i<d.length; i++) {
						if (!set.fontStyle && that.Styles.indexOf(d[i]) != -1) { if (d[i] != 'inherit') f.fontStyle = d[i]; set.fontStyle = true; }
						else if (!set.fontVariant && that.Variants.indexOf(d[i]) != -1) { if (d[i] != 'inherit') f.fontVariant = d[i]; set.fontStyle = set.fontVariant = true;	}
						else if (!set.fontWeight && that.Weights.indexOf(d[i]) != -1) {	if (d[i] != 'inherit') f.fontWeight = d[i]; set.fontStyle = set.fontVariant = set.fontWeight = true; }
						else if (!set.fontSize) { if (d[i] != 'inherit') f.fontSize = d[i].split('/')[0]; set.fontStyle = set.fontVariant = set.fontWeight = set.fontSize = true; }
						else { if (d[i] != 'inherit') ff += d[i]; }
					} if (ff != '') f.fontFamily = ff;
					return f;
				}
			});

			// points and paths
			svg.ToNumberArray = function(s) {
				var a = svg.trim(svg.compressSpaces((s || '').replace(/,/g, ' '))).split(' ');
				for (var i=0; i<a.length; i++) {
					a[i] = parseFloat(a[i]);
				}
				return a;
			}
			svg.Point = function(x, y) {
				this.x = x;
				this.y = y;
			}
				svg.Point.prototype.angleTo = function(p) {
					return Math.atan2(p.y - this.y, p.x - this.x);
				}

				svg.Point.prototype.applyTransform = function(v) {
					var xp = this.x * v[0] + this.y * v[2] + v[4];
					var yp = this.x * v[1] + this.y * v[3] + v[5];
					this.x = xp;
					this.y = yp;
				}

			svg.CreatePoint = function(s) {
				var a = svg.ToNumberArray(s);
				return new svg.Point(a[0], a[1]);
			}
			svg.CreatePath = function(s) {
				var a = svg.ToNumberArray(s);
				var path = [];
				for (var i=0; i<a.length; i+=2) {
					path.push(new svg.Point(a[i], a[i+1]));
				}
				return path;
			}

			// bounding box
			svg.BoundingBox = function(x1, y1, x2, y2) { // pass in initial points if you want
				this.x1 = Number.NaN;
				this.y1 = Number.NaN;
				this.x2 = Number.NaN;
				this.y2 = Number.NaN;

				this.x = function() { return this.x1; }
				this.y = function() { return this.y1; }
				this.width = function() { return this.x2 - this.x1; }
				this.height = function() { return this.y2 - this.y1; }

				this.addPoint = function(x, y) {
					if (x != null) {
						if (isNaN(this.x1) || isNaN(this.x2)) {
							this.x1 = x;
							this.x2 = x;
						}
						if (x < this.x1) this.x1 = x;
						if (x > this.x2) this.x2 = x;
					}

					if (y != null) {
						if (isNaN(this.y1) || isNaN(this.y2)) {
							this.y1 = y;
							this.y2 = y;
						}
						if (y < this.y1) this.y1 = y;
						if (y > this.y2) this.y2 = y;
					}
				}
				this.addX = function(x) { this.addPoint(x, null); }
				this.addY = function(y) { this.addPoint(null, y); }

				this.addBoundingBox = function(bb) {
					this.addPoint(bb.x1, bb.y1);
					this.addPoint(bb.x2, bb.y2);
				}

				this.addQuadraticCurve = function(p0x, p0y, p1x, p1y, p2x, p2y) {
					var cp1x = p0x + 2/3 * (p1x - p0x); // CP1 = QP0 + 2/3 *(QP1-QP0)
					var cp1y = p0y + 2/3 * (p1y - p0y); // CP1 = QP0 + 2/3 *(QP1-QP0)
					var cp2x = cp1x + 1/3 * (p2x - p0x); // CP2 = CP1 + 1/3 *(QP2-QP0)
					var cp2y = cp1y + 1/3 * (p2y - p0y); // CP2 = CP1 + 1/3 *(QP2-QP0)
					this.addBezierCurve(p0x, p0y, cp1x, cp2x, cp1y,	cp2y, p2x, p2y);
				}

				this.addBezierCurve = function(p0x, p0y, p1x, p1y, p2x, p2y, p3x, p3y) {
					// from http://blog.hackers-cafe.net/2009/06/how-to-calculate-bezier-curves-bounding.html
					var p0 = [p0x, p0y], p1 = [p1x, p1y], p2 = [p2x, p2y], p3 = [p3x, p3y];
					this.addPoint(p0[0], p0[1]);
					this.addPoint(p3[0], p3[1]);

					for (i=0; i<=1; i++) {
						var f = function(t) {
							return Math.pow(1-t, 3) * p0[i]
							+ 3 * Math.pow(1-t, 2) * t * p1[i]
							+ 3 * (1-t) * Math.pow(t, 2) * p2[i]
							+ Math.pow(t, 3) * p3[i];
						}

						var b = 6 * p0[i] - 12 * p1[i] + 6 * p2[i];
						var a = -3 * p0[i] + 9 * p1[i] - 9 * p2[i] + 3 * p3[i];
						var c = 3 * p1[i] - 3 * p0[i];

						if (a == 0) {
							if (b == 0) continue;
							var t = -c / b;
							if (0 < t && t < 1) {
								if (i == 0) this.addX(f(t));
								if (i == 1) this.addY(f(t));
							}
							continue;
						}

						var b2ac = Math.pow(b, 2) - 4 * c * a;
						if (b2ac < 0) continue;
						var t1 = (-b + Math.sqrt(b2ac)) / (2 * a);
						if (0 < t1 && t1 < 1) {
							if (i == 0) this.addX(f(t1));
							if (i == 1) this.addY(f(t1));
						}
						var t2 = (-b - Math.sqrt(b2ac)) / (2 * a);
						if (0 < t2 && t2 < 1) {
							if (i == 0) this.addX(f(t2));
							if (i == 1) this.addY(f(t2));
						}
					}
				}

				this.isPointInBox = function(x, y) {
					return (this.x1 <= x && x <= this.x2 && this.y1 <= y && y <= this.y2);
				}

				this.addPoint(x1, y1);
				this.addPoint(x2, y2);
			}

			// transforms
			svg.Transform = function(v) {
				var that = this;
				this.Type = {}

				// translate
				this.Type.translate = function(s) {
					this.p = svg.CreatePoint(s);
					this.apply = function(ctx) {
						ctx.translate(this.p.x || 0.0, this.p.y || 0.0);
					}
					this.unapply = function(ctx) {
						ctx.translate(-1.0 * this.p.x || 0.0, -1.0 * this.p.y || 0.0);
					}
					this.applyToPoint = function(p) {
						p.applyTransform([1, 0, 0, 1, this.p.x || 0.0, this.p.y || 0.0]);
					}
				}

				// rotate
				this.Type.rotate = function(s) {
					var a = svg.ToNumberArray(s);
					this.angle = new svg.Property('angle', a[0]);
					this.cx = a[1] || 0;
					this.cy = a[2] || 0;
					this.apply = function(ctx) {
						ctx.translate(this.cx, this.cy);
						ctx.rotate(this.angle.toRadians());
						ctx.translate(-this.cx, -this.cy);
					}
					this.unapply = function(ctx) {
						ctx.translate(this.cx, this.cy);
						ctx.rotate(-1.0 * this.angle.toRadians());
						ctx.translate(-this.cx, -this.cy);
					}
					this.applyToPoint = function(p) {
						var a = this.angle.toRadians();
						p.applyTransform([1, 0, 0, 1, this.p.x || 0.0, this.p.y || 0.0]);
						p.applyTransform([Math.cos(a), Math.sin(a), -Math.sin(a), Math.cos(a), 0, 0]);
						p.applyTransform([1, 0, 0, 1, -this.p.x || 0.0, -this.p.y || 0.0]);
					}
				}

				this.Type.scale = function(s) {
					this.p = svg.CreatePoint(s);
					this.apply = function(ctx) {
						ctx.scale(this.p.x || 1.0, this.p.y || this.p.x || 1.0);
					}
					this.unapply = function(ctx) {
						ctx.scale(1.0 / this.p.x || 1.0, 1.0 / this.p.y || this.p.x || 1.0);
					}
					this.applyToPoint = function(p) {
						p.applyTransform([this.p.x || 0.0, 0, 0, this.p.y || 0.0, 0, 0]);
					}
				}

				this.Type.matrix = function(s) {
					this.m = svg.ToNumberArray(s);
					this.apply = function(ctx) {
						ctx.transform(this.m[0], this.m[1], this.m[2], this.m[3], this.m[4], this.m[5]);
					}
					this.unapply = function(ctx) {
						var a = this.m[0];
						var b = this.m[2];
						var c = this.m[4];
						var d = this.m[1];
						var e = this.m[3];
						var f = this.m[5];
						var g = 0.0;
						var h = 0.0;
						var i = 1.0;
						var det = 1 / (a*(e*i-f*h)-b*(d*i-f*g)+c*(d*h-e*g));
						ctx.transform(
							det*(e*i-f*h),
							det*(f*g-d*i),
							det*(c*h-b*i),
							det*(a*i-c*g),
							det*(b*f-c*e),
							det*(c*d-a*f)
						);
					}
					this.applyToPoint = function(p) {
						p.applyTransform(this.m);
					}
				}

				this.Type.SkewBase = function(s) {
					this.base = that.Type.matrix;
					this.base(s);
					this.angle = new svg.Property('angle', s);
				}
				this.Type.SkewBase.prototype = new this.Type.matrix;

				this.Type.skewX = function(s) {
					this.base = that.Type.SkewBase;
					this.base(s);
					this.m = [1, 0, Math.tan(this.angle.toRadians()), 1, 0, 0];
				}
				this.Type.skewX.prototype = new this.Type.SkewBase;

				this.Type.skewY = function(s) {
					this.base = that.Type.SkewBase;
					this.base(s);
					this.m = [1, Math.tan(this.angle.toRadians()), 0, 1, 0, 0];
				}
				this.Type.skewY.prototype = new this.Type.SkewBase;

				this.transforms = [];

				this.apply = function(ctx) {
					for (var i=0; i<this.transforms.length; i++) {
						this.transforms[i].apply(ctx);
					}
				}

				this.unapply = function(ctx) {
					for (var i=this.transforms.length-1; i>=0; i--) {
						this.transforms[i].unapply(ctx);
					}
				}

				this.applyToPoint = function(p) {
					for (var i=0; i<this.transforms.length; i++) {
						this.transforms[i].applyToPoint(p);
					}
				}

				var data = svg.trim(svg.compressSpaces(v)).replace(/\)([a-zA-Z])/g, ') $1').replace(/\)(\s?,\s?)/g,') ').split(/\s(?=[a-z])/);
				for (var i=0; i<data.length; i++) {
					var type = svg.trim(data[i].split('(')[0]);
					var s = data[i].split('(')[1].replace(')','');
					var transform = new this.Type[type](s);
					transform.type = type;
					this.transforms.push(transform);
				}
			}

			// aspect ratio
			svg.AspectRatio = function(ctx, aspectRatio, width, desiredWidth, height, desiredHeight, minX, minY, refX, refY) {
				// aspect ratio - http://www.w3.org/TR/SVG/coords.html#PreserveAspectRatioAttribute
				aspectRatio = svg.compressSpaces(aspectRatio);
				aspectRatio = aspectRatio.replace(/^defer\s/,''); // ignore defer
				var align = aspectRatio.split(' ')[0] || 'xMidYMid';
				var meetOrSlice = aspectRatio.split(' ')[1] || 'meet';

				// calculate scale
				var scaleX = width / desiredWidth;
				var scaleY = height / desiredHeight;
				var scaleMin = Math.min(scaleX, scaleY);
				var scaleMax = Math.max(scaleX, scaleY);
				if (meetOrSlice == 'meet') { desiredWidth *= scaleMin; desiredHeight *= scaleMin; }
				if (meetOrSlice == 'slice') { desiredWidth *= scaleMax; desiredHeight *= scaleMax; }

				refX = new svg.Property('refX', refX);
				refY = new svg.Property('refY', refY);
				if (refX.hasValue() && refY.hasValue()) {
					ctx.translate(-scaleMin * refX.toPixels('x'), -scaleMin * refY.toPixels('y'));
				}
				else {
					// align
					if (align.match(/^xMid/) && ((meetOrSlice == 'meet' && scaleMin == scaleY) || (meetOrSlice == 'slice' && scaleMax == scaleY))) ctx.translate(width / 2.0 - desiredWidth / 2.0, 0);
					if (align.match(/YMid$/) && ((meetOrSlice == 'meet' && scaleMin == scaleX) || (meetOrSlice == 'slice' && scaleMax == scaleX))) ctx.translate(0, height / 2.0 - desiredHeight / 2.0);
					if (align.match(/^xMax/) && ((meetOrSlice == 'meet' && scaleMin == scaleY) || (meetOrSlice == 'slice' && scaleMax == scaleY))) ctx.translate(width - desiredWidth, 0);
					if (align.match(/YMax$/) && ((meetOrSlice == 'meet' && scaleMin == scaleX) || (meetOrSlice == 'slice' && scaleMax == scaleX))) ctx.translate(0, height - desiredHeight);
				}

				// scale
				if (align == 'none') ctx.scale(scaleX, scaleY);
				else if (meetOrSlice == 'meet') ctx.scale(scaleMin, scaleMin);
				else if (meetOrSlice == 'slice') ctx.scale(scaleMax, scaleMax);

				// translate
				ctx.translate(minX == null ? 0 : -minX, minY == null ? 0 : -minY);
			}

			// elements
			svg.Element = {}

			svg.EmptyProperty = new svg.Property('EMPTY', '');

			svg.Element.ElementBase = function(node) {
				this.attributes = {};
				this.styles = {};
				this.stylesSpecificity = {};
				this.children = [];

				// get or create attribute
				this.attribute = function(name, createIfNotExists) {
					var a = this.attributes[name];
					if (a != null) return a;

					if (createIfNotExists == true) { a = new svg.Property(name, ''); this.attributes[name] = a; }
					return a || svg.EmptyProperty;
				}

				this.getHrefAttribute = function() {
					for (var a in this.attributes) {
						if (a == 'href' || a.match(/:href$/)) {
							return this.attributes[a];
						}
					}
					return svg.EmptyProperty;
				}

				// get or create style, crawls up node tree
				this.style = function(name, createIfNotExists, skipAncestors) {
					var s = this.styles[name];
					if (s != null) return s;

					var a = this.attribute(name);
					if (a != null && a.hasValue()) {
						this.styles[name] = a; // move up to me to cache
						return a;
					}

					if (skipAncestors != true) {
						var p = this.parent;
						if (p != null) {
							var ps = p.style(name);
							if (ps != null && ps.hasValue()) {
								return ps;
							}
						}
					}

					if (createIfNotExists == true) { s = new svg.Property(name, ''); this.styles[name] = s; }
					return s || svg.EmptyProperty;
				}

				// base render
				this.render = function(ctx) {
					// don't render display=none
					if (this.style('display').value == 'none') return;

					// don't render visibility=hidden
					if (this.style('visibility').value == 'hidden') return;

					ctx.save();
					if (this.attribute('mask').hasValue()) { // mask
						var mask = this.attribute('mask').getDefinition();
						if (mask != null) mask.apply(ctx, this);
					}
					else if (this.style('filter').hasValue()) { // filter
						var filter = this.style('filter').getDefinition();
						if (filter != null) filter.apply(ctx, this);
					}
					else {
						this.setContext(ctx);
						this.renderChildren(ctx);
						this.clearContext(ctx);
					}
					ctx.restore();
				}

				// base set context
				this.setContext = function(ctx) {
					// OVERRIDE ME!
				}

				// base clear context
				this.clearContext = function(ctx) {
					// OVERRIDE ME!
				}

				// base render children
				this.renderChildren = function(ctx) {
					for (var i=0; i<this.children.length; i++) {
						this.children[i].render(ctx);
					}
				}

				this.addChild = function(childNode, create) {
					var child = childNode;
					if (create) child = svg.CreateElement(childNode);
					child.parent = this;
					if (child.type != 'title') { this.children.push(child);	}
				}
				
				this.addStylesFromStyleDefinition = function () {
					// add styles
					for (var selector in svg.Styles) {
						if (selector[0] != '@' && matchesSelector(node, selector)) {
							var styles = svg.Styles[selector];
							var specificity = svg.StylesSpecificity[selector];
							if (styles != null) {
								for (var name in styles) {
									var existingSpecificity = this.stylesSpecificity[name];
									if (typeof(existingSpecificity) == 'undefined') {
										existingSpecificity = '000';
									}
									if (specificity > existingSpecificity) {
										this.styles[name] = styles[name];
										this.stylesSpecificity[name] = specificity;
									}
								}
							}
						}
					}
				};

				if (node != null && node.nodeType == 1) { //ELEMENT_NODE
					// add attributes
					for (var i=0; i<node.attributes.length; i++) {
						var attribute = node.attributes[i];
						this.attributes[attribute.nodeName] = new svg.Property(attribute.nodeName, attribute.value);
					}
					
					this.addStylesFromStyleDefinition();

					// add inline styles
					if (this.attribute('style').hasValue()) {
						var styles = this.attribute('style').value.split(';');
						for (var i=0; i<styles.length; i++) {
							if (svg.trim(styles[i]) != '') {
								var style = styles[i].split(':');
								var name = svg.trim(style[0]);
								var value = svg.trim(style[1]);
								this.styles[name] = new svg.Property(name, value);
							}
						}
					}

					// add id
					if (this.attribute('id').hasValue()) {
						if (svg.Definitions[this.attribute('id').value] == null) {
							svg.Definitions[this.attribute('id').value] = this;
						}
					}

					// add children
					for (var i=0; i<node.childNodes.length; i++) {
						var childNode = node.childNodes[i];
						if (childNode.nodeType == 1) this.addChild(childNode, true); //ELEMENT_NODE
						if (this.captureTextNodes && (childNode.nodeType == 3 || childNode.nodeType == 4)) {
							var text = childNode.value || childNode.text || childNode.textContent || '';
							if (svg.compressSpaces(text) != '') {
								this.addChild(new svg.Element.tspan(childNode), false); // TEXT_NODE
							}
						}
					}
				}
			}

			svg.Element.RenderedElementBase = function(node) {
				this.base = svg.Element.ElementBase;
				this.base(node);

				this.setContext = function(ctx) {
					// fill
					if (this.style('fill').isUrlDefinition()) {
						var fs = this.style('fill').getFillStyleDefinition(this, this.style('fill-opacity'));
						if (fs != null) ctx.fillStyle = fs;
					}
					else if (this.style('fill').hasValue()) {
						var fillStyle = this.style('fill');
						if (fillStyle.value == 'currentColor') fillStyle.value = this.style('color').value;
						if (fillStyle.value != 'inherit') ctx.fillStyle = (fillStyle.value == 'none' ? 'rgba(0,0,0,0)' : fillStyle.value);
					}
					if (this.style('fill-opacity').hasValue()) {
						var fillStyle = new svg.Property('fill', ctx.fillStyle);
						fillStyle = fillStyle.addOpacity(this.style('fill-opacity'));
						ctx.fillStyle = fillStyle.value;
					}

					// stroke
					if (this.style('stroke').isUrlDefinition()) {
						var fs = this.style('stroke').getFillStyleDefinition(this, this.style('stroke-opacity'));
						if (fs != null) ctx.strokeStyle = fs;
					}
					else if (this.style('stroke').hasValue()) {
						var strokeStyle = this.style('stroke');
						if (strokeStyle.value == 'currentColor') strokeStyle.value = this.style('color').value;
						if (strokeStyle.value != 'inherit') ctx.strokeStyle = (strokeStyle.value == 'none' ? 'rgba(0,0,0,0)' : strokeStyle.value);
					}
					if (this.style('stroke-opacity').hasValue()) {
						var strokeStyle = new svg.Property('stroke', ctx.strokeStyle);
						strokeStyle = strokeStyle.addOpacity(this.style('stroke-opacity'));
						ctx.strokeStyle = strokeStyle.value;
					}
					if (this.style('stroke-width').hasValue()) {
						var newLineWidth = this.style('stroke-width').toPixels();
						ctx.lineWidth = newLineWidth == 0 ? 0.001 : newLineWidth; // browsers don't respect 0
				    }
					if (this.style('stroke-linecap').hasValue()) ctx.lineCap = this.style('stroke-linecap').value;
					if (this.style('stroke-linejoin').hasValue()) ctx.lineJoin = this.style('stroke-linejoin').value;
					if (this.style('stroke-miterlimit').hasValue()) ctx.miterLimit = this.style('stroke-miterlimit').value;
					if (this.style('stroke-dasharray').hasValue() && this.style('stroke-dasharray').value != 'none') {
						var gaps = svg.ToNumberArray(this.style('stroke-dasharray').value);
						if (typeof(ctx.setLineDash) != 'undefined') { ctx.setLineDash(gaps); }
						else if (typeof(ctx.webkitLineDash) != 'undefined') { ctx.webkitLineDash = gaps; }
						else if (typeof(ctx.mozDash) != 'undefined' && !(gaps.length==1 && gaps[0]==0)) { ctx.mozDash = gaps; }

						var offset = this.style('stroke-dashoffset').numValueOrDefault(1);
						if (typeof(ctx.lineDashOffset) != 'undefined') { ctx.lineDashOffset = offset; }
						else if (typeof(ctx.webkitLineDashOffset) != 'undefined') { ctx.webkitLineDashOffset = offset; }
						else if (typeof(ctx.mozDashOffset) != 'undefined') { ctx.mozDashOffset = offset; }
					}

					// font
					if (typeof(ctx.font) != 'undefined') {
						ctx.font = svg.Font.CreateFont(
							this.style('font-style').value,
							this.style('font-variant').value,
							this.style('font-weight').value,
							this.style('font-size').hasValue() ? this.style('font-size').toPixels() + 'px' : '',
							this.style('font-family').value).toString();
					}

					// transform
					if (this.style('transform', false, true).hasValue()) {
						var transform = new svg.Transform(this.style('transform', false, true).value);
						transform.apply(ctx);
					}

					// clip
					if (this.attribute('clip-path', false, true).hasValue()) {
						var clip = this.attribute('clip-path', false, true).getDefinition();
						if (clip != null) clip.apply(ctx);
					}

					// opacity
					if (this.style('opacity').hasValue()) {
						ctx.globalAlpha = this.style('opacity').numValue();
					}
				}
			}
			svg.Element.RenderedElementBase.prototype = new svg.Element.ElementBase;

			svg.Element.PathElementBase = function(node) {
				this.base = svg.Element.RenderedElementBase;
				this.base(node);

				this.path = function(ctx) {
					if (ctx != null) ctx.beginPath();
					return new svg.BoundingBox();
				}

				this.renderChildren = function(ctx) {
					this.path(ctx);
					svg.Mouse.checkPath(this, ctx);
					if (ctx.fillStyle != '') {
						if (this.style('fill-rule').valueOrDefault('inherit') != 'inherit') { ctx.fill(this.style('fill-rule').value); }
						else { ctx.fill(); }
					}
					if (ctx.strokeStyle != '') ctx.stroke();

					var markers = this.getMarkers();
					if (markers != null) {
						if (this.style('marker-start').isUrlDefinition()) {
							var marker = this.style('marker-start').getDefinition();
							marker.render(ctx, markers[0][0], markers[0][1]);
						}
						if (this.style('marker-mid').isUrlDefinition()) {
							var marker = this.style('marker-mid').getDefinition();
							for (var i=1;i<markers.length-1;i++) {
								marker.render(ctx, markers[i][0], markers[i][1]);
							}
						}
						if (this.style('marker-end').isUrlDefinition()) {
							var marker = this.style('marker-end').getDefinition();
							marker.render(ctx, markers[markers.length-1][0], markers[markers.length-1][1]);
						}
					}
				}

				this.getBoundingBox = function() {
					return this.path();
				}

				this.getMarkers = function() {
					return null;
				}
			}
			svg.Element.PathElementBase.prototype = new svg.Element.RenderedElementBase;

			// svg element
			svg.Element.svg = function(node) {
				this.base = svg.Element.RenderedElementBase;
				this.base(node);

				this.baseClearContext = this.clearContext;
				this.clearContext = function(ctx) {
					this.baseClearContext(ctx);
					svg.ViewPort.RemoveCurrent();
				}

				this.baseSetContext = this.setContext;
				this.setContext = function(ctx) {
					// initial values and defaults
					ctx.strokeStyle = 'rgba(0,0,0,0)';
					ctx.lineCap = 'butt';
					ctx.lineJoin = 'miter';
					ctx.miterLimit = 4;
					if (typeof(ctx.font) != 'undefined' && typeof(window.getComputedStyle) != 'undefined') {
						ctx.font = window.getComputedStyle(ctx.canvas).getPropertyValue('font');
					}

					this.baseSetContext(ctx);

					// create new view port
					if (!this.attribute('x').hasValue()) this.attribute('x', true).value = 0;
					if (!this.attribute('y').hasValue()) this.attribute('y', true).value = 0;
					ctx.translate(this.attribute('x').toPixels('x'), this.attribute('y').toPixels('y'));

					var width = svg.ViewPort.width();
					var height = svg.ViewPort.height();

					if (!this.attribute('width').hasValue()) this.attribute('width', true).value = '100%';
					if (!this.attribute('height').hasValue()) this.attribute('height', true).value = '100%';
					if (typeof(this.root) == 'undefined') {
						width = this.attribute('width').toPixels('x');
						height = this.attribute('height').toPixels('y');

						var x = 0;
						var y = 0;
						if (this.attribute('refX').hasValue() && this.attribute('refY').hasValue()) {
							x = -this.attribute('refX').toPixels('x');
							y = -this.attribute('refY').toPixels('y');
						}

						if (this.attribute('overflow').valueOrDefault('hidden') != 'visible') {
							ctx.beginPath();
							ctx.moveTo(x, y);
							ctx.lineTo(width, y);
							ctx.lineTo(width, height);
							ctx.lineTo(x, height);
							ctx.closePath();
							ctx.clip();
						}
					}
					svg.ViewPort.SetCurrent(width, height);

					// viewbox
					if (this.attribute('viewBox').hasValue()) {
						var viewBox = svg.ToNumberArray(this.attribute('viewBox').value);
						var minX = viewBox[0];
						var minY = viewBox[1];
						width = viewBox[2];
						height = viewBox[3];

						svg.AspectRatio(ctx,
										this.attribute('preserveAspectRatio').value,
										svg.ViewPort.width(),
										width,
										svg.ViewPort.height(),
										height,
										minX,
										minY,
										this.attribute('refX').value,
										this.attribute('refY').value);

						svg.ViewPort.RemoveCurrent();
						svg.ViewPort.SetCurrent(viewBox[2], viewBox[3]);
					}
				}
			}
			svg.Element.svg.prototype = new svg.Element.RenderedElementBase;

			// rect element
			svg.Element.rect = function(node) {
				this.base = svg.Element.PathElementBase;
				this.base(node);

				this.path = function(ctx) {
					var x = this.attribute('x').toPixels('x');
					var y = this.attribute('y').toPixels('y');
					var width = this.attribute('width').toPixels('x');
					var height = this.attribute('height').toPixels('y');
					var rx = this.attribute('rx').toPixels('x');
					var ry = this.attribute('ry').toPixels('y');
					if (this.attribute('rx').hasValue() && !this.attribute('ry').hasValue()) ry = rx;
					if (this.attribute('ry').hasValue() && !this.attribute('rx').hasValue()) rx = ry;
					rx = Math.min(rx, width / 2.0);
					ry = Math.min(ry, height / 2.0);
					if (ctx != null) {
						ctx.beginPath();
						ctx.moveTo(x + rx, y);
						ctx.lineTo(x + width - rx, y);
						ctx.quadraticCurveTo(x + width, y, x + width, y + ry)
						ctx.lineTo(x + width, y + height - ry);
						ctx.quadraticCurveTo(x + width, y + height, x + width - rx, y + height)
						ctx.lineTo(x + rx, y + height);
						ctx.quadraticCurveTo(x, y + height, x, y + height - ry)
						ctx.lineTo(x, y + ry);
						ctx.quadraticCurveTo(x, y, x + rx, y)
						ctx.closePath();
					}

					return new svg.BoundingBox(x, y, x + width, y + height);
				}
			}
			svg.Element.rect.prototype = new svg.Element.PathElementBase;

			// circle element
			svg.Element.circle = function(node) {
				this.base = svg.Element.PathElementBase;
				this.base(node);

				this.path = function(ctx) {
					var cx = this.attribute('cx').toPixels('x');
					var cy = this.attribute('cy').toPixels('y');
					var r = this.attribute('r').toPixels();

					if (ctx != null) {
						ctx.beginPath();
						ctx.arc(cx, cy, r, 0, Math.PI * 2, true);
						ctx.closePath();
					}

					return new svg.BoundingBox(cx - r, cy - r, cx + r, cy + r);
				}
			}
			svg.Element.circle.prototype = new svg.Element.PathElementBase;

			// ellipse element
			svg.Element.ellipse = function(node) {
				this.base = svg.Element.PathElementBase;
				this.base(node);

				this.path = function(ctx) {
					var KAPPA = 4 * ((Math.sqrt(2) - 1) / 3);
					var rx = this.attribute('rx').toPixels('x');
					var ry = this.attribute('ry').toPixels('y');
					var cx = this.attribute('cx').toPixels('x');
					var cy = this.attribute('cy').toPixels('y');

					if (ctx != null) {
						ctx.beginPath();
						ctx.moveTo(cx, cy - ry);
						ctx.bezierCurveTo(cx + (KAPPA * rx), cy - ry,  cx + rx, cy - (KAPPA * ry), cx + rx, cy);
						ctx.bezierCurveTo(cx + rx, cy + (KAPPA * ry), cx + (KAPPA * rx), cy + ry, cx, cy + ry);
						ctx.bezierCurveTo(cx - (KAPPA * rx), cy + ry, cx - rx, cy + (KAPPA * ry), cx - rx, cy);
						ctx.bezierCurveTo(cx - rx, cy - (KAPPA * ry), cx - (KAPPA * rx), cy - ry, cx, cy - ry);
						ctx.closePath();
					}

					return new svg.BoundingBox(cx - rx, cy - ry, cx + rx, cy + ry);
				}
			}
			svg.Element.ellipse.prototype = new svg.Element.PathElementBase;

			// line element
			svg.Element.line = function(node) {
				this.base = svg.Element.PathElementBase;
				this.base(node);

				this.getPoints = function() {
					return [
						new svg.Point(this.attribute('x1').toPixels('x'), this.attribute('y1').toPixels('y')),
						new svg.Point(this.attribute('x2').toPixels('x'), this.attribute('y2').toPixels('y'))];
				}

				this.path = function(ctx) {
					var points = this.getPoints();

					if (ctx != null) {
						ctx.beginPath();
						ctx.moveTo(points[0].x, points[0].y);
						ctx.lineTo(points[1].x, points[1].y);
					}

					return new svg.BoundingBox(points[0].x, points[0].y, points[1].x, points[1].y);
				}

				this.getMarkers = function() {
					var points = this.getPoints();
					var a = points[0].angleTo(points[1]);
					return [[points[0], a], [points[1], a]];
				}
			}
			svg.Element.line.prototype = new svg.Element.PathElementBase;

			// polyline element
			svg.Element.polyline = function(node) {
				this.base = svg.Element.PathElementBase;
				this.base(node);

				this.points = svg.CreatePath(this.attribute('points').value);
				this.path = function(ctx) {
					var bb = new svg.BoundingBox(this.points[0].x, this.points[0].y);
					if (ctx != null) {
						ctx.beginPath();
						ctx.moveTo(this.points[0].x, this.points[0].y);
					}
					for (var i=1; i<this.points.length; i++) {
						bb.addPoint(this.points[i].x, this.points[i].y);
						if (ctx != null) ctx.lineTo(this.points[i].x, this.points[i].y);
					}
					return bb;
				}

				this.getMarkers = function() {
					var markers = [];
					for (var i=0; i<this.points.length - 1; i++) {
						markers.push([this.points[i], this.points[i].angleTo(this.points[i+1])]);
					}
					markers.push([this.points[this.points.length-1], markers[markers.length-1][1]]);
					return markers;
				}
			}
			svg.Element.polyline.prototype = new svg.Element.PathElementBase;

			// polygon element
			svg.Element.polygon = function(node) {
				this.base = svg.Element.polyline;
				this.base(node);

				this.basePath = this.path;
				this.path = function(ctx) {
					var bb = this.basePath(ctx);
					if (ctx != null) {
						ctx.lineTo(this.points[0].x, this.points[0].y);
						ctx.closePath();
					}
					return bb;
				}
			}
			svg.Element.polygon.prototype = new svg.Element.polyline;

			// path element
			svg.Element.path = function(node) {
				this.base = svg.Element.PathElementBase;
				this.base(node);

				var d = this.attribute('d').value;
				// TODO: convert to real lexer based on http://www.w3.org/TR/SVG11/paths.html#PathDataBNF
				d = d.replace(/,/gm,' '); // get rid of all commas
				// As the end of a match can also be the start of the next match, we need to run this replace twice.
				for(var i=0; i<2; i++)
					d = d.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,'$1 $2'); // suffix commands with spaces
				d = d.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,'$1 $2'); // prefix commands with spaces
				d = d.replace(/([0-9])([+\-])/gm,'$1 $2'); // separate digits on +- signs
				// Again, we need to run this twice to find all occurances
				for(var i=0; i<2; i++)
					d = d.replace(/(\.[0-9]*)(\.)/gm,'$1 $2'); // separate digits when they start with a comma
				d = d.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,'$1 $3 $4 '); // shorthand elliptical arc path syntax
				d = svg.compressSpaces(d); // compress multiple spaces
				d = svg.trim(d);
				this.PathParser = new (function(d) {
					this.tokens = d.split(' ');

					this.reset = function() {
						this.i = -1;
						this.command = '';
						this.previousCommand = '';
						this.start = new svg.Point(0, 0);
						this.control = new svg.Point(0, 0);
						this.current = new svg.Point(0, 0);
						this.points = [];
						this.angles = [];
					}

					this.isEnd = function() {
						return this.i >= this.tokens.length - 1;
					}

					this.isCommandOrEnd = function() {
						if (this.isEnd()) return true;
						return this.tokens[this.i + 1].match(/^[A-Za-z]$/) != null;
					}

					this.isRelativeCommand = function() {
						switch(this.command)
						{
							case 'm':
							case 'l':
							case 'h':
							case 'v':
							case 'c':
							case 's':
							case 'q':
							case 't':
							case 'a':
							case 'z':
								return true;
								break;
						}
						return false;
					}

					this.getToken = function() {
						this.i++;
						return this.tokens[this.i];
					}

					this.getScalar = function() {
						return parseFloat(this.getToken());
					}

					this.nextCommand = function() {
						this.previousCommand = this.command;
						this.command = this.getToken();
					}

					this.getPoint = function() {
						var p = new svg.Point(this.getScalar(), this.getScalar());
						return this.makeAbsolute(p);
					}

					this.getAsControlPoint = function() {
						var p = this.getPoint();
						this.control = p;
						return p;
					}

					this.getAsCurrentPoint = function() {
						var p = this.getPoint();
						this.current = p;
						return p;
					}

					this.getReflectedControlPoint = function() {
						if (this.previousCommand.toLowerCase() != 'c' &&
						    this.previousCommand.toLowerCase() != 's' &&
							this.previousCommand.toLowerCase() != 'q' &&
							this.previousCommand.toLowerCase() != 't' ){
							return this.current;
						}

						// reflect point
						var p = new svg.Point(2 * this.current.x - this.control.x, 2 * this.current.y - this.control.y);
						return p;
					}

					this.makeAbsolute = function(p) {
						if (this.isRelativeCommand()) {
							p.x += this.current.x;
							p.y += this.current.y;
						}
						return p;
					}

					this.addMarker = function(p, from, priorTo) {
						// if the last angle isn't filled in because we didn't have this point yet ...
						if (priorTo != null && this.angles.length > 0 && this.angles[this.angles.length-1] == null) {
							this.angles[this.angles.length-1] = this.points[this.points.length-1].angleTo(priorTo);
						}
						this.addMarkerAngle(p, from == null ? null : from.angleTo(p));
					}

					this.addMarkerAngle = function(p, a) {
						this.points.push(p);
						this.angles.push(a);
					}

					this.getMarkerPoints = function() { return this.points; }
					this.getMarkerAngles = function() {
						for (var i=0; i<this.angles.length; i++) {
							if (this.angles[i] == null) {
								for (var j=i+1; j<this.angles.length; j++) {
									if (this.angles[j] != null) {
										this.angles[i] = this.angles[j];
										break;
									}
								}
							}
						}
						return this.angles;
					}
				})(d);

				this.path = function(ctx) {
					var pp = this.PathParser;
					pp.reset();

					var bb = new svg.BoundingBox();
					if (ctx != null) ctx.beginPath();
					while (!pp.isEnd()) {
						pp.nextCommand();
						switch (pp.command) {
						case 'M':
						case 'm':
							var p = pp.getAsCurrentPoint();
							pp.addMarker(p);
							bb.addPoint(p.x, p.y);
							if (ctx != null) ctx.moveTo(p.x, p.y);
							pp.start = pp.current;
							while (!pp.isCommandOrEnd()) {
								var p = pp.getAsCurrentPoint();
								pp.addMarker(p, pp.start);
								bb.addPoint(p.x, p.y);
								if (ctx != null) ctx.lineTo(p.x, p.y);
							}
							break;
						case 'L':
						case 'l':
							while (!pp.isCommandOrEnd()) {
								var c = pp.current;
								var p = pp.getAsCurrentPoint();
								pp.addMarker(p, c);
								bb.addPoint(p.x, p.y);
								if (ctx != null) ctx.lineTo(p.x, p.y);
							}
							break;
						case 'H':
						case 'h':
							while (!pp.isCommandOrEnd()) {
								var newP = new svg.Point((pp.isRelativeCommand() ? pp.current.x : 0) + pp.getScalar(), pp.current.y);
								pp.addMarker(newP, pp.current);
								pp.current = newP;
								bb.addPoint(pp.current.x, pp.current.y);
								if (ctx != null) ctx.lineTo(pp.current.x, pp.current.y);
							}
							break;
						case 'V':
						case 'v':
							while (!pp.isCommandOrEnd()) {
								var newP = new svg.Point(pp.current.x, (pp.isRelativeCommand() ? pp.current.y : 0) + pp.getScalar());
								pp.addMarker(newP, pp.current);
								pp.current = newP;
								bb.addPoint(pp.current.x, pp.current.y);
								if (ctx != null) ctx.lineTo(pp.current.x, pp.current.y);
							}
							break;
						case 'C':
						case 'c':
							while (!pp.isCommandOrEnd()) {
								var curr = pp.current;
								var p1 = pp.getPoint();
								var cntrl = pp.getAsControlPoint();
								var cp = pp.getAsCurrentPoint();
								pp.addMarker(cp, cntrl, p1);
								bb.addBezierCurve(curr.x, curr.y, p1.x, p1.y, cntrl.x, cntrl.y, cp.x, cp.y);
								if (ctx != null) ctx.bezierCurveTo(p1.x, p1.y, cntrl.x, cntrl.y, cp.x, cp.y);
							}
							break;
						case 'S':
						case 's':
							while (!pp.isCommandOrEnd()) {
								var curr = pp.current;
								var p1 = pp.getReflectedControlPoint();
								var cntrl = pp.getAsControlPoint();
								var cp = pp.getAsCurrentPoint();
								pp.addMarker(cp, cntrl, p1);
								bb.addBezierCurve(curr.x, curr.y, p1.x, p1.y, cntrl.x, cntrl.y, cp.x, cp.y);
								if (ctx != null) ctx.bezierCurveTo(p1.x, p1.y, cntrl.x, cntrl.y, cp.x, cp.y);
							}
							break;
						case 'Q':
						case 'q':
							while (!pp.isCommandOrEnd()) {
								var curr = pp.current;
								var cntrl = pp.getAsControlPoint();
								var cp = pp.getAsCurrentPoint();
								pp.addMarker(cp, cntrl, cntrl);
								bb.addQuadraticCurve(curr.x, curr.y, cntrl.x, cntrl.y, cp.x, cp.y);
								if (ctx != null) ctx.quadraticCurveTo(cntrl.x, cntrl.y, cp.x, cp.y);
							}
							break;
						case 'T':
						case 't':
							while (!pp.isCommandOrEnd()) {
								var curr = pp.current;
								var cntrl = pp.getReflectedControlPoint();
								pp.control = cntrl;
								var cp = pp.getAsCurrentPoint();
								pp.addMarker(cp, cntrl, cntrl);
								bb.addQuadraticCurve(curr.x, curr.y, cntrl.x, cntrl.y, cp.x, cp.y);
								if (ctx != null) ctx.quadraticCurveTo(cntrl.x, cntrl.y, cp.x, cp.y);
							}
							break;
						case 'A':
						case 'a':
							while (!pp.isCommandOrEnd()) {
							    var curr = pp.current;
								var rx = pp.getScalar();
								var ry = pp.getScalar();
								var xAxisRotation = pp.getScalar() * (Math.PI / 180.0);
								var largeArcFlag = pp.getScalar();
								var sweepFlag = pp.getScalar();
								var cp = pp.getAsCurrentPoint();

								// Conversion from endpoint to center parameterization
								// http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes
								// x1', y1'
								var currp = new svg.Point(
									Math.cos(xAxisRotation) * (curr.x - cp.x) / 2.0 + Math.sin(xAxisRotation) * (curr.y - cp.y) / 2.0,
									-Math.sin(xAxisRotation) * (curr.x - cp.x) / 2.0 + Math.cos(xAxisRotation) * (curr.y - cp.y) / 2.0
								);
								// adjust radii
								var l = Math.pow(currp.x,2)/Math.pow(rx,2)+Math.pow(currp.y,2)/Math.pow(ry,2);
								if (l > 1) {
									rx *= Math.sqrt(l);
									ry *= Math.sqrt(l);
								}
								// cx', cy'
								var s = (largeArcFlag == sweepFlag ? -1 : 1) * Math.sqrt(
									((Math.pow(rx,2)*Math.pow(ry,2))-(Math.pow(rx,2)*Math.pow(currp.y,2))-(Math.pow(ry,2)*Math.pow(currp.x,2))) /
									(Math.pow(rx,2)*Math.pow(currp.y,2)+Math.pow(ry,2)*Math.pow(currp.x,2))
								);
								if (isNaN(s)) s = 0;
								var cpp = new svg.Point(s * rx * currp.y / ry, s * -ry * currp.x / rx);
								// cx, cy
								var centp = new svg.Point(
									(curr.x + cp.x) / 2.0 + Math.cos(xAxisRotation) * cpp.x - Math.sin(xAxisRotation) * cpp.y,
									(curr.y + cp.y) / 2.0 + Math.sin(xAxisRotation) * cpp.x + Math.cos(xAxisRotation) * cpp.y
								);
								// vector magnitude
								var m = function(v) { return Math.sqrt(Math.pow(v[0],2) + Math.pow(v[1],2)); }
								// ratio between two vectors
								var r = function(u, v) { return (u[0]*v[0]+u[1]*v[1]) / (m(u)*m(v)) }
								// angle between two vectors
								var a = function(u, v) { return (u[0]*v[1] < u[1]*v[0] ? -1 : 1) * Math.acos(r(u,v)); }
								// initial angle
								var a1 = a([1,0], [(currp.x-cpp.x)/rx,(currp.y-cpp.y)/ry]);
								// angle delta
								var u = [(currp.x-cpp.x)/rx,(currp.y-cpp.y)/ry];
								var v = [(-currp.x-cpp.x)/rx,(-currp.y-cpp.y)/ry];
								var ad = a(u, v);
								if (r(u,v) <= -1) ad = Math.PI;
								if (r(u,v) >= 1) ad = 0;

								// for markers
								var dir = 1 - sweepFlag ? 1.0 : -1.0;
								var ah = a1 + dir * (ad / 2.0);
								var halfWay = new svg.Point(
									centp.x + rx * Math.cos(ah),
									centp.y + ry * Math.sin(ah)
								);
								pp.addMarkerAngle(halfWay, ah - dir * Math.PI / 2);
								pp.addMarkerAngle(cp, ah - dir * Math.PI);

								bb.addPoint(cp.x, cp.y); // TODO: this is too naive, make it better
								if (ctx != null) {
									var r = rx > ry ? rx : ry;
									var sx = rx > ry ? 1 : rx / ry;
									var sy = rx > ry ? ry / rx : 1;

									ctx.translate(centp.x, centp.y);
									ctx.rotate(xAxisRotation);
									ctx.scale(sx, sy);
									ctx.arc(0, 0, r, a1, a1 + ad, 1 - sweepFlag);
									ctx.scale(1/sx, 1/sy);
									ctx.rotate(-xAxisRotation);
									ctx.translate(-centp.x, -centp.y);
								}
							}
							break;
						case 'Z':
						case 'z':
							if (ctx != null) ctx.closePath();
							pp.current = pp.start;
						}
					}

					return bb;
				}

				this.getMarkers = function() {
					var points = this.PathParser.getMarkerPoints();
					var angles = this.PathParser.getMarkerAngles();

					var markers = [];
					for (var i=0; i<points.length; i++) {
						markers.push([points[i], angles[i]]);
					}
					return markers;
				}
			}
			svg.Element.path.prototype = new svg.Element.PathElementBase;

			// pattern element
			svg.Element.pattern = function(node) {
				this.base = svg.Element.ElementBase;
				this.base(node);

				this.createPattern = function(ctx, element) {
					var width = this.attribute('width').toPixels('x', true);
					var height = this.attribute('height').toPixels('y', true);

					// render me using a temporary svg element
					var tempSvg = new svg.Element.svg();
					tempSvg.attributes['viewBox'] = new svg.Property('viewBox', this.attribute('viewBox').value);
					tempSvg.attributes['width'] = new svg.Property('width', width + 'px');
					tempSvg.attributes['height'] = new svg.Property('height', height + 'px');
					tempSvg.attributes['transform'] = new svg.Property('transform', this.attribute('patternTransform').value);
					tempSvg.children = this.children;

					var c = document.createElement('canvas');
					c.width = width;
					c.height = height;
					var cctx = c.getContext('2d');
					if (this.attribute('x').hasValue() && this.attribute('y').hasValue()) {
						cctx.translate(this.attribute('x').toPixels('x', true), this.attribute('y').toPixels('y', true));
					}
					// render 3x3 grid so when we transform there's no white space on edges
					for (var x=-1; x<=1; x++) {
						for (var y=-1; y<=1; y++) {
							cctx.save();
							tempSvg.attributes['x'] = new svg.Property('x', x * c.width);
							tempSvg.attributes['y'] = new svg.Property('y', y * c.height);
							tempSvg.render(cctx);
							cctx.restore();
						}
					}
					var pattern = ctx.createPattern(c, 'repeat');
					return pattern;
				}
			}
			svg.Element.pattern.prototype = new svg.Element.ElementBase;

			// marker element
			svg.Element.marker = function(node) {
				this.base = svg.Element.ElementBase;
				this.base(node);

				this.baseRender = this.render;
				this.render = function(ctx, point, angle) {
					ctx.translate(point.x, point.y);
					if (this.attribute('orient').valueOrDefault('auto') == 'auto') ctx.rotate(angle);
					if (this.attribute('markerUnits').valueOrDefault('strokeWidth') == 'strokeWidth') ctx.scale(ctx.lineWidth, ctx.lineWidth);
					ctx.save();

					// render me using a temporary svg element
					var tempSvg = new svg.Element.svg();
					tempSvg.attributes['viewBox'] = new svg.Property('viewBox', this.attribute('viewBox').value);
					tempSvg.attributes['refX'] = new svg.Property('refX', this.attribute('refX').value);
					tempSvg.attributes['refY'] = new svg.Property('refY', this.attribute('refY').value);
					tempSvg.attributes['width'] = new svg.Property('width', this.attribute('markerWidth').value);
					tempSvg.attributes['height'] = new svg.Property('height', this.attribute('markerHeight').value);
					tempSvg.attributes['fill'] = new svg.Property('fill', this.attribute('fill').valueOrDefault('black'));
					tempSvg.attributes['stroke'] = new svg.Property('stroke', this.attribute('stroke').valueOrDefault('none'));
					tempSvg.children = this.children;
					tempSvg.render(ctx);

					ctx.restore();
					if (this.attribute('markerUnits').valueOrDefault('strokeWidth') == 'strokeWidth') ctx.scale(1/ctx.lineWidth, 1/ctx.lineWidth);
					if (this.attribute('orient').valueOrDefault('auto') == 'auto') ctx.rotate(-angle);
					ctx.translate(-point.x, -point.y);
				}
			}
			svg.Element.marker.prototype = new svg.Element.ElementBase;

			// definitions element
			svg.Element.defs = function(node) {
				this.base = svg.Element.ElementBase;
				this.base(node);

				this.render = function(ctx) {
					// NOOP
				}
			}
			svg.Element.defs.prototype = new svg.Element.ElementBase;

			// base for gradients
			svg.Element.GradientBase = function(node) {
				this.base = svg.Element.ElementBase;
				this.base(node);

				this.stops = [];
				for (var i=0; i<this.children.length; i++) {
					var child = this.children[i];
					if (child.type == 'stop') this.stops.push(child);
				}

				this.getGradient = function() {
					// OVERRIDE ME!
				}
				
				this.gradientUnits = function () {
					return this.attribute('gradientUnits').valueOrDefault('objectBoundingBox');
				}
				
				this.attributesToInherit = ['gradientUnits'];
				
				this.inheritStopContainer = function (stopsContainer) {
					for (var i=0; i<this.attributesToInherit.length; i++) {
						var attributeToInherit = this.attributesToInherit[i];
						if (!this.attribute(attributeToInherit).hasValue() && stopsContainer.attribute(attributeToInherit).hasValue()) {
							this.attribute(attributeToInherit, true).value = stopsContainer.attribute(attributeToInherit).value;
						}
					}
				}

				this.createGradient = function(ctx, element, parentOpacityProp) {
					var stopsContainer = this;
					if (this.getHrefAttribute().hasValue()) {
						stopsContainer = this.getHrefAttribute().getDefinition();
						this.inheritStopContainer(stopsContainer);
					}

					var addParentOpacity = function (color) {
						if (parentOpacityProp.hasValue()) {
							var p = new svg.Property('color', color);
							return p.addOpacity(parentOpacityProp).value;
						}
						return color;
					};

					var g = this.getGradient(ctx, element);
					if (g == null) return addParentOpacity(stopsContainer.stops[stopsContainer.stops.length - 1].color);
					for (var i=0; i<stopsContainer.stops.length; i++) {
						g.addColorStop(stopsContainer.stops[i].offset, addParentOpacity(stopsContainer.stops[i].color));
					}

					if (this.attribute('gradientTransform').hasValue()) {
						// render as transformed pattern on temporary canvas
						var rootView = svg.ViewPort.viewPorts[0];

						var rect = new svg.Element.rect();
						rect.attributes['x'] = new svg.Property('x', -svg.MAX_VIRTUAL_PIXELS/3.0);
						rect.attributes['y'] = new svg.Property('y', -svg.MAX_VIRTUAL_PIXELS/3.0);
						rect.attributes['width'] = new svg.Property('width', svg.MAX_VIRTUAL_PIXELS);
						rect.attributes['height'] = new svg.Property('height', svg.MAX_VIRTUAL_PIXELS);

						var group = new svg.Element.g();
						group.attributes['transform'] = new svg.Property('transform', this.attribute('gradientTransform').value);
						group.children = [ rect ];

						var tempSvg = new svg.Element.svg();
						tempSvg.attributes['x'] = new svg.Property('x', 0);
						tempSvg.attributes['y'] = new svg.Property('y', 0);
						tempSvg.attributes['width'] = new svg.Property('width', rootView.width);
						tempSvg.attributes['height'] = new svg.Property('height', rootView.height);
						tempSvg.children = [ group ];

						var c = document.createElement('canvas');
						c.width = rootView.width;
						c.height = rootView.height;
						var tempCtx = c.getContext('2d');
						tempCtx.fillStyle = g;
						tempSvg.render(tempCtx);
						return tempCtx.createPattern(c, 'no-repeat');
					}

					return g;
				}
			}
			svg.Element.GradientBase.prototype = new svg.Element.ElementBase;

			// linear gradient element
			svg.Element.linearGradient = function(node) {
				this.base = svg.Element.GradientBase;
				this.base(node);
				
				this.attributesToInherit.push('x1');
				this.attributesToInherit.push('y1');
				this.attributesToInherit.push('x2');
				this.attributesToInherit.push('y2');

				this.getGradient = function(ctx, element) {
					var bb = this.gradientUnits() == 'objectBoundingBox' ? element.getBoundingBox() : null;

					if (!this.attribute('x1').hasValue()
					 && !this.attribute('y1').hasValue()
					 && !this.attribute('x2').hasValue()
					 && !this.attribute('y2').hasValue()) {
						this.attribute('x1', true).value = 0;
						this.attribute('y1', true).value = 0;
						this.attribute('x2', true).value = 1;
						this.attribute('y2', true).value = 0;
					 }

					var x1 = (this.gradientUnits() == 'objectBoundingBox'
						? bb.x() + bb.width() * this.attribute('x1').numValue()
						: this.attribute('x1').toPixels('x'));
					var y1 = (this.gradientUnits() == 'objectBoundingBox'
						? bb.y() + bb.height() * this.attribute('y1').numValue()
						: this.attribute('y1').toPixels('y'));
					var x2 = (this.gradientUnits() == 'objectBoundingBox'
						? bb.x() + bb.width() * this.attribute('x2').numValue()
						: this.attribute('x2').toPixels('x'));
					var y2 = (this.gradientUnits() == 'objectBoundingBox'
						? bb.y() + bb.height() * this.attribute('y2').numValue()
						: this.attribute('y2').toPixels('y'));

					if (x1 == x2 && y1 == y2) return null;
					return ctx.createLinearGradient(x1, y1, x2, y2);
				}
			}
			svg.Element.linearGradient.prototype = new svg.Element.GradientBase;

			// radial gradient element
			svg.Element.radialGradient = function(node) {
				this.base = svg.Element.GradientBase;
				this.base(node);
				
				this.attributesToInherit.push('cx');
				this.attributesToInherit.push('cy');
				this.attributesToInherit.push('r');
				this.attributesToInherit.push('fx');
				this.attributesToInherit.push('fy');

				this.getGradient = function(ctx, element) {
					var bb = element.getBoundingBox();

					if (!this.attribute('cx').hasValue()) this.attribute('cx', true).value = '50%';
					if (!this.attribute('cy').hasValue()) this.attribute('cy', true).value = '50%';
					if (!this.attribute('r').hasValue()) this.attribute('r', true).value = '50%';

					var cx = (this.gradientUnits() == 'objectBoundingBox'
						? bb.x() + bb.width() * this.attribute('cx').numValue()
						: this.attribute('cx').toPixels('x'));
					var cy = (this.gradientUnits() == 'objectBoundingBox'
						? bb.y() + bb.height() * this.attribute('cy').numValue()
						: this.attribute('cy').toPixels('y'));

					var fx = cx;
					var fy = cy;
					if (this.attribute('fx').hasValue()) {
						fx = (this.gradientUnits() == 'objectBoundingBox'
						? bb.x() + bb.width() * this.attribute('fx').numValue()
						: this.attribute('fx').toPixels('x'));
					}
					if (this.attribute('fy').hasValue()) {
						fy = (this.gradientUnits() == 'objectBoundingBox'
						? bb.y() + bb.height() * this.attribute('fy').numValue()
						: this.attribute('fy').toPixels('y'));
					}

					var r = (this.gradientUnits() == 'objectBoundingBox'
						? (bb.width() + bb.height()) / 2.0 * this.attribute('r').numValue()
						: this.attribute('r').toPixels());

					return ctx.createRadialGradient(fx, fy, 0, cx, cy, r);
				}
			}
			svg.Element.radialGradient.prototype = new svg.Element.GradientBase;

			// gradient stop element
			svg.Element.stop = function(node) {
				this.base = svg.Element.ElementBase;
				this.base(node);

				this.offset = this.attribute('offset').numValue();
				if (this.offset < 0) this.offset = 0;
				if (this.offset > 1) this.offset = 1;

				var stopColor = this.style('stop-color', true);
				if (stopColor.value === '') stopColor.value = '#000';
				if (this.style('stop-opacity').hasValue()) stopColor = stopColor.addOpacity(this.style('stop-opacity'));
				this.color = stopColor.value;
			}
			svg.Element.stop.prototype = new svg.Element.ElementBase;

			// animation base element
			svg.Element.AnimateBase = function(node) {
				this.base = svg.Element.ElementBase;
				this.base(node);

				svg.Animations.push(this);

				this.duration = 0.0;
				this.begin = this.attribute('begin').toMilliseconds();
				this.maxDuration = this.begin + this.attribute('dur').toMilliseconds();

				this.getProperty = function() {
					var attributeType = this.attribute('attributeType').value;
					var attributeName = this.attribute('attributeName').value;

					if (attributeType == 'CSS') {
						return this.parent.style(attributeName, true);
					}
					return this.parent.attribute(attributeName, true);
				};

				this.initialValue = null;
				this.initialUnits = '';
				this.removed = false;

				this.calcValue = function() {
					// OVERRIDE ME!
					return '';
				}

				this.update = function(delta) {
					// set initial value
					if (this.initialValue == null) {
						this.initialValue = this.getProperty().value;
						this.initialUnits = this.getProperty().getUnits();
					}

					// if we're past the end time
					if (this.duration > this.maxDuration) {
						// loop for indefinitely repeating animations
						if (this.attribute('repeatCount').value == 'indefinite'
						 || this.attribute('repeatDur').value == 'indefinite') {
							this.duration = 0.0
						}
						else if (this.attribute('fill').valueOrDefault('remove') == 'freeze' && !this.frozen) {
							this.frozen = true;
							this.parent.animationFrozen = true;
							this.parent.animationFrozenValue = this.getProperty().value;
						}
						else if (this.attribute('fill').valueOrDefault('remove') == 'remove' && !this.removed) {
							this.removed = true;
							this.getProperty().value = this.parent.animationFrozen ? this.parent.animationFrozenValue : this.initialValue;
							return true;
						}
						return false;
					}
					this.duration = this.duration + delta;

					// if we're past the begin time
					var updated = false;
					if (this.begin < this.duration) {
						var newValue = this.calcValue(); // tween

						if (this.attribute('type').hasValue()) {
							// for transform, etc.
							var type = this.attribute('type').value;
							newValue = type + '(' + newValue + ')';
						}

						this.getProperty().value = newValue;
						updated = true;
					}

					return updated;
				}

				this.from = this.attribute('from');
				this.to = this.attribute('to');
				this.values = this.attribute('values');
				if (this.values.hasValue()) this.values.value = this.values.value.split(';');

				// fraction of duration we've covered
				this.progress = function() {
					var ret = { progress: (this.duration - this.begin) / (this.maxDuration - this.begin) };
					if (this.values.hasValue()) {
						var p = ret.progress * (this.values.value.length - 1);
						var lb = Math.floor(p), ub = Math.ceil(p);
						ret.from = new svg.Property('from', parseFloat(this.values.value[lb]));
						ret.to = new svg.Property('to', parseFloat(this.values.value[ub]));
						ret.progress = (p - lb) / (ub - lb);
					}
					else {
						ret.from = this.from;
						ret.to = this.to;
					}
					return ret;
				}
			}
			svg.Element.AnimateBase.prototype = new svg.Element.ElementBase;

			// animate element
			svg.Element.animate = function(node) {
				this.base = svg.Element.AnimateBase;
				this.base(node);

				this.calcValue = function() {
					var p = this.progress();

					// tween value linearly
					var newValue = p.from.numValue() + (p.to.numValue() - p.from.numValue()) * p.progress;
					return newValue + this.initialUnits;
				};
			}
			svg.Element.animate.prototype = new svg.Element.AnimateBase;

			// animate color element
			svg.Element.animateColor = function(node) {
				this.base = svg.Element.AnimateBase;
				this.base(node);

				this.calcValue = function() {
					var p = this.progress();
					var from = new RGBColor(p.from.value);
					var to = new RGBColor(p.to.value);

					if (from.ok && to.ok) {
						// tween color linearly
						var r = from.r + (to.r - from.r) * p.progress;
						var g = from.g + (to.g - from.g) * p.progress;
						var b = from.b + (to.b - from.b) * p.progress;
						return 'rgb('+parseInt(r,10)+','+parseInt(g,10)+','+parseInt(b,10)+')';
					}
					return this.attribute('from').value;
				};
			}
			svg.Element.animateColor.prototype = new svg.Element.AnimateBase;

			// animate transform element
			svg.Element.animateTransform = function(node) {
				this.base = svg.Element.AnimateBase;
				this.base(node);

				this.calcValue = function() {
					var p = this.progress();

					// tween value linearly
					var from = svg.ToNumberArray(p.from.value);
					var to = svg.ToNumberArray(p.to.value);
					var newValue = '';
					for (var i=0; i<from.length; i++) {
						newValue += from[i] + (to[i] - from[i]) * p.progress + ' ';
					}
					return newValue;
				};
			}
			svg.Element.animateTransform.prototype = new svg.Element.animate;

			// font element
			svg.Element.font = function(node) {
				this.base = svg.Element.ElementBase;
				this.base(node);

				this.horizAdvX = this.attribute('horiz-adv-x').numValue();

				this.isRTL = false;
				this.isArabic = false;
				this.fontFace = null;
				this.missingGlyph = null;
				this.glyphs = [];
				for (var i=0; i<this.children.length; i++) {
					var child = this.children[i];
					if (child.type == 'font-face') {
						this.fontFace = child;
						if (child.style('font-family').hasValue()) {
							svg.Definitions[child.style('font-family').value] = this;
						}
					}
					else if (child.type == 'missing-glyph') this.missingGlyph = child;
					else if (child.type == 'glyph') {
						if (child.arabicForm != '') {
							this.isRTL = true;
							this.isArabic = true;
							if (typeof(this.glyphs[child.unicode]) == 'undefined') this.glyphs[child.unicode] = [];
							this.glyphs[child.unicode][child.arabicForm] = child;
						}
						else {
							this.glyphs[child.unicode] = child;
						}
					}
				}
			}
			svg.Element.font.prototype = new svg.Element.ElementBase;

			// font-face element
			svg.Element.fontface = function(node) {
				this.base = svg.Element.ElementBase;
				this.base(node);

				this.ascent = this.attribute('ascent').value;
				this.descent = this.attribute('descent').value;
				this.unitsPerEm = this.attribute('units-per-em').numValue();
			}
			svg.Element.fontface.prototype = new svg.Element.ElementBase;

			// missing-glyph element
			svg.Element.missingglyph = function(node) {
				this.base = svg.Element.path;
				this.base(node);

				this.horizAdvX = 0;
			}
			svg.Element.missingglyph.prototype = new svg.Element.path;

			// glyph element
			svg.Element.glyph = function(node) {
				this.base = svg.Element.path;
				this.base(node);

				this.horizAdvX = this.attribute('horiz-adv-x').numValue();
				this.unicode = this.attribute('unicode').value;
				this.arabicForm = this.attribute('arabic-form').value;
			}
			svg.Element.glyph.prototype = new svg.Element.path;

			// text element
			svg.Element.text = function(node) {
				this.captureTextNodes = true;
				this.base = svg.Element.RenderedElementBase;
				this.base(node);

				this.baseSetContext = this.setContext;
				this.setContext = function(ctx) {
					this.baseSetContext(ctx);

					var textBaseline = this.style('dominant-baseline').toTextBaseline();
					if (textBaseline == null) textBaseline = this.style('alignment-baseline').toTextBaseline();
					if (textBaseline != null) ctx.textBaseline = textBaseline;
				}

				this.getBoundingBox = function () {
					var x = this.attribute('x').toPixels('x');
					var y = this.attribute('y').toPixels('y');
					var fontSize = this.parent.style('font-size').numValueOrDefault(svg.Font.Parse(svg.ctx.font).fontSize);
					return new svg.BoundingBox(x, y - fontSize, x + Math.floor(fontSize * 2.0 / 3.0) * this.children[0].getText().length, y);
				}

				this.renderChildren = function(ctx) {
					this.x = this.attribute('x').toPixels('x');
					this.y = this.attribute('y').toPixels('y');
					if (this.attribute('dx').hasValue()) this.x += this.attribute('dx').toPixels('x');
					if (this.attribute('dy').hasValue()) this.y += this.attribute('dy').toPixels('y');
					this.x += this.getAnchorDelta(ctx, this, 0);
					for (var i=0; i<this.children.length; i++) {
						this.renderChild(ctx, this, i);
					}
				}

				this.getAnchorDelta = function (ctx, parent, startI) {
					var textAnchor = this.style('text-anchor').valueOrDefault('start');
					if (textAnchor != 'start') {
						var width = 0;
						for (var i=startI; i<parent.children.length; i++) {
							var child = parent.children[i];
							if (i > startI && child.attribute('x').hasValue()) break; // new group
							width += child.measureTextRecursive(ctx);
						}
						return -1 * (textAnchor == 'end' ? width : width / 2.0);
					}
					return 0;
				}

				this.renderChild = function(ctx, parent, i) {
					var child = parent.children[i];
					if (child.attribute('x').hasValue()) {
						child.x = child.attribute('x').toPixels('x') + parent.getAnchorDelta(ctx, parent, i);
						if (child.attribute('dx').hasValue()) child.x += child.attribute('dx').toPixels('x');
					}
					else {
						if (child.attribute('dx').hasValue()) parent.x += child.attribute('dx').toPixels('x');
						child.x = parent.x;
					}
					parent.x = child.x + child.measureText(ctx);

					if (child.attribute('y').hasValue()) {
						child.y = child.attribute('y').toPixels('y');
						if (child.attribute('dy').hasValue()) child.y += child.attribute('dy').toPixels('y');
					}
					else {
						if (child.attribute('dy').hasValue()) parent.y += child.attribute('dy').toPixels('y');
						child.y = parent.y;
					}
					parent.y = child.y;

					child.render(ctx);

					for (var i=0; i<child.children.length; i++) {
						parent.renderChild(ctx, child, i);
					}
				}
			}
			svg.Element.text.prototype = new svg.Element.RenderedElementBase;

			// text base
			svg.Element.TextElementBase = function(node) {
				this.base = svg.Element.RenderedElementBase;
				this.base(node);

				this.getGlyph = function(font, text, i) {
					var c = text[i];
					var glyph = null;
					if (font.isArabic) {
						var arabicForm = 'isolated';
						if ((i==0 || text[i-1]==' ') && i<text.length-2 && text[i+1]!=' ') arabicForm = 'terminal';
						if (i>0 && text[i-1]!=' ' && i<text.length-2 && text[i+1]!=' ') arabicForm = 'medial';
						if (i>0 && text[i-1]!=' ' && (i == text.length-1 || text[i+1]==' ')) arabicForm = 'initial';
						if (typeof(font.glyphs[c]) != 'undefined') {
							glyph = font.glyphs[c][arabicForm];
							if (glyph == null && font.glyphs[c].type == 'glyph') glyph = font.glyphs[c];
						}
					}
					else {
						glyph = font.glyphs[c];
					}
					if (glyph == null) glyph = font.missingGlyph;
					return glyph;
				}

				this.renderChildren = function(ctx) {
					var customFont = this.parent.style('font-family').getDefinition();
					if (customFont != null) {
						var fontSize = this.parent.style('font-size').numValueOrDefault(svg.Font.Parse(svg.ctx.font).fontSize);
						var fontStyle = this.parent.style('font-style').valueOrDefault(svg.Font.Parse(svg.ctx.font).fontStyle);
						var text = this.getText();
						if (customFont.isRTL) text = text.split("").reverse().join("");

						var dx = svg.ToNumberArray(this.parent.attribute('dx').value);
						for (var i=0; i<text.length; i++) {
							var glyph = this.getGlyph(customFont, text, i);
							var scale = fontSize / customFont.fontFace.unitsPerEm;
							ctx.translate(this.x, this.y);
							ctx.scale(scale, -scale);
							var lw = ctx.lineWidth;
							ctx.lineWidth = ctx.lineWidth * customFont.fontFace.unitsPerEm / fontSize;
							if (fontStyle == 'italic') ctx.transform(1, 0, .4, 1, 0, 0);
							glyph.render(ctx);
							if (fontStyle == 'italic') ctx.transform(1, 0, -.4, 1, 0, 0);
							ctx.lineWidth = lw;
							ctx.scale(1/scale, -1/scale);
							ctx.translate(-this.x, -this.y);

							this.x += fontSize * (glyph.horizAdvX || customFont.horizAdvX) / customFont.fontFace.unitsPerEm;
							if (typeof(dx[i]) != 'undefined' && !isNaN(dx[i])) {
								this.x += dx[i];
							}
						}
						return;
					}

					if (ctx.fillStyle != '') ctx.fillText(svg.compressSpaces(this.getText()), this.x, this.y);
					if (ctx.strokeStyle != '') ctx.strokeText(svg.compressSpaces(this.getText()), this.x, this.y);
				}

				this.getText = function() {
					// OVERRIDE ME
				}

				this.measureTextRecursive = function(ctx) {
					var width = this.measureText(ctx);
					for (var i=0; i<this.children.length; i++) {
						width += this.children[i].measureTextRecursive(ctx);
					}
					return width;
				}

				this.measureText = function(ctx) {
					var customFont = this.parent.style('font-family').getDefinition();
					if (customFont != null) {
						var fontSize = this.parent.style('font-size').numValueOrDefault(svg.Font.Parse(svg.ctx.font).fontSize);
						var measure = 0;
						var text = this.getText();
						if (customFont.isRTL) text = text.split("").reverse().join("");
						var dx = svg.ToNumberArray(this.parent.attribute('dx').value);
						for (var i=0; i<text.length; i++) {
							var glyph = this.getGlyph(customFont, text, i);
							measure += (glyph.horizAdvX || customFont.horizAdvX) * fontSize / customFont.fontFace.unitsPerEm;
							if (typeof(dx[i]) != 'undefined' && !isNaN(dx[i])) {
								measure += dx[i];
							}
						}
						return measure;
					}

					var textToMeasure = svg.compressSpaces(this.getText());
					if (!ctx.measureText) return textToMeasure.length * 10;

					ctx.save();
					this.setContext(ctx);
					var width = ctx.measureText(textToMeasure).width;
					ctx.restore();
					return width;
				}
			}
			svg.Element.TextElementBase.prototype = new svg.Element.RenderedElementBase;

			// tspan
			svg.Element.tspan = function(node) {
				this.captureTextNodes = true;
				this.base = svg.Element.TextElementBase;
				this.base(node);

				this.text = svg.compressSpaces(node.value || node.text || node.textContent || '');
				this.getText = function() {
					// if this node has children, then they own the text
					if (this.children.length > 0) { return ''; }
					return this.text;
				}
			}
			svg.Element.tspan.prototype = new svg.Element.TextElementBase;

			// tref
			svg.Element.tref = function(node) {
				this.base = svg.Element.TextElementBase;
				this.base(node);

				this.getText = function() {
					var element = this.getHrefAttribute().getDefinition();
					if (element != null) return element.children[0].getText();
				}
			}
			svg.Element.tref.prototype = new svg.Element.TextElementBase;

			// a element
			svg.Element.a = function(node) {
				this.base = svg.Element.TextElementBase;
				this.base(node);

				this.hasText = node.childNodes.length > 0;
				for (var i=0; i<node.childNodes.length; i++) {
					if (node.childNodes[i].nodeType != 3) this.hasText = false;
				}

				// this might contain text
				this.text = this.hasText ? node.childNodes[0].value : '';
				this.getText = function() {
					return this.text;
				}

				this.baseRenderChildren = this.renderChildren;
				this.renderChildren = function(ctx) {
					if (this.hasText) {
						// render as text element
						this.baseRenderChildren(ctx);
						var fontSize = new svg.Property('fontSize', svg.Font.Parse(svg.ctx.font).fontSize);
						svg.Mouse.checkBoundingBox(this, new svg.BoundingBox(this.x, this.y - fontSize.toPixels('y'), this.x + this.measureText(ctx), this.y));
					}
					else if (this.children.length > 0) {
						// render as temporary group
						var g = new svg.Element.g();
						g.children = this.children;
						g.parent = this;
						g.render(ctx);
					}
				}

				this.onclick = function() {
					window.open(this.getHrefAttribute().value);
				}

				this.onmousemove = function() {
					svg.ctx.canvas.style.cursor = 'pointer';
				}
			}
			svg.Element.a.prototype = new svg.Element.TextElementBase;

			// image element
			svg.Element.image = function(node) {
				this.base = svg.Element.RenderedElementBase;
				this.base(node);

				var href = this.getHrefAttribute().value;
				if (href == '') { return; }
				var isSvg = href.match(/\.svg$/)

				svg.Images.push(this);
				this.loaded = false;
				if (!isSvg) {
					this.img = document.createElement('img');
					if (svg.opts['useCORS'] == true) { this.img.crossOrigin = 'Anonymous'; }
					var self = this;
					this.img.onload = function() { self.loaded = true; }
					this.img.onerror = function() { svg.log('ERROR: image "' + href + '" not found'); self.loaded = true; }
					this.img.src = href;
				}
				else {
					this.img = svg.ajax(href);
					this.loaded = true;
				}

				this.renderChildren = function(ctx) {
					var x = this.attribute('x').toPixels('x');
					var y = this.attribute('y').toPixels('y');

					var width = this.attribute('width').toPixels('x');
					var height = this.attribute('height').toPixels('y');
					if (width == 0 || height == 0) return;

					ctx.save();
					if (isSvg) {
						ctx.drawSvg(this.img, x, y, width, height);
					}
					else {
						ctx.translate(x, y);
						svg.AspectRatio(ctx,
										this.attribute('preserveAspectRatio').value,
										width,
										this.img.width,
										height,
										this.img.height,
										0,
										0);
						ctx.drawImage(this.img, 0, 0);
					}
					ctx.restore();
				}

				this.getBoundingBox = function() {
					var x = this.attribute('x').toPixels('x');
					var y = this.attribute('y').toPixels('y');
					var width = this.attribute('width').toPixels('x');
					var height = this.attribute('height').toPixels('y');
					return new svg.BoundingBox(x, y, x + width, y + height);
				}
			}
			svg.Element.image.prototype = new svg.Element.RenderedElementBase;

			// group element
			svg.Element.g = function(node) {
				this.base = svg.Element.RenderedElementBase;
				this.base(node);

				this.getBoundingBox = function() {
					var bb = new svg.BoundingBox();
					for (var i=0; i<this.children.length; i++) {
						bb.addBoundingBox(this.children[i].getBoundingBox());
					}
					return bb;
				};
			}
			svg.Element.g.prototype = new svg.Element.RenderedElementBase;

			// symbol element
			svg.Element.symbol = function(node) {
				this.base = svg.Element.RenderedElementBase;
				this.base(node);

				this.render = function(ctx) {
					// NO RENDER
				};
			}
			svg.Element.symbol.prototype = new svg.Element.RenderedElementBase;

			// style element
			svg.Element.style = function(node) {
				this.base = svg.Element.ElementBase;
				this.base(node);

				// text, or spaces then CDATA
				var css = ''
				for (var i=0; i<node.childNodes.length; i++) {
				  css += node.childNodes[i].data;
				}
				css = css.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm, ''); // remove comments
				css = svg.compressSpaces(css); // replace whitespace
				var cssDefs = css.split('}');
				for (var i=0; i<cssDefs.length; i++) {
					if (svg.trim(cssDefs[i]) != '') {
						var cssDef = cssDefs[i].split('{');
						var cssClasses = cssDef[0].split(',');
						var cssProps = cssDef[1].split(';');
						for (var j=0; j<cssClasses.length; j++) {
							var cssClass = svg.trim(cssClasses[j]);
							if (cssClass != '') {
								var props = {};
								for (var k=0; k<cssProps.length; k++) {
									var prop = cssProps[k].indexOf(':');
									var name = cssProps[k].substr(0, prop);
									var value = cssProps[k].substr(prop + 1, cssProps[k].length - prop);
									if (name != null && value != null) {
										props[svg.trim(name)] = new svg.Property(svg.trim(name), svg.trim(value));
									}
								}
								svg.Styles[cssClass] = props;
								svg.StylesSpecificity[cssClass] = getSelectorSpecificity(cssClass);
								if (cssClass == '@font-face') {
									var fontFamily = props['font-family'].value.replace(/"/g,'');
									var srcs = props['src'].value.split(',');
									for (var s=0; s<srcs.length; s++) {
										if (srcs[s].indexOf('format("svg")') > 0) {
											var urlStart = srcs[s].indexOf('url');
											var urlEnd = srcs[s].indexOf(')', urlStart);
											var url = srcs[s].substr(urlStart + 5, urlEnd - urlStart - 6);
											var doc = svg.parseXml(svg.ajax(url));
											var fonts = doc.getElementsByTagName('font');
											for (var f=0; f<fonts.length; f++) {
												var font = svg.CreateElement(fonts[f]);
												svg.Definitions[fontFamily] = font;
											}
										}
									}
								}
							}
						}
					}
				}
			}
			svg.Element.style.prototype = new svg.Element.ElementBase;

			// use element
			svg.Element.use = function(node) {
				this.base = svg.Element.RenderedElementBase;
				this.base(node);

				this.baseSetContext = this.setContext;
				this.setContext = function(ctx) {
					this.baseSetContext(ctx);
					if (this.attribute('x').hasValue()) ctx.translate(this.attribute('x').toPixels('x'), 0);
					if (this.attribute('y').hasValue()) ctx.translate(0, this.attribute('y').toPixels('y'));
				}

				var element = this.getHrefAttribute().getDefinition();

				this.path = function(ctx) {
					if (element != null) element.path(ctx);
				}

				this.getBoundingBox = function() {
					if (element != null) return element.getBoundingBox();
				}

				this.renderChildren = function(ctx) {
					if (element != null) {
						var tempSvg = element;
						if (element.type == 'symbol') {
							// render me using a temporary svg element in symbol cases (http://www.w3.org/TR/SVG/struct.html#UseElement)
							tempSvg = new svg.Element.svg();
							tempSvg.type = 'svg';
							tempSvg.attributes['viewBox'] = new svg.Property('viewBox', element.attribute('viewBox').value);
							tempSvg.attributes['preserveAspectRatio'] = new svg.Property('preserveAspectRatio', element.attribute('preserveAspectRatio').value);
							tempSvg.attributes['overflow'] = new svg.Property('overflow', element.attribute('overflow').value);
							tempSvg.children = element.children;
						}
						if (tempSvg.type == 'svg') {
							// if symbol or svg, inherit width/height from me
							if (this.attribute('width').hasValue()) tempSvg.attributes['width'] = new svg.Property('width', this.attribute('width').value);
							if (this.attribute('height').hasValue()) tempSvg.attributes['height'] = new svg.Property('height', this.attribute('height').value);
						}
						var oldParent = tempSvg.parent;
						tempSvg.parent = null;
						tempSvg.render(ctx);
						tempSvg.parent = oldParent;
					}
				}
			}
			svg.Element.use.prototype = new svg.Element.RenderedElementBase;

			// mask element
			svg.Element.mask = function(node) {
				this.base = svg.Element.ElementBase;
				this.base(node);

				this.apply = function(ctx, element) {
					// render as temp svg
					var x = this.attribute('x').toPixels('x');
					var y = this.attribute('y').toPixels('y');
					var width = this.attribute('width').toPixels('x');
					var height = this.attribute('height').toPixels('y');

					if (width == 0 && height == 0) {
						var bb = new svg.BoundingBox();
						for (var i=0; i<this.children.length; i++) {
							bb.addBoundingBox(this.children[i].getBoundingBox());
						}
						var x = Math.floor(bb.x1);
						var y = Math.floor(bb.y1);
						var width = Math.floor(bb.width());
						var	height = Math.floor(bb.height());
					}

					// temporarily remove mask to avoid recursion
					var mask = element.attribute('mask').value;
					element.attribute('mask').value = '';

						var cMask = document.createElement('canvas');
						cMask.width = x + width;
						cMask.height = y + height;
						var maskCtx = cMask.getContext('2d');
						this.renderChildren(maskCtx);

						var c = document.createElement('canvas');
						c.width = x + width;
						c.height = y + height;
						var tempCtx = c.getContext('2d');
						element.render(tempCtx);
						tempCtx.globalCompositeOperation = 'destination-in';
						tempCtx.fillStyle = maskCtx.createPattern(cMask, 'no-repeat');
						tempCtx.fillRect(0, 0, x + width, y + height);

						ctx.fillStyle = tempCtx.createPattern(c, 'no-repeat');
						ctx.fillRect(0, 0, x + width, y + height);

					// reassign mask
					element.attribute('mask').value = mask;
				}

				this.render = function(ctx) {
					// NO RENDER
				}
			}
			svg.Element.mask.prototype = new svg.Element.ElementBase;

			// clip element
			svg.Element.clipPath = function(node) {
				this.base = svg.Element.ElementBase;
				this.base(node);

				this.apply = function(ctx) {
					var oldBeginPath = CanvasRenderingContext2D.prototype.beginPath;
					CanvasRenderingContext2D.prototype.beginPath = function () { };

					var oldClosePath = CanvasRenderingContext2D.prototype.closePath;
					CanvasRenderingContext2D.prototype.closePath = function () { };

					oldBeginPath.call(ctx);
					for (var i=0; i<this.children.length; i++) {
						var child = this.children[i];
						if (typeof(child.path) != 'undefined') {
							var transform = null;
							if (child.style('transform', false, true).hasValue()) {
								transform = new svg.Transform(child.style('transform', false, true).value);
								transform.apply(ctx);
							}
							child.path(ctx);
							CanvasRenderingContext2D.prototype.closePath = oldClosePath;
							if (transform) { transform.unapply(ctx); }
						}
					}
					oldClosePath.call(ctx);
					ctx.clip();

					CanvasRenderingContext2D.prototype.beginPath = oldBeginPath;
					CanvasRenderingContext2D.prototype.closePath = oldClosePath;
				}

				this.render = function(ctx) {
					// NO RENDER
				}
			}
			svg.Element.clipPath.prototype = new svg.Element.ElementBase;

			// filters
			svg.Element.filter = function(node) {
				this.base = svg.Element.ElementBase;
				this.base(node);

				this.apply = function(ctx, element) {
					// render as temp svg
					var bb = element.getBoundingBox();
					var x = Math.floor(bb.x1);
					var y = Math.floor(bb.y1);
					var width = Math.floor(bb.width());
					var	height = Math.floor(bb.height());

					// temporarily remove filter to avoid recursion
					var filter = element.style('filter').value;
					element.style('filter').value = '';

					var px = 0, py = 0;
					for (var i=0; i<this.children.length; i++) {
						var efd = this.children[i].extraFilterDistance || 0;
						px = Math.max(px, efd);
						py = Math.max(py, efd);
					}

					var c = document.createElement('canvas');
					c.width = width + 2*px;
					c.height = height + 2*py;
					var tempCtx = c.getContext('2d');
					tempCtx.translate(-x + px, -y + py);
					element.render(tempCtx);

					// apply filters
					for (var i=0; i<this.children.length; i++) {
						if (typeof(this.children[i].apply) === 'function') {
							this.children[i].apply(tempCtx, 0, 0, width + 2*px, height + 2*py);
						}
					}

					// render on me
					ctx.drawImage(c, 0, 0, width + 2*px, height + 2*py, x - px, y - py, width + 2*px, height + 2*py);

					// reassign filter
					element.style('filter', true).value = filter;
				}

				this.render = function(ctx) {
					// NO RENDER
				}
			}
			svg.Element.filter.prototype = new svg.Element.ElementBase;

			svg.Element.feMorphology = function(node) {
				this.base = svg.Element.ElementBase;
				this.base(node);

				this.apply = function(ctx, x, y, width, height) {
					// TODO: implement
				}
			}
			svg.Element.feMorphology.prototype = new svg.Element.ElementBase;

			svg.Element.feComposite = function(node) {
				this.base = svg.Element.ElementBase;
				this.base(node);

				this.apply = function(ctx, x, y, width, height) {
					// TODO: implement
				}
			}
			svg.Element.feComposite.prototype = new svg.Element.ElementBase;

			svg.Element.feColorMatrix = function(node) {
				this.base = svg.Element.ElementBase;
				this.base(node);

				var matrix = svg.ToNumberArray(this.attribute('values').value);
				switch (this.attribute('type').valueOrDefault('matrix')) { // http://www.w3.org/TR/SVG/filters.html#feColorMatrixElement
					case 'saturate':
						var s = matrix[0];
						matrix = [0.213+0.787*s,0.715-0.715*s,0.072-0.072*s,0,0,
								  0.213-0.213*s,0.715+0.285*s,0.072-0.072*s,0,0,
								  0.213-0.213*s,0.715-0.715*s,0.072+0.928*s,0,0,
								  0,0,0,1,0,
								  0,0,0,0,1];
						break;
					case 'hueRotate':
						var a = matrix[0] * Math.PI / 180.0;
						var c = function (m1,m2,m3) { return m1 + Math.cos(a)*m2 + Math.sin(a)*m3; };
						matrix = [c(0.213,0.787,-0.213),c(0.715,-0.715,-0.715),c(0.072,-0.072,0.928),0,0,
								  c(0.213,-0.213,0.143),c(0.715,0.285,0.140),c(0.072,-0.072,-0.283),0,0,
								  c(0.213,-0.213,-0.787),c(0.715,-0.715,0.715),c(0.072,0.928,0.072),0,0,
								  0,0,0,1,0,
								  0,0,0,0,1];
						break;
					case 'luminanceToAlpha':
						matrix = [0,0,0,0,0,
								  0,0,0,0,0,
								  0,0,0,0,0,
								  0.2125,0.7154,0.0721,0,0,
								  0,0,0,0,1];
						break;
				}

				function imGet(img, x, y, width, height, rgba) {
					return img[y*width*4 + x*4 + rgba];
				}

				function imSet(img, x, y, width, height, rgba, val) {
					img[y*width*4 + x*4 + rgba] = val;
				}

				function m(i, v) {
					var mi = matrix[i];
					return mi * (mi < 0 ? v - 255 : v);
				}

				this.apply = function(ctx, x, y, width, height) {
					// assuming x==0 && y==0 for now
					var srcData = ctx.getImageData(0, 0, width, height);
					for (var y = 0; y < height; y++) {
						for (var x = 0; x < width; x++) {
							var r = imGet(srcData.data, x, y, width, height, 0);
							var g = imGet(srcData.data, x, y, width, height, 1);
							var b = imGet(srcData.data, x, y, width, height, 2);
							var a = imGet(srcData.data, x, y, width, height, 3);
							imSet(srcData.data, x, y, width, height, 0, m(0,r)+m(1,g)+m(2,b)+m(3,a)+m(4,1));
							imSet(srcData.data, x, y, width, height, 1, m(5,r)+m(6,g)+m(7,b)+m(8,a)+m(9,1));
							imSet(srcData.data, x, y, width, height, 2, m(10,r)+m(11,g)+m(12,b)+m(13,a)+m(14,1));
							imSet(srcData.data, x, y, width, height, 3, m(15,r)+m(16,g)+m(17,b)+m(18,a)+m(19,1));
						}
					}
					ctx.clearRect(0, 0, width, height);
					ctx.putImageData(srcData, 0, 0);
				}
			}
			svg.Element.feColorMatrix.prototype = new svg.Element.ElementBase;

			svg.Element.feGaussianBlur = function(node) {
				this.base = svg.Element.ElementBase;
				this.base(node);

				this.blurRadius = Math.floor(this.attribute('stdDeviation').numValue());
				this.extraFilterDistance = this.blurRadius;

				this.apply = function(ctx, x, y, width, height) {
					if (typeof(stackBlurCanvasRGBA) == 'undefined') {
						svg.log('ERROR: StackBlur.js must be included for blur to work');
						return;
					}

					// StackBlur requires canvas be on document
					ctx.canvas.id = svg.UniqueId();
					ctx.canvas.style.display = 'none';
					document.body.appendChild(ctx.canvas);
					stackBlurCanvasRGBA(ctx.canvas.id, x, y, width, height, this.blurRadius);
					document.body.removeChild(ctx.canvas);
				}
			}
			svg.Element.feGaussianBlur.prototype = new svg.Element.ElementBase;

			// title element, do nothing
			svg.Element.title = function(node) {
			}
			svg.Element.title.prototype = new svg.Element.ElementBase;

			// desc element, do nothing
			svg.Element.desc = function(node) {
			}
			svg.Element.desc.prototype = new svg.Element.ElementBase;

			svg.Element.MISSING = function(node) {
				svg.log('ERROR: Element \'' + node.nodeName + '\' not yet implemented.');
			}
			svg.Element.MISSING.prototype = new svg.Element.ElementBase;

			// element factory
			svg.CreateElement = function(node) {
				var className = node.nodeName.replace(/^[^:]+:/,''); // remove namespace
				className = className.replace(/\-/g,''); // remove dashes
				var e = null;
				if (typeof(svg.Element[className]) != 'undefined') {
					e = new svg.Element[className](node);
				}
				else {
					e = new svg.Element.MISSING(node);
				}

				e.type = node.nodeName;
				return e;
			}

			// load from url
			svg.load = function(ctx, url) {
				svg.loadXml(ctx, svg.ajax(url));
			}

			// load from xml
			svg.loadXml = function(ctx, xml) {
				svg.loadXmlDoc(ctx, svg.parseXml(xml));
			}

			svg.loadXmlDoc = function(ctx, dom) {
				svg.init(ctx);

				var mapXY = function(p) {
					var e = ctx.canvas;
					while (e) {
						p.x -= e.offsetLeft;
						p.y -= e.offsetTop;
						e = e.offsetParent;
					}
					if (window.scrollX) p.x += window.scrollX;
					if (window.scrollY) p.y += window.scrollY;
					return p;
				}

				// bind mouse
				if (svg.opts['ignoreMouse'] != true) {
					ctx.canvas.onclick = function(e) {
						var p = mapXY(new svg.Point(e != null ? e.clientX : event.clientX, e != null ? e.clientY : event.clientY));
						svg.Mouse.onclick(p.x, p.y);
					};
					ctx.canvas.onmousemove = function(e) {
						var p = mapXY(new svg.Point(e != null ? e.clientX : event.clientX, e != null ? e.clientY : event.clientY));
						svg.Mouse.onmousemove(p.x, p.y);
					};
				}

				var e = svg.CreateElement(dom.documentElement);
				e.root = true;
				e.addStylesFromStyleDefinition();

				// render loop
				var isFirstRender = true;
				var draw = function() {
					svg.ViewPort.Clear();
					if (ctx.canvas.parentNode) svg.ViewPort.SetCurrent(ctx.canvas.parentNode.clientWidth, ctx.canvas.parentNode.clientHeight);

					if (svg.opts['ignoreDimensions'] != true) {
						// set canvas size
						if (e.style('width').hasValue()) {
							ctx.canvas.width = e.style('width').toPixels('x');
							ctx.canvas.style.width = ctx.canvas.width + 'px';
						}
						if (e.style('height').hasValue()) {
							ctx.canvas.height = e.style('height').toPixels('y');
							ctx.canvas.style.height = ctx.canvas.height + 'px';
						}
					}
					var cWidth = ctx.canvas.clientWidth || ctx.canvas.width;
					var cHeight = ctx.canvas.clientHeight || ctx.canvas.height;
					if (svg.opts['ignoreDimensions'] == true && e.style('width').hasValue() && e.style('height').hasValue()) {
						cWidth = e.style('width').toPixels('x');
						cHeight = e.style('height').toPixels('y');
					}
					svg.ViewPort.SetCurrent(cWidth, cHeight);

					if (svg.opts['offsetX'] != null) e.attribute('x', true).value = svg.opts['offsetX'];
					if (svg.opts['offsetY'] != null) e.attribute('y', true).value = svg.opts['offsetY'];
					if (svg.opts['scaleWidth'] != null || svg.opts['scaleHeight'] != null) {
						var xRatio = null, yRatio = null, viewBox = svg.ToNumberArray(e.attribute('viewBox').value);

						if (svg.opts['scaleWidth'] != null) {
							if (e.attribute('width').hasValue()) xRatio = e.attribute('width').toPixels('x') / svg.opts['scaleWidth'];
							else if (!isNaN(viewBox[2])) xRatio = viewBox[2] / svg.opts['scaleWidth'];
						}

						if (svg.opts['scaleHeight'] != null) {
							if (e.attribute('height').hasValue()) yRatio = e.attribute('height').toPixels('y') / svg.opts['scaleHeight'];
							else if (!isNaN(viewBox[3])) yRatio = viewBox[3] / svg.opts['scaleHeight'];
						}

						if (xRatio == null) { xRatio = yRatio; }
						if (yRatio == null) { yRatio = xRatio; }

						e.attribute('width', true).value = svg.opts['scaleWidth'];
						e.attribute('height', true).value = svg.opts['scaleHeight'];
						e.style('transform', true, true).value += ' scale('+(1.0/xRatio)+','+(1.0/yRatio)+')';
					}

					// clear and render
					if (svg.opts['ignoreClear'] != true) {
						ctx.clearRect(0, 0, cWidth, cHeight);
					}
					e.render(ctx);
					if (isFirstRender) {
						isFirstRender = false;
						if (typeof(svg.opts['renderCallback']) == 'function') svg.opts['renderCallback'](dom);
					}
				}

				var waitingForImages = true;
				if (svg.ImagesLoaded()) {
					waitingForImages = false;
					draw();
				}
				svg.intervalID = setInterval(function() {
					var needUpdate = false;

					if (waitingForImages && svg.ImagesLoaded()) {
						waitingForImages = false;
						needUpdate = true;
					}

					// need update from mouse events?
					if (svg.opts['ignoreMouse'] != true) {
						needUpdate = needUpdate | svg.Mouse.hasEvents();
					}

					// need update from animations?
					if (svg.opts['ignoreAnimation'] != true) {
						for (var i=0; i<svg.Animations.length; i++) {
							needUpdate = needUpdate | svg.Animations[i].update(1000 / svg.FRAMERATE);
						}
					}

					// need update from redraw?
					if (typeof(svg.opts['forceRedraw']) == 'function') {
						if (svg.opts['forceRedraw']() == true) needUpdate = true;
					}

					// render if needed
					if (needUpdate) {
						draw();
						svg.Mouse.runEvents(); // run and clear our events
					}
				}, 1000 / svg.FRAMERATE);
			}

			svg.stop = function() {
				if (svg.intervalID) {
					clearInterval(svg.intervalID);
				}
			}

			svg.Mouse = new (function() {
				this.events = [];
				this.hasEvents = function() { return this.events.length != 0; }

				this.onclick = function(x, y) {
					this.events.push({ type: 'onclick', x: x, y: y,
						run: function(e) { if (e.onclick) e.onclick(); }
					});
				}

				this.onmousemove = function(x, y) {
					this.events.push({ type: 'onmousemove', x: x, y: y,
						run: function(e) { if (e.onmousemove) e.onmousemove(); }
					});
				}

				this.eventElements = [];

				this.checkPath = function(element, ctx) {
					for (var i=0; i<this.events.length; i++) {
						var e = this.events[i];
						if (ctx.isPointInPath && ctx.isPointInPath(e.x, e.y)) this.eventElements[i] = element;
					}
				}

				this.checkBoundingBox = function(element, bb) {
					for (var i=0; i<this.events.length; i++) {
						var e = this.events[i];
						if (bb.isPointInBox(e.x, e.y)) this.eventElements[i] = element;
					}
				}

				this.runEvents = function() {
					svg.ctx.canvas.style.cursor = '';

					for (var i=0; i<this.events.length; i++) {
						var e = this.events[i];
						var element = this.eventElements[i];
						while (element) {
							e.run(element);
							element = element.parent;
						}
					}

					// done running, clear
					this.events = [];
					this.eventElements = [];
				}
			});

			return svg;
		}
	})();

	if (typeof(CanvasRenderingContext2D) != 'undefined') {
		CanvasRenderingContext2D.prototype.drawSvg = function(s, dx, dy, dw, dh) {
			canvg(this.canvas, s, {
				ignoreMouse: true,
				ignoreAnimation: true,
				ignoreDimensions: true,
				ignoreClear: true,
				offsetX: dx,
				offsetY: dy,
				scaleWidth: dw,
				scaleHeight: dh
			});
		}
	}


/***/ }),
/* 66 */
/***/ (function(module, exports) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var CanvasState = (function () {
	    function CanvasState(src, width, height, shiftTop, shiftLeft, zoomFactor) {
	        this.src = src;
	        this.width = width;
	        this.height = height;
	        this.shiftTop = shiftTop;
	        this.shiftLeft = shiftLeft;
	        this.zoomFactor = zoomFactor;
	    }
	    return CanvasState;
	}());
	exports.CanvasState = CanvasState;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC92aWV3cy9zY3JlZW5zaG90L2NhbnZhc19zdGF0ZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBO0lBUUkscUJBQVksR0FBTyxFQUFFLEtBQVksRUFBRSxNQUFhLEVBQUUsUUFBZSxFQUFFLFNBQWdCLEVBQUUsVUFBaUI7UUFDbEcsSUFBSSxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUM7UUFDZixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUNyQixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztRQUMzQixJQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsQ0FBQztJQUNqQyxDQUFDO0lBQ0wsa0JBQUM7QUFBRCxDQWhCQSxBQWdCQyxJQUFBO0FBaEJZLGtDQUFXIiwiZmlsZSI6ImFwcC92aWV3cy9zY3JlZW5zaG90L2NhbnZhc19zdGF0ZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBDYW52YXNTdGF0ZSB7XG4gICAgc3JjOmFueTtcbiAgICB3aWR0aDpudW1iZXI7XG4gICAgaGVpZ2h0Om51bWJlcjtcbiAgICBzaGlmdFRvcDpudW1iZXI7XG4gICAgc2hpZnRMZWZ0Om51bWJlcjtcbiAgICB6b29tRmFjdG9yOm51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKHNyYzphbnksIHdpZHRoOm51bWJlciwgaGVpZ2h0Om51bWJlciwgc2hpZnRUb3A6bnVtYmVyLCBzaGlmdExlZnQ6bnVtYmVyLCB6b29tRmFjdG9yOm51bWJlcikge1xuICAgICAgICB0aGlzLnNyYyA9IHNyYztcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5zaGlmdFRvcCA9IHNoaWZ0VG9wO1xuICAgICAgICB0aGlzLnNoaWZ0TGVmdCA9IHNoaWZ0TGVmdDtcbiAgICAgICAgdGhpcy56b29tRmFjdG9yID0gem9vbUZhY3RvcjtcbiAgICB9XG59XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/***/ }),
/* 67 */
/***/ (function(module, exports) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var ScreenshotFeedback = (function () {
	    function ScreenshotFeedback(name, mechanismId, part, fileExtension) {
	        this.name = name;
	        this.mechanismId = mechanismId;
	        this.part = part;
	        this.fileExtension = fileExtension;
	    }
	    return ScreenshotFeedback;
	}());
	exports.ScreenshotFeedback = ScreenshotFeedback;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvZmVlZGJhY2tzL3NjcmVlbnNob3RfZmVlZGJhY2sudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTtJQU1JLDRCQUFZLElBQVcsRUFBRSxXQUFrQixFQUFFLElBQVcsRUFBRSxhQUFvQjtRQUMxRSxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsV0FBVyxHQUFHLFdBQVcsQ0FBQztRQUMvQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFJLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQztJQUN2QyxDQUFDO0lBQ0wseUJBQUM7QUFBRCxDQVpBLEFBWUMsSUFBQTtBQVpZLGdEQUFrQiIsImZpbGUiOiJhcHAvbW9kZWxzL2ZlZWRiYWNrcy9zY3JlZW5zaG90X2ZlZWRiYWNrLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIFNjcmVlbnNob3RGZWVkYmFjayB7XG4gICAgbmFtZTpzdHJpbmc7XG4gICAgbWVjaGFuaXNtSWQ6bnVtYmVyO1xuICAgIHBhcnQ6c3RyaW5nO1xuICAgIGZpbGVFeHRlbnNpb246c3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IobmFtZTpzdHJpbmcsIG1lY2hhbmlzbUlkOm51bWJlciwgcGFydDpzdHJpbmcsIGZpbGVFeHRlbnNpb246c3RyaW5nKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMubWVjaGFuaXNtSWQgPSBtZWNoYW5pc21JZDtcbiAgICAgICAgdGhpcy5wYXJ0ID0gcGFydDtcbiAgICAgICAgdGhpcy5maWxlRXh0ZW5zaW9uID0gZmlsZUV4dGVuc2lvbjtcbiAgICB9XG59XG5cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/***/ }),
/* 68 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var i18n = __webpack_require__(3);
	__webpack_require__(2);
	var config_1 = __webpack_require__(21);
	var PageNavigation = (function () {
	    function PageNavigation(configuration, container) {
	        this.configuration = configuration;
	        this.container = container;
	    }
	    PageNavigation.prototype.pageForwardCallback = function (currentPage, nextPage) {
	        var textMechanisms = this.configuration.getMechanismConfig(config_1.mechanismTypes.textType);
	        var ratingMechanisms = this.configuration.getMechanismConfig(config_1.mechanismTypes.ratingType);
	        var screenshotMechanisms = this.configuration.getMechanismConfig(config_1.mechanismTypes.screenshotType);
	        var categoryMechanisms = this.configuration.getMechanismConfig(config_1.mechanismTypes.categoryType);
	        var audioMechanisms = this.configuration.getMechanismConfig(config_1.mechanismTypes.audioType);
	        var attachmentMechanisms = this.configuration.getMechanismConfig(config_1.mechanismTypes.attachmentType);
	        currentPage.find('.validate').each(function () {
	            jQuery(this).validate();
	        });
	        currentPage.find('.validate-category').each(function () {
	            jQuery(this).validateCategory();
	        });
	        if (currentPage.find('.invalid').length > 0) {
	            return false;
	        }
	        if (!this.validWithNoMechanismMandatory(currentPage)) {
	            return false;
	        }
	        if (nextPage) {
	            nextPage.find('.text-review').empty();
	            nextPage.find('.rating-review').empty();
	            nextPage.find('.screenshot-review').empty();
	            for (var _i = 0, textMechanisms_1 = textMechanisms; _i < textMechanisms_1.length; _i++) {
	                var textMechanism = textMechanisms_1[_i];
	                if (textMechanism != null && nextPage.find('.text-review').length > 0 && textMechanism.active && textMechanism.getParameterValue('page') != "review") {
	                    var sectionSelector = "textMechanism" + textMechanism.id;
	                    var textarea = currentPage.find('section#' + sectionSelector + ' textarea.text-type-text');
	                    nextPage.find('.text-review').append('<p>' + textarea.val() + '</p>');
	                }
	            }
	            for (var _a = 0, ratingMechanisms_1 = ratingMechanisms; _a < ratingMechanisms_1.length; _a++) {
	                var ratingMechanism = ratingMechanisms_1[_a];
	                if (ratingMechanism != null && nextPage.find('.rating-review').length > 0 && ratingMechanism.active && ratingMechanism.getParameterValue('page') != "review") {
	                    nextPage.find('.rating-review').append(i18n.t('rating.review_title') + ": " + ratingMechanism.currentRatingValue + " / " + ratingMechanism.getParameterValue("maxRating"));
	                }
	            }
	            for (var _b = 0, screenshotMechanisms_1 = screenshotMechanisms; _b < screenshotMechanisms_1.length; _b++) {
	                var screenshotMechanism = screenshotMechanisms_1[_b];
	                if (screenshotMechanism != null && nextPage.find('.screenshot-review').length > 0 && screenshotMechanism.active &&
	                    screenshotMechanism.screenshotView !== undefined && screenshotMechanism.screenshotView.screenshotCanvas !== undefined && screenshotMechanism.screenshotView.screenshotCanvas !== null
	                    && screenshotMechanism.getParameterValue('page') != "review") {
	                    var img = jQuery('<img src="' + screenshotMechanism.screenshotView.screenshotCanvas.toDataURL() + '" />');
	                    img.css('width', '40%');
	                    img.addClass('base');
	                    var screenshotReviewElement = nextPage.find('.screenshot-review');
	                    screenshotReviewElement.append(img);
	                    var screenshotTextReview = jQuery('<p class="screenshot-text-review"></p>');
	                    screenshotReviewElement.append(screenshotTextReview);
	                    var ratio = 965 * 0.4 / screenshotMechanism.screenshotView.screenshotPreviewElement.width();
	                }
	                jQuery('section#screenshotMechanism' + screenshotMechanism.id + ' .sticker-container').each(function () {
	                    var x = jQuery(this).position().left;
	                    var y = jQuery(this).position().top;
	                    var width = jQuery(this).width();
	                    var height = jQuery(this).height();
	                    var reviewClone = jQuery(this).clone();
	                    reviewClone.removeClass('ui-resizable');
	                    reviewClone.removeClass('ui-draggable');
	                    reviewClone.removeClass('ui-draggable-handle');
	                    reviewClone.css('left', x * ratio + "px");
	                    reviewClone.css('top', y * ratio + "px");
	                    reviewClone.css('width', width * ratio + "px");
	                    reviewClone.css('height', height * ratio + "px");
	                    reviewClone.css('padding', "0");
	                    reviewClone.addClass('sticker-container-review');
	                    reviewClone.find('a').remove();
	                    if (jQuery(this).hasClass('text-2')) {
	                        var textarea = jQuery(this).find('textarea');
	                        var text = textarea.val();
	                        var oldFontSize = textarea.css('font-size');
	                        var newFontSize = ratio * parseInt(oldFontSize);
	                        reviewClone.find('textarea').val(text).css('font-size', newFontSize + 'px').prop("disabled", true);
	                    }
	                    if (jQuery(this).hasClass('text') || jQuery(this).hasClass('text-2')) {
	                        var text = jQuery(this).find('textarea').val();
	                        reviewClone.on('mouseover mouseenter', function () {
	                            jQuery('.screenshot-text-review').text(text).css('display', 'inline');
	                        }).on('mouseleave', function () {
	                            jQuery('.screenshot-text-review').text("").css('display', 'none');
	                        });
	                    }
	                    screenshotReviewElement.append(reviewClone);
	                });
	            }
	            for (var _c = 0, categoryMechanisms_1 = categoryMechanisms; _c < categoryMechanisms_1.length; _c++) {
	                var categoryMechanism = categoryMechanisms_1[_c];
	                if (categoryMechanism !== null && nextPage.find('.category-review').length > 0 && categoryMechanism.active && categoryMechanism.getParameterValue('page') != "review") {
	                    var inputSelector = 'section#categoryMechanism' + categoryMechanism.id + '.category-type input';
	                    currentPage.find(inputSelector).each(function () {
	                        var input = jQuery(this);
	                        var selector = 'input#review' + input.attr('id');
	                        var correspondingReviewInput = nextPage.find(selector);
	                        correspondingReviewInput.prop("checked", input.is(':checked'));
	                    });
	                }
	            }
	            for (var _d = 0, audioMechanisms_1 = audioMechanisms; _d < audioMechanisms_1.length; _d++) {
	                var audioMechanism = audioMechanisms_1[_d];
	                if (audioMechanism !== null && nextPage.find('.audio-review').length > 0 && audioMechanism.active && audioMechanism.getParameterValue('page') != "review") {
	                    var audio = currentPage.find('#audioMechanism' + audioMechanism.id + ' audio:first');
	                    if (audio[0].duration && audio[0].duration > 0) {
	                        var audioCopy = audio.clone();
	                        audioCopy.css('display', 'block');
	                        nextPage.find('.audio-review').empty().append(audioCopy);
	                    }
	                    else {
	                        nextPage.find('.audio-review').empty();
	                    }
	                }
	            }
	            for (var _e = 0, attachmentMechanisms_1 = attachmentMechanisms; _e < attachmentMechanisms_1.length; _e++) {
	                var attachmentMechanism = attachmentMechanisms_1[_e];
	                if (attachmentMechanism !== null && nextPage.find('.attachment-review').length > 0 && attachmentMechanism.active && attachmentMechanism.getParameterValue('page') != "review") {
	                    var table = currentPage.find('#attachmentMechanism' + attachmentMechanism.id + ' table.current-files:first');
	                    var tableCopy = table.clone();
	                    nextPage.find('.attachment-review').empty().append(tableCopy);
	                }
	            }
	        }
	        return true;
	    };
	    PageNavigation.prototype.validWithNoMechanismMandatory = function (currentPage) {
	        if (currentPage.find('.feedback-mechanism.mandatory').length === 0 && !this.atLeastOneMechanismWasUsed(currentPage)) {
	            currentPage.parent().find('.at-least-one-mechanism').remove();
	            var errorMessage = i18n.t('general.validation_at_least_one_mechanism');
	            currentPage.after('<p class="feedback-form-error at-least-one-mechanism">' + errorMessage + '</p>');
	            return false;
	        }
	        else {
	            currentPage.parent().find('.at-least-one-mechanism').remove();
	        }
	        return true;
	    };
	    PageNavigation.prototype.atLeastOneMechanismWasUsed = function (currentPage) {
	        var mechanismWasUsed = false;
	        currentPage.find('.feedback-mechanism.text-type').each(function () {
	            var textarea = jQuery(this).find('textarea.text-type-text');
	            if (textarea.val().length > 0) {
	                mechanismWasUsed = true;
	            }
	        });
	        currentPage.find('.feedback-mechanism.category-type.valid-on-its-own').each(function () {
	            if (jQuery(this).find('input:checked').length > 0 || jQuery(this).find('.own-category').val().length > 0) {
	                mechanismWasUsed = true;
	            }
	        });
	        currentPage.find('.feedback-mechanism.rating-type.valid-on-its-own').each(function () {
	            if (parseInt(jQuery(this).find('.rating-input').starRating('getRating')) !== 0) {
	                mechanismWasUsed = true;
	            }
	        });
	        if (currentPage.find('.feedback-mechanism.screenshot-type.valid-on-its-own.dirty').length > 0) {
	            mechanismWasUsed = true;
	        }
	        if (currentPage.find('.feedback-mechanism.audio-type.valid-on-its-own.dirty').length > 0) {
	            mechanismWasUsed = true;
	        }
	        return mechanismWasUsed;
	    };
	    return PageNavigation;
	}());
	exports.PageNavigation = PageNavigation;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9qcy9oZWxwZXJzL3BhZ2VfbmF2aWdhdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUNBLDhCQUFpQztBQUNqQyxnQ0FBOEI7QUFDOUIsb0NBQXlDO0FBR3pDO0lBSUksd0JBQVksYUFBb0MsRUFBRSxTQUFnQjtRQUM5RCxJQUFJLENBQUMsYUFBYSxHQUFHLGFBQWEsQ0FBQztRQUNuQyxJQUFJLENBQUMsU0FBUyxHQUFHLFNBQVMsQ0FBQztJQUMvQixDQUFDO0lBU0QsNENBQW1CLEdBQW5CLFVBQW9CLFdBQVcsRUFBRSxRQUFRO1FBQ3JDLElBQUksY0FBYyxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsa0JBQWtCLENBQUMsdUJBQWMsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUNwRixJQUFJLGdCQUFnQixHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsa0JBQWtCLENBQUMsdUJBQWMsQ0FBQyxVQUFVLENBQUMsQ0FBQztRQUN4RixJQUFJLG9CQUFvQixHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsa0JBQWtCLENBQUMsdUJBQWMsQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUNoRyxJQUFJLGtCQUFrQixHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsa0JBQWtCLENBQUMsdUJBQWMsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUM1RixJQUFJLGVBQWUsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLGtCQUFrQixDQUFDLHVCQUFjLENBQUMsU0FBUyxDQUFDLENBQUM7UUFDdEYsSUFBSSxvQkFBb0IsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLGtCQUFrQixDQUFDLHVCQUFjLENBQUMsY0FBYyxDQUFDLENBQUM7UUFFaEcsV0FBVyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFDL0IsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQzVCLENBQUMsQ0FBQyxDQUFDO1FBQ0gsV0FBVyxDQUFDLElBQUks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QyxnQkFBZ0IsQ0FBQztJQUM1QixDQUFDO0lBQ0wscUJBQUM7QUFBRCxDQXpNQSxBQXlNQyxJQUFBO0FBek1ZLHdDQUFjIiwiZmlsZSI6ImFwcC9qcy9oZWxwZXJzL3BhZ2VfbmF2aWdhdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Q29uZmlndXJhdGlvbkludGVyZmFjZX0gZnJvbSAnLi4vLi4vbW9kZWxzL2NvbmZpZ3VyYXRpb25zL2NvbmZpZ3VyYXRpb25faW50ZXJmYWNlJztcbmltcG9ydCBpMThuID0gcmVxdWlyZSgnaTE4bmV4dCcpO1xuaW1wb3J0ICcuLy4uL2pxdWVyeS52YWxpZGF0ZSc7XG5pbXBvcnQge21lY2hhbmlzbVR5cGVzfSBmcm9tICcuLi9jb25maWcnO1xuXG5cbmV4cG9ydCBjbGFzcyBQYWdlTmF2aWdhdGlvbiB7XG4gICAgY29uZmlndXJhdGlvbjpDb25maWd1cmF0aW9uSW50ZXJmYWNlO1xuICAgIGNvbnRhaW5lcjpKUXVlcnk7XG5cbiAgICBjb25zdHJ1Y3Rvcihjb25maWd1cmF0aW9uOkNvbmZpZ3VyYXRpb25JbnRlcmZhY2UsIGNvbnRhaW5lcjpKUXVlcnkpIHtcbiAgICAgICAgdGhpcy5jb25maWd1cmF0aW9uID0gY29uZmlndXJhdGlvbjtcbiAgICAgICAgdGhpcy5jb250YWluZXIgPSBjb250YWluZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY3VycmVudFBhZ2VcbiAgICAgKiBAcGFyYW0gbmV4dFBhZ2VcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKiAgaW5kaWNhdGVzIHdoZXRoZXIgdGhlIG5hdmlnYXRpb24gZm9yd2FyZCBzaG91bGQgaGFwcGVuICh0cnVlKSBvciBub3QgKGZhbHNlKVxuICAgICAqL1xuICAgIHBhZ2VGb3J3YXJkQ2FsbGJhY2soY3VycmVudFBhZ2UsIG5leHRQYWdlKSB7XG4gICAgICAgIHZhciB0ZXh0TWVjaGFuaXNtcyA9IHRoaXMuY29uZmlndXJhdGlvbi5nZXRNZWNoYW5pc21Db25maWcobWVjaGFuaXNtVHlwZXMudGV4dFR5cGUpO1xuICAgICAgICB2YXIgcmF0aW5nTWVjaGFuaXNtcyA9IHRoaXMuY29uZmlndXJhdGlvbi5nZXRNZWNoYW5pc21Db25maWcobWVjaGFuaXNtVHlwZXMucmF0aW5nVHlwZSk7XG4gICAgICAgIHZhciBzY3JlZW5zaG90TWVjaGFuaXNtcyA9IHRoaXMuY29uZmlndXJhdGlvbi5nZXRNZWNoYW5pc21Db25maWcobWVjaGFuaXNtVHlwZXMuc2NyZWVuc2hvdFR5cGUpO1xuICAgICAgICB2YXIgY2F0ZWdvcnlNZWNoYW5pc21zID0gdGhpcy5jb25maWd1cmF0aW9uLmdldE1lY2hhbmlzbUNvbmZpZyhtZWNoYW5pc21UeXBlcy5jYXRlZ29yeVR5cGUpO1xuICAgICAgICB2YXIgYXVkaW9NZWNoYW5pc21zID0gdGhpcy5jb25maWd1cmF0aW9uLmdldE1lY2hhbmlzbUNvbmZpZyhtZWNoYW5pc21UeXBlcy5hdWRpb1R5cGUpO1xuICAgICAgICB2YXIgYXR0YWNobWVudE1lY2hhbmlzbXMgPSB0aGlzLmNvbmZpZ3VyYXRpb24uZ2V0TWVjaGFuaXNtQ29uZmlnKG1lY2hhbmlzbVR5cGVzLmF0dGFjaG1lbnRUeXBlKTtcblxuICAgICAgICBjdXJyZW50UGFnZS5maW5kKCcudmFsaWRhdGUnKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGpRdWVyeSh0aGlzKS52YWxpZGF0ZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgY3VycmVudFBhZ2UuZmluZCgnLnZhbGlkYXRlLWNhdGVnb3J5JykuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBqUXVlcnkodGhpcykudmFsaWRhdGVDYXRlZ29yeSgpO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoY3VycmVudFBhZ2UuZmluZCgnLmludmFsaWQnKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZighdGhpcy52YWxpZFdpdGhOb01lY2hhbmlzbU1hbmRhdG9yeShjdXJyZW50UGFnZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZXh0UGFnZSkge1xuICAgICAgICAgICAgbmV4dFBhZ2UuZmluZCgnLnRleHQtcmV2aWV3JykuZW1wdHkoKTtcbiAgICAgICAgICAgIG5leHRQYWdlLmZpbmQoJy5yYXRpbmctcmV2aWV3JykuZW1wdHkoKTtcbiAgICAgICAgICAgIG5leHRQYWdlLmZpbmQoJy5zY3JlZW5zaG90LXJldmlldycpLmVtcHR5KCk7XG5cbiAgICAgICAgICAgIGZvciAobGV0IHRleHRNZWNoYW5pc20gb2YgdGV4dE1lY2hhbmlzbXMpIHtcbiAgICAgICAgICAgICAgICBpZiAodGV4dE1lY2hhbmlzbSAhPSBudWxsICYmIG5leHRQYWdlLmZpbmQoJy50ZXh0LXJldmlldycpLmxlbmd0aCA+IDAgJiYgdGV4dE1lY2hhbmlzbS5hY3RpdmUgJiYgdGV4dE1lY2hhbmlzbS5nZXRQYXJhbWV0ZXJWYWx1ZSgncGFnZScpICE9IFwicmV2aWV3XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNlY3Rpb25TZWxlY3RvciA9IFwidGV4dE1lY2hhbmlzbVwiICsgdGV4dE1lY2hhbmlzbS5pZDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHRleHRhcmVhID0gY3VycmVudFBhZ2UuZmluZCgnc2VjdGlvbiMnICsgc2VjdGlvblNlbGVjdG9yICsgJyB0ZXh0YXJlYS50ZXh0LXR5cGUtdGV4dCcpO1xuICAgICAgICAgICAgICAgICAgICBuZXh0UGFnZS5maW5kKCcudGV4dC1yZXZpZXcnKS5hcHBlbmQoJzxwPicgKyB0ZXh0YXJlYS52YWwoKSArICc8L3A+Jyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IobGV0IHJhdGluZ01lY2hhbmlzbSBvZiByYXRpbmdNZWNoYW5pc21zKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJhdGluZ01lY2hhbmlzbSAhPSBudWxsICYmIG5leHRQYWdlLmZpbmQoJy5yYXRpbmctcmV2aWV3JykubGVuZ3RoID4gMCAmJiByYXRpbmdNZWNoYW5pc20uYWN0aXZlICYmIHJhdGluZ01lY2hhbmlzbS5nZXRQYXJhbWV0ZXJWYWx1ZSgncGFnZScpICE9IFwicmV2aWV3XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgbmV4dFBhZ2UuZmluZCgnLnJhdGluZy1yZXZpZXcnKS5hcHBlbmQoaTE4bi50KCdyYXRpbmcucmV2aWV3X3RpdGxlJykgKyBcIjogXCIgKyByYXRpbmdNZWNoYW5pc20uY3VycmVudFJhdGluZ1ZhbHVlICsgXCIgLyBcIiArIHJhdGluZ01lY2hhbmlzbS5nZXRQYXJhbWV0ZXJWYWx1ZShcIm1heFJhdGluZ1wiKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBmb3IobGV0IHNjcmVlbnNob3RNZWNoYW5pc20gb2Ygc2NyZWVuc2hvdE1lY2hhbmlzbXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2NyZWVuc2hvdE1lY2hhbmlzbSAhPSBudWxsICYmIG5leHRQYWdlLmZpbmQoJy5zY3JlZW5zaG90LXJldmlldycpLmxlbmd0aCA+IDAgJiYgc2NyZWVuc2hvdE1lY2hhbmlzbS5hY3RpdmUgJiZcbiAgICAgICAgICAgICAgICAgICAgc2NyZWVuc2hvdE1lY2hhbmlzbS5zY3JlZW5zaG90VmlldyAhPT0gdW5kZWZpbmVkICYmIHNjcmVlbnNob3RNZWNoYW5pc20uc2NyZWVuc2hvdFZpZXcuc2NyZWVuc2hvdENhbnZhcyAhPT0gdW5kZWZpbmVkICYmIHNjcmVlbnNob3RNZWNoYW5pc20uc2NyZWVuc2hvdFZpZXcuc2NyZWVuc2hvdENhbnZhcyAhPT0gbnVsbFxuICAgICAgICAgICAgICAgICAgICAmJiBzY3JlZW5zaG90TWVjaGFuaXNtLmdldFBhcmFtZXRlclZhbHVlKCdwYWdlJykgIT0gXCJyZXZpZXdcIikge1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbWcgPSBqUXVlcnkoJzxpbWcgc3JjPVwiJyArIHNjcmVlbnNob3RNZWNoYW5pc20uc2NyZWVuc2hvdFZpZXcuc2NyZWVuc2hvdENhbnZhcy50b0RhdGFVUkwoKSArICdcIiAvPicpO1xuICAgICAgICAgICAgICAgICAgICBpbWcuY3NzKCd3aWR0aCcsICc0MCUnKTtcbiAgICAgICAgICAgICAgICAgICAgaW1nLmFkZENsYXNzKCdiYXNlJyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzY3JlZW5zaG90UmV2aWV3RWxlbWVudCA9IG5leHRQYWdlLmZpbmQoJy5zY3JlZW5zaG90LXJldmlldycpO1xuICAgICAgICAgICAgICAgICAgICBzY3JlZW5zaG90UmV2aWV3RWxlbWVudC5hcHBlbmQoaW1nKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgc2NyZWVuc2hvdFRleHRSZXZpZXcgPSBqUXVlcnkoJzxwIGNsYXNzPVwic2NyZWVuc2hvdC10ZXh0LXJldmlld1wiPjwvcD4nKTtcbiAgICAgICAgICAgICAgICAgICAgc2NyZWVuc2hvdFJldmlld0VsZW1lbnQuYXBwZW5kKHNjcmVlbnNob3RUZXh0UmV2aWV3KTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPIGdldCB0aGlzIDk2NSBmcm9tIHRoZSBhY3R1YWwgaHRtbFxuICAgICAgICAgICAgICAgICAgICB2YXIgcmF0aW8gPSA5NjUqMC40IC8gc2NyZWVuc2hvdE1lY2hhbmlzbS5zY3JlZW5zaG90Vmlldy5zY3JlZW5zaG90UHJldmlld0VsZW1lbnQud2lkdGgoKTtcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBqUXVlcnkoJ3NlY3Rpb24jc2NyZWVuc2hvdE1lY2hhbmlzbScgKyBzY3JlZW5zaG90TWVjaGFuaXNtLmlkICsgJyAuc3RpY2tlci1jb250YWluZXInKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgeCA9IGpRdWVyeSh0aGlzKS5wb3NpdGlvbigpLmxlZnQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciB5ID0galF1ZXJ5KHRoaXMpLnBvc2l0aW9uKCkudG9wO1xuICAgICAgICAgICAgICAgICAgICB2YXIgd2lkdGggPSBqUXVlcnkodGhpcykud2lkdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhlaWdodCA9IGpRdWVyeSh0aGlzKS5oZWlnaHQoKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgcmV2aWV3Q2xvbmUgPSBqUXVlcnkodGhpcykuY2xvbmUoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV2aWV3Q2xvbmUucmVtb3ZlQ2xhc3MoJ3VpLXJlc2l6YWJsZScpO1xuICAgICAgICAgICAgICAgICAgICByZXZpZXdDbG9uZS5yZW1vdmVDbGFzcygndWktZHJhZ2dhYmxlJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldmlld0Nsb25lLnJlbW92ZUNsYXNzKCd1aS1kcmFnZ2FibGUtaGFuZGxlJyk7XG4gICAgICAgICAgICAgICAgICAgIHJldmlld0Nsb25lLmNzcygnbGVmdCcsIHggKiByYXRpbyArIFwicHhcIik7XG4gICAgICAgICAgICAgICAgICAgIHJldmlld0Nsb25lLmNzcygndG9wJywgeSAqIHJhdGlvICsgXCJweFwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV2aWV3Q2xvbmUuY3NzKCd3aWR0aCcsIHdpZHRoICogcmF0aW8gKyBcInB4XCIpO1xuICAgICAgICAgICAgICAgICAgICByZXZpZXdDbG9uZS5jc3MoJ2hlaWdodCcsIGhlaWdodCAqIHJhdGlvICsgXCJweFwiKTtcbiAgICAgICAgICAgICAgICAgICAgcmV2aWV3Q2xvbmUuY3NzKCdwYWRkaW5nJywgXCIwXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXZpZXdDbG9uZS5hZGRDbGFzcygnc3RpY2tlci1jb250YWluZXItcmV2aWV3Jyk7XG4gICAgICAgICAgICAgICAgICAgIHJldmlld0Nsb25lLmZpbmQoJ2EnKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBhZGp1c3Qgc2l6ZXMgb2YgdGV4dFxuICAgICAgICAgICAgICAgICAgICBpZihqUXVlcnkodGhpcykuaGFzQ2xhc3MoJ3RleHQtMicpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGV4dGFyZWEgPSBqUXVlcnkodGhpcykuZmluZCgndGV4dGFyZWEnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gdGV4dGFyZWEudmFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgb2xkRm9udFNpemUgPSB0ZXh0YXJlYS5jc3MoJ2ZvbnQtc2l6ZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld0ZvbnRTaXplID0gcmF0aW8gKiBwYXJzZUludChvbGRGb250U2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXZpZXdDbG9uZS5maW5kKCd0ZXh0YXJlYScpLnZhbCh0ZXh0KS5jc3MoJ2ZvbnQtc2l6ZScsIG5ld0ZvbnRTaXplICsgJ3B4JykucHJvcChcImRpc2FibGVkXCIsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdGV4dCByZXZpZXcgb24gaG92ZXJcbiAgICAgICAgICAgICAgICAgICAgaWYoalF1ZXJ5KHRoaXMpLmhhc0NsYXNzKCd0ZXh0JykgfHwgalF1ZXJ5KHRoaXMpLmhhc0NsYXNzKCd0ZXh0LTInKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRleHQgPSBqUXVlcnkodGhpcykuZmluZCgndGV4dGFyZWEnKS52YWwoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldmlld0Nsb25lLm9uKCdtb3VzZW92ZXIgbW91c2VlbnRlcicsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpRdWVyeSgnLnNjcmVlbnNob3QtdGV4dC1yZXZpZXcnKS50ZXh0KHRleHQpLmNzcygnZGlzcGxheScsICdpbmxpbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLm9uKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KCcuc2NyZWVuc2hvdC10ZXh0LXJldmlldycpLnRleHQoXCJcIikuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgc2NyZWVuc2hvdFJldmlld0VsZW1lbnQuYXBwZW5kKHJldmlld0Nsb25lKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgY2F0ZWdvcnlNZWNoYW5pc20gb2YgY2F0ZWdvcnlNZWNoYW5pc21zKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNhdGVnb3J5TWVjaGFuaXNtICE9PSBudWxsICYmIG5leHRQYWdlLmZpbmQoJy5jYXRlZ29yeS1yZXZpZXcnKS5sZW5ndGggPiAwICYmIGNhdGVnb3J5TWVjaGFuaXNtLmFjdGl2ZSAmJiBjYXRlZ29yeU1lY2hhbmlzbS5nZXRQYXJhbWV0ZXJWYWx1ZSgncGFnZScpICE9IFwicmV2aWV3XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0U2VsZWN0b3IgPSAnc2VjdGlvbiNjYXRlZ29yeU1lY2hhbmlzbScgKyBjYXRlZ29yeU1lY2hhbmlzbS5pZCArICcuY2F0ZWdvcnktdHlwZSBpbnB1dCc7XG4gICAgICAgICAgICAgICAgICAgIGN1cnJlbnRQYWdlLmZpbmQoaW5wdXRTZWxlY3RvcikuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5wdXQgPSBqUXVlcnkodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2VsZWN0b3IgPSAnaW5wdXQjcmV2aWV3JyArIGlucHV0LmF0dHIoJ2lkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29ycmVzcG9uZGluZ1Jldmlld0lucHV0ID0gbmV4dFBhZ2UuZmluZChzZWxlY3Rvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3JyZXNwb25kaW5nUmV2aWV3SW5wdXQucHJvcChcImNoZWNrZWRcIiwgaW5wdXQuaXMoJzpjaGVja2VkJykpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAobGV0IGF1ZGlvTWVjaGFuaXNtIG9mIGF1ZGlvTWVjaGFuaXNtcykge1xuICAgICAgICAgICAgICAgIGlmIChhdWRpb01lY2hhbmlzbSAhPT0gbnVsbCAmJiBuZXh0UGFnZS5maW5kKCcuYXVkaW8tcmV2aWV3JykubGVuZ3RoID4gMCAmJiBhdWRpb01lY2hhbmlzbS5hY3RpdmUgJiYgYXVkaW9NZWNoYW5pc20uZ2V0UGFyYW1ldGVyVmFsdWUoJ3BhZ2UnKSAhPSBcInJldmlld1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhdWRpbyA9ICBjdXJyZW50UGFnZS5maW5kKCcjYXVkaW9NZWNoYW5pc20nICsgYXVkaW9NZWNoYW5pc20uaWQgKyAnIGF1ZGlvOmZpcnN0Jyk7XG4gICAgICAgICAgICAgICAgICAgIGlmKGF1ZGlvWzBdLmR1cmF0aW9uICYmIGF1ZGlvWzBdLmR1cmF0aW9uID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGF1ZGlvQ29weSA9IGF1ZGlvLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBhdWRpb0NvcHkuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0UGFnZS5maW5kKCcuYXVkaW8tcmV2aWV3JykuZW1wdHkoKS5hcHBlbmQoYXVkaW9Db3B5KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRvIGFkanVzdCBpZiBtdWx0aXBsZSBhdWRpbyBtZWNoYW5pc21zIHNob3VsZCBnZXQgc3VwcG9ydGVkXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0UGFnZS5maW5kKCcuYXVkaW8tcmV2aWV3JykuZW1wdHkoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChsZXQgYXR0YWNobWVudE1lY2hhbmlzbSBvZiBhdHRhY2htZW50TWVjaGFuaXNtcykge1xuICAgICAgICAgICAgICAgIGlmIChhdHRhY2htZW50TWVjaGFuaXNtICE9PSBudWxsICYmIG5leHRQYWdlLmZpbmQoJy5hdHRhY2htZW50LXJldmlldycpLmxlbmd0aCA+IDAgJiYgYXR0YWNobWVudE1lY2hhbmlzbS5hY3RpdmUgJiYgYXR0YWNobWVudE1lY2hhbmlzbS5nZXRQYXJhbWV0ZXJWYWx1ZSgncGFnZScpICE9IFwicmV2aWV3XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlID0gIGN1cnJlbnRQYWdlLmZpbmQoJyNhdHRhY2htZW50TWVjaGFuaXNtJyArIGF0dGFjaG1lbnRNZWNoYW5pc20uaWQgKyAnIHRhYmxlLmN1cnJlbnQtZmlsZXM6Zmlyc3QnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRhYmxlQ29weSA9IHRhYmxlLmNsb25lKCk7XG4gICAgICAgICAgICAgICAgICAgIG5leHRQYWdlLmZpbmQoJy5hdHRhY2htZW50LXJldmlldycpLmVtcHR5KCkuYXBwZW5kKHRhYmxlQ29weSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElmIG5vIG1lY2hhbmlzbSBpcyBtYW5kYXRvcnksIGF0IGxlYXN0IG9uZSBtZWNoYW5zaW0gc2hvdWxkIGJlIHVzZWQgYnkgdGhlIHVzZXIgdG8gaGF2ZSBhIG1lYW5pbmdmdWwgZmVlZGJhY2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY3VycmVudFBhZ2VcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAgICAgKi9cbiAgICB2YWxpZFdpdGhOb01lY2hhbmlzbU1hbmRhdG9yeShjdXJyZW50UGFnZSk6Ym9vbGVhbiB7XG4gICAgICAgIGlmKGN1cnJlbnRQYWdlLmZpbmQoJy5mZWVkYmFjay1tZWNoYW5pc20ubWFuZGF0b3J5JykubGVuZ3RoID09PSAwICYmICF0aGlzLmF0TGVhc3RPbmVNZWNoYW5pc21XYXNVc2VkKGN1cnJlbnRQYWdlKSkge1xuICAgICAgICAgICAgY3VycmVudFBhZ2UucGFyZW50KCkuZmluZCgnLmF0LWxlYXN0LW9uZS1tZWNoYW5pc20nKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIGxldCBlcnJvck1lc3NhZ2UgPSBpMThuLnQoJ2dlbmVyYWwudmFsaWRhdGlvbl9hdF9sZWFzdF9vbmVfbWVjaGFuaXNtJyk7XG4gICAgICAgICAgICBjdXJyZW50UGFnZS5hZnRlcignPHAgY2xhc3M9XCJmZWVkYmFjay1mb3JtLWVycm9yIGF0LWxlYXN0LW9uZS1tZWNoYW5pc21cIj4nICsgZXJyb3JNZXNzYWdlICsgJzwvcD4nKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlLnBhcmVudCgpLmZpbmQoJy5hdC1sZWFzdC1vbmUtbWVjaGFuaXNtJykucmVtb3ZlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgYXRMZWFzdE9uZU1lY2hhbmlzbVdhc1VzZWQoY3VycmVudFBhZ2UpOmJvb2xlYW4ge1xuICAgICAgICBsZXQgbWVjaGFuaXNtV2FzVXNlZCA9IGZhbHNlO1xuXG4gICAgICAgIGN1cnJlbnRQYWdlLmZpbmQoJy5mZWVkYmFjay1tZWNoYW5pc20udGV4dC10eXBlJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGxldCB0ZXh0YXJlYSA9IGpRdWVyeSh0aGlzKS5maW5kKCd0ZXh0YXJlYS50ZXh0LXR5cGUtdGV4dCcpO1xuICAgICAgICAgICAgaWYodGV4dGFyZWEudmFsKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIG1lY2hhbmlzbVdhc1VzZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gb25seSBtZWFuaW5nZnVsIGNhdGVnb3J5IG1lY2hhbmlzbSBzaG91bGQgYWxvbmUgYmUgdmFsaWQgZm9yIGEgZmVlZGJhY2tcbiAgICAgICAgY3VycmVudFBhZ2UuZmluZCgnLmZlZWRiYWNrLW1lY2hhbmlzbS5jYXRlZ29yeS10eXBlLnZhbGlkLW9uLWl0cy1vd24nKS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYoalF1ZXJ5KHRoaXMpLmZpbmQoJ2lucHV0OmNoZWNrZWQnKS5sZW5ndGggPiAwIHx8IGpRdWVyeSh0aGlzKS5maW5kKCcub3duLWNhdGVnb3J5JykudmFsKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIG1lY2hhbmlzbVdhc1VzZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY3VycmVudFBhZ2UuZmluZCgnLmZlZWRiYWNrLW1lY2hhbmlzbS5yYXRpbmctdHlwZS52YWxpZC1vbi1pdHMtb3duJykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmKHBhcnNlSW50KGpRdWVyeSh0aGlzKS5maW5kKCcucmF0aW5nLWlucHV0Jykuc3RhclJhdGluZygnZ2V0UmF0aW5nJykpICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgbWVjaGFuaXNtV2FzVXNlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZihjdXJyZW50UGFnZS5maW5kKCcuZmVlZGJhY2stbWVjaGFuaXNtLnNjcmVlbnNob3QtdHlwZS52YWxpZC1vbi1pdHMtb3duLmRpcnR5JykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgbWVjaGFuaXNtV2FzVXNlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYoY3VycmVudFBhZ2UuZmluZCgnLmZlZWRiYWNrLW1lY2hhbmlzbS5hdWRpby10eXBlLnZhbGlkLW9uLWl0cy1vd24uZGlydHknKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBtZWNoYW5pc21XYXNVc2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtZWNoYW5pc21XYXNVc2VkO1xuICAgIH1cbn0iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

/***/ }),
/* 69 */
/***/ (function(module, exports) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var PaginationContainer = (function () {
	    function PaginationContainer(container, pageNavigation, navigationCallback) {
	        this.container = container;
	        this.pageNavigation = pageNavigation;
	        this.navigationCallback = navigationCallback;
	        this.pages = this.container.find('.feedback-page');
	        this.showFirstPage();
	        this.addNavigationEvents();
	    }
	    PaginationContainer.prototype.showFirstPage = function () {
	        this.pages.hide();
	        this.activePage = 1;
	        this.container.find('.feedback-page[data-feedback-page="1"]').show();
	    };
	    PaginationContainer.prototype.addNavigationEvents = function () {
	        var paginationContainerThis = this;
	        this.container.find('.feedback-dialog-forward').on('click', function (event) {
	            event.preventDefault();
	            event.stopPropagation();
	            paginationContainerThis.navigateForward();
	        });
	        this.container.find('.feedback-dialog-backward').on('click', function (event) {
	            event.preventDefault();
	            event.stopPropagation();
	            paginationContainerThis.navigateBackward();
	        });
	    };
	    PaginationContainer.prototype.navigateForward = function () {
	        var feedbackPage = this.container.find('.feedback-page[data-feedback-page="' + this.activePage + '"]');
	        var nextPage = this.container.find('.feedback-page[data-feedback-page="' + (this.activePage + 1) + '"]');
	        if (this.pageNavigation != null && !this.pageNavigation.pageForwardCallback(feedbackPage, nextPage)) {
	            return;
	        }
	        if (this.activePage < this.pages.length) {
	            this.activePage++;
	        }
	        feedbackPage.hide();
	        nextPage.show();
	        this.navigationCallback(this.activePage);
	        jQuery('html, body').animate({
	            scrollTop: nextPage.offset().top - 100
	        }, 0);
	    };
	    PaginationContainer.prototype.navigateBackward = function () {
	        var feedbackPage = this.container.find('.feedback-page[data-feedback-page="' + this.activePage + '"]');
	        if (this.activePage > 1) {
	            this.activePage--;
	        }
	        feedbackPage.hide();
	        this.container.find('.feedback-page[data-feedback-page="' + this.activePage + '"]').show();
	        this.navigationCallback(this.activePage);
	    };
	    return PaginationContainer;
	}());
	exports.PaginationContainer = PaginationContainer;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC92aWV3cy9wYWdpbmF0aW9uX2NvbnRhaW5lci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQU1BO0lBaUJJLDZCQUFZLFNBQVMsRUFBRSxjQUFlLEVBQUUsa0JBQStDO1FBQ25GLElBQUksQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO1FBQzNCLElBQUksQ0FBQyxjQUFjLEdBQUcsY0FBYyxDQUFDO1FBQ3JDLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxrQkFBa0IsQ0FBQztRQUM3QyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDbkQsSUFBSSxDQUFDLGFBQWEsRUFBRSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxtQkFBbUIsRUFBRSxDQUFDO0lBQy9CLENBQUM7SUFFRCwyQ0FBYSxHQUFiO1FBQ0ksSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNsQixJQUFJLENBQUMsVUFBVSxHQUFHLENBQUMsQ0FBQztRQUNwQixJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyx3Q0FBd0MsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3pFLENBQUM7SUFFRCxpREFBbUIsR0FBbkI7UUFDSSxJQUFJLHVCQUF1QixHQUFHLElBQUksQ0FBQztRQUNuQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQywwQkFBMEIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsVUFBVSxLQUFLO1lBQ3ZFLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUN2QixLQUFLLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDeEIsdUJBQXVCLENBQUMsZUFBZSxFQUFFLENBQUM7UUFDOUMsQ0FBQyxDQUFDLENBQUM7UUFDSCxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQywyQkFBMkIsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxPQUFPLEVBQUUsVUFBVSxLQUFLO1lBQ3hFLEtBQUssQ0FBQyxjQUFjLEVBQUUsQ0FBQztZQUN2QixLQUFLLENBQUMsZUFBZSxFQUFFLENBQUM7WUFDeEIsdUJBQXVCLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUMvQyxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFLRCw2Q0FBZSxHQUFmO1FBQ0ksSUFBSSxZQUFZLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMscUNBQXFDLEdBQUcsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUMsQ0FBQztRQUN2RyxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxxQ0FBcUMsR0FBRyxDQUFDLElBQUksQ0FBQyxVQUFVLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7UUFDekcsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLGNBQWMsSUFBSSxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLG1CQUFtQixDQUFDLFlBQVksRUFBRSxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDakcsTUFBTSxDQUFDO1FBQ1gsQ0FBQztRQUVELEVBQUUsQ0FBQSxDQUFDLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDO1lBQ3JDLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUN0QixDQUFDO1FBQ0QsWUFBWSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ3BCLFFBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUVoQixJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO1FBR3pDLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxPQUFPLENBQUM7WUFDekIsU0FBUyxFQUFFLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsR0FBRztTQUN6QyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ1YsQ0FBQztJQUVELDhDQUFnQixHQUFoQjtRQUNJLElBQUksWUFBWSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLHFDQUFxQyxHQUFHLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLENBQUM7UUFDdkcsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3JCLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztRQUN0QixDQUFDO1FBQ0QsWUFBWSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ3BCLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLHFDQUFxQyxHQUFHLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7UUFFM0YsSUFBSSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUM3QyxDQUFDO0lBQ0wsMEJBQUM7QUFBRCxDQWhGQSxBQWdGQyxJQUFBO0FBaEZZLGtEQUFtQiIsImZpbGUiOiJhcHAvdmlld3MvcGFnaW5hdGlvbl9jb250YWluZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1BhZ2VOYXZpZ2F0aW9ufSBmcm9tICcuLi9qcy9oZWxwZXJzL3BhZ2VfbmF2aWdhdGlvbic7XG5cblxuLyoqXG4gKiBDbGFzcyB0aGF0IHNpbXBseSBwcm92aWRlcyBhIHBhZ2luYXRpb24gbWVjaGFuaXNtIGJ5IHNob3dpbmcvaGlkaW5nIHNvbWUgZWxlbWVudHMocGFnZXMpXG4gKi9cbmV4cG9ydCBjbGFzcyBQYWdpbmF0aW9uQ29udGFpbmVyIHtcbiAgICBjb250YWluZXI6SlF1ZXJ5O1xuICAgIHBhZ2VzOkpRdWVyeTtcbiAgICB0aXRsZXM6YW55O1xuICAgIGFjdGl2ZVBhZ2U6bnVtYmVyO1xuICAgIHBhZ2VOYXZpZ2F0aW9uOlBhZ2VOYXZpZ2F0aW9uO1xuICAgIG5hdmlnYXRpb25DYWxsYmFjazphbnk7XG5cbiAgICAvKipcbiAgICAgKlxuICAgICAqIEBwYXJhbSBjb250YWluZXJcbiAgICAgKiAgVGhlIGVsZW1lbnQgdGhhdCBjb250YWlucyB0aGUgcGFnZXMgYW5kIGJ1dHRvbnMgdG8gbW92ZSBmb3J3YXJkIG9yIGJhY2t3YXJkXG4gICAgICogQHBhcmFtIHBhZ2VOYXZpZ2F0aW9uXG4gICAgICogIE9iamVjdCB0aGF0IGhhcyBhIG1ldGhvZCB3aGljaCBpcyBjYWxsZWQgb24gZm9yd2FyZCBuYXZpZ2F0aW9uXG4gICAgICogQHBhcmFtIG5hdmlnYXRpb25DYWxsYmFja1xuICAgICAqICBNZXRob2QgdGhhdCBpcyBjYWxsZWQgd2hlbiB0aGUgcGFnZSBjaGFuZ2VzLiBIYXMgdGhlIHBhZ2UgbnVtYmVyIG9mIHRoZSBwYWdlIGFmdGVyIGNoYW5nZSBhcyBwYXJhbWV0ZXIuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29udGFpbmVyLCBwYWdlTmF2aWdhdGlvbj8sIG5hdmlnYXRpb25DYWxsYmFjaz86KHBhZ2VOdW1iZXI6bnVtYmVyKSA9PiB2b2lkKSB7XG4gICAgICAgIHRoaXMuY29udGFpbmVyID0gY29udGFpbmVyO1xuICAgICAgICB0aGlzLnBhZ2VOYXZpZ2F0aW9uID0gcGFnZU5hdmlnYXRpb247XG4gICAgICAgIHRoaXMubmF2aWdhdGlvbkNhbGxiYWNrID0gbmF2aWdhdGlvbkNhbGxiYWNrO1xuICAgICAgICB0aGlzLnBhZ2VzID0gdGhpcy5jb250YWluZXIuZmluZCgnLmZlZWRiYWNrLXBhZ2UnKTtcbiAgICAgICAgdGhpcy5zaG93Rmlyc3RQYWdlKCk7XG4gICAgICAgIHRoaXMuYWRkTmF2aWdhdGlvbkV2ZW50cygpO1xuICAgIH1cblxuICAgIHNob3dGaXJzdFBhZ2UoKSB7XG4gICAgICAgIHRoaXMucGFnZXMuaGlkZSgpO1xuICAgICAgICB0aGlzLmFjdGl2ZVBhZ2UgPSAxO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5maW5kKCcuZmVlZGJhY2stcGFnZVtkYXRhLWZlZWRiYWNrLXBhZ2U9XCIxXCJdJykuc2hvdygpO1xuICAgIH1cblxuICAgIGFkZE5hdmlnYXRpb25FdmVudHMoKSB7XG4gICAgICAgIHZhciBwYWdpbmF0aW9uQ29udGFpbmVyVGhpcyA9IHRoaXM7XG4gICAgICAgIHRoaXMuY29udGFpbmVyLmZpbmQoJy5mZWVkYmFjay1kaWFsb2ctZm9yd2FyZCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgcGFnaW5hdGlvbkNvbnRhaW5lclRoaXMubmF2aWdhdGVGb3J3YXJkKCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5maW5kKCcuZmVlZGJhY2stZGlhbG9nLWJhY2t3YXJkJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBwYWdpbmF0aW9uQ29udGFpbmVyVGhpcy5uYXZpZ2F0ZUJhY2t3YXJkKCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNob3dzIHRoZSBuZXh0IHBhZ2UgaWYgYW55LiBBZGRpdGlvbmFsbHksIGl0IGNvcGllcyB0aGUgZGF0YSBmcm9tIHByZXZpb3VzIHBhZ2VzIHRvIHRoZSByZXZpZXcgc2VjdGlvbi5cbiAgICAgKi9cbiAgICBuYXZpZ2F0ZUZvcndhcmQoKSB7XG4gICAgICAgIHZhciBmZWVkYmFja1BhZ2UgPSB0aGlzLmNvbnRhaW5lci5maW5kKCcuZmVlZGJhY2stcGFnZVtkYXRhLWZlZWRiYWNrLXBhZ2U9XCInICsgdGhpcy5hY3RpdmVQYWdlICsgJ1wiXScpO1xuICAgICAgICB2YXIgbmV4dFBhZ2UgPSB0aGlzLmNvbnRhaW5lci5maW5kKCcuZmVlZGJhY2stcGFnZVtkYXRhLWZlZWRiYWNrLXBhZ2U9XCInICsgKHRoaXMuYWN0aXZlUGFnZSArIDEpICsgJ1wiXScpO1xuICAgICAgICBpZih0aGlzLnBhZ2VOYXZpZ2F0aW9uICE9IG51bGwgJiYgIXRoaXMucGFnZU5hdmlnYXRpb24ucGFnZUZvcndhcmRDYWxsYmFjayhmZWVkYmFja1BhZ2UsIG5leHRQYWdlKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYodGhpcy5hY3RpdmVQYWdlIDwgdGhpcy5wYWdlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMuYWN0aXZlUGFnZSsrO1xuICAgICAgICB9XG4gICAgICAgIGZlZWRiYWNrUGFnZS5oaWRlKCk7XG4gICAgICAgIG5leHRQYWdlLnNob3coKTtcblxuICAgICAgICB0aGlzLm5hdmlnYXRpb25DYWxsYmFjayh0aGlzLmFjdGl2ZVBhZ2UpO1xuXG4gICAgICAgIC8vIHNob3cgdG9wIG9mIGRpYWxvZ1xuICAgICAgICBqUXVlcnkoJ2h0bWwsIGJvZHknKS5hbmltYXRlKHtcbiAgICAgICAgICAgIHNjcm9sbFRvcDogbmV4dFBhZ2Uub2Zmc2V0KCkudG9wIC0gMTAwXG4gICAgICAgIH0sIDApO1xuICAgIH1cblxuICAgIG5hdmlnYXRlQmFja3dhcmQoKSB7XG4gICAgICAgIHZhciBmZWVkYmFja1BhZ2UgPSB0aGlzLmNvbnRhaW5lci5maW5kKCcuZmVlZGJhY2stcGFnZVtkYXRhLWZlZWRiYWNrLXBhZ2U9XCInICsgdGhpcy5hY3RpdmVQYWdlICsgJ1wiXScpO1xuICAgICAgICBpZih0aGlzLmFjdGl2ZVBhZ2UgPiAxKSB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZVBhZ2UtLTtcbiAgICAgICAgfVxuICAgICAgICBmZWVkYmFja1BhZ2UuaGlkZSgpO1xuICAgICAgICB0aGlzLmNvbnRhaW5lci5maW5kKCcuZmVlZGJhY2stcGFnZVtkYXRhLWZlZWRiYWNrLXBhZ2U9XCInICsgdGhpcy5hY3RpdmVQYWdlICsgJ1wiXScpLnNob3coKTtcblxuICAgICAgICB0aGlzLm5hdmlnYXRpb25DYWxsYmFjayh0aGlzLmFjdGl2ZVBhZ2UpO1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/***/ }),
/* 70 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var config_1 = __webpack_require__(21);
	var validationMessages = {
	    textMechanism: {
	        noText: 'Please input a text'
	    }
	};
	var Feedback = (function () {
	    function Feedback(title, userIdentification, language, applicationId, configurationId, ratingFeedbacks, textFeedbacks, screenshotFeedbacks, categoryFeedbacks, contextInformation, attachmentFeedbacks, audioFeedbacks) {
	        this.title = title;
	        this.userIdentification = userIdentification;
	        this.language = language;
	        this.applicationId = applicationId;
	        this.configurationId = configurationId;
	        this.ratingFeedbacks = ratingFeedbacks;
	        this.textFeedbacks = textFeedbacks;
	        this.screenshotFeedbacks = screenshotFeedbacks;
	        this.categoryFeedbacks = categoryFeedbacks;
	        this.contextInformation = contextInformation;
	        this.attachmentFeedbacks = attachmentFeedbacks;
	        this.audioFeedbacks = audioFeedbacks;
	    }
	    Feedback.prototype.validate = function (configuration) {
	        var textMechanisms = configuration.getMechanismConfig(config_1.mechanismTypes.textType);
	        var errors = { textMechanisms: [], ratingMechanisms: [], general: [] };
	        this.validateTextMechanism(textMechanisms, errors);
	        if (errors.textMechanisms.length === 0 && errors.ratingMechanisms.length === 0 && errors.general.length === 0) {
	            return true;
	        }
	        else {
	            return errors;
	        }
	    };
	    Feedback.prototype.validateTextMechanism = function (textMechanisms, errors) {
	        for (var _i = 0, textMechanisms_1 = textMechanisms; _i < textMechanisms_1.length; _i++) {
	            var textMechanism = textMechanisms_1[_i];
	            if (textMechanism) {
	                if (textMechanism.text === null || textMechanism.text === '') {
	                    errors.textMechanism.push(validationMessages.textMechanism.noText);
	                }
	            }
	        }
	    };
	    return Feedback;
	}());
	exports.Feedback = Feedback;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvZmVlZGJhY2tzL2ZlZWRiYWNrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsMENBQStDO0FBWS9DLElBQU0sa0JBQWtCLEdBQUc7SUFDekIsYUFBYSxFQUFFO1FBQ1gsTUFBTSxFQUFFLHFCQUFxQjtLQUNoQztDQUNGLENBQUM7QUFHRjtJQWNJLGtCQUFZLEtBQVksRUFBRSxrQkFBeUIsRUFBRSxRQUFlLEVBQUUsYUFBb0IsRUFBRSxlQUFzQixFQUN0RyxlQUFnQyxFQUFFLGFBQTRCLEVBQUUsbUJBQXdDLEVBQ3hHLGlCQUFvQyxFQUFFLGtCQUFxQyxFQUMzRSxtQkFBd0MsRUFBRSxjQUE4QjtRQUNoRixJQUFJLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztRQUNuQixJQUFJLENBQUMsa0JBQWtCLEdBQUcsa0JBQWtCLENBQUM7UUFDN0MsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekIsSUFBSSxDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUM7UUFDbkMsSUFBSSxDQUFDLGVBQWUsR0FBRyxlQUFlLENBQUM7UUFDdkMsSUFBSSxDQUFDLGVBQWUsR0FBRyxlQUFlLENBQUM7UUFDdkMsSUFBSSxDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUM7UUFDbkMsSUFBSSxDQUFDLG1CQUFtQixHQUFHLG1CQUFtQixDQUFDO1FBQy9DLElBQUksQ0FBQyxpQkFBaUIsR0FBRyxpQkFBaUIsQ0FBQztRQUMzQyxJQUFJLENBQUMsa0JBQWtCLEdBQUcsa0JBQWtCLENBQUM7UUFDN0MsSUFBSSxDQUFDLG1CQUFtQixHQUFHLG1CQUFtQixDQUFDO1FBQy9DLElBQUksQ0FBQyxjQUFjLEdBQUcsY0FBYyxDQUFDO0lBQ3pDLENBQUM7SUFTRCwyQkFBUSxHQUFSLFVBQVMsYUFBZ0M7UUFDckMsSUFBSSxjQUFjLEdBQUcsYUFBYSxDQUFDLGtCQUFrQixDQUFDLHVCQUFjLENBQUMsUUFBUSxDQUFDLENBQUM7UUFDL0UsSUFBSSxNQUFNLEdBQUcsRUFBQyxjQUFjLEVBQUUsRUFBRSxFQUFFLGdCQUFnQixFQUFFLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFDLENBQUM7UUFFckUsSUFBSSxDQUFDLHFCQUFxQixDQUFDLGNBQWMsRUFBRSxNQUFNLENBQUMsQ0FBQztRQUVuRCxFQUFFLENBQUEsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksTUFBTSxDQUFDLGdCQUFnQixDQUFDLE1BQU0sS0FBSyxDQUFDLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUMzRyxNQUFNLENBQUMsSUFBSSxDQUFDO1FBQ2hCLENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNKLE1BQU0sQ0FBQyxNQUFNLENBQUM7UUFDbEIsQ0FBQztJQUNMLENBQUM7SUFFTyx3Q0FBcUIsR0FBN0IsVUFBOEIsY0FBYyxFQUFFLE1BQU07UUFDaEQsR0FBRyxDQUFBLENBQXNCLFVBQWMsRUFBZCxpQ0FBYyxFQUFkLDRCQUFjLEVBQWQsSUFBYztZQUFuQyxJQUFJLGFBQWEsdUJBQUE7WUFDakIsRUFBRSxDQUFBLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQztnQkFDZixFQUFFLENBQUEsQ0FBQyxhQUFhLENBQUMsSUFBSSxLQUFLLElBQUksSUFBSSxhQUFhLENBQUMsSUFBSSxLQUFLLEVBQUUsQ0FBQyxDQUFDLENBQUM7b0JBQzFELE1BQU0sQ0FBQyxhQUFhLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDdkUsQ0FBQztZQUNMLENBQUM7U0FDSjtJQUNMLENBQUM7SUFDTCxlQUFDO0FBQUQsQ0E3REEsQUE2REMsSUFBQTtBQTdEWSw0QkFBUSIsImZpbGUiOiJhcHAvbW9kZWxzL2ZlZWRiYWNrcy9mZWVkYmFjay5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7bWVjaGFuaXNtVHlwZXN9IGZyb20gJy4uLy4uL2pzL2NvbmZpZyc7XG5pbXBvcnQge1B1c2hDb25maWd1cmF0aW9ufSBmcm9tICcuLi9jb25maWd1cmF0aW9ucy9wdXNoX2NvbmZpZ3VyYXRpb24nO1xuaW1wb3J0IHtUZXh0RmVlZGJhY2t9IGZyb20gJy4vdGV4dF9mZWVkYmFjayc7XG5pbXBvcnQge1JhdGluZ0ZlZWRiYWNrfSBmcm9tICcuL3JhdGluZ19mZWVkYmFjayc7XG5pbXBvcnQge1NjcmVlbnNob3RGZWVkYmFja30gZnJvbSAnLi9zY3JlZW5zaG90X2ZlZWRiYWNrJztcbmltcG9ydCB7Q2F0ZWdvcnlGZWVkYmFja30gZnJvbSAnLi9jYXRlZ29yeV9mZWVkYmFjayc7XG5pbXBvcnQge0NvbnRleHRJbmZvcm1hdGlvbn0gZnJvbSAnLi9jb250ZXh0X2luZm9ybWF0aW9uJztcbmltcG9ydCB7QXR0YWNobWVudE1lY2hhbmlzbX0gZnJvbSAnLi4vbWVjaGFuaXNtcy9hdHRhY2htZW50X21lY2hhbmlzbSc7XG5pbXBvcnQge0F0dGFjaG1lbnRGZWVkYmFja30gZnJvbSAnLi9hdHRhY2htZW50X2ZlZWRiYWNrJztcbmltcG9ydCB7QXVkaW9GZWVkYmFja30gZnJvbSAnLi9hdWRpb19mZWVkYmFjayc7XG5cblxuY29uc3QgdmFsaWRhdGlvbk1lc3NhZ2VzID0ge1xuICB0ZXh0TWVjaGFuaXNtOiB7XG4gICAgICBub1RleHQ6ICdQbGVhc2UgaW5wdXQgYSB0ZXh0J1xuICB9XG59O1xuXG5cbmV4cG9ydCBjbGFzcyBGZWVkYmFjayB7XG4gICAgdGl0bGU6c3RyaW5nO1xuICAgIHVzZXJJZGVudGlmaWNhdGlvbjpzdHJpbmc7XG4gICAgbGFuZ3VhZ2U6c3RyaW5nO1xuICAgIGFwcGxpY2F0aW9uSWQ6bnVtYmVyO1xuICAgIGNvbmZpZ3VyYXRpb25JZDpudW1iZXI7XG4gICAgcmF0aW5nRmVlZGJhY2tzOlJhdGluZ0ZlZWRiYWNrW107XG4gICAgdGV4dEZlZWRiYWNrczpUZXh0RmVlZGJhY2tbXTtcbiAgICBzY3JlZW5zaG90RmVlZGJhY2tzOlNjcmVlbnNob3RGZWVkYmFja1tdO1xuICAgIGNhdGVnb3J5RmVlZGJhY2tzOkNhdGVnb3J5RmVlZGJhY2tbXTtcbiAgICBjb250ZXh0SW5mb3JtYXRpb246Q29udGV4dEluZm9ybWF0aW9uO1xuICAgIGF0dGFjaG1lbnRGZWVkYmFja3M6QXR0YWNobWVudEZlZWRiYWNrW107XG4gICAgYXVkaW9GZWVkYmFja3M6QXVkaW9GZWVkYmFja1tdO1xuXG4gICAgY29uc3RydWN0b3IodGl0bGU6c3RyaW5nLCB1c2VySWRlbnRpZmljYXRpb246c3RyaW5nLCBsYW5ndWFnZTpzdHJpbmcsIGFwcGxpY2F0aW9uSWQ6bnVtYmVyLCBjb25maWd1cmF0aW9uSWQ6bnVtYmVyLFxuICAgICAgICAgICAgICAgIHJhdGluZ0ZlZWRiYWNrczpSYXRpbmdGZWVkYmFja1tdLCB0ZXh0RmVlZGJhY2tzOlRleHRGZWVkYmFja1tdLCBzY3JlZW5zaG90RmVlZGJhY2tzOlNjcmVlbnNob3RGZWVkYmFja1tdLFxuICAgICAgICAgICAgICAgIGNhdGVnb3J5RmVlZGJhY2tzOkNhdGVnb3J5RmVlZGJhY2tbXSwgY29udGV4dEluZm9ybWF0aW9uOkNvbnRleHRJbmZvcm1hdGlvbixcbiAgICAgICAgICAgICAgICBhdHRhY2htZW50RmVlZGJhY2tzOkF0dGFjaG1lbnRGZWVkYmFja1tdLCBhdWRpb0ZlZWRiYWNrczpBdWRpb0ZlZWRiYWNrW10pIHtcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xuICAgICAgICB0aGlzLnVzZXJJZGVudGlmaWNhdGlvbiA9IHVzZXJJZGVudGlmaWNhdGlvbjtcbiAgICAgICAgdGhpcy5sYW5ndWFnZSA9IGxhbmd1YWdlO1xuICAgICAgICB0aGlzLmFwcGxpY2F0aW9uSWQgPSBhcHBsaWNhdGlvbklkO1xuICAgICAgICB0aGlzLmNvbmZpZ3VyYXRpb25JZCA9IGNvbmZpZ3VyYXRpb25JZDtcbiAgICAgICAgdGhpcy5yYXRpbmdGZWVkYmFja3MgPSByYXRpbmdGZWVkYmFja3M7XG4gICAgICAgIHRoaXMudGV4dEZlZWRiYWNrcyA9IHRleHRGZWVkYmFja3M7XG4gICAgICAgIHRoaXMuc2NyZWVuc2hvdEZlZWRiYWNrcyA9IHNjcmVlbnNob3RGZWVkYmFja3M7XG4gICAgICAgIHRoaXMuY2F0ZWdvcnlGZWVkYmFja3MgPSBjYXRlZ29yeUZlZWRiYWNrcztcbiAgICAgICAgdGhpcy5jb250ZXh0SW5mb3JtYXRpb24gPSBjb250ZXh0SW5mb3JtYXRpb247XG4gICAgICAgIHRoaXMuYXR0YWNobWVudEZlZWRiYWNrcyA9IGF0dGFjaG1lbnRGZWVkYmFja3M7XG4gICAgICAgIHRoaXMuYXVkaW9GZWVkYmFja3MgPSBhdWRpb0ZlZWRiYWNrcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gY29uZmlndXJhdGlvblxuICAgICAqICBUaGUgY29uZmlndXJhdGlvbiBvYmplY3QgdXNlZCB0byBjb25maWd1cmUgdGhlIGZlZWRiYWNrIG1lY2hhbmlzbXMuXG4gICAgICogQHJldHVybnNcbiAgICAgKiAgSWYgdGhlIHZhbGlkYXRpb24gd2FzIHN1Y2Nlc3NmdWw6IHRydWVcbiAgICAgKiAgT3RoZXJ3aXNlOiBBbiBvYmplY3Qgd2l0aCBlcnJvciBtZXNzYWdlc1xuICAgICAqL1xuICAgIHZhbGlkYXRlKGNvbmZpZ3VyYXRpb246IFB1c2hDb25maWd1cmF0aW9uKTogYW55IHtcbiAgICAgICAgdmFyIHRleHRNZWNoYW5pc21zID0gY29uZmlndXJhdGlvbi5nZXRNZWNoYW5pc21Db25maWcobWVjaGFuaXNtVHlwZXMudGV4dFR5cGUpO1xuICAgICAgICB2YXIgZXJyb3JzID0ge3RleHRNZWNoYW5pc21zOiBbXSwgcmF0aW5nTWVjaGFuaXNtczogW10sIGdlbmVyYWw6IFtdfTtcblxuICAgICAgICB0aGlzLnZhbGlkYXRlVGV4dE1lY2hhbmlzbSh0ZXh0TWVjaGFuaXNtcywgZXJyb3JzKTtcblxuICAgICAgICBpZihlcnJvcnMudGV4dE1lY2hhbmlzbXMubGVuZ3RoID09PSAwICYmIGVycm9ycy5yYXRpbmdNZWNoYW5pc21zLmxlbmd0aCA9PT0gMCAmJiBlcnJvcnMuZ2VuZXJhbC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGVycm9ycztcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgdmFsaWRhdGVUZXh0TWVjaGFuaXNtKHRleHRNZWNoYW5pc21zLCBlcnJvcnMpIHtcbiAgICAgICAgZm9yKHZhciB0ZXh0TWVjaGFuaXNtIG9mIHRleHRNZWNoYW5pc21zKSB7XG4gICAgICAgICAgICBpZih0ZXh0TWVjaGFuaXNtKSB7XG4gICAgICAgICAgICAgICAgaWYodGV4dE1lY2hhbmlzbS50ZXh0ID09PSBudWxsIHx8IHRleHRNZWNoYW5pc20udGV4dCA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzLnRleHRNZWNoYW5pc20ucHVzaCh2YWxpZGF0aW9uTWVzc2FnZXMudGV4dE1lY2hhbmlzbS5ub1RleHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/***/ }),
/* 71 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var category_feedback_1 = __webpack_require__(39);
	var CategoryView = (function () {
	    function CategoryView(categoryMechanism) {
	        this.categoryMechanism = categoryMechanism;
	        this.coordinateOwnInputAndRadioBoxes();
	    }
	    CategoryView.prototype.getCategoryFeedbacks = function () {
	        var inputSelector = this.getInputSelector();
	        var categoryFeedbacks = [];
	        jQuery(inputSelector).each(function () {
	            var input = jQuery(this);
	            if ((input.attr('type') === 'checkbox' || input.attr('type') === 'radio') && input.is(':checked')) {
	                categoryFeedbacks.push(new category_feedback_1.CategoryFeedback(input.data('parameter-id'), ""));
	            }
	            else if (input.attr('type') === 'text' && input.val() !== "") {
	                categoryFeedbacks.push(new category_feedback_1.CategoryFeedback(null, input.val()));
	            }
	        });
	        return categoryFeedbacks;
	    };
	    CategoryView.prototype.getInputSelector = function () {
	        return 'section#categoryMechanism' + this.categoryMechanism.id + '.category-type input';
	    };
	    CategoryView.prototype.coordinateOwnInputAndRadioBoxes = function () {
	        if (this.categoryMechanism.active && this.categoryMechanism.getParameterValue('multiple') === 0 && this.categoryMechanism.getParameterValue('ownAllowed') === 1) {
	            var ownTextInput = jQuery(this.getInputSelector() + '.own-category');
	            var radioInputs = jQuery(this.getInputSelector() + '[type="radio"]');
	            ownTextInput.on('keyup change', function () {
	                if (jQuery(this).val().length > 0) {
	                    radioInputs.each(function () {
	                        jQuery(this).prop('checked', false);
	                    });
	                }
	            });
	            radioInputs.on('change', function () {
	                if (jQuery(this).is(':checked')) {
	                    ownTextInput.val("");
	                }
	            });
	        }
	    };
	    CategoryView.prototype.reset = function () {
	        jQuery(this.getInputSelector()).each(function () {
	            jQuery(this).prop('checked', false);
	        });
	    };
	    return CategoryView;
	}());
	exports.CategoryView = CategoryView;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC92aWV3cy9jYXRlZ29yeS9jYXRlZ29yeV92aWV3LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUEsOEVBQTBFO0FBSzFFO0lBRUksc0JBQW9CLGlCQUFtQztRQUFuQyxzQkFBaUIsR0FBakIsaUJBQWlCLENBQWtCO1FBQ25ELElBQUksQ0FBQywrQkFBK0IsRUFBRSxDQUFDO0lBQzNDLENBQUM7SUFFRCwyQ0FBb0IsR0FBcEI7UUFDSSxJQUFJLGFBQWEsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztRQUM1QyxJQUFJLGlCQUFpQixHQUFzQixFQUFFLENBQUM7UUFFOUMsTUFBTSxDQUFDLGFBQWEsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUN2QixJQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7WUFFekIsRUFBRSxDQUFBLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLFVBQVUsSUFBSSxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLE9BQU8sQ0FBQyxJQUFJLEtBQUssQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dCQUMvRixpQkFBaUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxvQ0FBZ0IsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDakYsQ0FBQztZQUFDLElBQUksQ0FBQyxFQUFFLENBQUEsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxLQUFLLE1BQU0sSUFBSSxLQUFLLENBQUMsR0FBRyxFQUFFLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztnQkFDNUQsaUJBQWlCLENBQUMsSUFBSSxDQUFDLElBQUksb0NBQWdCLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7WUFDcEUsQ0FBQztRQUNMLENBQUMsQ0FBQyxDQUFDO1FBRUgsTUFBTSxDQUFDLGlCQUFpQixDQUFDO0lBQzdCLENBQUM7SUFFRCx1Q0FBZ0IsR0FBaEI7UUFDSSxNQUFNLENBQUMsMkJBQTJCLEdBQUcsSUFBSSxDQUFDLGlCQUFpQixDQUFDLEVBQUUsR0FBRyxzQkFBc0IsQ0FBQztJQUM1RixDQUFDO0lBRUQsc0RBQStCLEdBQS9CO1FBRUksRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUMsaUJBQWlCLENBQUMsaUJBQWlCLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQyxJQUFJLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxpQkFBaUIsQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQzdKLElBQUksWUFBWSxHQUFHLE1BQU0sQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsR0FBRyxlQUFlLENBQUMsQ0FBQztZQUNyRSxJQUFJLFdBQVcsR0FBRyxNQUFNLENBQUMsSUFBSSxDQUFDLGdCQUFnQixFQUFFLEdBQUcsZ0JBQWdCLENBQUMsQ0FBQztZQUdyRSxZQUFZLENBQUMsRUFBRSxDQUFDLGNBQWMsRUFBRTtnQkFDNUIsRUFBRSxDQUFBLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUMvQixXQUFXLENBQUMsSUFBSSxDQUFDO3dCQUNiLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFFLEtBQUssQ0FBQyxDQUFDO29CQUN4QyxDQUFDLENBQUMsQ0FBQztnQkFDUCxDQUFDO1lBQ0wsQ0FBQyxDQUFDLENBQUM7WUFHSCxXQUFXLENBQUMsRUFBRSxDQUFDLFFBQVEsRUFBRTtnQkFDckIsRUFBRSxDQUFBLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUUsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUM7b0JBQzdCLFlBQVksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLENBQUM7Z0JBQ3pCLENBQUM7WUFDTCxDQUFDLENBQUMsQ0FBQztRQUNQLENBQUM7SUFDTCxDQUFDO0lBRUQsNEJBQUssR0FBTDtRQUNJLE1BQU0sQ0FBQyxJQUFJLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUNsQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxLQUFLLENBQUMsQ0FBQztRQUN2QyxDQUFDLENBQUMsQ0FBQztJQUNQLENBQUM7SUFDTCxtQkFBQztBQUFELENBeERBLEFBd0RDLElBQUE7QUF4RFksb0NBQVkiLCJmaWxlIjoiYXBwL3ZpZXdzL2NhdGVnb3J5L2NhdGVnb3J5X3ZpZXcuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge0NhdGVnb3J5RmVlZGJhY2t9IGZyb20gJy4uLy4uL21vZGVscy9mZWVkYmFja3MvY2F0ZWdvcnlfZmVlZGJhY2snO1xuaW1wb3J0IHtDYXRlZ29yeU1lY2hhbmlzbX0gZnJvbSAnLi4vLi4vbW9kZWxzL21lY2hhbmlzbXMvY2F0ZWdvcnlfbWVjaGFuaXNtJztcbmltcG9ydCB7TWVjaGFuaXNtVmlld30gZnJvbSAnLi4vbWVjaGFuaXNtX3ZpZXcnO1xuXG5cbmV4cG9ydCBjbGFzcyBDYXRlZ29yeVZpZXcgaW1wbGVtZW50cyBNZWNoYW5pc21WaWV3IHtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY2F0ZWdvcnlNZWNoYW5pc206Q2F0ZWdvcnlNZWNoYW5pc20pIHtcbiAgICAgICAgdGhpcy5jb29yZGluYXRlT3duSW5wdXRBbmRSYWRpb0JveGVzKCk7XG4gICAgfVxuXG4gICAgZ2V0Q2F0ZWdvcnlGZWVkYmFja3MoKTogQ2F0ZWdvcnlGZWVkYmFja1tdIHtcbiAgICAgICAgbGV0IGlucHV0U2VsZWN0b3IgPSB0aGlzLmdldElucHV0U2VsZWN0b3IoKTtcbiAgICAgICAgbGV0IGNhdGVnb3J5RmVlZGJhY2tzOkNhdGVnb3J5RmVlZGJhY2tbXSA9IFtdO1xuXG4gICAgICAgIGpRdWVyeShpbnB1dFNlbGVjdG9yKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGxldCBpbnB1dCA9IGpRdWVyeSh0aGlzKTtcblxuICAgICAgICAgICAgaWYoKGlucHV0LmF0dHIoJ3R5cGUnKSA9PT0gJ2NoZWNrYm94JyB8fCBpbnB1dC5hdHRyKCd0eXBlJykgPT09ICdyYWRpbycpICYmIGlucHV0LmlzKCc6Y2hlY2tlZCcpKSB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlGZWVkYmFja3MucHVzaChuZXcgQ2F0ZWdvcnlGZWVkYmFjayhpbnB1dC5kYXRhKCdwYXJhbWV0ZXItaWQnKSwgXCJcIikpO1xuICAgICAgICAgICAgfSBlbHNlIGlmKGlucHV0LmF0dHIoJ3R5cGUnKSA9PT0gJ3RleHQnICYmIGlucHV0LnZhbCgpICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnlGZWVkYmFja3MucHVzaChuZXcgQ2F0ZWdvcnlGZWVkYmFjayhudWxsLCBpbnB1dC52YWwoKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gY2F0ZWdvcnlGZWVkYmFja3M7XG4gICAgfVxuXG4gICAgZ2V0SW5wdXRTZWxlY3RvcigpIHtcbiAgICAgICAgcmV0dXJuICdzZWN0aW9uI2NhdGVnb3J5TWVjaGFuaXNtJyArIHRoaXMuY2F0ZWdvcnlNZWNoYW5pc20uaWQgKyAnLmNhdGVnb3J5LXR5cGUgaW5wdXQnO1xuICAgIH1cblxuICAgIGNvb3JkaW5hdGVPd25JbnB1dEFuZFJhZGlvQm94ZXMoKSB7XG4gICAgICAgIC8vIHNldCBjb25zdHJhaW50cyBiZXR3ZWVuIHJhZGlvIGJveGVzIGFuZCBvd24gaW5wdXQgZmllbGRzXG4gICAgICAgIGlmKHRoaXMuY2F0ZWdvcnlNZWNoYW5pc20uYWN0aXZlICYmIHRoaXMuY2F0ZWdvcnlNZWNoYW5pc20uZ2V0UGFyYW1ldGVyVmFsdWUoJ211bHRpcGxlJykgPT09IDAgJiYgdGhpcy5jYXRlZ29yeU1lY2hhbmlzbS5nZXRQYXJhbWV0ZXJWYWx1ZSgnb3duQWxsb3dlZCcpID09PSAxKSB7XG4gICAgICAgICAgICB2YXIgb3duVGV4dElucHV0ID0galF1ZXJ5KHRoaXMuZ2V0SW5wdXRTZWxlY3RvcigpICsgJy5vd24tY2F0ZWdvcnknKTtcbiAgICAgICAgICAgIHZhciByYWRpb0lucHV0cyA9IGpRdWVyeSh0aGlzLmdldElucHV0U2VsZWN0b3IoKSArICdbdHlwZT1cInJhZGlvXCJdJyk7XG5cbiAgICAgICAgICAgIC8vIHVuY2hlY2sgYWxsIHJhZGlvcyBpZiB0ZXh0IGlucHV0IGdldHMgdGV4dFxuICAgICAgICAgICAgb3duVGV4dElucHV0Lm9uKCdrZXl1cCBjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZihqUXVlcnkodGhpcykudmFsKCkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByYWRpb0lucHV0cy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgalF1ZXJ5KHRoaXMpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBlbXB0eSB0ZXh0IGlucHV0IGlmIHJhZGlvIGlucHV0IGlzIGNoZWNrZWRcbiAgICAgICAgICAgIHJhZGlvSW5wdXRzLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZihqUXVlcnkodGhpcykuaXMoJzpjaGVja2VkJykpIHtcbiAgICAgICAgICAgICAgICAgICAgb3duVGV4dElucHV0LnZhbChcIlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlc2V0KCkge1xuICAgICAgICBqUXVlcnkodGhpcy5nZXRJbnB1dFNlbGVjdG9yKCkpLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICBqUXVlcnkodGhpcykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/***/ }),
/* 72 */
/***/ (function(module, exports) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var AudioFeedback = (function () {
	    function AudioFeedback(part, duration, fileExtension, mechanismId) {
	        this.part = part;
	        this.duration = duration;
	        this.fileExtension = fileExtension;
	        this.mechanismId = mechanismId;
	        this.name = part;
	    }
	    return AudioFeedback;
	}());
	exports.AudioFeedback = AudioFeedback;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvZmVlZGJhY2tzL2F1ZGlvX2ZlZWRiYWNrLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQUE7SUFPSSx1QkFBWSxJQUFXLEVBQUUsUUFBZSxFQUFFLGFBQW9CLEVBQUUsV0FBa0I7UUFDOUUsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7UUFDakIsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekIsSUFBSSxDQUFDLGFBQWEsR0FBRyxhQUFhLENBQUM7UUFDbkMsSUFBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLENBQUM7UUFDL0IsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7SUFDckIsQ0FBQztJQUNMLG9CQUFDO0FBQUQsQ0FkQSxBQWNDLElBQUE7QUFkWSxzQ0FBYSIsImZpbGUiOiJhcHAvbW9kZWxzL2ZlZWRiYWNrcy9hdWRpb19mZWVkYmFjay5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBBdWRpb0ZlZWRiYWNrIHtcbiAgICBuYW1lOnN0cmluZztcbiAgICBwYXJ0OnN0cmluZztcbiAgICBkdXJhdGlvbjpudW1iZXI7XG4gICAgZmlsZUV4dGVuc2lvbjpzdHJpbmc7XG4gICAgbWVjaGFuaXNtSWQ6bnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IocGFydDpzdHJpbmcsIGR1cmF0aW9uOm51bWJlciwgZmlsZUV4dGVuc2lvbjpzdHJpbmcsIG1lY2hhbmlzbUlkOm51bWJlcikge1xuICAgICAgICB0aGlzLnBhcnQgPSBwYXJ0O1xuICAgICAgICB0aGlzLmR1cmF0aW9uID0gZHVyYXRpb247XG4gICAgICAgIHRoaXMuZmlsZUV4dGVuc2lvbiA9IGZpbGVFeHRlbnNpb247XG4gICAgICAgIHRoaXMubWVjaGFuaXNtSWQgPSBtZWNoYW5pc21JZDtcbiAgICAgICAgdGhpcy5uYW1lID0gcGFydDtcbiAgICB9XG59Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/***/ }),
/* 73 */
/***/ (function(module, exports) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var ContextInformation = (function () {
	    function ContextInformation(resolution, userAgent, localTime, timeZone, devicePixelRatio, country, region, url) {
	        this.resolution = resolution;
	        this.userAgent = userAgent;
	        this.localTime = localTime;
	        this.timeZone = timeZone;
	        this.devicePixelRatio = devicePixelRatio;
	        this.country = country;
	        this.region = region;
	        this.url = url;
	    }
	    ContextInformation.create = function () {
	        var resolution = window.screen.availHeight + 'x' + window.screen.availWidth;
	        var userAgent = navigator.userAgent;
	        var d = new Date();
	        var localTime = new Date(d.getTime() - d.getTimezoneOffset() * 60000).toISOString();
	        localTime = localTime.replace('T', ' ');
	        localTime = localTime.replace('Z', ' ');
	        localTime = localTime.slice(0, -3);
	        var timeZone = d.toString().split("GMT")[1].split(" (")[0];
	        var devicePixelRatio = ContextInformation.getDevicePixelRatio();
	        var country = null;
	        var region = null;
	        var url = window.location.href;
	        return new ContextInformation(resolution, userAgent, localTime, timeZone, devicePixelRatio, country, region, url);
	    };
	    ContextInformation.getDevicePixelRatio = function () {
	        var ratio = 1;
	        if (window.screen.systemXDPI !== undefined && window.screen.logicalXDPI !== undefined && window.screen.systemXDPI > window.screen.logicalXDPI) {
	            ratio = window.screen.systemXDPI / window.screen.logicalXDPI;
	        }
	        else if (window.devicePixelRatio !== undefined) {
	            ratio = window.devicePixelRatio;
	        }
	        return ratio;
	    };
	    return ContextInformation;
	}());
	exports.ContextInformation = ContextInformation;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9tb2RlbHMvZmVlZGJhY2tzL2NvbnRleHRfaW5mb3JtYXRpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTtJQVVJLDRCQUFZLFVBQWlCLEVBQUUsU0FBZ0IsRUFBRSxTQUFnQixFQUFFLFFBQWUsRUFBRSxnQkFBdUIsRUFBRSxPQUFjLEVBQUUsTUFBYSxFQUFFLEdBQVU7UUFDbEosSUFBSSxDQUFDLFVBQVUsR0FBRyxVQUFVLENBQUM7UUFDN0IsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7UUFDM0IsSUFBSSxDQUFDLFNBQVMsR0FBRyxTQUFTLENBQUM7UUFDM0IsSUFBSSxDQUFDLFFBQVEsR0FBRyxRQUFRLENBQUM7UUFDekIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLGdCQUFnQixDQUFDO1FBQ3pDLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO1FBQ3JCLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO0lBQ25CLENBQUM7SUFFTSx5QkFBTSxHQUFiO1FBQ0ksSUFBSSxVQUFVLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxXQUFXLEdBQUcsR0FBRyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDO1FBQzVFLElBQUksU0FBUyxHQUFHLFNBQVMsQ0FBQyxTQUFTLENBQUM7UUFFcEMsSUFBSSxDQUFDLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUNuQixJQUFJLFNBQVMsR0FBRyxJQUFJLElBQUksQ0FBQyxDQUFDLENBQUMsT0FBTyxFQUFFLEdBQUcsQ0FBQyxDQUFDLGlCQUFpQixFQUFFLEdBQUcsS0FBSyxDQUFDLENBQUMsV0FBVyxFQUFFLENBQUM7UUFDcEYsU0FBUyxHQUFHLFNBQVMsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFDO1FBQ3hDLFNBQVMsR0FBRyxTQUFTLENBQUMsT0FBTyxDQUFDLEdBQUcsRUFBRSxHQUFHLENBQUMsQ0FBQztRQUN4QyxTQUFTLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuQyxJQUFJLFFBQVEsR0FBRyxDQUFDLENBQUMsUUFBUSxFQUFFLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUUzRCxJQUFJLGdCQUFnQixHQUFHLGtCQUFrQixDQUFDLG1CQUFtQixFQUFFLENBQUM7UUFDaEUsSUFBSSxPQUFPLEdBQUcsSUFBSSxDQUFDO1FBQ25CLElBQUksTUFBTSxHQUFHLElBQUksQ0FBQztRQUNsQixJQUFJLEdBQUcsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQztRQUMvQixNQUFNLENBQUMsSUFBSSxrQkFBa0IsQ0FBQyxVQUFVLEVBQUUsU0FBUyxFQUFFLFNBQVMsRUFBRSxRQUFRLEVBQUUsZ0JBQWdCLEVBQUUsT0FBTyxFQUFFLE1BQU0sRUFBRSxHQUFHLENBQUMsQ0FBQztJQUN0SCxDQUFDO0lBRWMsc0NBQW1CLEdBQWxDO1FBQ0ksSUFBSSxLQUFLLEdBQUcsQ0FBQyxDQUFDO1FBRWQsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxVQUFVLEtBQUssU0FBUyxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsV0FBVyxLQUFLLFNBQVMsSUFBSSxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQVUsR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUM7WUFFNUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDO1FBQ2pFLENBQUM7UUFDRCxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLGdCQUFnQixLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7WUFDN0MsS0FBSyxHQUFHLE1BQU0sQ0FBQyxnQkFBZ0IsQ0FBQztRQUNwQyxDQUFDO1FBQ0QsTUFBTSxDQUFDLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBQ0wseUJBQUM7QUFBRCxDQW5EQSxBQW1EQyxJQUFBO0FBbkRZLGdEQUFrQiIsImZpbGUiOiJhcHAvbW9kZWxzL2ZlZWRiYWNrcy9jb250ZXh0X2luZm9ybWF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIENvbnRleHRJbmZvcm1hdGlvbiB7XG4gICAgcmVzb2x1dGlvbjpzdHJpbmc7XG4gICAgdXNlckFnZW50OnN0cmluZztcbiAgICBsb2NhbFRpbWU6c3RyaW5nO1xuICAgIHRpbWVab25lOnN0cmluZztcbiAgICBkZXZpY2VQaXhlbFJhdGlvOm51bWJlcjtcbiAgICBjb3VudHJ5OnN0cmluZztcbiAgICByZWdpb246c3RyaW5nO1xuICAgIHVybDpzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihyZXNvbHV0aW9uOnN0cmluZywgdXNlckFnZW50OnN0cmluZywgbG9jYWxUaW1lOnN0cmluZywgdGltZVpvbmU6c3RyaW5nLCBkZXZpY2VQaXhlbFJhdGlvOm51bWJlciwgY291bnRyeTpzdHJpbmcsIHJlZ2lvbjpzdHJpbmcsIHVybDpzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5yZXNvbHV0aW9uID0gcmVzb2x1dGlvbjtcbiAgICAgICAgdGhpcy51c2VyQWdlbnQgPSB1c2VyQWdlbnQ7XG4gICAgICAgIHRoaXMubG9jYWxUaW1lID0gbG9jYWxUaW1lO1xuICAgICAgICB0aGlzLnRpbWVab25lID0gdGltZVpvbmU7XG4gICAgICAgIHRoaXMuZGV2aWNlUGl4ZWxSYXRpbyA9IGRldmljZVBpeGVsUmF0aW87XG4gICAgICAgIHRoaXMuY291bnRyeSA9IGNvdW50cnk7XG4gICAgICAgIHRoaXMucmVnaW9uID0gcmVnaW9uO1xuICAgICAgICB0aGlzLnVybCA9IHVybDtcbiAgICB9XG5cbiAgICBzdGF0aWMgY3JlYXRlKCkge1xuICAgICAgICB2YXIgcmVzb2x1dGlvbiA9IHdpbmRvdy5zY3JlZW4uYXZhaWxIZWlnaHQgKyAneCcgKyB3aW5kb3cuc2NyZWVuLmF2YWlsV2lkdGg7XG4gICAgICAgIHZhciB1c2VyQWdlbnQgPSBuYXZpZ2F0b3IudXNlckFnZW50O1xuXG4gICAgICAgIHZhciBkID0gbmV3IERhdGUoKTtcbiAgICAgICAgdmFyIGxvY2FsVGltZSA9IG5ldyBEYXRlKGQuZ2V0VGltZSgpIC0gZC5nZXRUaW1lem9uZU9mZnNldCgpICogNjAwMDApLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIGxvY2FsVGltZSA9IGxvY2FsVGltZS5yZXBsYWNlKCdUJywgJyAnKTtcbiAgICAgICAgbG9jYWxUaW1lID0gbG9jYWxUaW1lLnJlcGxhY2UoJ1onLCAnICcpO1xuICAgICAgICBsb2NhbFRpbWUgPSBsb2NhbFRpbWUuc2xpY2UoMCwgLTMpO1xuICAgICAgICB2YXIgdGltZVpvbmUgPSBkLnRvU3RyaW5nKCkuc3BsaXQoXCJHTVRcIilbMV0uc3BsaXQoXCIgKFwiKVswXTtcblxuICAgICAgICB2YXIgZGV2aWNlUGl4ZWxSYXRpbyA9IENvbnRleHRJbmZvcm1hdGlvbi5nZXREZXZpY2VQaXhlbFJhdGlvKCk7XG4gICAgICAgIHZhciBjb3VudHJ5ID0gbnVsbDtcbiAgICAgICAgdmFyIHJlZ2lvbiA9IG51bGw7XG4gICAgICAgIHZhciB1cmwgPSB3aW5kb3cubG9jYXRpb24uaHJlZjtcbiAgICAgICAgcmV0dXJuIG5ldyBDb250ZXh0SW5mb3JtYXRpb24ocmVzb2x1dGlvbiwgdXNlckFnZW50LCBsb2NhbFRpbWUsIHRpbWVab25lLCBkZXZpY2VQaXhlbFJhdGlvLCBjb3VudHJ5LCByZWdpb24sIHVybCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdGF0aWMgZ2V0RGV2aWNlUGl4ZWxSYXRpbygpOm51bWJlciB7XG4gICAgICAgIHZhciByYXRpbyA9IDE7XG4gICAgICAgIC8vIFRvIGFjY291bnQgZm9yIHpvb20sIGNoYW5nZSB0byB1c2UgZGV2aWNlWERQSSBpbnN0ZWFkIG9mIHN5c3RlbVhEUElcbiAgICAgICAgaWYgKHdpbmRvdy5zY3JlZW4uc3lzdGVtWERQSSAhPT0gdW5kZWZpbmVkICYmIHdpbmRvdy5zY3JlZW4ubG9naWNhbFhEUEkgIT09IHVuZGVmaW5lZCAmJiB3aW5kb3cuc2NyZWVuLnN5c3RlbVhEUEkgPiB3aW5kb3cuc2NyZWVuLmxvZ2ljYWxYRFBJKSB7XG4gICAgICAgICAgICAvLyBPbmx5IGFsbG93IGZvciB2YWx1ZXMgPiAxXG4gICAgICAgICAgICByYXRpbyA9IHdpbmRvdy5zY3JlZW4uc3lzdGVtWERQSSAvIHdpbmRvdy5zY3JlZW4ubG9naWNhbFhEUEk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAod2luZG93LmRldmljZVBpeGVsUmF0aW8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmF0aW87XG4gICAgfVxufSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/***/ }),
/* 74 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var http_backend_1 = __webpack_require__(25);
	var config_1 = __webpack_require__(21);
	var FeedbackService = (function () {
	    function FeedbackService(apiEndpoint, language, backend) {
	        if (!backend) {
	            this.backend = new http_backend_1.HttpBackend(config_1.applicationPath, apiEndpoint, language);
	        }
	        else {
	            this.backend = backend;
	        }
	    }
	    FeedbackService.prototype.sendFeedback = function (url, formData, callback, errorCallback) {
	        $.ajax({
	            url: url,
	            type: 'POST',
	            data: formData,
	            dataType: 'json',
	            processData: false,
	            contentType: false,
	            success: function (data) {
	                callback(data);
	            },
	            error: function (data) {
	                errorCallback(data);
	            }
	        });
	    };
	    return FeedbackService;
	}());
	exports.FeedbackService = FeedbackService;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9zZXJ2aWNlcy9mZWVkYmFja19zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBQ0Esd0RBQW9EO0FBQ3BELHVDQUE2QztBQVE3QztJQVNJLHlCQUFZLFdBQWtCLEVBQUUsUUFBZSxFQUFFLE9BQWdCO1FBQzdELEVBQUUsQ0FBQSxDQUFDLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQztZQUNWLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSwwQkFBVyxDQUFDLHdCQUFlLEVBQUUsV0FBVyxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQzNFLENBQUM7UUFBQyxJQUFJLENBQUMsQ0FBQztZQUNKLElBQUksQ0FBQyxPQUFPLEdBQUcsT0FBTyxDQUFDO1FBQzNCLENBQUM7SUFDTCxDQUFDO0lBRUQsc0NBQVksR0FBWixVQUFhLEdBQVcsRUFBRSxRQUFpQixFQUFFLFFBQW9DLEVBQUUsYUFBaUM7UUFDaEgsQ0FBQyxDQUFDLElBQUksQ0FBQztZQUNILEdBQUcsRUFBRSxHQUFHO1lBQ1IsSUFBSSxFQUFFLE1BQU07WUFDWixJQUFJLEVBQUUsUUFBUTtZQUNkLFFBQVEsRUFBRSxNQUFNO1lBQ2hCLFdBQVcsRUFBRSxLQUFLO1lBQ2xCLFdBQVcsRUFBRSxLQUFLO1lBQ2xCLE9BQU8sRUFBRSxVQUFVLElBQUk7Z0JBQ25CLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQztZQUNuQixDQUFDO1lBQ0QsS0FBSyxFQUFFLFVBQVUsSUFBSTtnQkFDakIsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQ3hCLENBQUM7U0FDSixDQUFDLENBQUM7SUFDUCxDQUFDO0lBQ0wsc0JBQUM7QUFBRCxDQWpDQSxBQWlDQyxJQUFBO0FBakNZLDBDQUFlIiwiZmlsZSI6ImFwcC9zZXJ2aWNlcy9mZWVkYmFja19zZXJ2aWNlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtCYWNrZW5kfSBmcm9tICcuL2JhY2tlbmRzL2JhY2tlbmQnO1xuaW1wb3J0IHtIdHRwQmFja2VuZH0gZnJvbSAnLi9iYWNrZW5kcy9odHRwX2JhY2tlbmQnO1xuaW1wb3J0IHthcHBsaWNhdGlvblBhdGh9IGZyb20gJy4uL2pzL2NvbmZpZyc7XG5pbXBvcnQge0ZlZWRiYWNrfSBmcm9tICcuLi9tb2RlbHMvZmVlZGJhY2tzL2ZlZWRiYWNrJztcblxuXG4vKipcbiAqIEhhbmRsZXMgdGhlIGNvbmZpZ3VyYXRpb24gZGF0YSByZXRyaWV2ZWQgZnJvbSB0aGUgb3JjaGVzdHJhdG9yIGNvcmUuXG4gKi9cbi8vIFRPRE8gYmFzZSBzZXJ2aWNlPz9cbmV4cG9ydCBjbGFzcyBGZWVkYmFja1NlcnZpY2Uge1xuICAgIHByaXZhdGUgYmFja2VuZDpCYWNrZW5kO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIGxhbmd1YWdlXG4gICAgICogIExhbmd1YWdlIHRvIHVzZSB3aGVuIGdldHRpbmcgdGhlIGRhdGFcbiAgICAgKiBAcGFyYW0gYmFja2VuZFxuICAgICAqICBCYWNrZW5kIHRvIGdldCBkYXRhIGZyb21cbiAgICAgKi9cbiAgICBjb25zdHJ1Y3RvcihhcGlFbmRwb2ludDpzdHJpbmcsIGxhbmd1YWdlOnN0cmluZywgYmFja2VuZD86QmFja2VuZCkge1xuICAgICAgICBpZighYmFja2VuZCkge1xuICAgICAgICAgICAgdGhpcy5iYWNrZW5kID0gbmV3IEh0dHBCYWNrZW5kKGFwcGxpY2F0aW9uUGF0aCwgYXBpRW5kcG9pbnQsIGxhbmd1YWdlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuYmFja2VuZCA9IGJhY2tlbmQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZW5kRmVlZGJhY2sodXJsOiBzdHJpbmcsIGZvcm1EYXRhOkZvcm1EYXRhLCBjYWxsYmFjazooZmVlZGJhY2s6RmVlZGJhY2spID0+IHZvaWQsIGVycm9yQ2FsbGJhY2s/OihkYXRhOmFueSkgPT4gdm9pZCkge1xuICAgICAgICAkLmFqYXgoe1xuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICB0eXBlOiAnUE9TVCcsXG4gICAgICAgICAgICBkYXRhOiBmb3JtRGF0YSxcbiAgICAgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG4gICAgICAgICAgICBwcm9jZXNzRGF0YTogZmFsc2UsXG4gICAgICAgICAgICBjb250ZW50VHlwZTogZmFsc2UsXG4gICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGRhdGEpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIGVycm9yQ2FsbGJhY2soZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/***/ }),
/* 75 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var notificationTemplate = __webpack_require__(76);
	var PageNotification = (function () {
	    function PageNotification() {
	    }
	    PageNotification.show = function (message) {
	        var html = notificationTemplate({ message: message });
	        $('html').append(html);
	        setTimeout(function () {
	            $(".feedback-notification").remove();
	        }, 3000);
	    };
	    return PageNotification;
	}());
	exports.PageNotification = PageNotification;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC92aWV3cy9wYWdlX25vdGlmaWNhdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLElBQUksb0JBQW9CLEdBQUcsT0FBTyxDQUFDLHNDQUFzQyxDQUFDLENBQUM7QUFHM0U7SUFBQTtJQVNBLENBQUM7SUFQVSxxQkFBSSxHQUFYLFVBQVksT0FBYztRQUN0QixJQUFJLElBQUksR0FBRyxvQkFBb0IsQ0FBQyxFQUFDLE9BQU8sRUFBRSxPQUFPLEVBQUMsQ0FBQyxDQUFDO1FBQ3BELENBQUMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDdkIsVUFBVSxDQUFDO1lBQ1AsQ0FBQyxDQUFDLHdCQUF3QixDQUFDLENBQUMsTUFBTSxFQUFFLENBQUM7UUFDekMsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2IsQ0FBQztJQUNMLHVCQUFDO0FBQUQsQ0FUQSxBQVNDLElBQUE7QUFUWSw0Q0FBZ0IiLCJmaWxlIjoiYXBwL3ZpZXdzL3BhZ2Vfbm90aWZpY2F0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG5vdGlmaWNhdGlvblRlbXBsYXRlID0gcmVxdWlyZSgnLi4vdGVtcGxhdGVzL25vdGlmaWNhdGlvbi5oYW5kbGViYXJzJyk7XG5cblxuZXhwb3J0IGNsYXNzIFBhZ2VOb3RpZmljYXRpb24ge1xuXG4gICAgc3RhdGljIHNob3cobWVzc2FnZTpzdHJpbmcpIHtcbiAgICAgICAgdmFyIGh0bWwgPSBub3RpZmljYXRpb25UZW1wbGF0ZSh7bWVzc2FnZTogbWVzc2FnZX0pO1xuICAgICAgICAkKCdodG1sJykuYXBwZW5kKGh0bWwpO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICQoXCIuZmVlZGJhY2stbm90aWZpY2F0aW9uXCIpLnJlbW92ZSgpO1xuICAgICAgICB9LCAzMDAwKTtcbiAgICB9XG59Il0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9

/***/ }),
/* 76 */
/***/ (function(module, exports, __webpack_require__) {

	var Handlebars = __webpack_require__(77);
	function __default(obj) { return obj && (obj.__esModule ? obj["default"] : obj); }
	module.exports = (Handlebars["default"] || Handlebars).template({"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
	    var helper;

	  return "<div class=\"feedback-library feedback-notification\">\n    <span>"
	    + container.escapeExpression(((helper = (helper = helpers.message || (depth0 != null ? depth0.message : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"message","hash":{},"data":data}) : helper)))
	    + "</span>\n</div>";
	},"useData":true});

/***/ }),
/* 77 */
/***/ (function(module, exports, __webpack_require__) {

	// Create a simple path alias to allow browserify to resolve
	// the runtime on a supported path.
	module.exports = __webpack_require__(78)['default'];


/***/ }),
/* 78 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	exports.__esModule = true;
	// istanbul ignore next

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

	// istanbul ignore next

	function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }

	var _handlebarsBase = __webpack_require__(79);

	var base = _interopRequireWildcard(_handlebarsBase);

	// Each of these augment the Handlebars object. No need to setup here.
	// (This is done to easily share code between commonjs and browse envs)

	var _handlebarsSafeString = __webpack_require__(93);

	var _handlebarsSafeString2 = _interopRequireDefault(_handlebarsSafeString);

	var _handlebarsException = __webpack_require__(81);

	var _handlebarsException2 = _interopRequireDefault(_handlebarsException);

	var _handlebarsUtils = __webpack_require__(80);

	var Utils = _interopRequireWildcard(_handlebarsUtils);

	var _handlebarsRuntime = __webpack_require__(94);

	var runtime = _interopRequireWildcard(_handlebarsRuntime);

	var _handlebarsNoConflict = __webpack_require__(95);

	var _handlebarsNoConflict2 = _interopRequireDefault(_handlebarsNoConflict);

	// For compatibility and usage outside of module systems, make the Handlebars object a namespace
	function create() {
	  var hb = new base.HandlebarsEnvironment();

	  Utils.extend(hb, base);
	  hb.SafeString = _handlebarsSafeString2['default'];
	  hb.Exception = _handlebarsException2['default'];
	  hb.Utils = Utils;
	  hb.escapeExpression = Utils.escapeExpression;

	  hb.VM = runtime;
	  hb.template = function (spec) {
	    return runtime.template(spec, hb);
	  };

	  return hb;
	}

	var inst = create();
	inst.create = create;

	_handlebarsNoConflict2['default'](inst);

	inst['default'] = inst;

	exports['default'] = inst;
	module.exports = exports['default'];
	//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL2xpYi9oYW5kbGViYXJzLnJ1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7OEJBQXNCLG1CQUFtQjs7SUFBN0IsSUFBSTs7Ozs7b0NBSU8sMEJBQTBCOzs7O21DQUMzQix3QkFBd0I7Ozs7K0JBQ3ZCLG9CQUFvQjs7SUFBL0IsS0FBSzs7aUNBQ1Esc0JBQXNCOztJQUFuQyxPQUFPOztvQ0FFSSwwQkFBMEI7Ozs7O0FBR2pELFNBQVMsTUFBTSxHQUFHO0FBQ2hCLE1BQUksRUFBRSxHQUFHLElBQUksSUFBSSxDQUFDLHFCQUFxQixFQUFFLENBQUM7O0FBRTFDLE9BQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLElBQUksQ0FBQyxDQUFDO0FBQ3ZCLElBQUUsQ0FBQyxVQUFVLG9DQUFhLENBQUM7QUFDM0IsSUFBRSxDQUFDLFNBQVMsbUNBQVksQ0FBQztBQUN6QixJQUFFLENBQUMsS0FBSyxHQUFHLEtBQUssQ0FBQztBQUNqQixJQUFFLENBQUMsZ0JBQWdCLEdBQUcsS0FBSyxDQUFDLGdCQUFnQixDQUFDOztBQUU3QyxJQUFFLENBQUMsRUFBRSxHQUFHLE9BQU8sQ0FBQztBQUNoQixJQUFFLENBQUMsUUFBUSxHQUFHLFVBQVMsSUFBSSxFQUFFO0FBQzNCLFdBQU8sT0FBTyxDQUFDLFFBQVEsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLENBQUM7R0FDbkMsQ0FBQzs7QUFFRixTQUFPLEVBQUUsQ0FBQztDQUNYOztBQUVELElBQUksSUFBSSxHQUFHLE1BQU0sRUFBRSxDQUFDO0FBQ3BCLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDOztBQUVyQixrQ0FBVyxJQUFJLENBQUMsQ0FBQzs7QUFFakIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLElBQUksQ0FBQzs7cUJBRVIsSUFBSSIsImZpbGUiOiJoYW5kbGViYXJzLnJ1bnRpbWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBiYXNlIGZyb20gJy4vaGFuZGxlYmFycy9iYXNlJztcblxuLy8gRWFjaCBvZiB0aGVzZSBhdWdtZW50IHRoZSBIYW5kbGViYXJzIG9iamVjdC4gTm8gbmVlZCB0byBzZXR1cCBoZXJlLlxuLy8gKFRoaXMgaXMgZG9uZSB0byBlYXNpbHkgc2hhcmUgY29kZSBiZXR3ZWVuIGNvbW1vbmpzIGFuZCBicm93c2UgZW52cylcbmltcG9ydCBTYWZlU3RyaW5nIGZyb20gJy4vaGFuZGxlYmFycy9zYWZlLXN0cmluZyc7XG5pbXBvcnQgRXhjZXB0aW9uIGZyb20gJy4vaGFuZGxlYmFycy9leGNlcHRpb24nO1xuaW1wb3J0ICogYXMgVXRpbHMgZnJvbSAnLi9oYW5kbGViYXJzL3V0aWxzJztcbmltcG9ydCAqIGFzIHJ1bnRpbWUgZnJvbSAnLi9oYW5kbGViYXJzL3J1bnRpbWUnO1xuXG5pbXBvcnQgbm9Db25mbGljdCBmcm9tICcuL2hhbmRsZWJhcnMvbm8tY29uZmxpY3QnO1xuXG4vLyBGb3IgY29tcGF0aWJpbGl0eSBhbmQgdXNhZ2Ugb3V0c2lkZSBvZiBtb2R1bGUgc3lzdGVtcywgbWFrZSB0aGUgSGFuZGxlYmFycyBvYmplY3QgYSBuYW1lc3BhY2VcbmZ1bmN0aW9uIGNyZWF0ZSgpIHtcbiAgbGV0IGhiID0gbmV3IGJhc2UuSGFuZGxlYmFyc0Vudmlyb25tZW50KCk7XG5cbiAgVXRpbHMuZXh0ZW5kKGhiLCBiYXNlKTtcbiAgaGIuU2FmZVN0cmluZyA9IFNhZmVTdHJpbmc7XG4gIGhiLkV4Y2VwdGlvbiA9IEV4Y2VwdGlvbjtcbiAgaGIuVXRpbHMgPSBVdGlscztcbiAgaGIuZXNjYXBlRXhwcmVzc2lvbiA9IFV0aWxzLmVzY2FwZUV4cHJlc3Npb247XG5cbiAgaGIuVk0gPSBydW50aW1lO1xuICBoYi50ZW1wbGF0ZSA9IGZ1bmN0aW9uKHNwZWMpIHtcbiAgICByZXR1cm4gcnVudGltZS50ZW1wbGF0ZShzcGVjLCBoYik7XG4gIH07XG5cbiAgcmV0dXJuIGhiO1xufVxuXG5sZXQgaW5zdCA9IGNyZWF0ZSgpO1xuaW5zdC5jcmVhdGUgPSBjcmVhdGU7XG5cbm5vQ29uZmxpY3QoaW5zdCk7XG5cbmluc3RbJ2RlZmF1bHQnXSA9IGluc3Q7XG5cbmV4cG9ydCBkZWZhdWx0IGluc3Q7XG4iXX0=


/***/ }),
/* 79 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	exports.__esModule = true;
	exports.HandlebarsEnvironment = HandlebarsEnvironment;
	// istanbul ignore next

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

	var _utils = __webpack_require__(80);

	var _exception = __webpack_require__(81);

	var _exception2 = _interopRequireDefault(_exception);

	var _helpers = __webpack_require__(82);

	var _decorators = __webpack_require__(90);

	var _logger = __webpack_require__(92);

	var _logger2 = _interopRequireDefault(_logger);

	var VERSION = '4.0.10';
	exports.VERSION = VERSION;
	var COMPILER_REVISION = 7;

	exports.COMPILER_REVISION = COMPILER_REVISION;
	var REVISION_CHANGES = {
	  1: '<= 1.0.rc.2', // 1.0.rc.2 is actually rev2 but doesn't report it
	  2: '== 1.0.0-rc.3',
	  3: '== 1.0.0-rc.4',
	  4: '== 1.x.x',
	  5: '== 2.0.0-alpha.x',
	  6: '>= 2.0.0-beta.1',
	  7: '>= 4.0.0'
	};

	exports.REVISION_CHANGES = REVISION_CHANGES;
	var objectType = '[object Object]';

	function HandlebarsEnvironment(helpers, partials, decorators) {
	  this.helpers = helpers || {};
	  this.partials = partials || {};
	  this.decorators = decorators || {};

	  _helpers.registerDefaultHelpers(this);
	  _decorators.registerDefaultDecorators(this);
	}

	HandlebarsEnvironment.prototype = {
	  constructor: HandlebarsEnvironment,

	  logger: _logger2['default'],
	  log: _logger2['default'].log,

	  registerHelper: function registerHelper(name, fn) {
	    if (_utils.toString.call(name) === objectType) {
	      if (fn) {
	        throw new _exception2['default']('Arg not supported with multiple helpers');
	      }
	      _utils.extend(this.helpers, name);
	    } else {
	      this.helpers[name] = fn;
	    }
	  },
	  unregisterHelper: function unregisterHelper(name) {
	    delete this.helpers[name];
	  },

	  registerPartial: function registerPartial(name, partial) {
	    if (_utils.toString.call(name) === objectType) {
	      _utils.extend(this.partials, name);
	    } else {
	      if (typeof partial === 'undefined') {
	        throw new _exception2['default']('Attempting to register a partial called "' + name + '" as undefined');
	      }
	      this.partials[name] = partial;
	    }
	  },
	  unregisterPartial: function unregisterPartial(name) {
	    delete this.partials[name];
	  },

	  registerDecorator: function registerDecorator(name, fn) {
	    if (_utils.toString.call(name) === objectType) {
	      if (fn) {
	        throw new _exception2['default']('Arg not supported with multiple decorators');
	      }
	      _utils.extend(this.decorators, name);
	    } else {
	      this.decorators[name] = fn;
	    }
	  },
	  unregisterDecorator: function unregisterDecorator(name) {
	    delete this.decorators[name];
	  }
	};

	var log = _logger2['default'].log;

	exports.log = log;
	exports.createFrame = _utils.createFrame;
	exports.logger = _logger2['default'];
	//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2Jhc2UuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7cUJBQTRDLFNBQVM7O3lCQUMvQixhQUFhOzs7O3VCQUNFLFdBQVc7OzBCQUNSLGNBQWM7O3NCQUNuQyxVQUFVOzs7O0FBRXRCLElBQU0sT0FBTyxHQUFHLFFBQVEsQ0FBQzs7QUFDekIsSUFBTSxpQkFBaUIsR0FBRyxDQUFDLENBQUM7OztBQUU1QixJQUFNLGdCQUFnQixHQUFHO0FBQzlCLEdBQUMsRUFBRSxhQUFhO0FBQ2hCLEdBQUMsRUFBRSxlQUFlO0FBQ2xCLEdBQUMsRUFBRSxlQUFlO0FBQ2xCLEdBQUMsRUFBRSxVQUFVO0FBQ2IsR0FBQyxFQUFFLGtCQUFrQjtBQUNyQixHQUFDLEVBQUUsaUJBQWlCO0FBQ3BCLEdBQUMsRUFBRSxVQUFVO0NBQ2QsQ0FBQzs7O0FBRUYsSUFBTSxVQUFVLEdBQUcsaUJBQWlCLENBQUM7O0FBRTlCLFNBQVMscUJBQXFCLENBQUMsT0FBTyxFQUFFLFFBQVEsRUFBRSxVQUFVLEVBQUU7QUFDbkUsTUFBSSxDQUFDLE9BQU8sR0FBRyxPQUFPLElBQUksRUFBRSxDQUFDO0FBQzdCLE1BQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxJQUFJLEVBQUUsQ0FBQztBQUMvQixNQUFJLENBQUMsVUFBVSxHQUFHLFVBQVUsSUFBSSxFQUFFLENBQUM7O0FBRW5DLGtDQUF1QixJQUFJLENBQUMsQ0FBQztBQUM3Qix3Q0FBMEIsSUFBSSxDQUFDLENBQUM7Q0FDakM7O0FBRUQscUJBQXFCLENBQUMsU0FBUyxHQUFHO0FBQ2hDLGFBQVcsRUFBRSxxQkFBcUI7O0FBRWxDLFFBQU0scUJBQVE7QUFDZCxLQUFHLEVBQUUsb0JBQU8sR0FBRzs7QUFFZixnQkFBYyxFQUFFLHdCQUFTLElBQUksRUFBRSxFQUFFLEVBQUU7QUFDakMsUUFBSSxnQkFBUyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssVUFBVSxFQUFFO0FBQ3RDLFVBQUksRUFBRSxFQUFFO0FBQUUsY0FBTSwyQkFBYyx5Q0FBeUMsQ0FBQyxDQUFDO09BQUU7QUFDM0Usb0JBQU8sSUFBSSxDQUFDLE9BQU8sRUFBRSxJQUFJLENBQUMsQ0FBQztLQUM1QixNQUFNO0FBQ0wsVUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsR0FBRyxFQUFFLENBQUM7S0FDekI7R0FDRjtBQUNELGtCQUFnQixFQUFFLDBCQUFTLElBQUksRUFBRTtBQUMvQixXQUFPLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7R0FDM0I7O0FBRUQsaUJBQWUsRUFBRSx5QkFBUyxJQUFJLEVBQUUsT0FBTyxFQUFFO0FBQ3ZDLFFBQUksZ0JBQVMsSUFBSSxDQUFDLElBQUksQ0FBQyxLQUFLLFVBQVUsRUFBRTtBQUN0QyxvQkFBTyxJQUFJLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQzdCLE1BQU07QUFDTCxVQUFJLE9BQU8sT0FBTyxLQUFLLFdBQVcsRUFBRTtBQUNsQyxjQUFNLHlFQUEwRCxJQUFJLG9CQUFpQixDQUFDO09BQ3ZGO0FBQ0QsVUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsR0FBRyxPQUFPLENBQUM7S0FDL0I7R0FDRjtBQUNELG1CQUFpQixFQUFFLDJCQUFTLElBQUksRUFBRTtBQUNoQyxXQUFPLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7R0FDNUI7O0FBRUQsbUJBQWlCLEVBQUUsMkJBQVMsSUFBSSxFQUFFLEVBQUUsRUFBRTtBQUNwQyxRQUFJLGdCQUFTLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxVQUFVLEVBQUU7QUFDdEMsVUFBSSxFQUFFLEVBQUU7QUFBRSxjQUFNLDJCQUFjLDRDQUE0QyxDQUFDLENBQUM7T0FBRTtBQUM5RSxvQkFBTyxJQUFJLENBQUMsVUFBVSxFQUFFLElBQUksQ0FBQyxDQUFDO0tBQy9CLE1BQU07QUFDTCxVQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQztLQUM1QjtHQUNGO0FBQ0QscUJBQW1CLEVBQUUsNkJBQVMsSUFBSSxFQUFFO0FBQ2xDLFdBQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsQ0FBQztHQUM5QjtDQUNGLENBQUM7O0FBRUssSUFBSSxHQUFHLEdBQUcsb0JBQU8sR0FBRyxDQUFDOzs7UUFFcEIsV0FBVztRQUFFLE1BQU0iLCJmaWxlIjoiYmFzZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Y3JlYXRlRnJhbWUsIGV4dGVuZCwgdG9TdHJpbmd9IGZyb20gJy4vdXRpbHMnO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuL2V4Y2VwdGlvbic7XG5pbXBvcnQge3JlZ2lzdGVyRGVmYXVsdEhlbHBlcnN9IGZyb20gJy4vaGVscGVycyc7XG5pbXBvcnQge3JlZ2lzdGVyRGVmYXVsdERlY29yYXRvcnN9IGZyb20gJy4vZGVjb3JhdG9ycyc7XG5pbXBvcnQgbG9nZ2VyIGZyb20gJy4vbG9nZ2VyJztcblxuZXhwb3J0IGNvbnN0IFZFUlNJT04gPSAnNC4wLjEwJztcbmV4cG9ydCBjb25zdCBDT01QSUxFUl9SRVZJU0lPTiA9IDc7XG5cbmV4cG9ydCBjb25zdCBSRVZJU0lPTl9DSEFOR0VTID0ge1xuICAxOiAnPD0gMS4wLnJjLjInLCAvLyAxLjAucmMuMiBpcyBhY3R1YWxseSByZXYyIGJ1dCBkb2Vzbid0IHJlcG9ydCBpdFxuICAyOiAnPT0gMS4wLjAtcmMuMycsXG4gIDM6ICc9PSAxLjAuMC1yYy40JyxcbiAgNDogJz09IDEueC54JyxcbiAgNTogJz09IDIuMC4wLWFscGhhLngnLFxuICA2OiAnPj0gMi4wLjAtYmV0YS4xJyxcbiAgNzogJz49IDQuMC4wJ1xufTtcblxuY29uc3Qgb2JqZWN0VHlwZSA9ICdbb2JqZWN0IE9iamVjdF0nO1xuXG5leHBvcnQgZnVuY3Rpb24gSGFuZGxlYmFyc0Vudmlyb25tZW50KGhlbHBlcnMsIHBhcnRpYWxzLCBkZWNvcmF0b3JzKSB7XG4gIHRoaXMuaGVscGVycyA9IGhlbHBlcnMgfHwge307XG4gIHRoaXMucGFydGlhbHMgPSBwYXJ0aWFscyB8fCB7fTtcbiAgdGhpcy5kZWNvcmF0b3JzID0gZGVjb3JhdG9ycyB8fCB7fTtcblxuICByZWdpc3RlckRlZmF1bHRIZWxwZXJzKHRoaXMpO1xuICByZWdpc3RlckRlZmF1bHREZWNvcmF0b3JzKHRoaXMpO1xufVxuXG5IYW5kbGViYXJzRW52aXJvbm1lbnQucHJvdG90eXBlID0ge1xuICBjb25zdHJ1Y3RvcjogSGFuZGxlYmFyc0Vudmlyb25tZW50LFxuXG4gIGxvZ2dlcjogbG9nZ2VyLFxuICBsb2c6IGxvZ2dlci5sb2csXG5cbiAgcmVnaXN0ZXJIZWxwZXI6IGZ1bmN0aW9uKG5hbWUsIGZuKSB7XG4gICAgaWYgKHRvU3RyaW5nLmNhbGwobmFtZSkgPT09IG9iamVjdFR5cGUpIHtcbiAgICAgIGlmIChmbikgeyB0aHJvdyBuZXcgRXhjZXB0aW9uKCdBcmcgbm90IHN1cHBvcnRlZCB3aXRoIG11bHRpcGxlIGhlbHBlcnMnKTsgfVxuICAgICAgZXh0ZW5kKHRoaXMuaGVscGVycywgbmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaGVscGVyc1tuYW1lXSA9IGZuO1xuICAgIH1cbiAgfSxcbiAgdW5yZWdpc3RlckhlbHBlcjogZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLmhlbHBlcnNbbmFtZV07XG4gIH0sXG5cbiAgcmVnaXN0ZXJQYXJ0aWFsOiBmdW5jdGlvbihuYW1lLCBwYXJ0aWFsKSB7XG4gICAgaWYgKHRvU3RyaW5nLmNhbGwobmFtZSkgPT09IG9iamVjdFR5cGUpIHtcbiAgICAgIGV4dGVuZCh0aGlzLnBhcnRpYWxzLCBuYW1lKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHR5cGVvZiBwYXJ0aWFsID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKGBBdHRlbXB0aW5nIHRvIHJlZ2lzdGVyIGEgcGFydGlhbCBjYWxsZWQgXCIke25hbWV9XCIgYXMgdW5kZWZpbmVkYCk7XG4gICAgICB9XG4gICAgICB0aGlzLnBhcnRpYWxzW25hbWVdID0gcGFydGlhbDtcbiAgICB9XG4gIH0sXG4gIHVucmVnaXN0ZXJQYXJ0aWFsOiBmdW5jdGlvbihuYW1lKSB7XG4gICAgZGVsZXRlIHRoaXMucGFydGlhbHNbbmFtZV07XG4gIH0sXG5cbiAgcmVnaXN0ZXJEZWNvcmF0b3I6IGZ1bmN0aW9uKG5hbWUsIGZuKSB7XG4gICAgaWYgKHRvU3RyaW5nLmNhbGwobmFtZSkgPT09IG9iamVjdFR5cGUpIHtcbiAgICAgIGlmIChmbikgeyB0aHJvdyBuZXcgRXhjZXB0aW9uKCdBcmcgbm90IHN1cHBvcnRlZCB3aXRoIG11bHRpcGxlIGRlY29yYXRvcnMnKTsgfVxuICAgICAgZXh0ZW5kKHRoaXMuZGVjb3JhdG9ycywgbmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGVjb3JhdG9yc1tuYW1lXSA9IGZuO1xuICAgIH1cbiAgfSxcbiAgdW5yZWdpc3RlckRlY29yYXRvcjogZnVuY3Rpb24obmFtZSkge1xuICAgIGRlbGV0ZSB0aGlzLmRlY29yYXRvcnNbbmFtZV07XG4gIH1cbn07XG5cbmV4cG9ydCBsZXQgbG9nID0gbG9nZ2VyLmxvZztcblxuZXhwb3J0IHtjcmVhdGVGcmFtZSwgbG9nZ2VyfTtcbiJdfQ==


/***/ }),
/* 80 */
/***/ (function(module, exports) {

	'use strict';

	exports.__esModule = true;
	exports.extend = extend;
	exports.indexOf = indexOf;
	exports.escapeExpression = escapeExpression;
	exports.isEmpty = isEmpty;
	exports.createFrame = createFrame;
	exports.blockParams = blockParams;
	exports.appendContextPath = appendContextPath;
	var escape = {
	  '&': '&amp;',
	  '<': '&lt;',
	  '>': '&gt;',
	  '"': '&quot;',
	  "'": '&#x27;',
	  '`': '&#x60;',
	  '=': '&#x3D;'
	};

	var badChars = /[&<>"'`=]/g,
	    possible = /[&<>"'`=]/;

	function escapeChar(chr) {
	  return escape[chr];
	}

	function extend(obj /* , ...source */) {
	  for (var i = 1; i < arguments.length; i++) {
	    for (var key in arguments[i]) {
	      if (Object.prototype.hasOwnProperty.call(arguments[i], key)) {
	        obj[key] = arguments[i][key];
	      }
	    }
	  }

	  return obj;
	}

	var toString = Object.prototype.toString;

	exports.toString = toString;
	// Sourced from lodash
	// https://github.com/bestiejs/lodash/blob/master/LICENSE.txt
	/* eslint-disable func-style */
	var isFunction = function isFunction(value) {
	  return typeof value === 'function';
	};
	// fallback for older versions of Chrome and Safari
	/* istanbul ignore next */
	if (isFunction(/x/)) {
	  exports.isFunction = isFunction = function (value) {
	    return typeof value === 'function' && toString.call(value) === '[object Function]';
	  };
	}
	exports.isFunction = isFunction;

	/* eslint-enable func-style */

	/* istanbul ignore next */
	var isArray = Array.isArray || function (value) {
	  return value && typeof value === 'object' ? toString.call(value) === '[object Array]' : false;
	};

	exports.isArray = isArray;
	// Older IE versions do not directly support indexOf so we must implement our own, sadly.

	function indexOf(array, value) {
	  for (var i = 0, len = array.length; i < len; i++) {
	    if (array[i] === value) {
	      return i;
	    }
	  }
	  return -1;
	}

	function escapeExpression(string) {
	  if (typeof string !== 'string') {
	    // don't escape SafeStrings, since they're already safe
	    if (string && string.toHTML) {
	      return string.toHTML();
	    } else if (string == null) {
	      return '';
	    } else if (!string) {
	      return string + '';
	    }

	    // Force a string conversion as this will be done by the append regardless and
	    // the regex test will do this transparently behind the scenes, causing issues if
	    // an object's to string has escaped characters in it.
	    string = '' + string;
	  }

	  if (!possible.test(string)) {
	    return string;
	  }
	  return string.replace(badChars, escapeChar);
	}

	function isEmpty(value) {
	  if (!value && value !== 0) {
	    return true;
	  } else if (isArray(value) && value.length === 0) {
	    return true;
	  } else {
	    return false;
	  }
	}

	function createFrame(object) {
	  var frame = extend({}, object);
	  frame._parent = object;
	  return frame;
	}

	function blockParams(params, ids) {
	  params.path = ids;
	  return params;
	}

	function appendContextPath(contextPath, id) {
	  return (contextPath ? contextPath + '.' : '') + id;
	}
	//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3V0aWxzLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBQSxJQUFNLE1BQU0sR0FBRztBQUNiLEtBQUcsRUFBRSxPQUFPO0FBQ1osS0FBRyxFQUFFLE1BQU07QUFDWCxLQUFHLEVBQUUsTUFBTTtBQUNYLEtBQUcsRUFBRSxRQUFRO0FBQ2IsS0FBRyxFQUFFLFFBQVE7QUFDYixLQUFHLEVBQUUsUUFBUTtBQUNiLEtBQUcsRUFBRSxRQUFRO0NBQ2QsQ0FBQzs7QUFFRixJQUFNLFFBQVEsR0FBRyxZQUFZO0lBQ3ZCLFFBQVEsR0FBRyxXQUFXLENBQUM7O0FBRTdCLFNBQVMsVUFBVSxDQUFDLEdBQUcsRUFBRTtBQUN2QixTQUFPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQztDQUNwQjs7QUFFTSxTQUFTLE1BQU0sQ0FBQyxHQUFHLG9CQUFtQjtBQUMzQyxPQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUN6QyxTQUFLLElBQUksR0FBRyxJQUFJLFNBQVMsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUM1QixVQUFJLE1BQU0sQ0FBQyxTQUFTLENBQUMsY0FBYyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLEVBQUU7QUFDM0QsV0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQztPQUM5QjtLQUNGO0dBQ0Y7O0FBRUQsU0FBTyxHQUFHLENBQUM7Q0FDWjs7QUFFTSxJQUFJLFFBQVEsR0FBRyxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQzs7Ozs7O0FBS2hELElBQUksVUFBVSxHQUFHLG9CQUFTLEtBQUssRUFBRTtBQUMvQixTQUFPLE9BQU8sS0FBSyxLQUFLLFVBQVUsQ0FBQztDQUNwQyxDQUFDOzs7QUFHRixJQUFJLFVBQVUsQ0FBQyxHQUFHLENBQUMsRUFBRTtBQUNuQixVQUlNLFVBQVUsR0FKaEIsVUFBVSxHQUFHLFVBQVMsS0FBSyxFQUFFO0FBQzNCLFdBQU8sT0FBTyxLQUFLLEtBQUssVUFBVSxJQUFJLFFBQVEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssbUJBQW1CLENBQUM7R0FDcEYsQ0FBQztDQUNIO1FBQ08sVUFBVSxHQUFWLFVBQVU7Ozs7O0FBSVgsSUFBTSxPQUFPLEdBQUcsS0FBSyxDQUFDLE9BQU8sSUFBSSxVQUFTLEtBQUssRUFBRTtBQUN0RCxTQUFPLEFBQUMsS0FBSyxJQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsR0FBSSxRQUFRLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLGdCQUFnQixHQUFHLEtBQUssQ0FBQztDQUNqRyxDQUFDOzs7OztBQUdLLFNBQVMsT0FBTyxDQUFDLEtBQUssRUFBRSxLQUFLLEVBQUU7QUFDcEMsT0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsR0FBRyxHQUFHLEtBQUssQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUNoRCxRQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsS0FBSyxLQUFLLEVBQUU7QUFDdEIsYUFBTyxDQUFDLENBQUM7S0FDVjtHQUNGO0FBQ0QsU0FBTyxDQUFDLENBQUMsQ0FBQztDQUNYOztBQUdNLFNBQVMsZ0JBQWdCLENBQUMsTUFBTSxFQUFFO0FBQ3ZDLE1BQUksT0FBTyxNQUFNLEtBQUssUUFBUSxFQUFFOztBQUU5QixRQUFJLE1BQU0sSUFBSSxNQUFNLENBQUMsTUFBTSxFQUFFO0FBQzNCLGFBQU8sTUFBTSxDQUFDLE1BQU0sRUFBRSxDQUFDO0tBQ3hCLE1BQU0sSUFBSSxNQUFNLElBQUksSUFBSSxFQUFFO0FBQ3pCLGFBQU8sRUFBRSxDQUFDO0tBQ1gsTUFBTSxJQUFJLENBQUMsTUFBTSxFQUFFO0FBQ2xCLGFBQU8sTUFBTSxHQUFHLEVBQUUsQ0FBQztLQUNwQjs7Ozs7QUFLRCxVQUFNLEdBQUcsRUFBRSxHQUFHLE1BQU0sQ0FBQztHQUN0Qjs7QUFFRCxNQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsRUFBRTtBQUFFLFdBQU8sTUFBTSxDQUFDO0dBQUU7QUFDOUMsU0FBTyxNQUFNLENBQUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxVQUFVLENBQUMsQ0FBQztDQUM3Qzs7QUFFTSxTQUFTLE9BQU8sQ0FBQyxLQUFLLEVBQUU7QUFDN0IsTUFBSSxDQUFDLEtBQUssSUFBSSxLQUFLLEtBQUssQ0FBQyxFQUFFO0FBQ3pCLFdBQU8sSUFBSSxDQUFDO0dBQ2IsTUFBTSxJQUFJLE9BQU8sQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLENBQUMsTUFBTSxLQUFLLENBQUMsRUFBRTtBQUMvQyxXQUFPLElBQUksQ0FBQztHQUNiLE1BQU07QUFDTCxXQUFPLEtBQUssQ0FBQztHQUNkO0NBQ0Y7O0FBRU0sU0FBUyxXQUFXLENBQUMsTUFBTSxFQUFFO0FBQ2xDLE1BQUksS0FBSyxHQUFHLE1BQU0sQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDL0IsT0FBSyxDQUFDLE9BQU8sR0FBRyxNQUFNLENBQUM7QUFDdkIsU0FBTyxLQUFLLENBQUM7Q0FDZDs7QUFFTSxTQUFTLFdBQVcsQ0FBQyxNQUFNLEVBQUUsR0FBRyxFQUFFO0FBQ3ZDLFFBQU0sQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDO0FBQ2xCLFNBQU8sTUFBTSxDQUFDO0NBQ2Y7O0FBRU0sU0FBUyxpQkFBaUIsQ0FBQyxXQUFXLEVBQUUsRUFBRSxFQUFFO0FBQ2pELFNBQU8sQ0FBQyxXQUFXLEdBQUcsV0FBVyxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUEsR0FBSSxFQUFFLENBQUM7Q0FDcEQiLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBlc2NhcGUgPSB7XG4gICcmJzogJyZhbXA7JyxcbiAgJzwnOiAnJmx0OycsXG4gICc+JzogJyZndDsnLFxuICAnXCInOiAnJnF1b3Q7JyxcbiAgXCInXCI6ICcmI3gyNzsnLFxuICAnYCc6ICcmI3g2MDsnLFxuICAnPSc6ICcmI3gzRDsnXG59O1xuXG5jb25zdCBiYWRDaGFycyA9IC9bJjw+XCInYD1dL2csXG4gICAgICBwb3NzaWJsZSA9IC9bJjw+XCInYD1dLztcblxuZnVuY3Rpb24gZXNjYXBlQ2hhcihjaHIpIHtcbiAgcmV0dXJuIGVzY2FwZVtjaHJdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKG9iai8qICwgLi4uc291cmNlICovKSB7XG4gIGZvciAobGV0IGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQga2V5IGluIGFyZ3VtZW50c1tpXSkge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChhcmd1bWVudHNbaV0sIGtleSkpIHtcbiAgICAgICAgb2JqW2tleV0gPSBhcmd1bWVudHNbaV1ba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gb2JqO1xufVxuXG5leHBvcnQgbGV0IHRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztcblxuLy8gU291cmNlZCBmcm9tIGxvZGFzaFxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Jlc3RpZWpzL2xvZGFzaC9ibG9iL21hc3Rlci9MSUNFTlNFLnR4dFxuLyogZXNsaW50LWRpc2FibGUgZnVuYy1zdHlsZSAqL1xubGV0IGlzRnVuY3Rpb24gPSBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xufTtcbi8vIGZhbGxiYWNrIGZvciBvbGRlciB2ZXJzaW9ucyBvZiBDaHJvbWUgYW5kIFNhZmFyaVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmlmIChpc0Z1bmN0aW9uKC94LykpIHtcbiAgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0b1N0cmluZy5jYWxsKHZhbHVlKSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbiAgfTtcbn1cbmV4cG9ydCB7aXNGdW5jdGlvbn07XG4vKiBlc2xpbnQtZW5hYmxlIGZ1bmMtc3R5bGUgKi9cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmV4cG9ydCBjb25zdCBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbih2YWx1ZSkge1xuICByZXR1cm4gKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpID8gdG9TdHJpbmcuY2FsbCh2YWx1ZSkgPT09ICdbb2JqZWN0IEFycmF5XScgOiBmYWxzZTtcbn07XG5cbi8vIE9sZGVyIElFIHZlcnNpb25zIGRvIG5vdCBkaXJlY3RseSBzdXBwb3J0IGluZGV4T2Ygc28gd2UgbXVzdCBpbXBsZW1lbnQgb3VyIG93biwgc2FkbHkuXG5leHBvcnQgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWYgKGFycmF5W2ldID09PSB2YWx1ZSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG4gIHJldHVybiAtMTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gZXNjYXBlRXhwcmVzc2lvbihzdHJpbmcpIHtcbiAgaWYgKHR5cGVvZiBzdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgLy8gZG9uJ3QgZXNjYXBlIFNhZmVTdHJpbmdzLCBzaW5jZSB0aGV5J3JlIGFscmVhZHkgc2FmZVxuICAgIGlmIChzdHJpbmcgJiYgc3RyaW5nLnRvSFRNTCkge1xuICAgICAgcmV0dXJuIHN0cmluZy50b0hUTUwoKTtcbiAgICB9IGVsc2UgaWYgKHN0cmluZyA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfSBlbHNlIGlmICghc3RyaW5nKSB7XG4gICAgICByZXR1cm4gc3RyaW5nICsgJyc7XG4gICAgfVxuXG4gICAgLy8gRm9yY2UgYSBzdHJpbmcgY29udmVyc2lvbiBhcyB0aGlzIHdpbGwgYmUgZG9uZSBieSB0aGUgYXBwZW5kIHJlZ2FyZGxlc3MgYW5kXG4gICAgLy8gdGhlIHJlZ2V4IHRlc3Qgd2lsbCBkbyB0aGlzIHRyYW5zcGFyZW50bHkgYmVoaW5kIHRoZSBzY2VuZXMsIGNhdXNpbmcgaXNzdWVzIGlmXG4gICAgLy8gYW4gb2JqZWN0J3MgdG8gc3RyaW5nIGhhcyBlc2NhcGVkIGNoYXJhY3RlcnMgaW4gaXQuXG4gICAgc3RyaW5nID0gJycgKyBzdHJpbmc7XG4gIH1cblxuICBpZiAoIXBvc3NpYmxlLnRlc3Qoc3RyaW5nKSkgeyByZXR1cm4gc3RyaW5nOyB9XG4gIHJldHVybiBzdHJpbmcucmVwbGFjZShiYWRDaGFycywgZXNjYXBlQ2hhcik7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5KHZhbHVlKSB7XG4gIGlmICghdmFsdWUgJiYgdmFsdWUgIT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSAmJiB2YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZyYW1lKG9iamVjdCkge1xuICBsZXQgZnJhbWUgPSBleHRlbmQoe30sIG9iamVjdCk7XG4gIGZyYW1lLl9wYXJlbnQgPSBvYmplY3Q7XG4gIHJldHVybiBmcmFtZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJsb2NrUGFyYW1zKHBhcmFtcywgaWRzKSB7XG4gIHBhcmFtcy5wYXRoID0gaWRzO1xuICByZXR1cm4gcGFyYW1zO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kQ29udGV4dFBhdGgoY29udGV4dFBhdGgsIGlkKSB7XG4gIHJldHVybiAoY29udGV4dFBhdGggPyBjb250ZXh0UGF0aCArICcuJyA6ICcnKSArIGlkO1xufVxuIl19


/***/ }),
/* 81 */
/***/ (function(module, exports) {

	'use strict';

	exports.__esModule = true;

	var errorProps = ['description', 'fileName', 'lineNumber', 'message', 'name', 'number', 'stack'];

	function Exception(message, node) {
	  var loc = node && node.loc,
	      line = undefined,
	      column = undefined;
	  if (loc) {
	    line = loc.start.line;
	    column = loc.start.column;

	    message += ' - ' + line + ':' + column;
	  }

	  var tmp = Error.prototype.constructor.call(this, message);

	  // Unfortunately errors are not enumerable in Chrome (at least), so `for prop in tmp` doesn't work.
	  for (var idx = 0; idx < errorProps.length; idx++) {
	    this[errorProps[idx]] = tmp[errorProps[idx]];
	  }

	  /* istanbul ignore else */
	  if (Error.captureStackTrace) {
	    Error.captureStackTrace(this, Exception);
	  }

	  try {
	    if (loc) {
	      this.lineNumber = line;

	      // Work around issue under safari where we can't directly set the column value
	      /* istanbul ignore next */
	      if (Object.defineProperty) {
	        Object.defineProperty(this, 'column', {
	          value: column,
	          enumerable: true
	        });
	      } else {
	        this.column = column;
	      }
	    }
	  } catch (nop) {
	    /* Ignore if the browser is very particular */
	  }
	}

	Exception.prototype = new Error();

	exports['default'] = Exception;
	module.exports = exports['default'];
	//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2V4Y2VwdGlvbi5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O0FBQ0EsSUFBTSxVQUFVLEdBQUcsQ0FBQyxhQUFhLEVBQUUsVUFBVSxFQUFFLFlBQVksRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBRSxPQUFPLENBQUMsQ0FBQzs7QUFFbkcsU0FBUyxTQUFTLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRTtBQUNoQyxNQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksSUFBSSxDQUFDLEdBQUc7TUFDdEIsSUFBSSxZQUFBO01BQ0osTUFBTSxZQUFBLENBQUM7QUFDWCxNQUFJLEdBQUcsRUFBRTtBQUNQLFFBQUksR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQztBQUN0QixVQUFNLEdBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUM7O0FBRTFCLFdBQU8sSUFBSSxLQUFLLEdBQUcsSUFBSSxHQUFHLEdBQUcsR0FBRyxNQUFNLENBQUM7R0FDeEM7O0FBRUQsTUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLFNBQVMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLENBQUMsQ0FBQzs7O0FBRzFELE9BQUssSUFBSSxHQUFHLEdBQUcsQ0FBQyxFQUFFLEdBQUcsR0FBRyxVQUFVLENBQUMsTUFBTSxFQUFFLEdBQUcsRUFBRSxFQUFFO0FBQ2hELFFBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7R0FDOUM7OztBQUdELE1BQUksS0FBSyxDQUFDLGlCQUFpQixFQUFFO0FBQzNCLFNBQUssQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLEVBQUUsU0FBUyxDQUFDLENBQUM7R0FDMUM7O0FBRUQsTUFBSTtBQUNGLFFBQUksR0FBRyxFQUFFO0FBQ1AsVUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUM7Ozs7QUFJdkIsVUFBSSxNQUFNLENBQUMsY0FBYyxFQUFFO0FBQ3pCLGNBQU0sQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLFFBQVEsRUFBRTtBQUNwQyxlQUFLLEVBQUUsTUFBTTtBQUNiLG9CQUFVLEVBQUUsSUFBSTtTQUNqQixDQUFDLENBQUM7T0FDSixNQUFNO0FBQ0wsWUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7T0FDdEI7S0FDRjtHQUNGLENBQUMsT0FBTyxHQUFHLEVBQUU7O0dBRWI7Q0FDRjs7QUFFRCxTQUFTLENBQUMsU0FBUyxHQUFHLElBQUksS0FBSyxFQUFFLENBQUM7O3FCQUVuQixTQUFTIiwiZmlsZSI6ImV4Y2VwdGlvbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3QgZXJyb3JQcm9wcyA9IFsnZGVzY3JpcHRpb24nLCAnZmlsZU5hbWUnLCAnbGluZU51bWJlcicsICdtZXNzYWdlJywgJ25hbWUnLCAnbnVtYmVyJywgJ3N0YWNrJ107XG5cbmZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlLCBub2RlKSB7XG4gIGxldCBsb2MgPSBub2RlICYmIG5vZGUubG9jLFxuICAgICAgbGluZSxcbiAgICAgIGNvbHVtbjtcbiAgaWYgKGxvYykge1xuICAgIGxpbmUgPSBsb2Muc3RhcnQubGluZTtcbiAgICBjb2x1bW4gPSBsb2Muc3RhcnQuY29sdW1uO1xuXG4gICAgbWVzc2FnZSArPSAnIC0gJyArIGxpbmUgKyAnOicgKyBjb2x1bW47XG4gIH1cblxuICBsZXQgdG1wID0gRXJyb3IucHJvdG90eXBlLmNvbnN0cnVjdG9yLmNhbGwodGhpcywgbWVzc2FnZSk7XG5cbiAgLy8gVW5mb3J0dW5hdGVseSBlcnJvcnMgYXJlIG5vdCBlbnVtZXJhYmxlIGluIENocm9tZSAoYXQgbGVhc3QpLCBzbyBgZm9yIHByb3AgaW4gdG1wYCBkb2Vzbid0IHdvcmsuXG4gIGZvciAobGV0IGlkeCA9IDA7IGlkeCA8IGVycm9yUHJvcHMubGVuZ3RoOyBpZHgrKykge1xuICAgIHRoaXNbZXJyb3JQcm9wc1tpZHhdXSA9IHRtcFtlcnJvclByb3BzW2lkeF1dO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgRXhjZXB0aW9uKTtcbiAgfVxuXG4gIHRyeSB7XG4gICAgaWYgKGxvYykge1xuICAgICAgdGhpcy5saW5lTnVtYmVyID0gbGluZTtcblxuICAgICAgLy8gV29yayBhcm91bmQgaXNzdWUgdW5kZXIgc2FmYXJpIHdoZXJlIHdlIGNhbid0IGRpcmVjdGx5IHNldCB0aGUgY29sdW1uIHZhbHVlXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgJ2NvbHVtbicsIHtcbiAgICAgICAgICB2YWx1ZTogY29sdW1uLFxuICAgICAgICAgIGVudW1lcmFibGU6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKG5vcCkge1xuICAgIC8qIElnbm9yZSBpZiB0aGUgYnJvd3NlciBpcyB2ZXJ5IHBhcnRpY3VsYXIgKi9cbiAgfVxufVxuXG5FeGNlcHRpb24ucHJvdG90eXBlID0gbmV3IEVycm9yKCk7XG5cbmV4cG9ydCBkZWZhdWx0IEV4Y2VwdGlvbjtcbiJdfQ==


/***/ }),
/* 82 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	exports.__esModule = true;
	exports.registerDefaultHelpers = registerDefaultHelpers;
	// istanbul ignore next

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

	var _helpersBlockHelperMissing = __webpack_require__(83);

	var _helpersBlockHelperMissing2 = _interopRequireDefault(_helpersBlockHelperMissing);

	var _helpersEach = __webpack_require__(84);

	var _helpersEach2 = _interopRequireDefault(_helpersEach);

	var _helpersHelperMissing = __webpack_require__(85);

	var _helpersHelperMissing2 = _interopRequireDefault(_helpersHelperMissing);

	var _helpersIf = __webpack_require__(86);

	var _helpersIf2 = _interopRequireDefault(_helpersIf);

	var _helpersLog = __webpack_require__(87);

	var _helpersLog2 = _interopRequireDefault(_helpersLog);

	var _helpersLookup = __webpack_require__(88);

	var _helpersLookup2 = _interopRequireDefault(_helpersLookup);

	var _helpersWith = __webpack_require__(89);

	var _helpersWith2 = _interopRequireDefault(_helpersWith);

	function registerDefaultHelpers(instance) {
	  _helpersBlockHelperMissing2['default'](instance);
	  _helpersEach2['default'](instance);
	  _helpersHelperMissing2['default'](instance);
	  _helpersIf2['default'](instance);
	  _helpersLog2['default'](instance);
	  _helpersLookup2['default'](instance);
	  _helpersWith2['default'](instance);
	}
	//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7eUNBQXVDLGdDQUFnQzs7OzsyQkFDOUMsZ0JBQWdCOzs7O29DQUNQLDBCQUEwQjs7Ozt5QkFDckMsY0FBYzs7OzswQkFDYixlQUFlOzs7OzZCQUNaLGtCQUFrQjs7OzsyQkFDcEIsZ0JBQWdCOzs7O0FBRWxDLFNBQVMsc0JBQXNCLENBQUMsUUFBUSxFQUFFO0FBQy9DLHlDQUEyQixRQUFRLENBQUMsQ0FBQztBQUNyQywyQkFBYSxRQUFRLENBQUMsQ0FBQztBQUN2QixvQ0FBc0IsUUFBUSxDQUFDLENBQUM7QUFDaEMseUJBQVcsUUFBUSxDQUFDLENBQUM7QUFDckIsMEJBQVksUUFBUSxDQUFDLENBQUM7QUFDdEIsNkJBQWUsUUFBUSxDQUFDLENBQUM7QUFDekIsMkJBQWEsUUFBUSxDQUFDLENBQUM7Q0FDeEIiLCJmaWxlIjoiaGVscGVycy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCByZWdpc3RlckJsb2NrSGVscGVyTWlzc2luZyBmcm9tICcuL2hlbHBlcnMvYmxvY2staGVscGVyLW1pc3NpbmcnO1xuaW1wb3J0IHJlZ2lzdGVyRWFjaCBmcm9tICcuL2hlbHBlcnMvZWFjaCc7XG5pbXBvcnQgcmVnaXN0ZXJIZWxwZXJNaXNzaW5nIGZyb20gJy4vaGVscGVycy9oZWxwZXItbWlzc2luZyc7XG5pbXBvcnQgcmVnaXN0ZXJJZiBmcm9tICcuL2hlbHBlcnMvaWYnO1xuaW1wb3J0IHJlZ2lzdGVyTG9nIGZyb20gJy4vaGVscGVycy9sb2cnO1xuaW1wb3J0IHJlZ2lzdGVyTG9va3VwIGZyb20gJy4vaGVscGVycy9sb29rdXAnO1xuaW1wb3J0IHJlZ2lzdGVyV2l0aCBmcm9tICcuL2hlbHBlcnMvd2l0aCc7XG5cbmV4cG9ydCBmdW5jdGlvbiByZWdpc3RlckRlZmF1bHRIZWxwZXJzKGluc3RhbmNlKSB7XG4gIHJlZ2lzdGVyQmxvY2tIZWxwZXJNaXNzaW5nKGluc3RhbmNlKTtcbiAgcmVnaXN0ZXJFYWNoKGluc3RhbmNlKTtcbiAgcmVnaXN0ZXJIZWxwZXJNaXNzaW5nKGluc3RhbmNlKTtcbiAgcmVnaXN0ZXJJZihpbnN0YW5jZSk7XG4gIHJlZ2lzdGVyTG9nKGluc3RhbmNlKTtcbiAgcmVnaXN0ZXJMb29rdXAoaW5zdGFuY2UpO1xuICByZWdpc3RlcldpdGgoaW5zdGFuY2UpO1xufVxuIl19


/***/ }),
/* 83 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	exports.__esModule = true;

	var _utils = __webpack_require__(80);

	exports['default'] = function (instance) {
	  instance.registerHelper('blockHelperMissing', function (context, options) {
	    var inverse = options.inverse,
	        fn = options.fn;

	    if (context === true) {
	      return fn(this);
	    } else if (context === false || context == null) {
	      return inverse(this);
	    } else if (_utils.isArray(context)) {
	      if (context.length > 0) {
	        if (options.ids) {
	          options.ids = [options.name];
	        }

	        return instance.helpers.each(context, options);
	      } else {
	        return inverse(this);
	      }
	    } else {
	      if (options.data && options.ids) {
	        var data = _utils.createFrame(options.data);
	        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.name);
	        options = { data: data };
	      }

	      return fn(context, options);
	    }
	  });
	};

	module.exports = exports['default'];
	//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvYmxvY2staGVscGVyLW1pc3NpbmcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztxQkFBc0QsVUFBVTs7cUJBRWpELFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsb0JBQW9CLEVBQUUsVUFBUyxPQUFPLEVBQUUsT0FBTyxFQUFFO0FBQ3ZFLFFBQUksT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPO1FBQ3pCLEVBQUUsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDOztBQUVwQixRQUFJLE9BQU8sS0FBSyxJQUFJLEVBQUU7QUFDcEIsYUFBTyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDakIsTUFBTSxJQUFJLE9BQU8sS0FBSyxLQUFLLElBQUksT0FBTyxJQUFJLElBQUksRUFBRTtBQUMvQyxhQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUN0QixNQUFNLElBQUksZUFBUSxPQUFPLENBQUMsRUFBRTtBQUMzQixVQUFJLE9BQU8sQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFO0FBQ3RCLFlBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUNmLGlCQUFPLENBQUMsR0FBRyxHQUFHLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzlCOztBQUVELGVBQU8sUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO09BQ2hELE1BQU07QUFDTCxlQUFPLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztPQUN0QjtLQUNGLE1BQU07QUFDTCxVQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUMvQixZQUFJLElBQUksR0FBRyxtQkFBWSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDckMsWUFBSSxDQUFDLFdBQVcsR0FBRyx5QkFBa0IsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQzdFLGVBQU8sR0FBRyxFQUFDLElBQUksRUFBRSxJQUFJLEVBQUMsQ0FBQztPQUN4Qjs7QUFFRCxhQUFPLEVBQUUsQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7S0FDN0I7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJibG9jay1oZWxwZXItbWlzc2luZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7YXBwZW5kQ29udGV4dFBhdGgsIGNyZWF0ZUZyYW1lLCBpc0FycmF5fSBmcm9tICcuLi91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVySGVscGVyKCdibG9ja0hlbHBlck1pc3NpbmcnLCBmdW5jdGlvbihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgbGV0IGludmVyc2UgPSBvcHRpb25zLmludmVyc2UsXG4gICAgICAgIGZuID0gb3B0aW9ucy5mbjtcblxuICAgIGlmIChjb250ZXh0ID09PSB0cnVlKSB7XG4gICAgICByZXR1cm4gZm4odGhpcyk7XG4gICAgfSBlbHNlIGlmIChjb250ZXh0ID09PSBmYWxzZSB8fCBjb250ZXh0ID09IG51bGwpIHtcbiAgICAgIHJldHVybiBpbnZlcnNlKHRoaXMpO1xuICAgIH0gZWxzZSBpZiAoaXNBcnJheShjb250ZXh0KSkge1xuICAgICAgaWYgKGNvbnRleHQubGVuZ3RoID4gMCkge1xuICAgICAgICBpZiAob3B0aW9ucy5pZHMpIHtcbiAgICAgICAgICBvcHRpb25zLmlkcyA9IFtvcHRpb25zLm5hbWVdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGluc3RhbmNlLmhlbHBlcnMuZWFjaChjb250ZXh0LCBvcHRpb25zKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpbnZlcnNlKHRoaXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuaWRzKSB7XG4gICAgICAgIGxldCBkYXRhID0gY3JlYXRlRnJhbWUob3B0aW9ucy5kYXRhKTtcbiAgICAgICAgZGF0YS5jb250ZXh0UGF0aCA9IGFwcGVuZENvbnRleHRQYXRoKG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCwgb3B0aW9ucy5uYW1lKTtcbiAgICAgICAgb3B0aW9ucyA9IHtkYXRhOiBkYXRhfTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGZuKGNvbnRleHQsIG9wdGlvbnMpO1xuICAgIH1cbiAgfSk7XG59XG4iXX0=


/***/ }),
/* 84 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	exports.__esModule = true;
	// istanbul ignore next

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

	var _utils = __webpack_require__(80);

	var _exception = __webpack_require__(81);

	var _exception2 = _interopRequireDefault(_exception);

	exports['default'] = function (instance) {
	  instance.registerHelper('each', function (context, options) {
	    if (!options) {
	      throw new _exception2['default']('Must pass iterator to #each');
	    }

	    var fn = options.fn,
	        inverse = options.inverse,
	        i = 0,
	        ret = '',
	        data = undefined,
	        contextPath = undefined;

	    if (options.data && options.ids) {
	      contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]) + '.';
	    }

	    if (_utils.isFunction(context)) {
	      context = context.call(this);
	    }

	    if (options.data) {
	      data = _utils.createFrame(options.data);
	    }

	    function execIteration(field, index, last) {
	      if (data) {
	        data.key = field;
	        data.index = index;
	        data.first = index === 0;
	        data.last = !!last;

	        if (contextPath) {
	          data.contextPath = contextPath + field;
	        }
	      }

	      ret = ret + fn(context[field], {
	        data: data,
	        blockParams: _utils.blockParams([context[field], field], [contextPath + field, null])
	      });
	    }

	    if (context && typeof context === 'object') {
	      if (_utils.isArray(context)) {
	        for (var j = context.length; i < j; i++) {
	          if (i in context) {
	            execIteration(i, i, i === context.length - 1);
	          }
	        }
	      } else {
	        var priorKey = undefined;

	        for (var key in context) {
	          if (context.hasOwnProperty(key)) {
	            // We're running the iterations one step out of sync so we can detect
	            // the last iteration without have to scan the object twice and create
	            // an itermediate keys array.
	            if (priorKey !== undefined) {
	              execIteration(priorKey, i - 1);
	            }
	            priorKey = key;
	            i++;
	          }
	        }
	        if (priorKey !== undefined) {
	          execIteration(priorKey, i - 1, true);
	        }
	      }
	    }

	    if (i === 0) {
	      ret = inverse(this);
	    }

	    return ret;
	  });
	};

	module.exports = exports['default'];
	//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvZWFjaC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7O3FCQUErRSxVQUFVOzt5QkFDbkUsY0FBYzs7OztxQkFFckIsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsVUFBUyxPQUFPLEVBQUUsT0FBTyxFQUFFO0FBQ3pELFFBQUksQ0FBQyxPQUFPLEVBQUU7QUFDWixZQUFNLDJCQUFjLDZCQUE2QixDQUFDLENBQUM7S0FDcEQ7O0FBRUQsUUFBSSxFQUFFLEdBQUcsT0FBTyxDQUFDLEVBQUU7UUFDZixPQUFPLEdBQUcsT0FBTyxDQUFDLE9BQU87UUFDekIsQ0FBQyxHQUFHLENBQUM7UUFDTCxHQUFHLEdBQUcsRUFBRTtRQUNSLElBQUksWUFBQTtRQUNKLFdBQVcsWUFBQSxDQUFDOztBQUVoQixRQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLEdBQUcsRUFBRTtBQUMvQixpQkFBVyxHQUFHLHlCQUFrQixPQUFPLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsR0FBRyxDQUFDO0tBQ2pGOztBQUVELFFBQUksa0JBQVcsT0FBTyxDQUFDLEVBQUU7QUFBRSxhQUFPLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUFFOztBQUUxRCxRQUFJLE9BQU8sQ0FBQyxJQUFJLEVBQUU7QUFDaEIsVUFBSSxHQUFHLG1CQUFZLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUNsQzs7QUFFRCxhQUFTLGFBQWEsQ0FBQyxLQUFLLEVBQUUsS0FBSyxFQUFFLElBQUksRUFBRTtBQUN6QyxVQUFJLElBQUksRUFBRTtBQUNSLFlBQUksQ0FBQyxHQUFHLEdBQUcsS0FBSyxDQUFDO0FBQ2pCLFlBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0FBQ25CLFlBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSyxLQUFLLENBQUMsQ0FBQztBQUN6QixZQUFJLENBQUMsSUFBSSxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7O0FBRW5CLFlBQUksV0FBVyxFQUFFO0FBQ2YsY0FBSSxDQUFDLFdBQVcsR0FBRyxXQUFXLEdBQUcsS0FBSyxDQUFDO1NBQ3hDO09BQ0Y7O0FBRUQsU0FBRyxHQUFHLEdBQUcsR0FBRyxFQUFFLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxFQUFFO0FBQzdCLFlBQUksRUFBRSxJQUFJO0FBQ1YsbUJBQVcsRUFBRSxtQkFBWSxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsRUFBRSxLQUFLLENBQUMsRUFBRSxDQUFDLFdBQVcsR0FBRyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7T0FDL0UsQ0FBQyxDQUFDO0tBQ0o7O0FBRUQsUUFBSSxPQUFPLElBQUksT0FBTyxPQUFPLEtBQUssUUFBUSxFQUFFO0FBQzFDLFVBQUksZUFBUSxPQUFPLENBQUMsRUFBRTtBQUNwQixhQUFLLElBQUksQ0FBQyxHQUFHLE9BQU8sQ0FBQyxNQUFNLEVBQUUsQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBRTtBQUN2QyxjQUFJLENBQUMsSUFBSSxPQUFPLEVBQUU7QUFDaEIseUJBQWEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsS0FBSyxPQUFPLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDO1dBQy9DO1NBQ0Y7T0FDRixNQUFNO0FBQ0wsWUFBSSxRQUFRLFlBQUEsQ0FBQzs7QUFFYixhQUFLLElBQUksR0FBRyxJQUFJLE9BQU8sRUFBRTtBQUN2QixjQUFJLE9BQU8sQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLEVBQUU7Ozs7QUFJL0IsZ0JBQUksUUFBUSxLQUFLLFNBQVMsRUFBRTtBQUMxQiwyQkFBYSxDQUFDLFFBQVEsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7YUFDaEM7QUFDRCxvQkFBUSxHQUFHLEdBQUcsQ0FBQztBQUNmLGFBQUMsRUFBRSxDQUFDO1dBQ0w7U0FDRjtBQUNELFlBQUksUUFBUSxLQUFLLFNBQVMsRUFBRTtBQUMxQix1QkFBYSxDQUFDLFFBQVEsRUFBRSxDQUFDLEdBQUcsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO1NBQ3RDO09BQ0Y7S0FDRjs7QUFFRCxRQUFJLENBQUMsS0FBSyxDQUFDLEVBQUU7QUFDWCxTQUFHLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ3JCOztBQUVELFdBQU8sR0FBRyxDQUFDO0dBQ1osQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoiZWFjaC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7YXBwZW5kQ29udGV4dFBhdGgsIGJsb2NrUGFyYW1zLCBjcmVhdGVGcmFtZSwgaXNBcnJheSwgaXNGdW5jdGlvbn0gZnJvbSAnLi4vdXRpbHMnO1xuaW1wb3J0IEV4Y2VwdGlvbiBmcm9tICcuLi9leGNlcHRpb24nO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignZWFjaCcsIGZ1bmN0aW9uKGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ011c3QgcGFzcyBpdGVyYXRvciB0byAjZWFjaCcpO1xuICAgIH1cblxuICAgIGxldCBmbiA9IG9wdGlvbnMuZm4sXG4gICAgICAgIGludmVyc2UgPSBvcHRpb25zLmludmVyc2UsXG4gICAgICAgIGkgPSAwLFxuICAgICAgICByZXQgPSAnJyxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgY29udGV4dFBhdGg7XG5cbiAgICBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuaWRzKSB7XG4gICAgICBjb250ZXh0UGF0aCA9IGFwcGVuZENvbnRleHRQYXRoKG9wdGlvbnMuZGF0YS5jb250ZXh0UGF0aCwgb3B0aW9ucy5pZHNbMF0pICsgJy4nO1xuICAgIH1cblxuICAgIGlmIChpc0Z1bmN0aW9uKGNvbnRleHQpKSB7IGNvbnRleHQgPSBjb250ZXh0LmNhbGwodGhpcyk7IH1cblxuICAgIGlmIChvcHRpb25zLmRhdGEpIHtcbiAgICAgIGRhdGEgPSBjcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGV4ZWNJdGVyYXRpb24oZmllbGQsIGluZGV4LCBsYXN0KSB7XG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICBkYXRhLmtleSA9IGZpZWxkO1xuICAgICAgICBkYXRhLmluZGV4ID0gaW5kZXg7XG4gICAgICAgIGRhdGEuZmlyc3QgPSBpbmRleCA9PT0gMDtcbiAgICAgICAgZGF0YS5sYXN0ID0gISFsYXN0O1xuXG4gICAgICAgIGlmIChjb250ZXh0UGF0aCkge1xuICAgICAgICAgIGRhdGEuY29udGV4dFBhdGggPSBjb250ZXh0UGF0aCArIGZpZWxkO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldCA9IHJldCArIGZuKGNvbnRleHRbZmllbGRdLCB7XG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIGJsb2NrUGFyYW1zOiBibG9ja1BhcmFtcyhbY29udGV4dFtmaWVsZF0sIGZpZWxkXSwgW2NvbnRleHRQYXRoICsgZmllbGQsIG51bGxdKVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGNvbnRleHQgJiYgdHlwZW9mIGNvbnRleHQgPT09ICdvYmplY3QnKSB7XG4gICAgICBpZiAoaXNBcnJheShjb250ZXh0KSkge1xuICAgICAgICBmb3IgKGxldCBqID0gY29udGV4dC5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICBpZiAoaSBpbiBjb250ZXh0KSB7XG4gICAgICAgICAgICBleGVjSXRlcmF0aW9uKGksIGksIGkgPT09IGNvbnRleHQubGVuZ3RoIC0gMSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBsZXQgcHJpb3JLZXk7XG5cbiAgICAgICAgZm9yIChsZXQga2V5IGluIGNvbnRleHQpIHtcbiAgICAgICAgICBpZiAoY29udGV4dC5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgICAvLyBXZSdyZSBydW5uaW5nIHRoZSBpdGVyYXRpb25zIG9uZSBzdGVwIG91dCBvZiBzeW5jIHNvIHdlIGNhbiBkZXRlY3RcbiAgICAgICAgICAgIC8vIHRoZSBsYXN0IGl0ZXJhdGlvbiB3aXRob3V0IGhhdmUgdG8gc2NhbiB0aGUgb2JqZWN0IHR3aWNlIGFuZCBjcmVhdGVcbiAgICAgICAgICAgIC8vIGFuIGl0ZXJtZWRpYXRlIGtleXMgYXJyYXkuXG4gICAgICAgICAgICBpZiAocHJpb3JLZXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICBleGVjSXRlcmF0aW9uKHByaW9yS2V5LCBpIC0gMSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcmlvcktleSA9IGtleTtcbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByaW9yS2V5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBleGVjSXRlcmF0aW9uKHByaW9yS2V5LCBpIC0gMSwgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaSA9PT0gMCkge1xuICAgICAgcmV0ID0gaW52ZXJzZSh0aGlzKTtcbiAgICB9XG5cbiAgICByZXR1cm4gcmV0O1xuICB9KTtcbn1cbiJdfQ==


/***/ }),
/* 85 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	exports.__esModule = true;
	// istanbul ignore next

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

	var _exception = __webpack_require__(81);

	var _exception2 = _interopRequireDefault(_exception);

	exports['default'] = function (instance) {
	  instance.registerHelper('helperMissing', function () /* [args, ]options */{
	    if (arguments.length === 1) {
	      // A missing field in a {{foo}} construct.
	      return undefined;
	    } else {
	      // Someone is actually trying to call something, blow up.
	      throw new _exception2['default']('Missing helper: "' + arguments[arguments.length - 1].name + '"');
	    }
	  });
	};

	module.exports = exports['default'];
	//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvaGVscGVyLW1pc3NpbmcuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozt5QkFBc0IsY0FBYzs7OztxQkFFckIsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxlQUFlLEVBQUUsaUNBQWdDO0FBQ3ZFLFFBQUksU0FBUyxDQUFDLE1BQU0sS0FBSyxDQUFDLEVBQUU7O0FBRTFCLGFBQU8sU0FBUyxDQUFDO0tBQ2xCLE1BQU07O0FBRUwsWUFBTSwyQkFBYyxtQkFBbUIsR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLENBQUM7S0FDdkY7R0FDRixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJoZWxwZXItbWlzc2luZy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi4vZXhjZXB0aW9uJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2hlbHBlck1pc3NpbmcnLCBmdW5jdGlvbigvKiBbYXJncywgXW9wdGlvbnMgKi8pIHtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgLy8gQSBtaXNzaW5nIGZpZWxkIGluIGEge3tmb299fSBjb25zdHJ1Y3QuXG4gICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBTb21lb25lIGlzIGFjdHVhbGx5IHRyeWluZyB0byBjYWxsIHNvbWV0aGluZywgYmxvdyB1cC5cbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ01pc3NpbmcgaGVscGVyOiBcIicgKyBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDFdLm5hbWUgKyAnXCInKTtcbiAgICB9XG4gIH0pO1xufVxuIl19


/***/ }),
/* 86 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	exports.__esModule = true;

	var _utils = __webpack_require__(80);

	exports['default'] = function (instance) {
	  instance.registerHelper('if', function (conditional, options) {
	    if (_utils.isFunction(conditional)) {
	      conditional = conditional.call(this);
	    }

	    // Default behavior is to render the positive path if the value is truthy and not empty.
	    // The `includeZero` option may be set to treat the condtional as purely not empty based on the
	    // behavior of isEmpty. Effectively this determines if 0 is handled by the positive path or negative.
	    if (!options.hash.includeZero && !conditional || _utils.isEmpty(conditional)) {
	      return options.inverse(this);
	    } else {
	      return options.fn(this);
	    }
	  });

	  instance.registerHelper('unless', function (conditional, options) {
	    return instance.helpers['if'].call(this, conditional, { fn: options.inverse, inverse: options.fn, hash: options.hash });
	  });
	};

	module.exports = exports['default'];
	//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvaWYuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztxQkFBa0MsVUFBVTs7cUJBRTdCLFVBQVMsUUFBUSxFQUFFO0FBQ2hDLFVBQVEsQ0FBQyxjQUFjLENBQUMsSUFBSSxFQUFFLFVBQVMsV0FBVyxFQUFFLE9BQU8sRUFBRTtBQUMzRCxRQUFJLGtCQUFXLFdBQVcsQ0FBQyxFQUFFO0FBQUUsaUJBQVcsR0FBRyxXQUFXLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQUU7Ozs7O0FBS3RFLFFBQUksQUFBQyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxJQUFJLENBQUMsV0FBVyxJQUFLLGVBQVEsV0FBVyxDQUFDLEVBQUU7QUFDdkUsYUFBTyxPQUFPLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQzlCLE1BQU07QUFDTCxhQUFPLE9BQU8sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDekI7R0FDRixDQUFDLENBQUM7O0FBRUgsVUFBUSxDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsVUFBUyxXQUFXLEVBQUUsT0FBTyxFQUFFO0FBQy9ELFdBQU8sUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLFdBQVcsRUFBRSxFQUFDLEVBQUUsRUFBRSxPQUFPLENBQUMsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxPQUFPLENBQUMsSUFBSSxFQUFDLENBQUMsQ0FBQztHQUN2SCxDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJpZi5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7aXNFbXB0eSwgaXNGdW5jdGlvbn0gZnJvbSAnLi4vdXRpbHMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignaWYnLCBmdW5jdGlvbihjb25kaXRpb25hbCwgb3B0aW9ucykge1xuICAgIGlmIChpc0Z1bmN0aW9uKGNvbmRpdGlvbmFsKSkgeyBjb25kaXRpb25hbCA9IGNvbmRpdGlvbmFsLmNhbGwodGhpcyk7IH1cblxuICAgIC8vIERlZmF1bHQgYmVoYXZpb3IgaXMgdG8gcmVuZGVyIHRoZSBwb3NpdGl2ZSBwYXRoIGlmIHRoZSB2YWx1ZSBpcyB0cnV0aHkgYW5kIG5vdCBlbXB0eS5cbiAgICAvLyBUaGUgYGluY2x1ZGVaZXJvYCBvcHRpb24gbWF5IGJlIHNldCB0byB0cmVhdCB0aGUgY29uZHRpb25hbCBhcyBwdXJlbHkgbm90IGVtcHR5IGJhc2VkIG9uIHRoZVxuICAgIC8vIGJlaGF2aW9yIG9mIGlzRW1wdHkuIEVmZmVjdGl2ZWx5IHRoaXMgZGV0ZXJtaW5lcyBpZiAwIGlzIGhhbmRsZWQgYnkgdGhlIHBvc2l0aXZlIHBhdGggb3IgbmVnYXRpdmUuXG4gICAgaWYgKCghb3B0aW9ucy5oYXNoLmluY2x1ZGVaZXJvICYmICFjb25kaXRpb25hbCkgfHwgaXNFbXB0eShjb25kaXRpb25hbCkpIHtcbiAgICAgIHJldHVybiBvcHRpb25zLmludmVyc2UodGhpcyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvcHRpb25zLmZuKHRoaXMpO1xuICAgIH1cbiAgfSk7XG5cbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ3VubGVzcycsIGZ1bmN0aW9uKGNvbmRpdGlvbmFsLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLmhlbHBlcnNbJ2lmJ10uY2FsbCh0aGlzLCBjb25kaXRpb25hbCwge2ZuOiBvcHRpb25zLmludmVyc2UsIGludmVyc2U6IG9wdGlvbnMuZm4sIGhhc2g6IG9wdGlvbnMuaGFzaH0pO1xuICB9KTtcbn1cbiJdfQ==


/***/ }),
/* 87 */
/***/ (function(module, exports) {

	'use strict';

	exports.__esModule = true;

	exports['default'] = function (instance) {
	  instance.registerHelper('log', function () /* message, options */{
	    var args = [undefined],
	        options = arguments[arguments.length - 1];
	    for (var i = 0; i < arguments.length - 1; i++) {
	      args.push(arguments[i]);
	    }

	    var level = 1;
	    if (options.hash.level != null) {
	      level = options.hash.level;
	    } else if (options.data && options.data.level != null) {
	      level = options.data.level;
	    }
	    args[0] = level;

	    instance.log.apply(instance, args);
	  });
	};

	module.exports = exports['default'];
	//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvbG9nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQWUsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxLQUFLLEVBQUUsa0NBQWlDO0FBQzlELFFBQUksSUFBSSxHQUFHLENBQUMsU0FBUyxDQUFDO1FBQ2xCLE9BQU8sR0FBRyxTQUFTLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUMsQ0FBQztBQUM5QyxTQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDN0MsVUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztLQUN6Qjs7QUFFRCxRQUFJLEtBQUssR0FBRyxDQUFDLENBQUM7QUFDZCxRQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsS0FBSyxJQUFJLElBQUksRUFBRTtBQUM5QixXQUFLLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUM7S0FDNUIsTUFBTSxJQUFJLE9BQU8sQ0FBQyxJQUFJLElBQUksT0FBTyxDQUFDLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSSxFQUFFO0FBQ3JELFdBQUssR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztLQUM1QjtBQUNELFFBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUM7O0FBRWhCLFlBQVEsQ0FBQyxHQUFHLE1BQUEsQ0FBWixRQUFRLEVBQVMsSUFBSSxDQUFDLENBQUM7R0FDeEIsQ0FBQyxDQUFDO0NBQ0oiLCJmaWxlIjoibG9nLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ2xvZycsIGZ1bmN0aW9uKC8qIG1lc3NhZ2UsIG9wdGlvbnMgKi8pIHtcbiAgICBsZXQgYXJncyA9IFt1bmRlZmluZWRdLFxuICAgICAgICBvcHRpb25zID0gYXJndW1lbnRzW2FyZ3VtZW50cy5sZW5ndGggLSAxXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICAgIH1cblxuICAgIGxldCBsZXZlbCA9IDE7XG4gICAgaWYgKG9wdGlvbnMuaGFzaC5sZXZlbCAhPSBudWxsKSB7XG4gICAgICBsZXZlbCA9IG9wdGlvbnMuaGFzaC5sZXZlbDtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnMuZGF0YSAmJiBvcHRpb25zLmRhdGEubGV2ZWwgIT0gbnVsbCkge1xuICAgICAgbGV2ZWwgPSBvcHRpb25zLmRhdGEubGV2ZWw7XG4gICAgfVxuICAgIGFyZ3NbMF0gPSBsZXZlbDtcblxuICAgIGluc3RhbmNlLmxvZyguLi4gYXJncyk7XG4gIH0pO1xufVxuIl19


/***/ }),
/* 88 */
/***/ (function(module, exports) {

	'use strict';

	exports.__esModule = true;

	exports['default'] = function (instance) {
	  instance.registerHelper('lookup', function (obj, field) {
	    return obj && obj[field];
	  });
	};

	module.exports = exports['default'];
	//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvbG9va3VwLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQWUsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxRQUFRLEVBQUUsVUFBUyxHQUFHLEVBQUUsS0FBSyxFQUFFO0FBQ3JELFdBQU8sR0FBRyxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQztHQUMxQixDQUFDLENBQUM7Q0FDSiIsImZpbGUiOiJsb29rdXAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihpbnN0YW5jZSkge1xuICBpbnN0YW5jZS5yZWdpc3RlckhlbHBlcignbG9va3VwJywgZnVuY3Rpb24ob2JqLCBmaWVsZCkge1xuICAgIHJldHVybiBvYmogJiYgb2JqW2ZpZWxkXTtcbiAgfSk7XG59XG4iXX0=


/***/ }),
/* 89 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	exports.__esModule = true;

	var _utils = __webpack_require__(80);

	exports['default'] = function (instance) {
	  instance.registerHelper('with', function (context, options) {
	    if (_utils.isFunction(context)) {
	      context = context.call(this);
	    }

	    var fn = options.fn;

	    if (!_utils.isEmpty(context)) {
	      var data = options.data;
	      if (options.data && options.ids) {
	        data = _utils.createFrame(options.data);
	        data.contextPath = _utils.appendContextPath(options.data.contextPath, options.ids[0]);
	      }

	      return fn(context, {
	        data: data,
	        blockParams: _utils.blockParams([context], [data && data.contextPath])
	      });
	    } else {
	      return options.inverse(this);
	    }
	  });
	};

	module.exports = exports['default'];
	//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2hlbHBlcnMvd2l0aC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O3FCQUErRSxVQUFVOztxQkFFMUUsVUFBUyxRQUFRLEVBQUU7QUFDaEMsVUFBUSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEVBQUUsVUFBUyxPQUFPLEVBQUUsT0FBTyxFQUFFO0FBQ3pELFFBQUksa0JBQVcsT0FBTyxDQUFDLEVBQUU7QUFBRSxhQUFPLEdBQUcsT0FBTyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUFFOztBQUUxRCxRQUFJLEVBQUUsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDOztBQUVwQixRQUFJLENBQUMsZUFBUSxPQUFPLENBQUMsRUFBRTtBQUNyQixVQUFJLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDO0FBQ3hCLFVBQUksT0FBTyxDQUFDLElBQUksSUFBSSxPQUFPLENBQUMsR0FBRyxFQUFFO0FBQy9CLFlBQUksR0FBRyxtQkFBWSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDakMsWUFBSSxDQUFDLFdBQVcsR0FBRyx5QkFBa0IsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO09BQ2hGOztBQUVELGFBQU8sRUFBRSxDQUFDLE9BQU8sRUFBRTtBQUNqQixZQUFJLEVBQUUsSUFBSTtBQUNWLG1CQUFXLEVBQUUsbUJBQVksQ0FBQyxPQUFPLENBQUMsRUFBRSxDQUFDLElBQUksSUFBSSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7T0FDaEUsQ0FBQyxDQUFDO0tBQ0osTUFBTTtBQUNMLGFBQU8sT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztLQUM5QjtHQUNGLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6IndpdGguanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge2FwcGVuZENvbnRleHRQYXRoLCBibG9ja1BhcmFtcywgY3JlYXRlRnJhbWUsIGlzRW1wdHksIGlzRnVuY3Rpb259IGZyb20gJy4uL3V0aWxzJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgaW5zdGFuY2UucmVnaXN0ZXJIZWxwZXIoJ3dpdGgnLCBmdW5jdGlvbihjb250ZXh0LCBvcHRpb25zKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24oY29udGV4dCkpIHsgY29udGV4dCA9IGNvbnRleHQuY2FsbCh0aGlzKTsgfVxuXG4gICAgbGV0IGZuID0gb3B0aW9ucy5mbjtcblxuICAgIGlmICghaXNFbXB0eShjb250ZXh0KSkge1xuICAgICAgbGV0IGRhdGEgPSBvcHRpb25zLmRhdGE7XG4gICAgICBpZiAob3B0aW9ucy5kYXRhICYmIG9wdGlvbnMuaWRzKSB7XG4gICAgICAgIGRhdGEgPSBjcmVhdGVGcmFtZShvcHRpb25zLmRhdGEpO1xuICAgICAgICBkYXRhLmNvbnRleHRQYXRoID0gYXBwZW5kQ29udGV4dFBhdGgob3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoLCBvcHRpb25zLmlkc1swXSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBmbihjb250ZXh0LCB7XG4gICAgICAgIGRhdGE6IGRhdGEsXG4gICAgICAgIGJsb2NrUGFyYW1zOiBibG9ja1BhcmFtcyhbY29udGV4dF0sIFtkYXRhICYmIGRhdGEuY29udGV4dFBhdGhdKVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBvcHRpb25zLmludmVyc2UodGhpcyk7XG4gICAgfVxuICB9KTtcbn1cbiJdfQ==


/***/ }),
/* 90 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	exports.__esModule = true;
	exports.registerDefaultDecorators = registerDefaultDecorators;
	// istanbul ignore next

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

	var _decoratorsInline = __webpack_require__(91);

	var _decoratorsInline2 = _interopRequireDefault(_decoratorsInline);

	function registerDefaultDecorators(instance) {
	  _decoratorsInline2['default'](instance);
	}
	//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2RlY29yYXRvcnMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Z0NBQTJCLHFCQUFxQjs7OztBQUV6QyxTQUFTLHlCQUF5QixDQUFDLFFBQVEsRUFBRTtBQUNsRCxnQ0FBZSxRQUFRLENBQUMsQ0FBQztDQUMxQiIsImZpbGUiOiJkZWNvcmF0b3JzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHJlZ2lzdGVySW5saW5lIGZyb20gJy4vZGVjb3JhdG9ycy9pbmxpbmUnO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJEZWZhdWx0RGVjb3JhdG9ycyhpbnN0YW5jZSkge1xuICByZWdpc3RlcklubGluZShpbnN0YW5jZSk7XG59XG5cbiJdfQ==


/***/ }),
/* 91 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	exports.__esModule = true;

	var _utils = __webpack_require__(80);

	exports['default'] = function (instance) {
	  instance.registerDecorator('inline', function (fn, props, container, options) {
	    var ret = fn;
	    if (!props.partials) {
	      props.partials = {};
	      ret = function (context, options) {
	        // Create a new partials stack frame prior to exec.
	        var original = container.partials;
	        container.partials = _utils.extend({}, original, props.partials);
	        var ret = fn(context, options);
	        container.partials = original;
	        return ret;
	      };
	    }

	    props.partials[options.args[0]] = options.fn;

	    return ret;
	  });
	};

	module.exports = exports['default'];
	//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2RlY29yYXRvcnMvaW5saW5lLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7cUJBQXFCLFVBQVU7O3FCQUVoQixVQUFTLFFBQVEsRUFBRTtBQUNoQyxVQUFRLENBQUMsaUJBQWlCLENBQUMsUUFBUSxFQUFFLFVBQVMsRUFBRSxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsT0FBTyxFQUFFO0FBQzNFLFFBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQztBQUNiLFFBQUksQ0FBQyxLQUFLLENBQUMsUUFBUSxFQUFFO0FBQ25CLFdBQUssQ0FBQyxRQUFRLEdBQUcsRUFBRSxDQUFDO0FBQ3BCLFNBQUcsR0FBRyxVQUFTLE9BQU8sRUFBRSxPQUFPLEVBQUU7O0FBRS9CLFlBQUksUUFBUSxHQUFHLFNBQVMsQ0FBQyxRQUFRLENBQUM7QUFDbEMsaUJBQVMsQ0FBQyxRQUFRLEdBQUcsY0FBTyxFQUFFLEVBQUUsUUFBUSxFQUFFLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUMxRCxZQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQy9CLGlCQUFTLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztBQUM5QixlQUFPLEdBQUcsQ0FBQztPQUNaLENBQUM7S0FDSDs7QUFFRCxTQUFLLENBQUMsUUFBUSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsRUFBRSxDQUFDOztBQUU3QyxXQUFPLEdBQUcsQ0FBQztHQUNaLENBQUMsQ0FBQztDQUNKIiwiZmlsZSI6ImlubGluZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7ZXh0ZW5kfSBmcm9tICcuLi91dGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gIGluc3RhbmNlLnJlZ2lzdGVyRGVjb3JhdG9yKCdpbmxpbmUnLCBmdW5jdGlvbihmbiwgcHJvcHMsIGNvbnRhaW5lciwgb3B0aW9ucykge1xuICAgIGxldCByZXQgPSBmbjtcbiAgICBpZiAoIXByb3BzLnBhcnRpYWxzKSB7XG4gICAgICBwcm9wcy5wYXJ0aWFscyA9IHt9O1xuICAgICAgcmV0ID0gZnVuY3Rpb24oY29udGV4dCwgb3B0aW9ucykge1xuICAgICAgICAvLyBDcmVhdGUgYSBuZXcgcGFydGlhbHMgc3RhY2sgZnJhbWUgcHJpb3IgdG8gZXhlYy5cbiAgICAgICAgbGV0IG9yaWdpbmFsID0gY29udGFpbmVyLnBhcnRpYWxzO1xuICAgICAgICBjb250YWluZXIucGFydGlhbHMgPSBleHRlbmQoe30sIG9yaWdpbmFsLCBwcm9wcy5wYXJ0aWFscyk7XG4gICAgICAgIGxldCByZXQgPSBmbihjb250ZXh0LCBvcHRpb25zKTtcbiAgICAgICAgY29udGFpbmVyLnBhcnRpYWxzID0gb3JpZ2luYWw7XG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIHByb3BzLnBhcnRpYWxzW29wdGlvbnMuYXJnc1swXV0gPSBvcHRpb25zLmZuO1xuXG4gICAgcmV0dXJuIHJldDtcbiAgfSk7XG59XG4iXX0=


/***/ }),
/* 92 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	exports.__esModule = true;

	var _utils = __webpack_require__(80);

	var logger = {
	  methodMap: ['debug', 'info', 'warn', 'error'],
	  level: 'info',

	  // Maps a given level value to the `methodMap` indexes above.
	  lookupLevel: function lookupLevel(level) {
	    if (typeof level === 'string') {
	      var levelMap = _utils.indexOf(logger.methodMap, level.toLowerCase());
	      if (levelMap >= 0) {
	        level = levelMap;
	      } else {
	        level = parseInt(level, 10);
	      }
	    }

	    return level;
	  },

	  // Can be overridden in the host environment
	  log: function log(level) {
	    level = logger.lookupLevel(level);

	    if (typeof console !== 'undefined' && logger.lookupLevel(logger.level) <= level) {
	      var method = logger.methodMap[level];
	      if (!console[method]) {
	        // eslint-disable-line no-console
	        method = 'log';
	      }

	      for (var _len = arguments.length, message = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
	        message[_key - 1] = arguments[_key];
	      }

	      console[method].apply(console, message); // eslint-disable-line no-console
	    }
	  }
	};

	exports['default'] = logger;
	module.exports = exports['default'];
	//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL2xvZ2dlci5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7O3FCQUFzQixTQUFTOztBQUUvQixJQUFJLE1BQU0sR0FBRztBQUNYLFdBQVMsRUFBRSxDQUFDLE9BQU8sRUFBRSxNQUFNLEVBQUUsTUFBTSxFQUFFLE9BQU8sQ0FBQztBQUM3QyxPQUFLLEVBQUUsTUFBTTs7O0FBR2IsYUFBVyxFQUFFLHFCQUFTLEtBQUssRUFBRTtBQUMzQixRQUFJLE9BQU8sS0FBSyxLQUFLLFFBQVEsRUFBRTtBQUM3QixVQUFJLFFBQVEsR0FBRyxlQUFRLE1BQU0sQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFDLENBQUM7QUFDOUQsVUFBSSxRQUFRLElBQUksQ0FBQyxFQUFFO0FBQ2pCLGFBQUssR0FBRyxRQUFRLENBQUM7T0FDbEIsTUFBTTtBQUNMLGFBQUssR0FBRyxRQUFRLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO09BQzdCO0tBQ0Y7O0FBRUQsV0FBTyxLQUFLLENBQUM7R0FDZDs7O0FBR0QsS0FBRyxFQUFFLGFBQVMsS0FBSyxFQUFjO0FBQy9CLFNBQUssR0FBRyxNQUFNLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDOztBQUVsQyxRQUFJLE9BQU8sT0FBTyxLQUFLLFdBQVcsSUFBSSxNQUFNLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLEVBQUU7QUFDL0UsVUFBSSxNQUFNLEdBQUcsTUFBTSxDQUFDLFNBQVMsQ0FBQyxLQUFLLENBQUMsQ0FBQztBQUNyQyxVQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxFQUFFOztBQUNwQixjQUFNLEdBQUcsS0FBSyxDQUFDO09BQ2hCOzt3Q0FQbUIsT0FBTztBQUFQLGVBQU87OztBQVEzQixhQUFPLENBQUMsTUFBTSxPQUFDLENBQWYsT0FBTyxFQUFZLE9BQU8sQ0FBQyxDQUFDO0tBQzdCO0dBQ0Y7Q0FDRixDQUFDOztxQkFFYSxNQUFNIiwiZmlsZSI6ImxvZ2dlci5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7aW5kZXhPZn0gZnJvbSAnLi91dGlscyc7XG5cbmxldCBsb2dnZXIgPSB7XG4gIG1ldGhvZE1hcDogWydkZWJ1ZycsICdpbmZvJywgJ3dhcm4nLCAnZXJyb3InXSxcbiAgbGV2ZWw6ICdpbmZvJyxcblxuICAvLyBNYXBzIGEgZ2l2ZW4gbGV2ZWwgdmFsdWUgdG8gdGhlIGBtZXRob2RNYXBgIGluZGV4ZXMgYWJvdmUuXG4gIGxvb2t1cExldmVsOiBmdW5jdGlvbihsZXZlbCkge1xuICAgIGlmICh0eXBlb2YgbGV2ZWwgPT09ICdzdHJpbmcnKSB7XG4gICAgICBsZXQgbGV2ZWxNYXAgPSBpbmRleE9mKGxvZ2dlci5tZXRob2RNYXAsIGxldmVsLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgaWYgKGxldmVsTWFwID49IDApIHtcbiAgICAgICAgbGV2ZWwgPSBsZXZlbE1hcDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldmVsID0gcGFyc2VJbnQobGV2ZWwsIDEwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gbGV2ZWw7XG4gIH0sXG5cbiAgLy8gQ2FuIGJlIG92ZXJyaWRkZW4gaW4gdGhlIGhvc3QgZW52aXJvbm1lbnRcbiAgbG9nOiBmdW5jdGlvbihsZXZlbCwgLi4ubWVzc2FnZSkge1xuICAgIGxldmVsID0gbG9nZ2VyLmxvb2t1cExldmVsKGxldmVsKTtcblxuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgbG9nZ2VyLmxvb2t1cExldmVsKGxvZ2dlci5sZXZlbCkgPD0gbGV2ZWwpIHtcbiAgICAgIGxldCBtZXRob2QgPSBsb2dnZXIubWV0aG9kTWFwW2xldmVsXTtcbiAgICAgIGlmICghY29uc29sZVttZXRob2RdKSB7ICAgLy8gZXNsaW50LWRpc2FibGUtbGluZSBuby1jb25zb2xlXG4gICAgICAgIG1ldGhvZCA9ICdsb2cnO1xuICAgICAgfVxuICAgICAgY29uc29sZVttZXRob2RdKC4uLm1lc3NhZ2UpOyAgICAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWNvbnNvbGVcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGxvZ2dlcjtcbiJdfQ==


/***/ }),
/* 93 */
/***/ (function(module, exports) {

	// Build out our basic SafeString type
	'use strict';

	exports.__esModule = true;
	function SafeString(string) {
	  this.string = string;
	}

	SafeString.prototype.toString = SafeString.prototype.toHTML = function () {
	  return '' + this.string;
	};

	exports['default'] = SafeString;
	module.exports = exports['default'];
	//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3NhZmUtc3RyaW5nLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFDQSxTQUFTLFVBQVUsQ0FBQyxNQUFNLEVBQUU7QUFDMUIsTUFBSSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUM7Q0FDdEI7O0FBRUQsVUFBVSxDQUFDLFNBQVMsQ0FBQyxRQUFRLEdBQUcsVUFBVSxDQUFDLFNBQVMsQ0FBQyxNQUFNLEdBQUcsWUFBVztBQUN2RSxTQUFPLEVBQUUsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0NBQ3pCLENBQUM7O3FCQUVhLFVBQVUiLCJmaWxlIjoic2FmZS1zdHJpbmcuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBCdWlsZCBvdXQgb3VyIGJhc2ljIFNhZmVTdHJpbmcgdHlwZVxuZnVuY3Rpb24gU2FmZVN0cmluZyhzdHJpbmcpIHtcbiAgdGhpcy5zdHJpbmcgPSBzdHJpbmc7XG59XG5cblNhZmVTdHJpbmcucHJvdG90eXBlLnRvU3RyaW5nID0gU2FmZVN0cmluZy5wcm90b3R5cGUudG9IVE1MID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiAnJyArIHRoaXMuc3RyaW5nO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgU2FmZVN0cmluZztcbiJdfQ==


/***/ }),
/* 94 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	exports.__esModule = true;
	exports.checkRevision = checkRevision;
	exports.template = template;
	exports.wrapProgram = wrapProgram;
	exports.resolvePartial = resolvePartial;
	exports.invokePartial = invokePartial;
	exports.noop = noop;
	// istanbul ignore next

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }

	// istanbul ignore next

	function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj['default'] = obj; return newObj; } }

	var _utils = __webpack_require__(80);

	var Utils = _interopRequireWildcard(_utils);

	var _exception = __webpack_require__(81);

	var _exception2 = _interopRequireDefault(_exception);

	var _base = __webpack_require__(79);

	function checkRevision(compilerInfo) {
	  var compilerRevision = compilerInfo && compilerInfo[0] || 1,
	      currentRevision = _base.COMPILER_REVISION;

	  if (compilerRevision !== currentRevision) {
	    if (compilerRevision < currentRevision) {
	      var runtimeVersions = _base.REVISION_CHANGES[currentRevision],
	          compilerVersions = _base.REVISION_CHANGES[compilerRevision];
	      throw new _exception2['default']('Template was precompiled with an older version of Handlebars than the current runtime. ' + 'Please update your precompiler to a newer version (' + runtimeVersions + ') or downgrade your runtime to an older version (' + compilerVersions + ').');
	    } else {
	      // Use the embedded version info since the runtime doesn't know about this revision yet
	      throw new _exception2['default']('Template was precompiled with a newer version of Handlebars than the current runtime. ' + 'Please update your runtime to a newer version (' + compilerInfo[1] + ').');
	    }
	  }
	}

	function template(templateSpec, env) {
	  /* istanbul ignore next */
	  if (!env) {
	    throw new _exception2['default']('No environment passed to template');
	  }
	  if (!templateSpec || !templateSpec.main) {
	    throw new _exception2['default']('Unknown template object: ' + typeof templateSpec);
	  }

	  templateSpec.main.decorator = templateSpec.main_d;

	  // Note: Using env.VM references rather than local var references throughout this section to allow
	  // for external users to override these as psuedo-supported APIs.
	  env.VM.checkRevision(templateSpec.compiler);

	  function invokePartialWrapper(partial, context, options) {
	    if (options.hash) {
	      context = Utils.extend({}, context, options.hash);
	      if (options.ids) {
	        options.ids[0] = true;
	      }
	    }

	    partial = env.VM.resolvePartial.call(this, partial, context, options);
	    var result = env.VM.invokePartial.call(this, partial, context, options);

	    if (result == null && env.compile) {
	      options.partials[options.name] = env.compile(partial, templateSpec.compilerOptions, env);
	      result = options.partials[options.name](context, options);
	    }
	    if (result != null) {
	      if (options.indent) {
	        var lines = result.split('\n');
	        for (var i = 0, l = lines.length; i < l; i++) {
	          if (!lines[i] && i + 1 === l) {
	            break;
	          }

	          lines[i] = options.indent + lines[i];
	        }
	        result = lines.join('\n');
	      }
	      return result;
	    } else {
	      throw new _exception2['default']('The partial ' + options.name + ' could not be compiled when running in runtime-only mode');
	    }
	  }

	  // Just add water
	  var container = {
	    strict: function strict(obj, name) {
	      if (!(name in obj)) {
	        throw new _exception2['default']('"' + name + '" not defined in ' + obj);
	      }
	      return obj[name];
	    },
	    lookup: function lookup(depths, name) {
	      var len = depths.length;
	      for (var i = 0; i < len; i++) {
	        if (depths[i] && depths[i][name] != null) {
	          return depths[i][name];
	        }
	      }
	    },
	    lambda: function lambda(current, context) {
	      return typeof current === 'function' ? current.call(context) : current;
	    },

	    escapeExpression: Utils.escapeExpression,
	    invokePartial: invokePartialWrapper,

	    fn: function fn(i) {
	      var ret = templateSpec[i];
	      ret.decorator = templateSpec[i + '_d'];
	      return ret;
	    },

	    programs: [],
	    program: function program(i, data, declaredBlockParams, blockParams, depths) {
	      var programWrapper = this.programs[i],
	          fn = this.fn(i);
	      if (data || depths || blockParams || declaredBlockParams) {
	        programWrapper = wrapProgram(this, i, fn, data, declaredBlockParams, blockParams, depths);
	      } else if (!programWrapper) {
	        programWrapper = this.programs[i] = wrapProgram(this, i, fn);
	      }
	      return programWrapper;
	    },

	    data: function data(value, depth) {
	      while (value && depth--) {
	        value = value._parent;
	      }
	      return value;
	    },
	    merge: function merge(param, common) {
	      var obj = param || common;

	      if (param && common && param !== common) {
	        obj = Utils.extend({}, common, param);
	      }

	      return obj;
	    },
	    // An empty object to use as replacement for null-contexts
	    nullContext: Object.seal({}),

	    noop: env.VM.noop,
	    compilerInfo: templateSpec.compiler
	  };

	  function ret(context) {
	    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

	    var data = options.data;

	    ret._setup(options);
	    if (!options.partial && templateSpec.useData) {
	      data = initData(context, data);
	    }
	    var depths = undefined,
	        blockParams = templateSpec.useBlockParams ? [] : undefined;
	    if (templateSpec.useDepths) {
	      if (options.depths) {
	        depths = context != options.depths[0] ? [context].concat(options.depths) : options.depths;
	      } else {
	        depths = [context];
	      }
	    }

	    function main(context /*, options*/) {
	      return '' + templateSpec.main(container, context, container.helpers, container.partials, data, blockParams, depths);
	    }
	    main = executeDecorators(templateSpec.main, main, container, options.depths || [], data, blockParams);
	    return main(context, options);
	  }
	  ret.isTop = true;

	  ret._setup = function (options) {
	    if (!options.partial) {
	      container.helpers = container.merge(options.helpers, env.helpers);

	      if (templateSpec.usePartial) {
	        container.partials = container.merge(options.partials, env.partials);
	      }
	      if (templateSpec.usePartial || templateSpec.useDecorators) {
	        container.decorators = container.merge(options.decorators, env.decorators);
	      }
	    } else {
	      container.helpers = options.helpers;
	      container.partials = options.partials;
	      container.decorators = options.decorators;
	    }
	  };

	  ret._child = function (i, data, blockParams, depths) {
	    if (templateSpec.useBlockParams && !blockParams) {
	      throw new _exception2['default']('must pass block params');
	    }
	    if (templateSpec.useDepths && !depths) {
	      throw new _exception2['default']('must pass parent depths');
	    }

	    return wrapProgram(container, i, templateSpec[i], data, 0, blockParams, depths);
	  };
	  return ret;
	}

	function wrapProgram(container, i, fn, data, declaredBlockParams, blockParams, depths) {
	  function prog(context) {
	    var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

	    var currentDepths = depths;
	    if (depths && context != depths[0] && !(context === container.nullContext && depths[0] === null)) {
	      currentDepths = [context].concat(depths);
	    }

	    return fn(container, context, container.helpers, container.partials, options.data || data, blockParams && [options.blockParams].concat(blockParams), currentDepths);
	  }

	  prog = executeDecorators(fn, prog, container, depths, data, blockParams);

	  prog.program = i;
	  prog.depth = depths ? depths.length : 0;
	  prog.blockParams = declaredBlockParams || 0;
	  return prog;
	}

	function resolvePartial(partial, context, options) {
	  if (!partial) {
	    if (options.name === '@partial-block') {
	      partial = options.data['partial-block'];
	    } else {
	      partial = options.partials[options.name];
	    }
	  } else if (!partial.call && !options.name) {
	    // This is a dynamic partial that returned a string
	    options.name = partial;
	    partial = options.partials[partial];
	  }
	  return partial;
	}

	function invokePartial(partial, context, options) {
	  // Use the current closure context to save the partial-block if this partial
	  var currentPartialBlock = options.data && options.data['partial-block'];
	  options.partial = true;
	  if (options.ids) {
	    options.data.contextPath = options.ids[0] || options.data.contextPath;
	  }

	  var partialBlock = undefined;
	  if (options.fn && options.fn !== noop) {
	    (function () {
	      options.data = _base.createFrame(options.data);
	      // Wrapper function to get access to currentPartialBlock from the closure
	      var fn = options.fn;
	      partialBlock = options.data['partial-block'] = function partialBlockWrapper(context) {
	        var options = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];

	        // Restore the partial-block from the closure for the execution of the block
	        // i.e. the part inside the block of the partial call.
	        options.data = _base.createFrame(options.data);
	        options.data['partial-block'] = currentPartialBlock;
	        return fn(context, options);
	      };
	      if (fn.partials) {
	        options.partials = Utils.extend({}, options.partials, fn.partials);
	      }
	    })();
	  }

	  if (partial === undefined && partialBlock) {
	    partial = partialBlock;
	  }

	  if (partial === undefined) {
	    throw new _exception2['default']('The partial ' + options.name + ' could not be found');
	  } else if (partial instanceof Function) {
	    return partial(context, options);
	  }
	}

	function noop() {
	  return '';
	}

	function initData(context, data) {
	  if (!data || !('root' in data)) {
	    data = data ? _base.createFrame(data) : {};
	    data.root = context;
	  }
	  return data;
	}

	function executeDecorators(fn, prog, container, depths, data, blockParams) {
	  if (fn.decorator) {
	    var props = {};
	    prog = fn.decorator(prog, props, container, depths && depths[0], data, blockParams, depths);
	    Utils.extend(prog, props);
	  }
	  return prog;
	}
	//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL3J1bnRpbWUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7cUJBQXVCLFNBQVM7O0lBQXBCLEtBQUs7O3lCQUNLLGFBQWE7Ozs7b0JBQzhCLFFBQVE7O0FBRWxFLFNBQVMsYUFBYSxDQUFDLFlBQVksRUFBRTtBQUMxQyxNQUFNLGdCQUFnQixHQUFHLFlBQVksSUFBSSxZQUFZLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztNQUN2RCxlQUFlLDBCQUFvQixDQUFDOztBQUUxQyxNQUFJLGdCQUFnQixLQUFLLGVBQWUsRUFBRTtBQUN4QyxRQUFJLGdCQUFnQixHQUFHLGVBQWUsRUFBRTtBQUN0QyxVQUFNLGVBQWUsR0FBRyx1QkFBaUIsZUFBZSxDQUFDO1VBQ25ELGdCQUFnQixHQUFHLHVCQUFpQixnQkFBZ0IsQ0FBQyxDQUFDO0FBQzVELFlBQU0sMkJBQWMseUZBQXlGLEdBQ3ZHLHFEQUFxRCxHQUFHLGVBQWUsR0FBRyxtREFBbUQsR0FBRyxnQkFBZ0IsR0FBRyxJQUFJLENBQUMsQ0FBQztLQUNoSyxNQUFNOztBQUVMLFlBQU0sMkJBQWMsd0ZBQXdGLEdBQ3RHLGlEQUFpRCxHQUFHLFlBQVksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsQ0FBQztLQUNuRjtHQUNGO0NBQ0Y7O0FBRU0sU0FBUyxRQUFRLENBQUMsWUFBWSxFQUFFLEdBQUcsRUFBRTs7QUFFMUMsTUFBSSxDQUFDLEdBQUcsRUFBRTtBQUNSLFVBQU0sMkJBQWMsbUNBQW1DLENBQUMsQ0FBQztHQUMxRDtBQUNELE1BQUksQ0FBQyxZQUFZLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxFQUFFO0FBQ3ZDLFVBQU0sMkJBQWMsMkJBQTJCLEdBQUcsT0FBTyxZQUFZLENBQUMsQ0FBQztHQUN4RTs7QUFFRCxjQUFZLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxZQUFZLENBQUMsTUFBTSxDQUFDOzs7O0FBSWxELEtBQUcsQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLFlBQVksQ0FBQyxRQUFRLENBQUMsQ0FBQzs7QUFFNUMsV0FBUyxvQkFBb0IsQ0FBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRTtBQUN2RCxRQUFJLE9BQU8sQ0FBQyxJQUFJLEVBQUU7QUFDaEIsYUFBTyxHQUFHLEtBQUssQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7QUFDbEQsVUFBSSxPQUFPLENBQUMsR0FBRyxFQUFFO0FBQ2YsZUFBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUM7T0FDdkI7S0FDRjs7QUFFRCxXQUFPLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQyxjQUFjLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0FBQ3RFLFFBQUksTUFBTSxHQUFHLEdBQUcsQ0FBQyxFQUFFLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQzs7QUFFeEUsUUFBSSxNQUFNLElBQUksSUFBSSxJQUFJLEdBQUcsQ0FBQyxPQUFPLEVBQUU7QUFDakMsYUFBTyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQyxPQUFPLEVBQUUsWUFBWSxDQUFDLGVBQWUsRUFBRSxHQUFHLENBQUMsQ0FBQztBQUN6RixZQUFNLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUMsT0FBTyxFQUFFLE9BQU8sQ0FBQyxDQUFDO0tBQzNEO0FBQ0QsUUFBSSxNQUFNLElBQUksSUFBSSxFQUFFO0FBQ2xCLFVBQUksT0FBTyxDQUFDLE1BQU0sRUFBRTtBQUNsQixZQUFJLEtBQUssR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO0FBQy9CLGFBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUU7QUFDNUMsY0FBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsRUFBRTtBQUM1QixrQkFBTTtXQUNQOztBQUVELGVBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztTQUN0QztBQUNELGNBQU0sR0FBRyxLQUFLLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO09BQzNCO0FBQ0QsYUFBTyxNQUFNLENBQUM7S0FDZixNQUFNO0FBQ0wsWUFBTSwyQkFBYyxjQUFjLEdBQUcsT0FBTyxDQUFDLElBQUksR0FBRywwREFBMEQsQ0FBQyxDQUFDO0tBQ2pIO0dBQ0Y7OztBQUdELE1BQUksU0FBUyxHQUFHO0FBQ2QsVUFBTSxFQUFFLGdCQUFTLEdBQUcsRUFBRSxJQUFJLEVBQUU7QUFDMUIsVUFBSSxFQUFFLElBQUksSUFBSSxHQUFHLENBQUEsQUFBQyxFQUFFO0FBQ2xCLGNBQU0sMkJBQWMsR0FBRyxHQUFHLElBQUksR0FBRyxtQkFBbUIsR0FBRyxHQUFHLENBQUMsQ0FBQztPQUM3RDtBQUNELGFBQU8sR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0tBQ2xCO0FBQ0QsVUFBTSxFQUFFLGdCQUFTLE1BQU0sRUFBRSxJQUFJLEVBQUU7QUFDN0IsVUFBTSxHQUFHLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQztBQUMxQixXQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUMsRUFBRSxFQUFFO0FBQzVCLFlBQUksTUFBTSxDQUFDLENBQUMsQ0FBQyxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUU7QUFDeEMsaUJBQU8sTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQ3hCO09BQ0Y7S0FDRjtBQUNELFVBQU0sRUFBRSxnQkFBUyxPQUFPLEVBQUUsT0FBTyxFQUFFO0FBQ2pDLGFBQU8sT0FBTyxPQUFPLEtBQUssVUFBVSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsT0FBTyxDQUFDO0tBQ3hFOztBQUVELG9CQUFnQixFQUFFLEtBQUssQ0FBQyxnQkFBZ0I7QUFDeEMsaUJBQWEsRUFBRSxvQkFBb0I7O0FBRW5DLE1BQUUsRUFBRSxZQUFTLENBQUMsRUFBRTtBQUNkLFVBQUksR0FBRyxHQUFHLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUMxQixTQUFHLENBQUMsU0FBUyxHQUFHLFlBQVksQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7QUFDdkMsYUFBTyxHQUFHLENBQUM7S0FDWjs7QUFFRCxZQUFRLEVBQUUsRUFBRTtBQUNaLFdBQU8sRUFBRSxpQkFBUyxDQUFDLEVBQUUsSUFBSSxFQUFFLG1CQUFtQixFQUFFLFdBQVcsRUFBRSxNQUFNLEVBQUU7QUFDbkUsVUFBSSxjQUFjLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7VUFDakMsRUFBRSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDcEIsVUFBSSxJQUFJLElBQUksTUFBTSxJQUFJLFdBQVcsSUFBSSxtQkFBbUIsRUFBRTtBQUN4RCxzQkFBYyxHQUFHLFdBQVcsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsbUJBQW1CLEVBQUUsV0FBVyxFQUFFLE1BQU0sQ0FBQyxDQUFDO09BQzNGLE1BQU0sSUFBSSxDQUFDLGNBQWMsRUFBRTtBQUMxQixzQkFBYyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEdBQUcsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUM7T0FDOUQ7QUFDRCxhQUFPLGNBQWMsQ0FBQztLQUN2Qjs7QUFFRCxRQUFJLEVBQUUsY0FBUyxLQUFLLEVBQUUsS0FBSyxFQUFFO0FBQzNCLGFBQU8sS0FBSyxJQUFJLEtBQUssRUFBRSxFQUFFO0FBQ3ZCLGFBQUssR0FBRyxLQUFLLENBQUMsT0FBTyxDQUFDO09BQ3ZCO0FBQ0QsYUFBTyxLQUFLLENBQUM7S0FDZDtBQUNELFNBQUssRUFBRSxlQUFTLEtBQUssRUFBRSxNQUFNLEVBQUU7QUFDN0IsVUFBSSxHQUFHLEdBQUcsS0FBSyxJQUFJLE1BQU0sQ0FBQzs7QUFFMUIsVUFBSSxLQUFLLElBQUksTUFBTSxJQUFLLEtBQUssS0FBSyxNQUFNLEFBQUMsRUFBRTtBQUN6QyxXQUFHLEdBQUcsS0FBSyxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUUsTUFBTSxFQUFFLEtBQUssQ0FBQyxDQUFDO09BQ3ZDOztBQUVELGFBQU8sR0FBRyxDQUFDO0tBQ1o7O0FBRUQsZUFBVyxFQUFFLE1BQU0sQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDOztBQUU1QixRQUFJLEVBQUUsR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJO0FBQ2pCLGdCQUFZLEVBQUUsWUFBWSxDQUFDLFFBQVE7R0FDcEMsQ0FBQzs7QUFFRixXQUFTLEdBQUcsQ0FBQyxPQUFPLEVBQWdCO1FBQWQsT0FBTyx5REFBRyxFQUFFOztBQUNoQyxRQUFJLElBQUksR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDOztBQUV4QixPQUFHLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxDQUFDO0FBQ3BCLFFBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxJQUFJLFlBQVksQ0FBQyxPQUFPLEVBQUU7QUFDNUMsVUFBSSxHQUFHLFFBQVEsQ0FBQyxPQUFPLEVBQUUsSUFBSSxDQUFDLENBQUM7S0FDaEM7QUFDRCxRQUFJLE1BQU0sWUFBQTtRQUNOLFdBQVcsR0FBRyxZQUFZLENBQUMsY0FBYyxHQUFHLEVBQUUsR0FBRyxTQUFTLENBQUM7QUFDL0QsUUFBSSxZQUFZLENBQUMsU0FBUyxFQUFFO0FBQzFCLFVBQUksT0FBTyxDQUFDLE1BQU0sRUFBRTtBQUNsQixjQUFNLEdBQUcsT0FBTyxJQUFJLE9BQU8sQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxHQUFHLE9BQU8sQ0FBQyxNQUFNLENBQUM7T0FDM0YsTUFBTTtBQUNMLGNBQU0sR0FBRyxDQUFDLE9BQU8sQ0FBQyxDQUFDO09BQ3BCO0tBQ0Y7O0FBRUQsYUFBUyxJQUFJLENBQUMsT0FBTyxnQkFBZTtBQUNsQyxhQUFPLEVBQUUsR0FBRyxZQUFZLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBRSxPQUFPLEVBQUUsU0FBUyxDQUFDLE9BQU8sRUFBRSxTQUFTLENBQUMsUUFBUSxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsTUFBTSxDQUFDLENBQUM7S0FDckg7QUFDRCxRQUFJLEdBQUcsaUJBQWlCLENBQUMsWUFBWSxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLE9BQU8sQ0FBQyxNQUFNLElBQUksRUFBRSxFQUFFLElBQUksRUFBRSxXQUFXLENBQUMsQ0FBQztBQUN0RyxXQUFPLElBQUksQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7R0FDL0I7QUFDRCxLQUFHLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQzs7QUFFakIsS0FBRyxDQUFDLE1BQU0sR0FBRyxVQUFTLE9BQU8sRUFBRTtBQUM3QixRQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRTtBQUNwQixlQUFTLENBQUMsT0FBTyxHQUFHLFNBQVMsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLE9BQU8sRUFBRSxHQUFHLENBQUMsT0FBTyxDQUFDLENBQUM7O0FBRWxFLFVBQUksWUFBWSxDQUFDLFVBQVUsRUFBRTtBQUMzQixpQkFBUyxDQUFDLFFBQVEsR0FBRyxTQUFTLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDLFFBQVEsQ0FBQyxDQUFDO09BQ3RFO0FBQ0QsVUFBSSxZQUFZLENBQUMsVUFBVSxJQUFJLFlBQVksQ0FBQyxhQUFhLEVBQUU7QUFDekQsaUJBQVMsQ0FBQyxVQUFVLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsVUFBVSxFQUFFLEdBQUcsQ0FBQyxVQUFVLENBQUMsQ0FBQztPQUM1RTtLQUNGLE1BQU07QUFDTCxlQUFTLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUM7QUFDcEMsZUFBUyxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDO0FBQ3RDLGVBQVMsQ0FBQyxVQUFVLEdBQUcsT0FBTyxDQUFDLFVBQVUsQ0FBQztLQUMzQztHQUNGLENBQUM7O0FBRUYsS0FBRyxDQUFDLE1BQU0sR0FBRyxVQUFTLENBQUMsRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFLE1BQU0sRUFBRTtBQUNsRCxRQUFJLFlBQVksQ0FBQyxjQUFjLElBQUksQ0FBQyxXQUFXLEVBQUU7QUFDL0MsWUFBTSwyQkFBYyx3QkFBd0IsQ0FBQyxDQUFDO0tBQy9DO0FBQ0QsUUFBSSxZQUFZLENBQUMsU0FBUyxJQUFJLENBQUMsTUFBTSxFQUFFO0FBQ3JDLFlBQU0sMkJBQWMseUJBQXlCLENBQUMsQ0FBQztLQUNoRDs7QUFFRCxXQUFPLFdBQVcsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxFQUFFLFlBQVksQ0FBQyxDQUFDLENBQUMsRUFBRSxJQUFJLEVBQUUsQ0FBQyxFQUFFLFdBQVcsRUFBRSxNQUFNLENBQUMsQ0FBQztHQUNqRixDQUFDO0FBQ0YsU0FBTyxHQUFHLENBQUM7Q0FDWjs7QUFFTSxTQUFTLFdBQVcsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsbUJBQW1CLEVBQUUsV0FBVyxFQUFFLE1BQU0sRUFBRTtBQUM1RixXQUFTLElBQUksQ0FBQyxPQUFPLEVBQWdCO1FBQWQsT0FBTyx5REFBRyxFQUFFOztBQUNqQyxRQUFJLGFBQWEsR0FBRyxNQUFNLENBQUM7QUFDM0IsUUFBSSxNQUFNLElBQUksT0FBTyxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxFQUFFLE9BQU8sS0FBSyxTQUFTLENBQUMsV0FBVyxJQUFJLE1BQU0sQ0FBQyxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUEsQUFBQyxFQUFFO0FBQ2hHLG1CQUFhLEdBQUcsQ0FBQyxPQUFPLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUM7S0FDMUM7O0FBRUQsV0FBTyxFQUFFLENBQUMsU0FBUyxFQUNmLE9BQU8sRUFDUCxTQUFTLENBQUMsT0FBTyxFQUFFLFNBQVMsQ0FBQyxRQUFRLEVBQ3JDLE9BQU8sQ0FBQyxJQUFJLElBQUksSUFBSSxFQUNwQixXQUFXLElBQUksQ0FBQyxPQUFPLENBQUMsV0FBVyxDQUFDLENBQUMsTUFBTSxDQUFDLFdBQVcsQ0FBQyxFQUN4RCxhQUFhLENBQUMsQ0FBQztHQUNwQjs7QUFFRCxNQUFJLEdBQUcsaUJBQWlCLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLElBQUksRUFBRSxXQUFXLENBQUMsQ0FBQzs7QUFFekUsTUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUM7QUFDakIsTUFBSSxDQUFDLEtBQUssR0FBRyxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7QUFDeEMsTUFBSSxDQUFDLFdBQVcsR0FBRyxtQkFBbUIsSUFBSSxDQUFDLENBQUM7QUFDNUMsU0FBTyxJQUFJLENBQUM7Q0FDYjs7QUFFTSxTQUFTLGNBQWMsQ0FBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRTtBQUN4RCxNQUFJLENBQUMsT0FBTyxFQUFFO0FBQ1osUUFBSSxPQUFPLENBQUMsSUFBSSxLQUFLLGdCQUFnQixFQUFFO0FBQ3JDLGFBQU8sR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0tBQ3pDLE1BQU07QUFDTCxhQUFPLEdBQUcsT0FBTyxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDMUM7R0FDRixNQUFNLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksRUFBRTs7QUFFekMsV0FBTyxDQUFDLElBQUksR0FBRyxPQUFPLENBQUM7QUFDdkIsV0FBTyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7R0FDckM7QUFDRCxTQUFPLE9BQU8sQ0FBQztDQUNoQjs7QUFFTSxTQUFTLGFBQWEsQ0FBQyxPQUFPLEVBQUUsT0FBTyxFQUFFLE9BQU8sRUFBRTs7QUFFdkQsTUFBTSxtQkFBbUIsR0FBRyxPQUFPLENBQUMsSUFBSSxJQUFJLE9BQU8sQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7QUFDMUUsU0FBTyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUM7QUFDdkIsTUFBSSxPQUFPLENBQUMsR0FBRyxFQUFFO0FBQ2YsV0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsSUFBSSxPQUFPLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQztHQUN2RTs7QUFFRCxNQUFJLFlBQVksWUFBQSxDQUFDO0FBQ2pCLE1BQUksT0FBTyxDQUFDLEVBQUUsSUFBSSxPQUFPLENBQUMsRUFBRSxLQUFLLElBQUksRUFBRTs7QUFDckMsYUFBTyxDQUFDLElBQUksR0FBRyxrQkFBWSxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7O0FBRXpDLFVBQUksRUFBRSxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUM7QUFDcEIsa0JBQVksR0FBRyxPQUFPLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLFNBQVMsbUJBQW1CLENBQUMsT0FBTyxFQUFnQjtZQUFkLE9BQU8seURBQUcsRUFBRTs7OztBQUkvRixlQUFPLENBQUMsSUFBSSxHQUFHLGtCQUFZLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUN6QyxlQUFPLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLG1CQUFtQixDQUFDO0FBQ3BELGVBQU8sRUFBRSxDQUFDLE9BQU8sRUFBRSxPQUFPLENBQUMsQ0FBQztPQUM3QixDQUFDO0FBQ0YsVUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFO0FBQ2YsZUFBTyxDQUFDLFFBQVEsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLEVBQUUsRUFBRSxPQUFPLENBQUMsUUFBUSxFQUFFLEVBQUUsQ0FBQyxRQUFRLENBQUMsQ0FBQztPQUNwRTs7R0FDRjs7QUFFRCxNQUFJLE9BQU8sS0FBSyxTQUFTLElBQUksWUFBWSxFQUFFO0FBQ3pDLFdBQU8sR0FBRyxZQUFZLENBQUM7R0FDeEI7O0FBRUQsTUFBSSxPQUFPLEtBQUssU0FBUyxFQUFFO0FBQ3pCLFVBQU0sMkJBQWMsY0FBYyxHQUFHLE9BQU8sQ0FBQyxJQUFJLEdBQUcscUJBQXFCLENBQUMsQ0FBQztHQUM1RSxNQUFNLElBQUksT0FBTyxZQUFZLFFBQVEsRUFBRTtBQUN0QyxXQUFPLE9BQU8sQ0FBQyxPQUFPLEVBQUUsT0FBTyxDQUFDLENBQUM7R0FDbEM7Q0FDRjs7QUFFTSxTQUFTLElBQUksR0FBRztBQUFFLFNBQU8sRUFBRSxDQUFDO0NBQUU7O0FBRXJDLFNBQVMsUUFBUSxDQUFDLE9BQU8sRUFBRSxJQUFJLEVBQUU7QUFDL0IsTUFBSSxDQUFDLElBQUksSUFBSSxFQUFFLE1BQU0sSUFBSSxJQUFJLENBQUEsQUFBQyxFQUFFO0FBQzlCLFFBQUksR0FBRyxJQUFJLEdBQUcsa0JBQVksSUFBSSxDQUFDLEdBQUcsRUFBRSxDQUFDO0FBQ3JDLFFBQUksQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFDO0dBQ3JCO0FBQ0QsU0FBTyxJQUFJLENBQUM7Q0FDYjs7QUFFRCxTQUFTLGlCQUFpQixDQUFDLEVBQUUsRUFBRSxJQUFJLEVBQUUsU0FBUyxFQUFFLE1BQU0sRUFBRSxJQUFJLEVBQUUsV0FBVyxFQUFFO0FBQ3pFLE1BQUksRUFBRSxDQUFDLFNBQVMsRUFBRTtBQUNoQixRQUFJLEtBQUssR0FBRyxFQUFFLENBQUM7QUFDZixRQUFJLEdBQUcsRUFBRSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxNQUFNLElBQUksTUFBTSxDQUFDLENBQUMsQ0FBQyxFQUFFLElBQUksRUFBRSxXQUFXLEVBQUUsTUFBTSxDQUFDLENBQUM7QUFDNUYsU0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFDLENBQUM7R0FDM0I7QUFDRCxTQUFPLElBQUksQ0FBQztDQUNiIiwiZmlsZSI6InJ1bnRpbWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBVdGlscyBmcm9tICcuL3V0aWxzJztcbmltcG9ydCBFeGNlcHRpb24gZnJvbSAnLi9leGNlcHRpb24nO1xuaW1wb3J0IHsgQ09NUElMRVJfUkVWSVNJT04sIFJFVklTSU9OX0NIQU5HRVMsIGNyZWF0ZUZyYW1lIH0gZnJvbSAnLi9iYXNlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrUmV2aXNpb24oY29tcGlsZXJJbmZvKSB7XG4gIGNvbnN0IGNvbXBpbGVyUmV2aXNpb24gPSBjb21waWxlckluZm8gJiYgY29tcGlsZXJJbmZvWzBdIHx8IDEsXG4gICAgICAgIGN1cnJlbnRSZXZpc2lvbiA9IENPTVBJTEVSX1JFVklTSU9OO1xuXG4gIGlmIChjb21waWxlclJldmlzaW9uICE9PSBjdXJyZW50UmV2aXNpb24pIHtcbiAgICBpZiAoY29tcGlsZXJSZXZpc2lvbiA8IGN1cnJlbnRSZXZpc2lvbikge1xuICAgICAgY29uc3QgcnVudGltZVZlcnNpb25zID0gUkVWSVNJT05fQ0hBTkdFU1tjdXJyZW50UmV2aXNpb25dLFxuICAgICAgICAgICAgY29tcGlsZXJWZXJzaW9ucyA9IFJFVklTSU9OX0NIQU5HRVNbY29tcGlsZXJSZXZpc2lvbl07XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdUZW1wbGF0ZSB3YXMgcHJlY29tcGlsZWQgd2l0aCBhbiBvbGRlciB2ZXJzaW9uIG9mIEhhbmRsZWJhcnMgdGhhbiB0aGUgY3VycmVudCBydW50aW1lLiAnICtcbiAgICAgICAgICAgICdQbGVhc2UgdXBkYXRlIHlvdXIgcHJlY29tcGlsZXIgdG8gYSBuZXdlciB2ZXJzaW9uICgnICsgcnVudGltZVZlcnNpb25zICsgJykgb3IgZG93bmdyYWRlIHlvdXIgcnVudGltZSB0byBhbiBvbGRlciB2ZXJzaW9uICgnICsgY29tcGlsZXJWZXJzaW9ucyArICcpLicpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBVc2UgdGhlIGVtYmVkZGVkIHZlcnNpb24gaW5mbyBzaW5jZSB0aGUgcnVudGltZSBkb2Vzbid0IGtub3cgYWJvdXQgdGhpcyByZXZpc2lvbiB5ZXRcbiAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1RlbXBsYXRlIHdhcyBwcmVjb21waWxlZCB3aXRoIGEgbmV3ZXIgdmVyc2lvbiBvZiBIYW5kbGViYXJzIHRoYW4gdGhlIGN1cnJlbnQgcnVudGltZS4gJyArXG4gICAgICAgICAgICAnUGxlYXNlIHVwZGF0ZSB5b3VyIHJ1bnRpbWUgdG8gYSBuZXdlciB2ZXJzaW9uICgnICsgY29tcGlsZXJJbmZvWzFdICsgJykuJyk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0ZW1wbGF0ZSh0ZW1wbGF0ZVNwZWMsIGVudikge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAoIWVudikge1xuICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ05vIGVudmlyb25tZW50IHBhc3NlZCB0byB0ZW1wbGF0ZScpO1xuICB9XG4gIGlmICghdGVtcGxhdGVTcGVjIHx8ICF0ZW1wbGF0ZVNwZWMubWFpbikge1xuICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1Vua25vd24gdGVtcGxhdGUgb2JqZWN0OiAnICsgdHlwZW9mIHRlbXBsYXRlU3BlYyk7XG4gIH1cblxuICB0ZW1wbGF0ZVNwZWMubWFpbi5kZWNvcmF0b3IgPSB0ZW1wbGF0ZVNwZWMubWFpbl9kO1xuXG4gIC8vIE5vdGU6IFVzaW5nIGVudi5WTSByZWZlcmVuY2VzIHJhdGhlciB0aGFuIGxvY2FsIHZhciByZWZlcmVuY2VzIHRocm91Z2hvdXQgdGhpcyBzZWN0aW9uIHRvIGFsbG93XG4gIC8vIGZvciBleHRlcm5hbCB1c2VycyB0byBvdmVycmlkZSB0aGVzZSBhcyBwc3VlZG8tc3VwcG9ydGVkIEFQSXMuXG4gIGVudi5WTS5jaGVja1JldmlzaW9uKHRlbXBsYXRlU3BlYy5jb21waWxlcik7XG5cbiAgZnVuY3Rpb24gaW52b2tlUGFydGlhbFdyYXBwZXIocGFydGlhbCwgY29udGV4dCwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmhhc2gpIHtcbiAgICAgIGNvbnRleHQgPSBVdGlscy5leHRlbmQoe30sIGNvbnRleHQsIG9wdGlvbnMuaGFzaCk7XG4gICAgICBpZiAob3B0aW9ucy5pZHMpIHtcbiAgICAgICAgb3B0aW9ucy5pZHNbMF0gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIHBhcnRpYWwgPSBlbnYuVk0ucmVzb2x2ZVBhcnRpYWwuY2FsbCh0aGlzLCBwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKTtcbiAgICBsZXQgcmVzdWx0ID0gZW52LlZNLmludm9rZVBhcnRpYWwuY2FsbCh0aGlzLCBwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKTtcblxuICAgIGlmIChyZXN1bHQgPT0gbnVsbCAmJiBlbnYuY29tcGlsZSkge1xuICAgICAgb3B0aW9ucy5wYXJ0aWFsc1tvcHRpb25zLm5hbWVdID0gZW52LmNvbXBpbGUocGFydGlhbCwgdGVtcGxhdGVTcGVjLmNvbXBpbGVyT3B0aW9ucywgZW52KTtcbiAgICAgIHJlc3VsdCA9IG9wdGlvbnMucGFydGlhbHNbb3B0aW9ucy5uYW1lXShjb250ZXh0LCBvcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdCAhPSBudWxsKSB7XG4gICAgICBpZiAob3B0aW9ucy5pbmRlbnQpIHtcbiAgICAgICAgbGV0IGxpbmVzID0gcmVzdWx0LnNwbGl0KCdcXG4nKTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGwgPSBsaW5lcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICBpZiAoIWxpbmVzW2ldICYmIGkgKyAxID09PSBsKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBsaW5lc1tpXSA9IG9wdGlvbnMuaW5kZW50ICsgbGluZXNbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0ID0gbGluZXMuam9pbignXFxuJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdUaGUgcGFydGlhbCAnICsgb3B0aW9ucy5uYW1lICsgJyBjb3VsZCBub3QgYmUgY29tcGlsZWQgd2hlbiBydW5uaW5nIGluIHJ1bnRpbWUtb25seSBtb2RlJyk7XG4gICAgfVxuICB9XG5cbiAgLy8gSnVzdCBhZGQgd2F0ZXJcbiAgbGV0IGNvbnRhaW5lciA9IHtcbiAgICBzdHJpY3Q6IGZ1bmN0aW9uKG9iaiwgbmFtZSkge1xuICAgICAgaWYgKCEobmFtZSBpbiBvYmopKSB7XG4gICAgICAgIHRocm93IG5ldyBFeGNlcHRpb24oJ1wiJyArIG5hbWUgKyAnXCIgbm90IGRlZmluZWQgaW4gJyArIG9iaik7XG4gICAgICB9XG4gICAgICByZXR1cm4gb2JqW25hbWVdO1xuICAgIH0sXG4gICAgbG9va3VwOiBmdW5jdGlvbihkZXB0aHMsIG5hbWUpIHtcbiAgICAgIGNvbnN0IGxlbiA9IGRlcHRocy5sZW5ndGg7XG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChkZXB0aHNbaV0gJiYgZGVwdGhzW2ldW25hbWVdICE9IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gZGVwdGhzW2ldW25hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBsYW1iZGE6IGZ1bmN0aW9uKGN1cnJlbnQsIGNvbnRleHQpIHtcbiAgICAgIHJldHVybiB0eXBlb2YgY3VycmVudCA9PT0gJ2Z1bmN0aW9uJyA/IGN1cnJlbnQuY2FsbChjb250ZXh0KSA6IGN1cnJlbnQ7XG4gICAgfSxcblxuICAgIGVzY2FwZUV4cHJlc3Npb246IFV0aWxzLmVzY2FwZUV4cHJlc3Npb24sXG4gICAgaW52b2tlUGFydGlhbDogaW52b2tlUGFydGlhbFdyYXBwZXIsXG5cbiAgICBmbjogZnVuY3Rpb24oaSkge1xuICAgICAgbGV0IHJldCA9IHRlbXBsYXRlU3BlY1tpXTtcbiAgICAgIHJldC5kZWNvcmF0b3IgPSB0ZW1wbGF0ZVNwZWNbaSArICdfZCddO1xuICAgICAgcmV0dXJuIHJldDtcbiAgICB9LFxuXG4gICAgcHJvZ3JhbXM6IFtdLFxuICAgIHByb2dyYW06IGZ1bmN0aW9uKGksIGRhdGEsIGRlY2xhcmVkQmxvY2tQYXJhbXMsIGJsb2NrUGFyYW1zLCBkZXB0aHMpIHtcbiAgICAgIGxldCBwcm9ncmFtV3JhcHBlciA9IHRoaXMucHJvZ3JhbXNbaV0sXG4gICAgICAgICAgZm4gPSB0aGlzLmZuKGkpO1xuICAgICAgaWYgKGRhdGEgfHwgZGVwdGhzIHx8IGJsb2NrUGFyYW1zIHx8IGRlY2xhcmVkQmxvY2tQYXJhbXMpIHtcbiAgICAgICAgcHJvZ3JhbVdyYXBwZXIgPSB3cmFwUHJvZ3JhbSh0aGlzLCBpLCBmbiwgZGF0YSwgZGVjbGFyZWRCbG9ja1BhcmFtcywgYmxvY2tQYXJhbXMsIGRlcHRocyk7XG4gICAgICB9IGVsc2UgaWYgKCFwcm9ncmFtV3JhcHBlcikge1xuICAgICAgICBwcm9ncmFtV3JhcHBlciA9IHRoaXMucHJvZ3JhbXNbaV0gPSB3cmFwUHJvZ3JhbSh0aGlzLCBpLCBmbik7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvZ3JhbVdyYXBwZXI7XG4gICAgfSxcblxuICAgIGRhdGE6IGZ1bmN0aW9uKHZhbHVlLCBkZXB0aCkge1xuICAgICAgd2hpbGUgKHZhbHVlICYmIGRlcHRoLS0pIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZS5fcGFyZW50O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH0sXG4gICAgbWVyZ2U6IGZ1bmN0aW9uKHBhcmFtLCBjb21tb24pIHtcbiAgICAgIGxldCBvYmogPSBwYXJhbSB8fCBjb21tb247XG5cbiAgICAgIGlmIChwYXJhbSAmJiBjb21tb24gJiYgKHBhcmFtICE9PSBjb21tb24pKSB7XG4gICAgICAgIG9iaiA9IFV0aWxzLmV4dGVuZCh7fSwgY29tbW9uLCBwYXJhbSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmo7XG4gICAgfSxcbiAgICAvLyBBbiBlbXB0eSBvYmplY3QgdG8gdXNlIGFzIHJlcGxhY2VtZW50IGZvciBudWxsLWNvbnRleHRzXG4gICAgbnVsbENvbnRleHQ6IE9iamVjdC5zZWFsKHt9KSxcblxuICAgIG5vb3A6IGVudi5WTS5ub29wLFxuICAgIGNvbXBpbGVySW5mbzogdGVtcGxhdGVTcGVjLmNvbXBpbGVyXG4gIH07XG5cbiAgZnVuY3Rpb24gcmV0KGNvbnRleHQsIG9wdGlvbnMgPSB7fSkge1xuICAgIGxldCBkYXRhID0gb3B0aW9ucy5kYXRhO1xuXG4gICAgcmV0Ll9zZXR1cChvcHRpb25zKTtcbiAgICBpZiAoIW9wdGlvbnMucGFydGlhbCAmJiB0ZW1wbGF0ZVNwZWMudXNlRGF0YSkge1xuICAgICAgZGF0YSA9IGluaXREYXRhKGNvbnRleHQsIGRhdGEpO1xuICAgIH1cbiAgICBsZXQgZGVwdGhzLFxuICAgICAgICBibG9ja1BhcmFtcyA9IHRlbXBsYXRlU3BlYy51c2VCbG9ja1BhcmFtcyA/IFtdIDogdW5kZWZpbmVkO1xuICAgIGlmICh0ZW1wbGF0ZVNwZWMudXNlRGVwdGhzKSB7XG4gICAgICBpZiAob3B0aW9ucy5kZXB0aHMpIHtcbiAgICAgICAgZGVwdGhzID0gY29udGV4dCAhPSBvcHRpb25zLmRlcHRoc1swXSA/IFtjb250ZXh0XS5jb25jYXQob3B0aW9ucy5kZXB0aHMpIDogb3B0aW9ucy5kZXB0aHM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZXB0aHMgPSBbY29udGV4dF07XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWFpbihjb250ZXh0LyosIG9wdGlvbnMqLykge1xuICAgICAgcmV0dXJuICcnICsgdGVtcGxhdGVTcGVjLm1haW4oY29udGFpbmVyLCBjb250ZXh0LCBjb250YWluZXIuaGVscGVycywgY29udGFpbmVyLnBhcnRpYWxzLCBkYXRhLCBibG9ja1BhcmFtcywgZGVwdGhzKTtcbiAgICB9XG4gICAgbWFpbiA9IGV4ZWN1dGVEZWNvcmF0b3JzKHRlbXBsYXRlU3BlYy5tYWluLCBtYWluLCBjb250YWluZXIsIG9wdGlvbnMuZGVwdGhzIHx8IFtdLCBkYXRhLCBibG9ja1BhcmFtcyk7XG4gICAgcmV0dXJuIG1haW4oY29udGV4dCwgb3B0aW9ucyk7XG4gIH1cbiAgcmV0LmlzVG9wID0gdHJ1ZTtcblxuICByZXQuX3NldHVwID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucy5wYXJ0aWFsKSB7XG4gICAgICBjb250YWluZXIuaGVscGVycyA9IGNvbnRhaW5lci5tZXJnZShvcHRpb25zLmhlbHBlcnMsIGVudi5oZWxwZXJzKTtcblxuICAgICAgaWYgKHRlbXBsYXRlU3BlYy51c2VQYXJ0aWFsKSB7XG4gICAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyA9IGNvbnRhaW5lci5tZXJnZShvcHRpb25zLnBhcnRpYWxzLCBlbnYucGFydGlhbHMpO1xuICAgICAgfVxuICAgICAgaWYgKHRlbXBsYXRlU3BlYy51c2VQYXJ0aWFsIHx8IHRlbXBsYXRlU3BlYy51c2VEZWNvcmF0b3JzKSB7XG4gICAgICAgIGNvbnRhaW5lci5kZWNvcmF0b3JzID0gY29udGFpbmVyLm1lcmdlKG9wdGlvbnMuZGVjb3JhdG9ycywgZW52LmRlY29yYXRvcnMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb250YWluZXIuaGVscGVycyA9IG9wdGlvbnMuaGVscGVycztcbiAgICAgIGNvbnRhaW5lci5wYXJ0aWFscyA9IG9wdGlvbnMucGFydGlhbHM7XG4gICAgICBjb250YWluZXIuZGVjb3JhdG9ycyA9IG9wdGlvbnMuZGVjb3JhdG9ycztcbiAgICB9XG4gIH07XG5cbiAgcmV0Ll9jaGlsZCA9IGZ1bmN0aW9uKGksIGRhdGEsIGJsb2NrUGFyYW1zLCBkZXB0aHMpIHtcbiAgICBpZiAodGVtcGxhdGVTcGVjLnVzZUJsb2NrUGFyYW1zICYmICFibG9ja1BhcmFtcykge1xuICAgICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignbXVzdCBwYXNzIGJsb2NrIHBhcmFtcycpO1xuICAgIH1cbiAgICBpZiAodGVtcGxhdGVTcGVjLnVzZURlcHRocyAmJiAhZGVwdGhzKSB7XG4gICAgICB0aHJvdyBuZXcgRXhjZXB0aW9uKCdtdXN0IHBhc3MgcGFyZW50IGRlcHRocycpO1xuICAgIH1cblxuICAgIHJldHVybiB3cmFwUHJvZ3JhbShjb250YWluZXIsIGksIHRlbXBsYXRlU3BlY1tpXSwgZGF0YSwgMCwgYmxvY2tQYXJhbXMsIGRlcHRocyk7XG4gIH07XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB3cmFwUHJvZ3JhbShjb250YWluZXIsIGksIGZuLCBkYXRhLCBkZWNsYXJlZEJsb2NrUGFyYW1zLCBibG9ja1BhcmFtcywgZGVwdGhzKSB7XG4gIGZ1bmN0aW9uIHByb2coY29udGV4dCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgbGV0IGN1cnJlbnREZXB0aHMgPSBkZXB0aHM7XG4gICAgaWYgKGRlcHRocyAmJiBjb250ZXh0ICE9IGRlcHRoc1swXSAmJiAhKGNvbnRleHQgPT09IGNvbnRhaW5lci5udWxsQ29udGV4dCAmJiBkZXB0aHNbMF0gPT09IG51bGwpKSB7XG4gICAgICBjdXJyZW50RGVwdGhzID0gW2NvbnRleHRdLmNvbmNhdChkZXB0aHMpO1xuICAgIH1cblxuICAgIHJldHVybiBmbihjb250YWluZXIsXG4gICAgICAgIGNvbnRleHQsXG4gICAgICAgIGNvbnRhaW5lci5oZWxwZXJzLCBjb250YWluZXIucGFydGlhbHMsXG4gICAgICAgIG9wdGlvbnMuZGF0YSB8fCBkYXRhLFxuICAgICAgICBibG9ja1BhcmFtcyAmJiBbb3B0aW9ucy5ibG9ja1BhcmFtc10uY29uY2F0KGJsb2NrUGFyYW1zKSxcbiAgICAgICAgY3VycmVudERlcHRocyk7XG4gIH1cblxuICBwcm9nID0gZXhlY3V0ZURlY29yYXRvcnMoZm4sIHByb2csIGNvbnRhaW5lciwgZGVwdGhzLCBkYXRhLCBibG9ja1BhcmFtcyk7XG5cbiAgcHJvZy5wcm9ncmFtID0gaTtcbiAgcHJvZy5kZXB0aCA9IGRlcHRocyA/IGRlcHRocy5sZW5ndGggOiAwO1xuICBwcm9nLmJsb2NrUGFyYW1zID0gZGVjbGFyZWRCbG9ja1BhcmFtcyB8fCAwO1xuICByZXR1cm4gcHJvZztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc29sdmVQYXJ0aWFsKHBhcnRpYWwsIGNvbnRleHQsIG9wdGlvbnMpIHtcbiAgaWYgKCFwYXJ0aWFsKSB7XG4gICAgaWYgKG9wdGlvbnMubmFtZSA9PT0gJ0BwYXJ0aWFsLWJsb2NrJykge1xuICAgICAgcGFydGlhbCA9IG9wdGlvbnMuZGF0YVsncGFydGlhbC1ibG9jayddO1xuICAgIH0gZWxzZSB7XG4gICAgICBwYXJ0aWFsID0gb3B0aW9ucy5wYXJ0aWFsc1tvcHRpb25zLm5hbWVdO1xuICAgIH1cbiAgfSBlbHNlIGlmICghcGFydGlhbC5jYWxsICYmICFvcHRpb25zLm5hbWUpIHtcbiAgICAvLyBUaGlzIGlzIGEgZHluYW1pYyBwYXJ0aWFsIHRoYXQgcmV0dXJuZWQgYSBzdHJpbmdcbiAgICBvcHRpb25zLm5hbWUgPSBwYXJ0aWFsO1xuICAgIHBhcnRpYWwgPSBvcHRpb25zLnBhcnRpYWxzW3BhcnRpYWxdO1xuICB9XG4gIHJldHVybiBwYXJ0aWFsO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaW52b2tlUGFydGlhbChwYXJ0aWFsLCBjb250ZXh0LCBvcHRpb25zKSB7XG4gIC8vIFVzZSB0aGUgY3VycmVudCBjbG9zdXJlIGNvbnRleHQgdG8gc2F2ZSB0aGUgcGFydGlhbC1ibG9jayBpZiB0aGlzIHBhcnRpYWxcbiAgY29uc3QgY3VycmVudFBhcnRpYWxCbG9jayA9IG9wdGlvbnMuZGF0YSAmJiBvcHRpb25zLmRhdGFbJ3BhcnRpYWwtYmxvY2snXTtcbiAgb3B0aW9ucy5wYXJ0aWFsID0gdHJ1ZTtcbiAgaWYgKG9wdGlvbnMuaWRzKSB7XG4gICAgb3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoID0gb3B0aW9ucy5pZHNbMF0gfHwgb3B0aW9ucy5kYXRhLmNvbnRleHRQYXRoO1xuICB9XG5cbiAgbGV0IHBhcnRpYWxCbG9jaztcbiAgaWYgKG9wdGlvbnMuZm4gJiYgb3B0aW9ucy5mbiAhPT0gbm9vcCkge1xuICAgIG9wdGlvbnMuZGF0YSA9IGNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG4gICAgLy8gV3JhcHBlciBmdW5jdGlvbiB0byBnZXQgYWNjZXNzIHRvIGN1cnJlbnRQYXJ0aWFsQmxvY2sgZnJvbSB0aGUgY2xvc3VyZVxuICAgIGxldCBmbiA9IG9wdGlvbnMuZm47XG4gICAgcGFydGlhbEJsb2NrID0gb3B0aW9ucy5kYXRhWydwYXJ0aWFsLWJsb2NrJ10gPSBmdW5jdGlvbiBwYXJ0aWFsQmxvY2tXcmFwcGVyKGNvbnRleHQsIG9wdGlvbnMgPSB7fSkge1xuXG4gICAgICAvLyBSZXN0b3JlIHRoZSBwYXJ0aWFsLWJsb2NrIGZyb20gdGhlIGNsb3N1cmUgZm9yIHRoZSBleGVjdXRpb24gb2YgdGhlIGJsb2NrXG4gICAgICAvLyBpLmUuIHRoZSBwYXJ0IGluc2lkZSB0aGUgYmxvY2sgb2YgdGhlIHBhcnRpYWwgY2FsbC5cbiAgICAgIG9wdGlvbnMuZGF0YSA9IGNyZWF0ZUZyYW1lKG9wdGlvbnMuZGF0YSk7XG4gICAgICBvcHRpb25zLmRhdGFbJ3BhcnRpYWwtYmxvY2snXSA9IGN1cnJlbnRQYXJ0aWFsQmxvY2s7XG4gICAgICByZXR1cm4gZm4oY29udGV4dCwgb3B0aW9ucyk7XG4gICAgfTtcbiAgICBpZiAoZm4ucGFydGlhbHMpIHtcbiAgICAgIG9wdGlvbnMucGFydGlhbHMgPSBVdGlscy5leHRlbmQoe30sIG9wdGlvbnMucGFydGlhbHMsIGZuLnBhcnRpYWxzKTtcbiAgICB9XG4gIH1cblxuICBpZiAocGFydGlhbCA9PT0gdW5kZWZpbmVkICYmIHBhcnRpYWxCbG9jaykge1xuICAgIHBhcnRpYWwgPSBwYXJ0aWFsQmxvY2s7XG4gIH1cblxuICBpZiAocGFydGlhbCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEV4Y2VwdGlvbignVGhlIHBhcnRpYWwgJyArIG9wdGlvbnMubmFtZSArICcgY291bGQgbm90IGJlIGZvdW5kJyk7XG4gIH0gZWxzZSBpZiAocGFydGlhbCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgcmV0dXJuIHBhcnRpYWwoY29udGV4dCwgb3B0aW9ucyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG5vb3AoKSB7IHJldHVybiAnJzsgfVxuXG5mdW5jdGlvbiBpbml0RGF0YShjb250ZXh0LCBkYXRhKSB7XG4gIGlmICghZGF0YSB8fCAhKCdyb290JyBpbiBkYXRhKSkge1xuICAgIGRhdGEgPSBkYXRhID8gY3JlYXRlRnJhbWUoZGF0YSkgOiB7fTtcbiAgICBkYXRhLnJvb3QgPSBjb250ZXh0O1xuICB9XG4gIHJldHVybiBkYXRhO1xufVxuXG5mdW5jdGlvbiBleGVjdXRlRGVjb3JhdG9ycyhmbiwgcHJvZywgY29udGFpbmVyLCBkZXB0aHMsIGRhdGEsIGJsb2NrUGFyYW1zKSB7XG4gIGlmIChmbi5kZWNvcmF0b3IpIHtcbiAgICBsZXQgcHJvcHMgPSB7fTtcbiAgICBwcm9nID0gZm4uZGVjb3JhdG9yKHByb2csIHByb3BzLCBjb250YWluZXIsIGRlcHRocyAmJiBkZXB0aHNbMF0sIGRhdGEsIGJsb2NrUGFyYW1zLCBkZXB0aHMpO1xuICAgIFV0aWxzLmV4dGVuZChwcm9nLCBwcm9wcyk7XG4gIH1cbiAgcmV0dXJuIHByb2c7XG59XG4iXX0=


/***/ }),
/* 95 */
/***/ (function(module, exports) {

	/* WEBPACK VAR INJECTION */(function(global) {/* global window */
	'use strict';

	exports.__esModule = true;

	exports['default'] = function (Handlebars) {
	  /* istanbul ignore next */
	  var root = typeof global !== 'undefined' ? global : window,
	      $Handlebars = root.Handlebars;
	  /* istanbul ignore next */
	  Handlebars.noConflict = function () {
	    if (root.Handlebars === Handlebars) {
	      root.Handlebars = $Handlebars;
	    }
	    return Handlebars;
	  };
	};

	module.exports = exports['default'];
	//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uL2xpYi9oYW5kbGViYXJzL25vLWNvbmZsaWN0LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O3FCQUNlLFVBQVMsVUFBVSxFQUFFOztBQUVsQyxNQUFJLElBQUksR0FBRyxPQUFPLE1BQU0sS0FBSyxXQUFXLEdBQUcsTUFBTSxHQUFHLE1BQU07TUFDdEQsV0FBVyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUM7O0FBRWxDLFlBQVUsQ0FBQyxVQUFVLEdBQUcsWUFBVztBQUNqQyxRQUFJLElBQUksQ0FBQyxVQUFVLEtBQUssVUFBVSxFQUFFO0FBQ2xDLFVBQUksQ0FBQyxVQUFVLEdBQUcsV0FBVyxDQUFDO0tBQy9CO0FBQ0QsV0FBTyxVQUFVLENBQUM7R0FDbkIsQ0FBQztDQUNIIiwiZmlsZSI6Im5vLWNvbmZsaWN0LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZ2xvYmFsIHdpbmRvdyAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oSGFuZGxlYmFycykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBsZXQgcm9vdCA9IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogd2luZG93LFxuICAgICAgJEhhbmRsZWJhcnMgPSByb290LkhhbmRsZWJhcnM7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIEhhbmRsZWJhcnMubm9Db25mbGljdCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChyb290LkhhbmRsZWJhcnMgPT09IEhhbmRsZWJhcnMpIHtcbiAgICAgIHJvb3QuSGFuZGxlYmFycyA9ICRIYW5kbGViYXJzO1xuICAgIH1cbiAgICByZXR1cm4gSGFuZGxlYmFycztcbiAgfTtcbn1cbiJdfQ==

	/* WEBPACK VAR INJECTION */}.call(exports, (function() { return this; }())))

/***/ }),
/* 96 */
/***/ (function(module, exports) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var InfoView = (function () {
	    function InfoView(infoMechanism, dialogId) {
	        this.infoMechanism = infoMechanism;
	        this.dialogId = dialogId;
	        this.reset();
	    }
	    InfoView.prototype.getSelector = function () {
	        return "#" + this.dialogId + " #infoMechanism" + this.infoMechanism.id + " .info-input";
	    };
	    InfoView.prototype.reset = function () {
	        jQuery('' + this.getSelector() + ' p').empty();
	    };
	    InfoView.prototype.getFeedback = function () {
	        return null;
	    };
	    return InfoView;
	}());
	exports.InfoView = InfoView;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC92aWV3cy9pbmZvL2luZm9fdmlldy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUlBO0lBRUksa0JBQW9CLGFBQTJCLEVBQVUsUUFBZTtRQUFwRCxrQkFBYSxHQUFiLGFBQWEsQ0FBYztRQUFVLGFBQVEsR0FBUixRQUFRLENBQU87UUFDcEUsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQ2pCLENBQUM7SUFFRCw4QkFBVyxHQUFYO1FBQ0ksTUFBTSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsUUFBUSxHQUFHLGlCQUFpQixHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRSxHQUFHLGNBQWMsQ0FBQztJQUM1RixDQUFDO0lBRUQsd0JBQUssR0FBTDtRQUNJLE1BQU0sQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLFdBQVcsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFBO0lBRWxELENBQUM7SUFFRCw4QkFBVyxHQUFYO1FBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQztJQUNoQixDQUFDO0lBQ0wsZUFBQztBQUFELENBbEJBLEFBa0JDLElBQUE7QUFsQlksNEJBQVEiLCJmaWxlIjoiYXBwL3ZpZXdzL2luZm8vaW5mb192aWV3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtNZWNoYW5pc21WaWV3fSBmcm9tICcuLi9tZWNoYW5pc21fdmlldyc7XG5pbXBvcnQge0luZm9NZWNoYW5pc219IGZyb20gJy4uLy4uL21vZGVscy9tZWNoYW5pc21zL2luZm9fbWVjaGFuaXNtJztcblxuXG5leHBvcnQgY2xhc3MgSW5mb1ZpZXcgaW1wbGVtZW50cyBNZWNoYW5pc21WaWV3IHtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgaW5mb01lY2hhbmlzbTpJbmZvTWVjaGFuaXNtLCBwcml2YXRlIGRpYWxvZ0lkOnN0cmluZykge1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgZ2V0U2VsZWN0b3IoKTpzdHJpbmcge1xuICAgICAgICByZXR1cm4gXCIjXCIgKyB0aGlzLmRpYWxvZ0lkICsgXCIgI2luZm9NZWNoYW5pc21cIiArIHRoaXMuaW5mb01lY2hhbmlzbS5pZCArIFwiIC5pbmZvLWlucHV0XCI7XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIGpRdWVyeSgnJyArIHRoaXMuZ2V0U2VsZWN0b3IoKSArICcgcCcpLmVtcHR5KClcblxuICAgIH1cblxuICAgIGdldEZlZWRiYWNrKCk6YW55IHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/***/ }),
/* 97 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	var __extends = (this && this.__extends) || (function () {
	    var extendStatics = Object.setPrototypeOf ||
	        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
	        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
	    return function (d, b) {
	        extendStatics(d, b);
	        function __() { this.constructor = d; }
	        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
	    };
	})();
	Object.defineProperty(exports, "__esModule", { value: true });
	var dialog_view_1 = __webpack_require__(50);
	var QuestionDialogView = (function (_super) {
	    __extends(QuestionDialogView, _super);
	    function QuestionDialogView(dialogId, template, context, openCallback, closeCallback) {
	        var _this = _super.call(this, dialogId, template, context, openCallback, closeCallback) || this;
	        _this.dialogId = dialogId;
	        _this.template = template;
	        _this.context = context;
	        _this.openCallback = openCallback;
	        _this.closeCallback = closeCallback;
	        return _this;
	    }
	    QuestionDialogView.prototype.addAnswerOption = function (selector, callback) {
	        jQuery(document).on('click', '' + selector, function (e) {
	            e.preventDefault();
	            e.stopPropagation();
	            callback();
	        });
	    };
	    return QuestionDialogView;
	}(dialog_view_1.DialogView));
	exports.QuestionDialogView = QuestionDialogView;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC92aWV3cy9kaWFsb2cvcXVlc3Rpb25fZGlhbG9nX3ZpZXcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7O0FBQUEsNkNBQXlDO0FBR3pDO0lBQXdDLHNDQUFVO0lBRTlDLDRCQUFtQixRQUFlLEVBQVMsUUFBWSxFQUFTLE9BQVcsRUFBUyxZQUF3QixFQUN6RixhQUF5QjtRQUQ1QyxZQUVJLGtCQUFNLFFBQVEsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLFlBQVksRUFBRSxhQUFhLENBQUMsU0FDbEU7UUFIa0IsY0FBUSxHQUFSLFFBQVEsQ0FBTztRQUFTLGNBQVEsR0FBUixRQUFRLENBQUk7UUFBUyxhQUFPLEdBQVAsT0FBTyxDQUFJO1FBQVMsa0JBQVksR0FBWixZQUFZLENBQVk7UUFDekYsbUJBQWEsR0FBYixhQUFhLENBQVk7O0lBRTVDLENBQUM7SUFFRCw0Q0FBZSxHQUFmLFVBQWdCLFFBQVEsRUFBRSxRQUFtQjtRQUN6QyxNQUFNLENBQUMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLE9BQU8sRUFBRSxFQUFFLEdBQUcsUUFBUSxFQUFFLFVBQVMsQ0FBQztZQUNsRCxDQUFDLENBQUMsY0FBYyxFQUFFLENBQUM7WUFDbkIsQ0FBQyxDQUFDLGVBQWUsRUFBRSxDQUFDO1lBQ3BCLFFBQVEsRUFBRSxDQUFDO1FBQ2YsQ0FBQyxDQUFDLENBQUM7SUFDUCxDQUFDO0lBQ0wseUJBQUM7QUFBRCxDQWRBLEFBY0MsQ0FkdUMsd0JBQVUsR0FjakQ7QUFkWSxnREFBa0IiLCJmaWxlIjoiYXBwL3ZpZXdzL2RpYWxvZy9xdWVzdGlvbl9kaWFsb2dfdmlldy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7RGlhbG9nVmlld30gZnJvbSAnLi9kaWFsb2dfdmlldyc7XG5cblxuZXhwb3J0IGNsYXNzIFF1ZXN0aW9uRGlhbG9nVmlldyBleHRlbmRzIERpYWxvZ1ZpZXcge1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGRpYWxvZ0lkOnN0cmluZywgcHVibGljIHRlbXBsYXRlOmFueSwgcHVibGljIGNvbnRleHQ6YW55LCBwdWJsaWMgb3BlbkNhbGxiYWNrPzooKSA9PiB2b2lkLFxuICAgICAgICAgICAgICAgIHB1YmxpYyBjbG9zZUNhbGxiYWNrPzooKSA9PiB2b2lkKSB7XG4gICAgICAgIHN1cGVyKGRpYWxvZ0lkLCB0ZW1wbGF0ZSwgY29udGV4dCwgb3BlbkNhbGxiYWNrLCBjbG9zZUNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBhZGRBbnN3ZXJPcHRpb24oc2VsZWN0b3IsIGNhbGxiYWNrOigpID0+IHZvaWQpIHtcbiAgICAgICAgalF1ZXJ5KGRvY3VtZW50KS5vbignY2xpY2snLCAnJyArIHNlbGVjdG9yLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/***/ }),
/* 98 */
/***/ (function(module, exports, __webpack_require__) {

	var Handlebars = __webpack_require__(77);
	function __default(obj) { return obj && (obj.__esModule ? obj["default"] : obj); }
	module.exports = (Handlebars["default"] || Handlebars).template({"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
	    var stack1;

	  return "<section class=\"feedback-library\" id=\"infoDialog\">\n    <p class=\"message\">"
	    + ((stack1 = container.lambda((depth0 != null ? depth0.message : depth0), depth0)) != null ? stack1 : "")
	    + "</p>\n\n    <button class=\"button\" id=\"infoDialogOkay\">"
	    + container.escapeExpression(__default(__webpack_require__(99)).call(depth0 != null ? depth0 : (container.nullContext || {}),"general.success_dialog_okay_button_title",{"name":"t","hash":{},"data":data}))
	    + "</button>\n</section>";
	},"useData":true});

/***/ }),
/* 99 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var i18n = __webpack_require__(3);
	module.exports = function (i18n_key) {
	    return i18n.t(i18n_key);
	};

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC90ZW1wbGF0ZXMvdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLDhCQUFpQztBQUlqQyxNQUFNLENBQUMsT0FBTyxHQUFHLFVBQVMsUUFBUTtJQUM5QixNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsQ0FBQztBQUM1QixDQUFDLENBQUMiLCJmaWxlIjoiYXBwL3RlbXBsYXRlcy90LmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGkxOG4gPSByZXF1aXJlKCdpMThuZXh0Jyk7XG5pbXBvcnQgSGFuZGxlYmFycyA9IHJlcXVpcmUoJ2hhbmRsZWJhcnMnKTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGkxOG5fa2V5KSB7XG4gICAgcmV0dXJuIGkxOG4udChpMThuX2tleSk7XG59OyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/***/ }),
/* 100 */
/***/ (function(module, exports, __webpack_require__) {

	var Handlebars = __webpack_require__(77);
	function __default(obj) { return obj && (obj.__esModule ? obj["default"] : obj); }
	module.exports = (Handlebars["default"] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {
	    return "                    <h2 class=\"form-title\">"
	    + container.escapeExpression(container.lambda((depth0 != null ? depth0.feedbackFormTitle : depth0), depth0))
	    + "</h2>\n";
	},"3":function(container,depth0,helpers,partials,data) {
	    return "                    <button class=\"button feedback-dialog-forward navigation-button\">"
	    + container.escapeExpression(__default(__webpack_require__(99)).call(depth0 != null ? depth0 : (container.nullContext || {}),"general.review_feedback",{"name":"t","hash":{},"data":data}))
	    + "</button>\n                    <div class=\"clearfix\"></div>\n";
	},"5":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    var stack1;

	  return ((stack1 = __default(__webpack_require__(101)).call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.page : depth0),1,{"name":"compare","hash":{"operator":"==="},"fn":container.program(6, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "");
	},"6":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});

	  return ((stack1 = __default(__webpack_require__(101)).call(alias1,(depth0 != null ? depth0.type : depth0),"CATEGORY_TYPE",{"name":"compare","hash":{"operator":"==="},"fn":container.program(7, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + ((stack1 = __default(__webpack_require__(101)).call(alias1,(depth0 != null ? depth0.type : depth0),"AUDIO_TYPE",{"name":"compare","hash":{"operator":"==="},"fn":container.program(9, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + ((stack1 = __default(__webpack_require__(101)).call(alias1,(depth0 != null ? depth0.type : depth0),"RATING_TYPE",{"name":"compare","hash":{"operator":"==="},"fn":container.program(11, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + ((stack1 = __default(__webpack_require__(101)).call(alias1,(depth0 != null ? depth0.type : depth0),"ATTACHMENT_TYPE",{"name":"compare","hash":{"operator":"==="},"fn":container.program(13, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + ((stack1 = __default(__webpack_require__(101)).call(alias1,(depth0 != null ? depth0.type : depth0),"INFO_TYPE",{"name":"compare","hash":{"operator":"==="},"fn":container.program(15, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + ((stack1 = __default(__webpack_require__(101)).call(alias1,(depth0 != null ? depth0.type : depth0),"TEXT_TYPE",{"name":"compare","hash":{"operator":"==="},"fn":container.program(17, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + ((stack1 = __default(__webpack_require__(101)).call(alias1,(depth0 != null ? depth0.type : depth0),"SCREENSHOT_TYPE",{"name":"compare","hash":{"operator":"==="},"fn":container.program(19, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "\n"
	    + ((stack1 = __default(__webpack_require__(101)).call(alias1,(depths[1] != null ? depths[1].reviewButtonPosition : depths[1]),(data && data.index),{"name":"compare","hash":{"operator":"==="},"fn":container.program(21, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "\n";
	},"7":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    var stack1;

	  return ((stack1 = container.invokePartial(__webpack_require__(102),depth0,{"name":"partials/category_mechanism","hash":{"parent":depths[1]},"data":data,"indent":"                                ","helpers":helpers,"partials":partials,"decorators":container.decorators})) != null ? stack1 : "");
	},"9":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    var stack1;

	  return ((stack1 = container.invokePartial(__webpack_require__(103),depth0,{"name":"partials/audio_mechanism","hash":{"parent":depths[1]},"data":data,"indent":"                                ","helpers":helpers,"partials":partials,"decorators":container.decorators})) != null ? stack1 : "");
	},"11":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    var stack1;

	  return ((stack1 = container.invokePartial(__webpack_require__(104),depth0,{"name":"partials/rating_mechanism","hash":{"parent":depths[1]},"data":data,"indent":"                                ","helpers":helpers,"partials":partials,"decorators":container.decorators})) != null ? stack1 : "");
	},"13":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    var stack1;

	  return ((stack1 = container.invokePartial(__webpack_require__(105),depth0,{"name":"partials/attachment_mechanism","hash":{"parent":depths[1]},"data":data,"indent":"                                ","helpers":helpers,"partials":partials,"decorators":container.decorators})) != null ? stack1 : "");
	},"15":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    var stack1;

	  return ((stack1 = container.invokePartial(__webpack_require__(107),depth0,{"name":"partials/info_mechanism","hash":{"parent":depths[1]},"data":data,"indent":"                                ","helpers":helpers,"partials":partials,"decorators":container.decorators})) != null ? stack1 : "");
	},"17":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    var stack1;

	  return ((stack1 = container.invokePartial(__webpack_require__(108),depth0,{"name":"partials/text_mechanism","hash":{"parent":depths[1]},"data":data,"indent":"                                ","helpers":helpers,"partials":partials,"decorators":container.decorators})) != null ? stack1 : "");
	},"19":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    var stack1;

	  return ((stack1 = container.invokePartial(__webpack_require__(109),depth0,{"name":"partials/screenshot_mechanism","hash":{"parent":depths[1]},"data":data,"indent":"                                ","helpers":helpers,"partials":partials,"decorators":container.decorators})) != null ? stack1 : "");
	},"21":function(container,depth0,helpers,partials,data) {
	    return "                                <button class=\"button feedback-dialog-forward navigation-button\">"
	    + container.escapeExpression(__default(__webpack_require__(99)).call(depth0 != null ? depth0 : (container.nullContext || {}),"general.review_feedback",{"name":"t","hash":{},"data":data}))
	    + "</button>\n                                <div class=\"clearfix\"></div>\n";
	},"23":function(container,depth0,helpers,partials,data) {
	    return "                        <button class=\"button pull-right feedback-dialog-forward navigation-button\">"
	    + container.escapeExpression(__default(__webpack_require__(99)).call(depth0 != null ? depth0 : (container.nullContext || {}),"general.review_feedback",{"name":"t","hash":{},"data":data}))
	    + "</button>\n";
	},"25":function(container,depth0,helpers,partials,data) {
	    var alias1=container.escapeExpression;

	  return "                        <button class=\""
	    + alias1(container.lambda((depth0 != null ? depth0.discardClass : depth0), depth0))
	    + " button discard-feedback\">"
	    + alias1(__default(__webpack_require__(99)).call(depth0 != null ? depth0 : (container.nullContext || {}),"general.discard_feedback",{"name":"t","hash":{},"data":data}))
	    + "</button>\n";
	},"27":function(container,depth0,helpers,partials,data) {
	    var alias1=container.escapeExpression;

	  return "                        <a class=\""
	    + alias1(container.lambda((depth0 != null ? depth0.discardClass : depth0), depth0))
	    + " discard-feedback\">"
	    + alias1(__default(__webpack_require__(99)).call(depth0 != null ? depth0 : (container.nullContext || {}),"general.discard_feedback",{"name":"t","hash":{},"data":data}))
	    + "</a>\n";
	},"29":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    var stack1;

	  return ((stack1 = __default(__webpack_require__(101)).call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.type : depth0),"CATEGORY_TYPE",{"name":"compare","hash":{"operator":"==="},"fn":container.program(30, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "");
	},"30":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    var stack1;

	  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.active : depth0),{"name":"if","hash":{},"fn":container.program(31, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "");
	},"31":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    var stack1;

	  return ((stack1 = __default(__webpack_require__(101)).call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.page : depth0),"review",{"name":"compare","hash":{"operator":"!="},"fn":container.program(32, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "");
	},"32":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    var stack1;

	  return "                                    <p class=\"mechanism-review category-review\">\n                                        <i>"
	    + container.escapeExpression(container.lambda((depth0 != null ? depth0.title : depth0), depth0))
	    + "</i>\n"
	    + ((stack1 = helpers.each.call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.options : depth0),{"name":"each","hash":{},"fn":container.program(33, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "                                    </p>\n";
	},"33":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    var alias1=container.lambda, alias2=container.escapeExpression;

	  return "                                            <input type=\""
	    + alias2(alias1((depths[1] != null ? depths[1].inputType : depths[1]), depth0))
	    + "\" id=\"reviewoption"
	    + alias2(alias1((depth0 != null ? depth0.key : depth0), depth0))
	    + "\"\n                                                   name=\"category_mechanism_review_"
	    + alias2(alias1((depths[1] != null ? depths[1].id : depths[1]), depth0))
	    + "\"\n                                                   value=\"review"
	    + alias2(alias1((depth0 != null ? depth0.key : depth0), depth0))
	    + "\" disabled>\n                                            <label for=\"reviewOption"
	    + alias2(alias1((depth0 != null ? depth0.key : depth0), depth0))
	    + "\"> "
	    + alias2(alias1((depth0 != null ? depth0.value : depth0), depth0))
	    + "</label> &nbsp;\n";
	},"35":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    var stack1;

	  return ((stack1 = __default(__webpack_require__(101)).call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.page : depth0),"review",{"name":"compare","hash":{"operator":"==="},"fn":container.program(36, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "");
	},"36":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});

	  return ((stack1 = __default(__webpack_require__(101)).call(alias1,(depth0 != null ? depth0.type : depth0),"CATEGORY_TYPE",{"name":"compare","hash":{"operator":"==="},"fn":container.program(7, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + ((stack1 = __default(__webpack_require__(101)).call(alias1,(depth0 != null ? depth0.type : depth0),"AUDIO_TYPE",{"name":"compare","hash":{"operator":"==="},"fn":container.program(9, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + ((stack1 = __default(__webpack_require__(101)).call(alias1,(depth0 != null ? depth0.type : depth0),"RATING_TYPE",{"name":"compare","hash":{"operator":"==="},"fn":container.program(11, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + ((stack1 = __default(__webpack_require__(101)).call(alias1,(depth0 != null ? depth0.type : depth0),"ATTACHMENT_TYPE",{"name":"compare","hash":{"operator":"==="},"fn":container.program(13, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + ((stack1 = __default(__webpack_require__(101)).call(alias1,(depth0 != null ? depth0.type : depth0),"INFO_TYPE",{"name":"compare","hash":{"operator":"==="},"fn":container.program(15, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + ((stack1 = __default(__webpack_require__(101)).call(alias1,(depth0 != null ? depth0.type : depth0),"TEXT_TYPE",{"name":"compare","hash":{"operator":"==="},"fn":container.program(17, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + ((stack1 = __default(__webpack_require__(101)).call(alias1,(depth0 != null ? depth0.type : depth0),"SCREENSHOT_TYPE",{"name":"compare","hash":{"operator":"==="},"fn":container.program(19, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "");
	},"38":function(container,depth0,helpers,partials,data) {
	    return "                    <p class=\"submission-message\">\n                        "
	    + container.escapeExpression(container.lambda((depth0 != null ? depth0.submissionPageMessage : depth0), depth0))
	    + "\n                    </p>\n";
	},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {});

	  return "<section id=\""
	    + alias2(alias1((depth0 != null ? depth0.dialogId : depth0), depth0))
	    + "\" class=\"feedback-library feedback-container\">\n    <form>\n        <section class=\"pages-container\">\n            <article data-feedback-page=\"1\" class=\"feedback-page\">\n\n"
	    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.feedbackFormTitle : depth0),{"name":"if","hash":{},"fn":container.program(1, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "\n"
	    + ((stack1 = __default(__webpack_require__(101)).call(alias3,(depth0 != null ? depth0.reviewButtonPosition : depth0),"top",{"name":"compare","hash":{"operator":"==="},"fn":container.program(3, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "\n                <div class=\"feedback-row\">\n"
	    + ((stack1 = helpers.each.call(alias3,(depth0 != null ? depth0.mechanisms : depth0),{"name":"each","hash":{},"fn":container.program(5, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "                    <div class=\"clearfix\"></div>\n                </div>\n\n                <div class=\"button-row\" style=\""
	    + alias2(alias1((depth0 != null ? depth0.buttonRowStyle : depth0), depth0))
	    + "\">\n"
	    + ((stack1 = __default(__webpack_require__(101)).call(alias3,(depth0 != null ? depth0.reviewButtonPosition : depth0),"bottom",{"name":"compare","hash":{"operator":"==="},"fn":container.program(23, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + ((stack1 = __default(__webpack_require__(101)).call(alias3,(depth0 != null ? depth0.reviewButtonPosition : depth0),undefined,{"name":"compare","hash":{"operator":"==="},"fn":container.program(23, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + ((stack1 = __default(__webpack_require__(101)).call(alias3,(depth0 != null ? depth0.reviewButtonPosition : depth0),null,{"name":"compare","hash":{"operator":"==="},"fn":container.program(23, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "\n"
	    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.discardAsButton : depth0),{"name":"if","hash":{},"fn":container.program(25, data, 0, blockParams, depths),"inverse":container.program(27, data, 0, blockParams, depths),"data":data})) != null ? stack1 : "")
	    + "                </div>\n                <div class=\"clearfix\"></div>\n            </article>\n            <article data-feedback-page=\"2\" class=\"feedback-page\">\n                <div class=\"clearfix\"></div>\n                <div class=\"feedback-review\" style=\""
	    + alias2(alias1((depth0 != null ? depth0.reviewStyle : depth0), depth0))
	    + "\">\n                    <h2>"
	    + alias2(__default(__webpack_require__(99)).call(alias3,"general.review_feedback_title",{"name":"t","hash":{},"data":data}))
	    + ":</h2>\n                    <p class=\"mechanism-review text-review\">\n\n                    </p>\n                    <p class=\"mechanism-review rating-review\">\n\n                    </p>\n                    <p class=\"mechanism-review audio-review\">\n\n                    </p>\n                    <p class=\"mechanism-review screenshot-review\">\n\n                    </p>\n                    <p class=\"mechanism-review attachment-review\">\n\n                    </p>\n\n"
	    + ((stack1 = helpers.each.call(alias3,(depth0 != null ? depth0.mechanisms : depth0),{"name":"each","hash":{},"fn":container.program(29, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "                </div>\n                <div class=\"review-page-mechanisms\">\n"
	    + ((stack1 = helpers.each.call(alias3,(depth0 != null ? depth0.mechanisms : depth0),{"name":"each","hash":{},"fn":container.program(35, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "                </div>\n"
	    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.submissionPageMessage : depth0),{"name":"if","hash":{},"fn":container.program(38, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "                <section class=\"dialog-navigation\">\n                    <button class=\"button feedback-dialog-backward navigation-button\">"
	    + alias2(__default(__webpack_require__(99)).call(alias3,"general.back",{"name":"t","hash":{},"data":data}))
	    + "</button>\n                    <button type=\"button\"\n                            class=\"button navigation-button submit-feedback\">"
	    + alias2(__default(__webpack_require__(99)).call(alias3,"general.feedback_submit_button_title",{"name":"t","hash":{},"data":data}))
	    + "\n                    </button>\n                    <div class=\"clearfix\"></div>\n                    <span class=\"server-response\"></span>\n                </section>\n            </article>\n        </section>\n    </form>\n</section>";
	},"usePartial":true,"useData":true,"useDepths":true});

/***/ }),
/* 101 */
/***/ (function(module, exports) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	module.exports = function (lvalue, rvalue, options) {
	    if (arguments.length < 3)
	        throw new Error("Handlerbars Helper 'compare' needs 2 parameters");
	    var operator = options.hash.operator || "==";
	    var operators = {
	        '==': function (l, r) { return l == r; },
	        '===': function (l, r) { return l === r; },
	        '!=': function (l, r) { return l != r; },
	        '<': function (l, r) { return l < r; },
	        '>': function (l, r) { return l > r; },
	        '<=': function (l, r) { return l <= r; },
	        '>=': function (l, r) { return l >= r; },
	        'typeof': function (l, r) { return typeof l == r; }
	    };
	    if (!operators[operator])
	        throw new Error("Handlerbars Helper 'compare' doesn't know the operator " + operator);
	    var result = operators[operator](lvalue, rvalue);
	    if (result) {
	        return options.fn(this);
	    }
	    else {
	        return options.inverse(this);
	    }
	};

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC90ZW1wbGF0ZXMvY29tcGFyZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUdBLE1BQU0sQ0FBQyxPQUFPLEdBQUcsVUFBUyxNQUFNLEVBQUUsTUFBTSxFQUFFLE9BQU87SUFFN0MsRUFBRSxDQUFDLENBQUMsU0FBUyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUM7UUFDckIsTUFBTSxJQUFJLEtBQUssQ0FBQyxpREFBaUQsQ0FBQyxDQUFDO0lBRXZFLElBQUksUUFBUSxHQUFHLE9BQU8sQ0FBQyxJQUFJLENBQUMsUUFBUSxJQUFJLElBQUksQ0FBQztJQUU3QyxJQUFJLFNBQVMsR0FBRztRQUNaLElBQUksRUFBUSxVQUFTLENBQUMsRUFBQyxDQUFDLElBQUksTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVDLEtBQUssRUFBTyxVQUFTLENBQUMsRUFBQyxDQUFDLElBQUksTUFBTSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzdDLElBQUksRUFBUSxVQUFTLENBQUMsRUFBQyxDQUFDLElBQUksTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVDLEdBQUcsRUFBUyxVQUFTLENBQUMsRUFBQyxDQUFDLElBQUksTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNDLEdBQUcsRUFBUyxVQUFTLENBQUMsRUFBQyxDQUFDLElBQUksTUFBTSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzNDLElBQUksRUFBUSxVQUFTLENBQUMsRUFBQyxDQUFDLElBQUksTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVDLElBQUksRUFBUSxVQUFTLENBQUMsRUFBQyxDQUFDLElBQUksTUFBTSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQzVDLFFBQVEsRUFBSSxVQUFTLENBQUMsRUFBQyxDQUFDLElBQUksTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7S0FDdEQsQ0FBQztJQUVGLEVBQUUsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3JCLE1BQU0sSUFBSSxLQUFLLENBQUMseURBQXlELEdBQUMsUUFBUSxDQUFDLENBQUM7SUFFeEYsSUFBSSxNQUFNLEdBQUcsU0FBUyxDQUFDLFFBQVEsQ0FBQyxDQUFDLE1BQU0sRUFBQyxNQUFNLENBQUMsQ0FBQztJQUVoRCxFQUFFLENBQUEsQ0FBRSxNQUFPLENBQUMsQ0FBQyxDQUFDO1FBQ1YsTUFBTSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDNUIsQ0FBQztJQUFDLElBQUksQ0FBQyxDQUFDO1FBQ0osTUFBTSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDakMsQ0FBQztBQUNMLENBQUMsQ0FBQyIsImZpbGUiOiJhcHAvdGVtcGxhdGVzL2NvbXBhcmUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSGFuZGxlYmFycyA9IHJlcXVpcmUoJ2hhbmRsZWJhcnMnKTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGx2YWx1ZSwgcnZhbHVlLCBvcHRpb25zKSB7XG5cbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA8IDMpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkhhbmRsZXJiYXJzIEhlbHBlciAnY29tcGFyZScgbmVlZHMgMiBwYXJhbWV0ZXJzXCIpO1xuXG4gICAgdmFyIG9wZXJhdG9yID0gb3B0aW9ucy5oYXNoLm9wZXJhdG9yIHx8IFwiPT1cIjtcblxuICAgIHZhciBvcGVyYXRvcnMgPSB7XG4gICAgICAgICc9PSc6ICAgICAgIGZ1bmN0aW9uKGwscikgeyByZXR1cm4gbCA9PSByOyB9LFxuICAgICAgICAnPT09JzogICAgICBmdW5jdGlvbihsLHIpIHsgcmV0dXJuIGwgPT09IHI7IH0sXG4gICAgICAgICchPSc6ICAgICAgIGZ1bmN0aW9uKGwscikgeyByZXR1cm4gbCAhPSByOyB9LFxuICAgICAgICAnPCc6ICAgICAgICBmdW5jdGlvbihsLHIpIHsgcmV0dXJuIGwgPCByOyB9LFxuICAgICAgICAnPic6ICAgICAgICBmdW5jdGlvbihsLHIpIHsgcmV0dXJuIGwgPiByOyB9LFxuICAgICAgICAnPD0nOiAgICAgICBmdW5jdGlvbihsLHIpIHsgcmV0dXJuIGwgPD0gcjsgfSxcbiAgICAgICAgJz49JzogICAgICAgZnVuY3Rpb24obCxyKSB7IHJldHVybiBsID49IHI7IH0sXG4gICAgICAgICd0eXBlb2YnOiAgIGZ1bmN0aW9uKGwscikgeyByZXR1cm4gdHlwZW9mIGwgPT0gcjsgfVxuICAgIH07XG5cbiAgICBpZiAoIW9wZXJhdG9yc1tvcGVyYXRvcl0pXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkhhbmRsZXJiYXJzIEhlbHBlciAnY29tcGFyZScgZG9lc24ndCBrbm93IHRoZSBvcGVyYXRvciBcIitvcGVyYXRvcik7XG5cbiAgICB2YXIgcmVzdWx0ID0gb3BlcmF0b3JzW29wZXJhdG9yXShsdmFsdWUscnZhbHVlKTtcblxuICAgIGlmKCByZXN1bHQgKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zLmZuKHRoaXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zLmludmVyc2UodGhpcyk7XG4gICAgfVxufTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

/***/ }),
/* 102 */
/***/ (function(module, exports, __webpack_require__) {

	var Handlebars = __webpack_require__(77);
	function __default(obj) { return obj && (obj.__esModule ? obj["default"] : obj); }
	module.exports = (Handlebars["default"] || Handlebars).template({"1":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3="function", alias4=container.escapeExpression, alias5=container.lambda;

	  return "    <section id=\"categoryMechanism"
	    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"id","hash":{},"data":data}) : helper)))
	    + "\" class=\"feedback-mechanism feedback-col "
	    + alias4(alias5(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.labelPositioning : stack1), depth0))
	    + " "
	    + alias4(((helper = (helper = helpers.cssClass || (depth0 != null ? depth0.cssClass : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"cssClass","hash":{},"data":data}) : helper)))
	    + " category-type validate-category"
	    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.mandatory : depth0),{"name":"if","hash":{},"fn":container.program(2, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "\"\n        "
	    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.mandatory : depth0),{"name":"if","hash":{},"fn":container.program(4, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + " style=\"width: "
	    + alias4(((helper = (helper = helpers.boxWidth || (depth0 != null ? depth0.boxWidth : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"boxWidth","hash":{},"data":data}) : helper)))
	    + "; padding-left: "
	    + alias4(((helper = (helper = helpers.boxPaddingLeft || (depth0 != null ? depth0.boxPaddingLeft : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"boxPaddingLeft","hash":{},"data":data}) : helper)))
	    + "; padding-right: "
	    + alias4(((helper = (helper = helpers.boxPaddingRight || (depth0 != null ? depth0.boxPaddingRight : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"boxPaddingRight","hash":{},"data":data}) : helper)))
	    + ";\">\n        <p style=\""
	    + alias4(alias5(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.generalLabelStyle : stack1), depth0))
	    + alias4(((helper = (helper = helpers.labelStyle || (depth0 != null ? depth0.labelStyle : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"labelStyle","hash":{},"data":data}) : helper)))
	    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.mandatory : depth0),{"name":"if","hash":{},"fn":container.program(6, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "\">"
	    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"title","hash":{},"data":data}) : helper)))
	    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.mandatory : depth0),{"name":"if","hash":{},"fn":container.program(8, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "</p>\n\n"
	    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.asDropdown : depth0),{"name":"if","hash":{},"fn":container.program(10, data, 0, blockParams, depths),"inverse":container.program(17, data, 0, blockParams, depths),"data":data})) != null ? stack1 : "")
	    + "    </section>\n";
	},"2":function(container,depth0,helpers,partials,data) {
	    return " mandatory";
	},"4":function(container,depth0,helpers,partials,data) {
	    var helper;

	  return " data-mandatory=\"1\" data-mandatory-manual-text=\""
	    + container.escapeExpression(((helper = (helper = helpers.mandatoryReminder || (depth0 != null ? depth0.mandatoryReminder : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"mandatoryReminder","hash":{},"data":data}) : helper)))
	    + "\" ";
	},"6":function(container,depth0,helpers,partials,data) {
	    var stack1;

	  return " "
	    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.mandatoryLabelStyle : stack1), depth0));
	},"8":function(container,depth0,helpers,partials,data) {
	    var stack1;

	  return " "
	    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.mandatorySign : stack1), depth0));
	},"10":function(container,depth0,helpers,partials,data) {
	    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {});

	  return "            <select name=\"category_mechanism_"
	    + container.escapeExpression(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === "function" ? helper.call(alias1,{"name":"id","hash":{},"data":data}) : helper)))
	    + "\""
	    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.multiple : depth0),{"name":"if","hash":{},"fn":container.program(11, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + ">\n"
	    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.defaultOption : depth0),{"name":"if","hash":{},"fn":container.program(13, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.options : depth0),{"name":"each","hash":{},"fn":container.program(15, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "            </select>\n";
	},"11":function(container,depth0,helpers,partials,data) {
	    return " multiple";
	},"13":function(container,depth0,helpers,partials,data) {
	    var stack1, alias1=container.lambda, alias2=container.escapeExpression;

	  return "                    <option value=\""
	    + alias2(alias1(((stack1 = (depth0 != null ? depth0.defaultOption : depth0)) != null ? stack1.id : stack1), depth0))
	    + "\" selected>"
	    + alias2(alias1(((stack1 = (depth0 != null ? depth0.defaultOption : depth0)) != null ? stack1.value : stack1), depth0))
	    + "</option>\n";
	},"15":function(container,depth0,helpers,partials,data) {
	    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3="function", alias4=container.escapeExpression;

	  return "                    <option value=\""
	    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"id","hash":{},"data":data}) : helper)))
	    + "\">"
	    + alias4(((helper = (helper = helpers.value || (depth0 != null ? depth0.value : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"value","hash":{},"data":data}) : helper)))
	    + "</option>\n";
	},"17":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    var stack1, alias1=depth0 != null ? depth0 : (container.nullContext || {});

	  return ((stack1 = helpers.each.call(alias1,(depth0 != null ? depth0.options : depth0),{"name":"each","hash":{},"fn":container.program(18, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.ownAllowed : depth0),{"name":"if","hash":{},"fn":container.program(21, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "");
	},"18":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    var stack1, helper, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {}), alias4=helpers.helperMissing, alias5="function";

	  return "                <input type=\""
	    + alias2(alias1((depths[1] != null ? depths[1].inputType : depths[1]), depth0))
	    + "\" id=\"option"
	    + alias2(((helper = (helper = helpers.key || (depth0 != null ? depth0.key : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{"name":"key","hash":{},"data":data}) : helper)))
	    + "\" data-parameter-id=\""
	    + alias2(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{"name":"id","hash":{},"data":data}) : helper)))
	    + "\" name=\"category_mechanism_"
	    + alias2(alias1((depths[1] != null ? depths[1].id : depths[1]), depth0))
	    + "\"\n                       value=\""
	    + alias2(((helper = (helper = helpers.key || (depth0 != null ? depth0.key : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{"name":"key","hash":{},"data":data}) : helper)))
	    + "\">\n                <label for=\"option"
	    + alias2(((helper = (helper = helpers.key || (depth0 != null ? depth0.key : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{"name":"key","hash":{},"data":data}) : helper)))
	    + "\"> "
	    + alias2(((helper = (helper = helpers.value || (depth0 != null ? depth0.value : depth0)) != null ? helper : alias4),(typeof helper === alias5 ? helper.call(alias3,{"name":"value","hash":{},"data":data}) : helper)))
	    + "</label> &nbsp;\n"
	    + ((stack1 = helpers["if"].call(alias3,(depths[1] != null ? depths[1].breakAfterOption : depths[1]),{"name":"if","hash":{},"fn":container.program(19, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "");
	},"19":function(container,depth0,helpers,partials,data) {
	    return "                    <br/>\n";
	},"21":function(container,depth0,helpers,partials,data) {
	    var helper;

	  return "                <label for=\"ownInput1\">"
	    + container.escapeExpression(((helper = (helper = helpers.ownLabel || (depth0 != null ? depth0.ownLabel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === "function" ? helper.call(depth0 != null ? depth0 : (container.nullContext || {}),{"name":"ownLabel","hash":{},"data":data}) : helper)))
	    + "</label>\n                <input class=\"own-category\" id=\"ownInput1\" type=\"text\" />\n";
	},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    var stack1;

	  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.active : depth0),{"name":"if","hash":{},"fn":container.program(1, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "");
	},"useData":true,"useDepths":true});

/***/ }),
/* 103 */
/***/ (function(module, exports, __webpack_require__) {

	var Handlebars = __webpack_require__(77);
	function __default(obj) { return obj && (obj.__esModule ? obj["default"] : obj); }
	module.exports = (Handlebars["default"] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {
	    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3="function", alias4=container.escapeExpression, alias5=container.lambda;

	  return "    <section id=\"audioMechanism"
	    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"id","hash":{},"data":data}) : helper)))
	    + "\" class=\"feedback-mechanism feedback-col "
	    + alias4(alias5(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.labelPositioning : stack1), depth0))
	    + " "
	    + alias4(((helper = (helper = helpers.cssClass || (depth0 != null ? depth0.cssClass : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"cssClass","hash":{},"data":data}) : helper)))
	    + " audio-type\" style=\"width: "
	    + alias4(((helper = (helper = helpers.boxWidth || (depth0 != null ? depth0.boxWidth : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"boxWidth","hash":{},"data":data}) : helper)))
	    + "; padding-left: "
	    + alias4(((helper = (helper = helpers.boxPaddingLeft || (depth0 != null ? depth0.boxPaddingLeft : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"boxPaddingLeft","hash":{},"data":data}) : helper)))
	    + "; padding-right: "
	    + alias4(((helper = (helper = helpers.boxPaddingRight || (depth0 != null ? depth0.boxPaddingRight : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"boxPaddingRight","hash":{},"data":data}) : helper)))
	    + ";\">\n        <p style=\""
	    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.mandatory : depth0),{"name":"if","hash":{},"fn":container.program(2, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "\">"
	    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"title","hash":{},"data":data}) : helper)))
	    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.mandatory : depth0),{"name":"if","hash":{},"fn":container.program(4, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "</p>\n        <audio controls src=\"\" class=\"audio\"></audio>\n        <div class=\"audio-buttons\">\n            <a class=\"record\"><img src=\""
	    + alias4(alias5(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.distPath : stack1), depth0))
	    + "img/ic_mic_none_black_24dp_2x.png\" data-default-src=\""
	    + alias4(alias5(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.distPath : stack1), depth0))
	    + "img/ic_mic_none_black_24dp_2x.png\" data-active-src=\""
	    + alias4(alias5(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.distPath : stack1), depth0))
	    + "img/ic_mic_black_24dp_2x.png\" /></a>\n            <a class=\"disabled one stop\" title=\"stop\"><img src=\""
	    + alias4(alias5(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.distPath : stack1), depth0))
	    + "img/ic_stop_black_24dp_2x.png\" /></a>\n            <a class=\"disabled one delete\" title=\"reset\"><img src=\""
	    + alias4(alias5(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.distPath : stack1), depth0))
	    + "img/ic_delete_black_24dp_2x.png\" /></a>\n            <a class=\"disabled one replay\" title=\"replay\"><img src=\""
	    + alias4(alias5(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.distPath : stack1), depth0))
	    + "img/ic_play_arrow_black_24dp_2x.png\" /></a>\n            <a class=\"disabled one stop-replay\" title=\"stop replay\"><img src=\""
	    + alias4(alias5(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.distPath : stack1), depth0))
	    + "img/ic_stop_black_24dp_2x.png\" /></a>\n            <span class=\"replay-time\"></span><span class=\"audio-time\"></span>\n        </div>\n    </section>\n";
	},"2":function(container,depth0,helpers,partials,data) {
	    var stack1;

	  return container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.mandatoryLabelStyle : stack1), depth0));
	},"4":function(container,depth0,helpers,partials,data) {
	    var stack1;

	  return " "
	    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.mandatorySign : stack1), depth0));
	},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
	    var stack1;

	  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.active : depth0),{"name":"if","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "");
	},"useData":true});

/***/ }),
/* 104 */
/***/ (function(module, exports, __webpack_require__) {

	var Handlebars = __webpack_require__(77);
	function __default(obj) { return obj && (obj.__esModule ? obj["default"] : obj); }
	module.exports = (Handlebars["default"] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {
	    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3="function", alias4=container.escapeExpression, alias5=container.lambda;

	  return "    <section id=\"ratingMechanism"
	    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"id","hash":{},"data":data}) : helper)))
	    + "\"\n             class=\"feedback-mechanism feedback-col "
	    + alias4(alias5(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.labelPositioning : stack1), depth0))
	    + " "
	    + alias4(((helper = (helper = helpers.cssClass || (depth0 != null ? depth0.cssClass : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"cssClass","hash":{},"data":data}) : helper)))
	    + " rating-type"
	    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.mandatory : depth0),{"name":"if","hash":{},"fn":container.program(2, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "\"\n             style=\"width: "
	    + alias4(((helper = (helper = helpers.boxWidth || (depth0 != null ? depth0.boxWidth : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"boxWidth","hash":{},"data":data}) : helper)))
	    + "; padding-left: "
	    + alias4(((helper = (helper = helpers.boxPaddingLeft || (depth0 != null ? depth0.boxPaddingLeft : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"boxPaddingLeft","hash":{},"data":data}) : helper)))
	    + "; padding-right: "
	    + alias4(((helper = (helper = helpers.boxPaddingRight || (depth0 != null ? depth0.boxPaddingRight : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"boxPaddingRight","hash":{},"data":data}) : helper)))
	    + ";\">\n        <p style=\""
	    + alias4(alias5(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.generalLabelStyle : stack1), depth0))
	    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.mandatory : depth0),{"name":"if","hash":{},"fn":container.program(4, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "\" class=\"rating-text col col-left\">\n            "
	    + alias4(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"title","hash":{},"data":data}) : helper)))
	    + ((stack1 = helpers["if"].call(alias1,(depth0 != null ? depth0.mandatory : depth0),{"name":"if","hash":{},"fn":container.program(6, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "\n        </p>\n        <p class=\"rating-input col col-right\" data-mandatory-message=\""
	    + alias4(((helper = (helper = helpers.mandatoryReminder || (depth0 != null ? depth0.mandatoryReminder : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"mandatoryReminder","hash":{},"data":data}) : helper)))
	    + "\">\n\n        </p>\n        <div class=\"clearfix\"></div>\n    </section>\n";
	},"2":function(container,depth0,helpers,partials,data) {
	    return " mandatory";
	},"4":function(container,depth0,helpers,partials,data) {
	    var stack1;

	  return container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.mandatoryLabelStyle : stack1), depth0));
	},"6":function(container,depth0,helpers,partials,data) {
	    var stack1;

	  return " "
	    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.mandatorySign : stack1), depth0));
	},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
	    var stack1;

	  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.active : depth0),{"name":"if","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "");
	},"useData":true});

/***/ }),
/* 105 */
/***/ (function(module, exports, __webpack_require__) {

	var Handlebars = __webpack_require__(77);
	function __default(obj) { return obj && (obj.__esModule ? obj["default"] : obj); }
	module.exports = (Handlebars["default"] || Handlebars).template({"1":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {});

	  return "    <section id=\"attachmentMechanism"
	    + alias2(alias1((depth0 != null ? depth0.id : depth0), depth0))
	    + "\" class=\"feedback-mechanism feedback-col "
	    + alias2(alias1((depths[1] != null ? depths[1].labelPositioning : depths[1]), depth0))
	    + " "
	    + alias2(alias1((depth0 != null ? depth0.cssClass : depth0), depth0))
	    + " attachment-type\"\n             style=\"width: "
	    + alias2(alias1((depth0 != null ? depth0.boxWidth : depth0), depth0))
	    + "; padding-left: "
	    + alias2(alias1((depth0 != null ? depth0.boxPaddingLeft : depth0), depth0))
	    + "; padding-right: "
	    + alias2(alias1((depth0 != null ? depth0.boxPaddingRight : depth0), depth0))
	    + ";\">\n        <p style=\""
	    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.mandatory : depth0),{"name":"if","hash":{},"fn":container.program(2, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "\">"
	    + alias2(alias1((depth0 != null ? depth0.title : depth0), depth0))
	    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.mandatory : depth0),{"name":"if","hash":{},"fn":container.program(4, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "</p>\n\n        <article class=\"file-upload-box drop-area\">\n            <input type=\"file\" name=\"files[]\" id=\"file\" multiple/>\n            <label for=\"file\"><strong>"
	    + alias2(__default(__webpack_require__(106)).call(alias3,"attachment.choose_file",{"name":"t","hash":{},"data":data}))
	    + "</strong><span> "
	    + alias2(__default(__webpack_require__(106)).call(alias3,"attachment.drop_file",{"name":"t","hash":{},"data":data}))
	    + "</span>.</label>\n        </article>\n\n        <table class=\"current-files\">\n\n        </table>\n\n    </section>\n";
	},"2":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    return container.escapeExpression(container.lambda((depths[1] != null ? depths[1].mandatoryLabelStyle : depths[1]), depth0));
	},"4":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    return " "
	    + container.escapeExpression(container.lambda((depths[1] != null ? depths[1].mandatorySign : depths[1]), depth0));
	},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    var stack1;

	  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.active : depth0),{"name":"if","hash":{},"fn":container.program(1, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "");
	},"useData":true,"useDepths":true});

/***/ }),
/* 106 */
/***/ (function(module, exports, __webpack_require__) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var t = __webpack_require__(99);
	module.exports = t;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC90ZW1wbGF0ZXMvcGFydGlhbHMvdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUVBLHdCQUEyQjtBQUUzQixNQUFNLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyIsImZpbGUiOiJhcHAvdGVtcGxhdGVzL3BhcnRpYWxzL3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgaTE4biA9IHJlcXVpcmUoJ2kxOG5leHQnKTtcbmltcG9ydCBIYW5kbGViYXJzID0gcmVxdWlyZSgnaGFuZGxlYmFycycpO1xuaW1wb3J0IHQgPSByZXF1aXJlKCcuLi90Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gdDsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

/***/ }),
/* 107 */
/***/ (function(module, exports, __webpack_require__) {

	var Handlebars = __webpack_require__(77);
	function __default(obj) { return obj && (obj.__esModule ? obj["default"] : obj); }
	module.exports = (Handlebars["default"] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {
	    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3="function", alias4=container.escapeExpression;

	  return "    <section id=\"infoMechanism"
	    + alias4(((helper = (helper = helpers.id || (depth0 != null ? depth0.id : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"id","hash":{},"data":data}) : helper)))
	    + "\" class=\"feedback-mechanism feedback-col "
	    + alias4(container.lambda(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.labelPositioning : stack1), depth0))
	    + " "
	    + alias4(((helper = (helper = helpers.cssClass || (depth0 != null ? depth0.cssClass : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"cssClass","hash":{},"data":data}) : helper)))
	    + " info-type\" style=\"width: "
	    + alias4(((helper = (helper = helpers.boxWidth || (depth0 != null ? depth0.boxWidth : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"boxWidth","hash":{},"data":data}) : helper)))
	    + "; padding-left: "
	    + alias4(((helper = (helper = helpers.boxPaddingLeft || (depth0 != null ? depth0.boxPaddingLeft : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"boxPaddingLeft","hash":{},"data":data}) : helper)))
	    + "; padding-right: "
	    + alias4(((helper = (helper = helpers.boxPaddingRight || (depth0 != null ? depth0.boxPaddingRight : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"boxPaddingRight","hash":{},"data":data}) : helper)))
	    + ";\">\n        <p>\n            "
	    + ((stack1 = ((helper = (helper = helpers.text || (depth0 != null ? depth0.text : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"text","hash":{},"data":data}) : helper))) != null ? stack1 : "")
	    + "\n        </p>\n    </section>\n";
	},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
	    var stack1;

	  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.active : depth0),{"name":"if","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "");
	},"useData":true});

/***/ }),
/* 108 */
/***/ (function(module, exports, __webpack_require__) {

	var Handlebars = __webpack_require__(77);
	function __default(obj) { return obj && (obj.__esModule ? obj["default"] : obj); }
	module.exports = (Handlebars["default"] || Handlebars).template({"1":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {});

	  return "    <section id=\"textMechanism"
	    + alias2(alias1((depth0 != null ? depth0.id : depth0), depth0))
	    + "\" class=\"feedback-mechanism feedback-col "
	    + alias2(alias1(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.labelPositioning : stack1), depth0))
	    + " "
	    + alias2(alias1((depth0 != null ? depth0.cssClass : depth0), depth0))
	    + " text-type"
	    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.mandatory : depth0),{"name":"if","hash":{},"fn":container.program(2, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.maxLengthStrict : depth0),{"name":"if","hash":{},"fn":container.program(4, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "\"\n             style=\"width: "
	    + alias2(alias1((depth0 != null ? depth0.boxWidth : depth0), depth0))
	    + "; padding-left: "
	    + alias2(alias1((depth0 != null ? depth0.boxPaddingLeft : depth0), depth0))
	    + "; padding-right: "
	    + alias2(alias1((depth0 != null ? depth0.boxPaddingRight : depth0), depth0))
	    + ";\">\n        <p class=\"text-type-label explanation col col-left\" style=\""
	    + alias2(alias1((depths[1] != null ? depths[1].generalLabelStyle : depths[1]), depth0))
	    + alias2(alias1((depth0 != null ? depth0.labelStyle : depth0), depth0))
	    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.mandatory : depth0),{"name":"if","hash":{},"fn":container.program(6, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "\">\n            "
	    + alias2(alias1((depth0 != null ? depth0.label : depth0), depth0))
	    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.mandatory : depth0),{"name":"if","hash":{},"fn":container.program(8, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "\n        </p>\n\n        <article class=\"col col-right\">\n                                    <textarea class=\"validate text-type-text"
	    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.validationEmail : depth0),{"name":"if","hash":{},"fn":container.program(10, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + " \"\n                                        "
	    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.mandatory : depth0),{"name":"if","hash":{},"fn":container.program(12, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "\n                                              placeholder=\""
	    + alias2(alias1((depth0 != null ? depth0.hint : depth0), depth0))
	    + "\"\n                                              data-validation-max-length=\""
	    + alias2(alias1((depth0 != null ? depth0.maxLength : depth0), depth0))
	    + "\"\n                                              data-validation-email=\""
	    + alias2(alias1((depth0 != null ? depth0.validationEmail : depth0), depth0))
	    + "\"\n                                              style=\""
	    + alias2(alias1((depth0 != null ? depth0.textareaStyle : depth0), depth0))
	    + "\"></textarea>\n            <p class=\"textarea-bottom\">\n"
	    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.clearInput : depth0),{"name":"if","hash":{},"fn":container.program(14, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.maxLengthVisible : depth0),{"name":"if","hash":{},"fn":container.program(16, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "            </p>\n            <div class=\"clearfix\"></div>\n        </article>\n        <div class=\"clearfix\"></div>\n    </section>\n";
	},"2":function(container,depth0,helpers,partials,data) {
	    return " mandatory";
	},"4":function(container,depth0,helpers,partials,data) {
	    return " max-length-strict";
	},"6":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    return " "
	    + container.escapeExpression(container.lambda((depths[1] != null ? depths[1].mandatoryLabelStyle : depths[1]), depth0));
	},"8":function(container,depth0,helpers,partials,data) {
	    var stack1;

	  return " "
	    + container.escapeExpression(container.lambda(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.mandatorySign : stack1), depth0));
	},"10":function(container,depth0,helpers,partials,data) {
	    return " email-field";
	},"12":function(container,depth0,helpers,partials,data) {
	    var alias1=container.escapeExpression;

	  return " data-mandatory=\"1\"\n                                              data-mandatory-default-text=\""
	    + alias1(__default(__webpack_require__(106)).call(depth0 != null ? depth0 : (container.nullContext || {}),"general.mandatory_default_text",{"name":"t","hash":{},"data":data}))
	    + "\"\n                                              data-mandatory-manual-text=\""
	    + alias1(container.lambda((depth0 != null ? depth0.mandatoryReminder : depth0), depth0))
	    + "\" ";
	},"14":function(container,depth0,helpers,partials,data) {
	    return "                    <button class=\"text-type-text-clear\"\n                            title=\""
	    + container.escapeExpression(__default(__webpack_require__(106)).call(depth0 != null ? depth0 : (container.nullContext || {}),"text.text_type_text_clear",{"name":"t","hash":{},"data":data}))
	    + "\">x\n                    </button>\n";
	},"16":function(container,depth0,helpers,partials,data) {
	    var alias1=container.lambda, alias2=container.escapeExpression;

	  return "                    <span class=\"text-type-max-length\">"
	    + alias2(alias1((depth0 != null ? depth0.currentLength : depth0), depth0))
	    + "\n                        / "
	    + alias2(alias1((depth0 != null ? depth0.maxLength : depth0), depth0))
	    + "</span>\n";
	},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data,blockParams,depths) {
	    var stack1;

	  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.active : depth0),{"name":"if","hash":{},"fn":container.program(1, data, 0, blockParams, depths),"inverse":container.noop,"data":data})) != null ? stack1 : "");
	},"useData":true,"useDepths":true});

/***/ }),
/* 109 */
/***/ (function(module, exports, __webpack_require__) {

	var Handlebars = __webpack_require__(77);
	function __default(obj) { return obj && (obj.__esModule ? obj["default"] : obj); }
	module.exports = (Handlebars["default"] || Handlebars).template({"1":function(container,depth0,helpers,partials,data) {
	    var stack1, alias1=container.lambda, alias2=container.escapeExpression, alias3=depth0 != null ? depth0 : (container.nullContext || {});

	  return "    <section id=\"screenshotMechanism"
	    + alias2(alias1((depth0 != null ? depth0.id : depth0), depth0))
	    + "\"\n             class=\"feedback-mechanism feedback-col horizontal "
	    + alias2(alias1((depth0 != null ? depth0.cssClass : depth0), depth0))
	    + " screenshot-type\" style=\"width: "
	    + alias2(alias1((depth0 != null ? depth0.boxWidth : depth0), depth0))
	    + "; padding-left: "
	    + alias2(alias1((depth0 != null ? depth0.boxPaddingLeft : depth0), depth0))
	    + "; padding-right: "
	    + alias2(alias1((depth0 != null ? depth0.boxPaddingRight : depth0), depth0))
	    + ";\">\n        <p class=\"screenshot-title\">"
	    + alias2(alias1((depth0 != null ? depth0.title : depth0), depth0))
	    + "</p>\n        <article class=\"col col-left\">\n            <button class=\"take-screenshot button screenshot\"\n                    data-default-text=\""
	    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.screenshotTakeButtonTitle : depth0),{"name":"if","hash":{},"fn":container.program(2, data, 0),"inverse":container.program(4, data, 0),"data":data})) != null ? stack1 : "")
	    + "\"\n                    data-active-text=\""
	    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.screenshotTakeNewButtonTitle : depth0),{"name":"if","hash":{},"fn":container.program(6, data, 0),"inverse":container.program(8, data, 0),"data":data})) != null ? stack1 : "")
	    + "\">\n                "
	    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.screenshotTakeButtonTitle : depth0),{"name":"if","hash":{},"fn":container.program(2, data, 0),"inverse":container.program(4, data, 0),"data":data})) != null ? stack1 : "")
	    + "\n            </button>\n\n            <div class=\"screenshot-operations\">\n                <button class=\"button screenshot-draw-remove screenshot\"\n                        title=\""
	    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.screenshotRemoveButtonTitle : depth0),{"name":"if","hash":{},"fn":container.program(10, data, 0),"inverse":container.program(12, data, 0),"data":data})) != null ? stack1 : "")
	    + "\">\n                    "
	    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.screenshotRemoveButtonTitle : depth0),{"name":"if","hash":{},"fn":container.program(10, data, 0),"inverse":container.program(12, data, 0),"data":data})) != null ? stack1 : "")
	    + "\n                </button>\n\n                <p style=\""
	    + alias2(alias1(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.generalLabelStyle : stack1), depth0))
	    + "\">"
	    + alias2(alias1((depth0 != null ? depth0.zoomTitle : depth0), depth0))
	    + "</p>\n"
	    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.zoomExplanation : depth0),{"name":"if","hash":{},"fn":container.program(14, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "                <img class=\"zoom-in\" title=\""
	    + alias2(__default(__webpack_require__(106)).call(alias3,"screenshot.zoom_in",{"name":"t","hash":{},"data":data}))
	    + "\"\n                     src=\""
	    + alias2(alias1(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.distPath : stack1), depth0))
	    + "img/ic_zoom_in_black_24dp_2x.png\"/>\n                <img class=\"zoom-out\" title=\""
	    + alias2(__default(__webpack_require__(106)).call(alias3,"screenshot.zoom_out",{"name":"t","hash":{},"data":data}))
	    + "\"\n                     src=\""
	    + alias2(alias1(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.distPath : stack1), depth0))
	    + "img/ic_zoom_out_black_24dp_2x.png\"/>\n\n\n                <!--[if IE]>\n                <style>\n                    .hide-ie {\n                        display: none;\n                    }\n                </style>\n                <![endif]-->\n                <p style=\""
	    + alias2(alias1(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.generalLabelStyle : stack1), depth0))
	    + "\">"
	    + alias2(alias1((depth0 != null ? depth0.cropTitle : depth0), depth0))
	    + "</p>\n"
	    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.cropExplanation : depth0),{"name":"if","hash":{},"fn":container.program(16, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "                <button class=\"screenshot-operation screenshot-crop\"\n                        title=\""
	    + alias2(__default(__webpack_require__(106)).call(alias3,"screenshot.crop",{"name":"t","hash":{},"data":data}))
	    + "\"><img\n                        src=\""
	    + alias2(alias1(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.distPath : stack1), depth0))
	    + "img/ic_crop_black_24dp_2x.png\"\n                        alt=\""
	    + alias2(__default(__webpack_require__(106)).call(alias3,"screenshot.crop",{"name":"t","hash":{},"data":data}))
	    + "\"/></button>\n                <button class=\"screenshot-operation default-hidden screenshot-crop-cancel\"\n                        title=\""
	    + alias2(__default(__webpack_require__(106)).call(alias3,"general.cancel",{"name":"t","hash":{},"data":data}))
	    + "\"><img\n                        src=\""
	    + alias2(alias1(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.distPath : stack1), depth0))
	    + "img/ic_clear_black_24dp_2x.png\"\n                        alt=\""
	    + alias2(__default(__webpack_require__(106)).call(alias3,"general.cancel",{"name":"t","hash":{},"data":data}))
	    + "\"/></button>\n                <button class=\"screenshot-operation default-hidden screenshot-crop-confirm\"\n                        title=\""
	    + alias2(__default(__webpack_require__(106)).call(alias3,"screenshot.crop",{"name":"t","hash":{},"data":data}))
	    + "\"><img\n                        src=\""
	    + alias2(alias1(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.distPath : stack1), depth0))
	    + "img/ic_done_black_24dp_2x.png\"\n                        alt=\""
	    + alias2(__default(__webpack_require__(106)).call(alias3,"screenshot.crop",{"name":"t","hash":{},"data":data}))
	    + "\"/></button>\n                <button class=\"screenshot-operation default-hidden screenshot-draw-undo\"\n                        title=\""
	    + alias2(__default(__webpack_require__(106)).call(alias3,"screenshot.undo",{"name":"t","hash":{},"data":data}))
	    + "\"><img\n                        src=\""
	    + alias2(alias1(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.distPath : stack1), depth0))
	    + "img/ic_undo_black_24dp_2x.png\"\n                        alt=\""
	    + alias2(__default(__webpack_require__(106)).call(alias3,"screenshot.undo",{"name":"t","hash":{},"data":data}))
	    + "\"/></button>\n\n                <p class=\"annotations-heading\" style=\""
	    + alias2(alias1(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.generalLabelStyle : stack1), depth0))
	    + "\">"
	    + alias2(alias1((depth0 != null ? depth0.annotationTitle : depth0), depth0))
	    + "</p>\n"
	    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.annotationExplanation : depth0),{"name":"if","hash":{},"fn":container.program(18, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "                <img id=\"sentimentSatisfiedSticker\" class=\"sticker-source svg-sticker-source hide-ie\" title=\""
	    + alias2(alias1((depth0 != null ? depth0.sentimentSatisfiedMouseover : depth0), depth0))
	    + "\"\n                     src=\""
	    + alias2(alias1(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.distPath : stack1), depth0))
	    + "img/ic_sentiment_satisfied_black_24px.svg\"/>\n                <img id=\"sentimentDissatisfiedSticker\" class=\"sticker-source svg-sticker-source hide-ie\" title=\""
	    + alias2(alias1((depth0 != null ? depth0.sentimentDissatisfiedMouseover : depth0), depth0))
	    + "\"\n                     src=\""
	    + alias2(alias1(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.distPath : stack1), depth0))
	    + "img/ic_sentiment_dissatisfied_black_24px.svg\"/>\n                <img id=\"arrowSticker\" class=\"sticker-source object-source arrow hide-ie\" title=\""
	    + alias2(alias1((depth0 != null ? depth0.arrowMouseover : depth0), depth0))
	    + "\"\n                     src=\""
	    + alias2(alias1(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.distPath : stack1), depth0))
	    + "img/ic_arrow_forward_black_24px.svg\"/>\n                <img id=\"circleSticker\" class=\"sticker-source object-source circle hide-ie\" title=\""
	    + alias2(alias1((depth0 != null ? depth0.circleMouseover : depth0), depth0))
	    + "\"\n                     src=\""
	    + alias2(alias1(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.distPath : stack1), depth0))
	    + "img/ic_panorama_fish_eye_black_24px.svg\"/>\n                <img id=\"rectangleSticker\" class=\"sticker-source object-source rect hide-ie\" title=\""
	    + alias2(alias1((depth0 != null ? depth0.rectMouseover : depth0), depth0))
	    + "\"\n                     src=\""
	    + alias2(alias1(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.distPath : stack1), depth0))
	    + "img/ic_crop_din_black_24px.svg\"/>\n                <img id=\"blackenSticker\" class=\"sticker-source object-source fillRect hide-ie\" title=\""
	    + alias2(alias1((depth0 != null ? depth0.filledRectMouseover : depth0), depth0))
	    + "\"\n                     src=\""
	    + alias2(alias1(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.distPath : stack1), depth0))
	    + "img/ic_stop_black_24px.svg\"/>\n                <img id=\"thumbUpSticker\" class=\"sticker-source svg-sticker-source hide-ie\" title=\""
	    + alias2(alias1((depth0 != null ? depth0.thumbUpMouseover : depth0), depth0))
	    + "\"\n                     src=\""
	    + alias2(alias1(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.distPath : stack1), depth0))
	    + "img/ic_thumb_up_black_24px.svg\"/>\n                <img id=\"thumbDownSticker\" class=\"sticker-source svg-sticker-source hide-ie\" title=\""
	    + alias2(alias1((depth0 != null ? depth0.thumbDownMouseover : depth0), depth0))
	    + "\"\n                     src=\""
	    + alias2(alias1(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.distPath : stack1), depth0))
	    + "img/ic_thumb_down_black_24px.svg\"/>\n                <img class=\"freehand\" title=\""
	    + alias2(alias1((depth0 != null ? depth0.freehandMouseover : depth0), depth0))
	    + "\"\n                     src=\""
	    + alias2(alias1(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.distPath : stack1), depth0))
	    + "img/ic_gesture_black_24px.svg\" />\n\n                <br />\n                <br />\n                <p class=\"annotations-heading\" style=\""
	    + alias2(alias1(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.generalLabelStyle : stack1), depth0))
	    + "\">"
	    + alias2(alias1((depth0 != null ? depth0.textTitle : depth0), depth0))
	    + "</p>\n"
	    + ((stack1 = helpers["if"].call(alias3,(depth0 != null ? depth0.textExplanation : depth0),{"name":"if","hash":{},"fn":container.program(20, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "")
	    + "                <img id=\"textSticker\" class=\"sticker-source svg-sticker-source text hide-ie\" title=\""
	    + alias2(alias1((depth0 != null ? depth0.textMouseover : depth0), depth0))
	    + "\"\n                     src=\""
	    + alias2(alias1(((stack1 = (depth0 != null ? depth0.parent : depth0)) != null ? stack1.distPath : stack1), depth0))
	    + "img/ic_title_black_24px.svg\"/>\n\n                <article class=\"selected-object-controls\">\n                    <p>"
	    + alias2(alias1((depth0 != null ? depth0.selectionTitle : depth0), depth0))
	    + "</p>\n                    <a class=\"delete\"><i class=\"material-icons\">delete</i></a>\n                    &nbsp;\n                    <a class=\"color\"><i\n                            class=\"material-icons\">format_color_fill</i></a>\n                    <input class=\"text-size\" type=\"text\">\n                </article>\n                <article class=\"freehand-controls\">\n                    <p>"
	    + alias2(alias1((depth0 != null ? depth0.colorTitle : depth0), depth0))
	    + "</p>\n                    <a class=\"freehand-color\"><i class=\"material-icons\">format_color_fill</i></a>\n                </article>\n            </div>\n        </article>\n        <div class=\"col col-right screenshot-preview\">\n\n        </div>\n        <div class=\"hidden-preview\">\n\n        </div>\n        <div class=\"clearfix\"></div>\n    </section>\n";
	},"2":function(container,depth0,helpers,partials,data) {
	    return container.escapeExpression(container.lambda((depth0 != null ? depth0.screenshotTakeButtonTitle : depth0), depth0));
	},"4":function(container,depth0,helpers,partials,data) {
	    return container.escapeExpression(__default(__webpack_require__(106)).call(depth0 != null ? depth0 : (container.nullContext || {}),"screenshot.take_screenshot",{"name":"t","hash":{},"data":data}));
	},"6":function(container,depth0,helpers,partials,data) {
	    return container.escapeExpression(container.lambda((depth0 != null ? depth0.screenshotTakeNewButtonTitle : depth0), depth0));
	},"8":function(container,depth0,helpers,partials,data) {
	    return container.escapeExpression(__default(__webpack_require__(106)).call(depth0 != null ? depth0 : (container.nullContext || {}),"screenshot.take_new_screenshot",{"name":"t","hash":{},"data":data}));
	},"10":function(container,depth0,helpers,partials,data) {
	    return container.escapeExpression(container.lambda((depth0 != null ? depth0.screenshotRemoveButtonTitle : depth0), depth0));
	},"12":function(container,depth0,helpers,partials,data) {
	    return container.escapeExpression(__default(__webpack_require__(106)).call(depth0 != null ? depth0 : (container.nullContext || {}),"screenshot.remove",{"name":"t","hash":{},"data":data}));
	},"14":function(container,depth0,helpers,partials,data) {
	    return "                    <small>"
	    + container.escapeExpression(container.lambda((depth0 != null ? depth0.zoomExplanation : depth0), depth0))
	    + "</small>\n";
	},"16":function(container,depth0,helpers,partials,data) {
	    return "                    <small>"
	    + container.escapeExpression(container.lambda((depth0 != null ? depth0.cropExplanation : depth0), depth0))
	    + "</small>\n";
	},"18":function(container,depth0,helpers,partials,data) {
	    return "                    <small>"
	    + container.escapeExpression(container.lambda((depth0 != null ? depth0.annotationExplanation : depth0), depth0))
	    + "</small>\n";
	},"20":function(container,depth0,helpers,partials,data) {
	    return "                    <small>"
	    + container.escapeExpression(container.lambda((depth0 != null ? depth0.textExplanation : depth0), depth0))
	    + "</small>\n";
	},"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
	    var stack1;

	  return ((stack1 = helpers["if"].call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? depth0.active : depth0),{"name":"if","hash":{},"fn":container.program(1, data, 0),"inverse":container.noop,"data":data})) != null ? stack1 : "");
	},"useData":true});

/***/ }),
/* 110 */
/***/ (function(module, exports, __webpack_require__) {

	var map = {
		"./default.handlebars": 111
	};
	function webpackContext(req) {
		return __webpack_require__(webpackContextResolve(req));
	};
	function webpackContextResolve(req) {
		return map[req] || (function() { throw new Error("Cannot find module '" + req + "'.") }());
	};
	webpackContext.keys = function webpackContextKeys() {
		return Object.keys(map);
	};
	webpackContext.resolve = webpackContextResolve;
	module.exports = webpackContext;
	webpackContext.id = 110;


/***/ }),
/* 111 */
/***/ (function(module, exports, __webpack_require__) {

	var Handlebars = __webpack_require__(77);
	function __default(obj) { return obj && (obj.__esModule ? obj["default"] : obj); }
	module.exports = (Handlebars["default"] || Handlebars).template({"compiler":[7,">= 4.0.0"],"main":function(container,depth0,helpers,partials,data) {
	    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=helpers.helperMissing, alias3="function", alias4=container.escapeExpression;

	  return "<a title=\""
	    + alias4(((helper = (helper = helpers.linkTitle || (depth0 != null ? depth0.linkTitle : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"linkTitle","hash":{},"data":data}) : helper)))
	    + "\">"
	    + alias4(((helper = (helper = helpers.linkText || (depth0 != null ? depth0.linkText : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{"name":"linkText","hash":{},"data":data}) : helper)))
	    + "</a>";
	},"useData":true});

/***/ }),
/* 112 */
/***/ (function(module, exports) {

	"use strict";
	Object.defineProperty(exports, "__esModule", { value: true });
	var MockBackend = (function () {
	    function MockBackend(mockData) {
	        this.mockData = mockData;
	    }
	    MockBackend.prototype.list = function (callback) {
	        callback(this.mockData);
	    };
	    MockBackend.prototype.retrieve = function (id, callback) {
	        callback(this.findById(id));
	    };
	    MockBackend.prototype.create = function (object, callback) {
	        this.mockData.push(object);
	        if (callback) {
	            callback(object);
	        }
	    };
	    MockBackend.prototype.update = function (id, attributes, callback) {
	        var object = this.findById(id);
	        for (var id_1 in attributes) {
	            if (attributes.hasOwnProperty(id_1)) {
	                object[id_1] = attributes[id_1];
	            }
	        }
	        if (callback) {
	            callback(object);
	        }
	    };
	    MockBackend.prototype.destroy = function (id, callback) {
	        var object = this.findById(id);
	        var index = this.mockData.indexOf(object);
	        if (index !== undefined) {
	            this.mockData.splice(index, 1);
	        }
	        if (callback) {
	            callback(object);
	        }
	    };
	    MockBackend.prototype.findById = function (id) {
	        var resultArray = this.mockData.filter(function (obj) {
	            return obj.id === id;
	        });
	        if (resultArray === null || resultArray.length === 0) {
	            return null;
	        }
	        else {
	            return resultArray[0];
	        }
	    };
	    return MockBackend;
	}());
	exports.MockBackend = MockBackend;

	//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC9zZXJ2aWNlcy9iYWNrZW5kcy9tb2NrX2JhY2tlbmQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFHQTtJQUdJLHFCQUFZLFFBQW1CO1FBQzNCLElBQUksQ0FBQyxRQUFRLEdBQUcsUUFBUSxDQUFDO0lBQzdCLENBQUM7SUFFRCwwQkFBSSxHQUFKLFVBQUssUUFBMkI7UUFDNUIsUUFBUSxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztJQUM1QixDQUFDO0lBRUQsOEJBQVEsR0FBUixVQUFTLEVBQVMsRUFBRSxRQUEyQjtRQUMzQyxRQUFRLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ2hDLENBQUM7SUFFRCw0QkFBTSxHQUFOLFVBQU8sTUFBVSxFQUFFLFFBQTRCO1FBQzNDLElBQUksQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzNCLEVBQUUsQ0FBQSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDVixRQUFRLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDckIsQ0FBQztJQUNMLENBQUM7SUFFRCw0QkFBTSxHQUFOLFVBQU8sRUFBUyxFQUFFLFVBQWEsRUFBRSxRQUE0QjtRQUN6RCxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQy9CLEdBQUcsQ0FBQyxDQUFDLElBQUksSUFBRSxJQUFJLFVBQVUsQ0FBQyxDQUFDLENBQUM7WUFDeEIsRUFBRSxDQUFDLENBQUMsVUFBVSxDQUFDLGNBQWMsQ0FBQyxJQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ2hDLE1BQU0sQ0FBQyxJQUFFLENBQUMsR0FBRyxVQUFVLENBQUMsSUFBRSxDQUFDLENBQUM7WUFDaEMsQ0FBQztRQUNMLENBQUM7UUFDRCxFQUFFLENBQUEsQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDO1lBQ1YsUUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQ3JCLENBQUM7SUFDTCxDQUFDO0lBRUQsNkJBQU8sR0FBUCxVQUFRLEVBQVMsRUFBRSxRQUE0QjtRQUMzQyxJQUFJLE1BQU0sR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQy9CLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzFDLEVBQUUsQ0FBQyxDQUFDLEtBQUssS0FBSyxTQUFTLENBQUMsQ0FBQyxDQUFDO1lBQ3RCLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUMsQ0FBQztRQUNuQyxDQUFDO1FBQ0QsRUFBRSxDQUFBLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztZQUNWLFFBQVEsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUNyQixDQUFDO0lBQ0wsQ0FBQztJQUVPLDhCQUFRLEdBQWhCLFVBQWlCLEVBQVM7UUFDdEIsSUFBSSxXQUFXLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsVUFBVSxHQUFHO1lBQ2hELE1BQU0sQ0FBQyxHQUFHLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQztRQUN6QixDQUFDLENBQUMsQ0FBQztRQUNILEVBQUUsQ0FBQSxDQUFDLFdBQVcsS0FBSyxJQUFJLElBQUksV0FBVyxDQUFDLE1BQU0sS0FBSyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xELE1BQU0sQ0FBQyxJQUFJLENBQUM7UUFDaEIsQ0FBQztRQUFDLElBQUksQ0FBQyxDQUFDO1lBQ0osTUFBTSxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUMxQixDQUFDO0lBQ0wsQ0FBQztJQUNMLGtCQUFDO0FBQUQsQ0F2REEsQUF1REMsSUFBQTtBQXZEWSxrQ0FBVyIsImZpbGUiOiJhcHAvc2VydmljZXMvYmFja2VuZHMvbW9ja19iYWNrZW5kLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtCYWNrZW5kfSBmcm9tICcuL2JhY2tlbmQnO1xuXG5cbmV4cG9ydCBjbGFzcyBNb2NrQmFja2VuZCBpbXBsZW1lbnRzIEJhY2tlbmQge1xuICAgIHByaXZhdGUgbW9ja0RhdGE6QXJyYXk8YW55PjtcblxuICAgIGNvbnN0cnVjdG9yKG1vY2tEYXRhOkFycmF5PGFueT4pIHtcbiAgICAgICAgdGhpcy5tb2NrRGF0YSA9IG1vY2tEYXRhO1xuICAgIH1cblxuICAgIGxpc3QoY2FsbGJhY2s6KGRhdGE6YW55KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIGNhbGxiYWNrKHRoaXMubW9ja0RhdGEpO1xuICAgIH1cblxuICAgIHJldHJpZXZlKGlkOm51bWJlciwgY2FsbGJhY2s6KGRhdGE6YW55KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIGNhbGxiYWNrKHRoaXMuZmluZEJ5SWQoaWQpKTtcbiAgICB9XG5cbiAgICBjcmVhdGUob2JqZWN0OmFueSwgY2FsbGJhY2s/OihkYXRhOmFueSkgPT4gdm9pZCk6IHZvaWQge1xuICAgICAgICB0aGlzLm1vY2tEYXRhLnB1c2gob2JqZWN0KTtcbiAgICAgICAgaWYoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGUoaWQ6bnVtYmVyLCBhdHRyaWJ1dGVzOnt9LCBjYWxsYmFjaz86KGRhdGE6YW55KSA9PiB2b2lkKTogdm9pZCB7XG4gICAgICAgIHZhciBvYmplY3QgPSB0aGlzLmZpbmRCeUlkKGlkKTtcbiAgICAgICAgZm9yIChsZXQgaWQgaW4gYXR0cmlidXRlcykge1xuICAgICAgICAgICAgaWYgKGF0dHJpYnV0ZXMuaGFzT3duUHJvcGVydHkoaWQpKSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0W2lkXSA9IGF0dHJpYnV0ZXNbaWRdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhvYmplY3QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVzdHJveShpZDpudW1iZXIsIGNhbGxiYWNrPzooZGF0YTphbnkpID0+IHZvaWQpOiB2b2lkIHtcbiAgICAgICAgdmFyIG9iamVjdCA9IHRoaXMuZmluZEJ5SWQoaWQpO1xuICAgICAgICBsZXQgaW5kZXggPSB0aGlzLm1vY2tEYXRhLmluZGV4T2Yob2JqZWN0KTtcbiAgICAgICAgaWYgKGluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMubW9ja0RhdGEuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgfVxuICAgICAgICBpZihjYWxsYmFjaykge1xuICAgICAgICAgICAgY2FsbGJhY2sob2JqZWN0KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZmluZEJ5SWQoaWQ6bnVtYmVyKTogdm9pZCB7XG4gICAgICAgIHZhciByZXN1bHRBcnJheSA9IHRoaXMubW9ja0RhdGEuZmlsdGVyKGZ1bmN0aW9uIChvYmopIHtcbiAgICAgICAgICAgIHJldHVybiBvYmouaWQgPT09IGlkO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYocmVzdWx0QXJyYXkgPT09IG51bGwgfHwgcmVzdWx0QXJyYXkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHRBcnJheVswXTtcbiAgICAgICAgfVxuICAgIH1cbn0iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=

/***/ }),
/* 113 */
/***/ (function(module, exports) {

	module.exports = [
		{
			"id": 20,
			"name": "Senercon Test Application",
			"state": 1,
			"generalConfiguration": {
				"id": 56,
				"parameters": [
					{
						"id": 537,
						"key": "feedbackMailAdress",
						"value": "energiesparkonto@co2online.de",
						"language": "en",
						"createdAt": "2017-01-23 04:35:38.957"
					},
					{
						"id": 566,
						"key": "dialogTitle",
						"value": "Give us feedback to the energy saving platform",
						"language": "en",
						"createdAt": "2017-02-21 09:02:34.0"
					},
					{
						"id": 469,
						"key": "reviewActive",
						"value": 1,
						"language": "en",
						"createdAt": "2016-11-09 09:53:39.0"
					},
					{
						"id": 470,
						"key": "mainColor",
						"value": "#00ff00",
						"language": "en",
						"createdAt": "2016-11-09 09:53:39.0"
					},
					{
						"id": 536,
						"key": "feedbackMailKeyName",
						"value": "energiesparkonto@co2online.de",
						"language": "en",
						"createdAt": "2017-01-20 09:34:18.126"
					}
				],
				"createdAt": "2016-11-09 09:53:39.0"
			},
			"configurations": [
				{
					"id": 39,
					"type": "PUSH",
					"mechanisms": [
						{
							"id": 187,
							"configurationsId": 39,
							"type": "INFO_TYPE",
							"active": true,
							"order": 10,
							"canBeActivated": false,
							"parameters": [
								{
									"id": 744,
									"key": "text",
									"value": "All fields are optional",
									"language": "en",
									"createdAt": "2017-05-24 11:22:55.0"
								},
								{
									"id": 732,
									"key": "cssClass",
									"value": "mute-text optional-info",
									"language": "en",
									"createdAt": "2017-04-16 09:26:53.27"
								}
							]
						},
						{
							"id": 59,
							"configurationsId": 39,
							"type": "TEXT_TYPE",
							"active": true,
							"order": 1,
							"canBeActivated": false,
							"parameters": [
								{
									"id": 492,
									"key": "maxLengthVisible",
									"value": 1,
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 485,
									"key": "borderColor",
									"value": "#000000",
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 479,
									"key": "mandatory",
									"value": 0,
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 472,
									"key": "title",
									"value": "Feedback",
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 471,
									"key": "maxLength",
									"value": 1000,
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 489,
									"key": "fieldFontType",
									"value": "normal",
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 484,
									"key": "borderWidth",
									"value": 1,
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 494,
									"key": "validateOnSkip",
									"value": 1,
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 488,
									"key": "fieldFontSize",
									"value": 14,
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 475,
									"key": "labelPositioning",
									"value": "left",
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 478,
									"key": "textareaFontColor",
									"value": "#7A7A7A",
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 487,
									"key": "fieldHeight",
									"value": 90,
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 486,
									"key": "fieldWidth",
									"value": 200,
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 473,
									"key": "hint",
									"value": "Please enter your feedback",
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 491,
									"key": "fieldBackgroundColor",
									"value": "#ffffff",
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 476,
									"key": "labelColor",
									"value": "#353535",
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 480,
									"key": "mandatoryReminder",
									"value": "Please fill in the text field",
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 490,
									"key": "fieldTextAlignment",
									"value": "left",
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 474,
									"key": "label",
									"value": "Please provide your comment",
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 493,
									"key": "validationRegex",
									"value": ".",
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 482,
									"key": "undoSteps",
									"value": 1,
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 483,
									"key": "clearInput",
									"value": 0,
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 477,
									"key": "labelFontSize",
									"value": 15,
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 481,
									"key": "undoEnabled",
									"value": 1,
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								}
							],
							"createdAt": "2016-11-09 09:53:39.0"
						},
						{
							"id": 61,
							"configurationsId": 39,
							"type": "SCREENSHOT_TYPE",
							"active": true,
							"order": 3,
							"canBeActivated": false,
							"parameters": [
								{
									"id": 496,
									"key": "title",
									"value": "Title for screenshot feedback",
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 497,
									"key": "defaultPicture",
									"value": "lastScreenshot",
									"defaultValue": "noImage",
									"editableByUser": true,
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"key": "cssClass",
									"value": "valid-on-its-own"
								},
								{
									"key": "title",
									"value": "Make a screenshot of the page you just visited and annotate it with icons and texts"
								}
							],
							"createdAt": "2016-11-09 09:53:39.0"
						},
						{
							"id": 62,
							"configurationsId": 39,
							"type": "RATING_TYPE",
							"active": true,
							"order": 2,
							"canBeActivated": false,
							"parameters": [
								{
									"id": 499,
									"key": "ratingIcon",
									"value": "star",
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 501,
									"key": "defaultRating",
									"value": 0,
									"defaultValue": "0.0",
									"editableByUser": false,
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 498,
									"key": "title",
									"value": "Rate your experience with the feature you just used.",
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"id": 500,
									"key": "maxRating",
									"value": 5,
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"key": "mandatory",
									"value": 0,
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								}
							],
							"createdAt": "2016-11-09 09:53:39.0"
						},
						{
							"id": 63,
							"configurationsId": 39,
							"type": "AUDIO_TYPE",
							"active": false,
							"order": 2,
							"canBeActivated": false,
							"parameters": [
								{
									"id": 502,
									"key": "maxTime",
									"value": 30,
									"defaultValue": "30.0",
									"editableByUser": false,
									"language": "en",
									"createdAt": "2016-10-05 12:50:56.0"
								}
							],
							"createdAt": "2016-11-09 09:53:39.0"
						},
						{
							"id": 64,
							"configurationsId": 39,
							"type": "CATEGORY_TYPE",
							"active": true,
							"order": 5,
							"canBeActivated": false,
							"parameters": [
								{
									"id": 507,
									"key": "mandatoryReminder",
									"value": "Please select at least one category",
									"language": "en",
									"createdAt": "2016-10-24 01:45:36.0"
								},
								{
									"id": 508,
									"key": "options",
									"value": [
										{
											"id": 509,
											"key": "BUG_CATEGORY",
											"value": "Bug",
											"defaultValue": "en",
											"language": "en",
											"createdAt": "2016-11-09 09:53:39.0"
										},
										{
											"id": 510,
											"key": "FEATURE_REQUEST_CATEGORY",
											"value": "Feature Request",
											"defaultValue": "en",
											"language": "en",
											"createdAt": "2016-11-09 09:53:39.0"
										},
										{
											"id": 511,
											"key": "GENERAL_CATEGORY",
											"value": "General Feedback",
											"defaultValue": "en",
											"language": "en",
											"createdAt": "2016-11-09 09:53:39.0"
										}
									],
									"language": "en",
									"createdAt": "2016-10-24 01:45:36.0"
								},
								{
									"id": 506,
									"key": "mandatory",
									"value": 0,
									"language": "en",
									"createdAt": "2016-10-24 01:45:36.0"
								},
								{
									"id": 504,
									"key": "ownAllowed",
									"value": 1,
									"language": "en",
									"createdAt": "2016-10-24 01:45:36.0"
								},
								{
									"key": "ownLabel",
									"value": "Other:"
								},
								{
									"id": 505,
									"key": "multiple",
									"value": 0,
									"language": "en",
									"createdAt": "2016-10-24 01:45:36.0"
								},
								{
									"id": 503,
									"key": "title",
									"value": "Please choose one of the following categories",
									"language": "en",
									"createdAt": "2016-10-24 01:45:36.0"
								}
							],
							"createdAt": "2016-11-09 09:53:39.0"
						},
						{
							"id": 65,
							"configurationsId": 39,
							"type": "ATTACHMENT_TYPE",
							"active": true,
							"order": 8,
							"canBeActivated": false,
							"parameters": [
								{
									"id": 512,
									"key": "title",
									"value": "You can also attach some files to your feedback",
									"language": "en",
									"createdAt": "2016-10-24 01:45:37.0"
								}
							],
							"createdAt": "2017-04-16 09:26:53.24"
						},
						{
							"id": 85,
							"configurationsId": 39,
							"type": "CATEGORY_TYPE",
							"active": false,
							"order": 9,
							"canBeActivated": false,
							"parameters": [
								{
									"id": 711,
									"key": "ownAllowed",
									"value": 0,
									"language": "en",
									"createdAt": "2017-04-16 09:25:27.293"
								},
								{
									"id": 709,
									"key": "boxWidth",
									"value": "103%",
									"language": "en",
									"createdAt": "2017-04-16 09:25:27.292"
								},
								{
									"id": 784,
									"key": "options",
									"value": [
										{
											"id": 745,
											"key": "1",
											"value": "very dissatisfied",
											"language": "en",
											"createdAt": "2017-05-25 11:22:55.0"
										},
										{
											"id": 748,
											"key": "4",
											"value": "satisfied",
											"defaultValue": "",
											"language": "en",
											"createdAt": "2017-05-25 11:28:12.0"
										},
										{
											"id": 747,
											"key": "3",
											"value": "neither satisfied nor dissatisfied",
											"language": "en",
											"createdAt": "2017-05-25 11:27:41.0"
										},
										{
											"id": 749,
											"key": "5",
											"value": "very satisfied",
											"language": "en",
											"createdAt": "2017-05-25 11:28:38.0"
										},
										{
											"id": 746,
											"key": "2",
											"value": "dissatisfied",
											"language": "en",
											"createdAt": "2017-05-25 11:26:57.0"
										}
									],
									"language": "en",
									"createdAt": "2017-05-30 08:31:17.0"
								},
								{
									"id": 713,
									"key": "mandatory",
									"value": 0,
									"language": "en",
									"createdAt": "2017-04-16 09:25:27.293"
								},
								{
									"id": 708,
									"key": "cssClass",
									"value": "user-question",
									"language": "en",
									"createdAt": "2017-04-16 09:25:27.291"
								},
								{
									"id": 741,
									"key": "title",
									"value": "How satisfied are you with the feedback form?",
									"language": "en",
									"createdAt": "2017-05-25 11:20:15.0"
								},
								{
									"id": 712,
									"key": "multiple",
									"value": 0,
									"language": "en",
									"createdAt": "2017-04-16 09:25:27.293"
								},
								{
									"id": 715,
									"key": "breakAfterOption",
									"value": 0,
									"language": "en",
									"createdAt": "2017-04-16 09:25:27.294"
								},
								{
									"id": 742,
									"key": "mandatoryReminder",
									"value": "Please choose an option",
									"defaultValue": "",
									"language": "en",
									"createdAt": "2017-05-25 11:22:55.0"
								},
								{
									"id": 707,
									"key": "page",
									"value": "review",
									"language": "en",
									"createdAt": "2017-04-16 09:25:27.291"
								}
							],
							"createdAt": "2017-04-16 09:26:53.25"
						},
						{
							"id": 86,
							"configurationsId": 39,
							"type": "TEXT_TYPE",
							"active": false,
							"order": 10,
							"canBeActivated": false,
							"parameters": [
								{
									"id": 729,
									"key": "validateOnSkip",
									"value": 1,
									"language": "en",
									"createdAt": "2017-04-16 09:26:41.93"
								},
								{
									"id": 743,
									"key": "label",
									"value": "Your comment:",
									"language": "en",
									"createdAt": "2017-05-25 11:22:55.0"
								},
								{
									"id": 722,
									"key": "mandatory",
									"value": 0,
									"language": "en",
									"createdAt": "2017-04-16 09:26:41.91"
								},
								{
									"id": 716,
									"key": "page",
									"value": "review",
									"language": "en",
									"createdAt": "2017-04-16 09:26:41.88"
								},
								{
									"id": 730,
									"key": "boxWidth",
									"value": "103%",
									"language": "en",
									"createdAt": "2017-04-16 09:26:41.93"
								},
								{
									"id": 728,
									"key": "validationRegex",
									"value": ".",
									"language": "en",
									"createdAt": "2017-04-16 09:26:41.93"
								},
								{
									"id": 725,
									"key": "fieldHeight",
									"value": 50,
									"language": "en",
									"createdAt": "2017-04-16 09:26:41.92"
								},
								{
									"id": 724,
									"key": "fieldWidth",
									"value": 200,
									"language": "en",
									"createdAt": "2017-04-16 09:26:41.92"
								},
								{
									"id": 718,
									"key": "maxLength",
									"value": 2000,
									"language": "en",
									"createdAt": "2017-04-16 09:26:41.89"
								},
								{
									"id": 723,
									"key": "borderWidth",
									"value": 1,
									"language": "en",
									"createdAt": "2017-04-16 09:26:41.91"
								},
								{
									"id": 727,
									"key": "maxLengthVisible",
									"value": 0,
									"language": "en",
									"createdAt": "2017-04-16 09:26:41.92"
								},
								{
									"id": 721,
									"key": "labelPositioning",
									"value": "left",
									"language": "en",
									"createdAt": "2017-04-16 09:26:41.90"
								},
								{
									"id": 726,
									"key": "fieldFontSize",
									"value": 13,
									"language": "en",
									"createdAt": "2017-04-16 09:26:41.92"
								},
								{
									"id": 717,
									"key": "cssClass",
									"value": "user-question",
									"language": "en",
									"createdAt": "2017-04-16 09:26:41.89"
								}
							],
							"createdAt": "2017-04-16 09:26:53.25"
						},
						{
							"id": 87,
							"configurationsId": 39,
							"type": "INFO_TYPE",
							"active": false,
							"order": 7,
							"canBeActivated": false,
							"parameters": [
								{
									"id": 734,
									"key": "boxWidth",
									"value": "103%",
									"language": "en",
									"createdAt": "2017-04-16 09:26:53.27"
								},
								{
									"id": 744,
									"key": "text",
									"value": "Before you send your Feedback:",
									"language": "en",
									"createdAt": "2017-05-24 11:22:55.0"
								},
								{
									"id": 731,
									"key": "page",
									"value": "review",
									"language": "en",
									"createdAt": "2017-04-16 09:26:53.26"
								},
								{
									"id": 732,
									"key": "cssClass",
									"value": "user-question",
									"language": "en",
									"createdAt": "2017-04-16 09:26:53.27"
								}
							],
							"createdAt": "2017-04-16 09:26:53.26"
						},
						{
							"id": 60,
							"configurationsId": 39,
							"type": "AUDIO_TYPE",
							"active": true,
							"order": 4,
							"canBeActivated": false,
							"parameters": [
								{
									"id": 495,
									"key": "maxTime",
									"value": 30,
									"defaultValue": "30.0",
									"editableByUser": false,
									"language": "en",
									"createdAt": "2016-11-09 09:53:39.0"
								},
								{
									"key": "cssClass",
									"value": "valid-on-its-own"
								},
								{
									"key": "title",
									"value": "Please record your voice feedback"
								}
							],
							"createdAt": "2017-07-07 10:19:44.20"
						}
					],
					"generalConfiguration": {
						"id": 61,
						"parameters": [
							{
								"id": 535,
								"key": "feedbackMailKeyName",
								"value": "energiesparkonto@co2online.de",
								"language": "en",
								"createdAt": "2016-12-04 08:41:27.0"
							},
							{
								"id": 786,
								"key": "successMessage",
								"value": "Thank you very much for your feedback! Can we ask you further questions about the feedback tool? Then please click here <a target=\"_blank\" href=\"http://www.questionpro.com/t/ANaSqZaEzf\">short questionnaire</a>",
								"language": "en",
								"createdAt": "2017-07-18 10:20:53.0"
							},
							{
								"id": 785,
								"key": "successDialog",
								"value": 1,
								"language": "en",
								"createdAt": "2017-05-31 07:46:52.0"
							}
						],
						"name": "Senercon ",
						"createdAt": "2016-12-04 08:39:54.0"
					},
					"createdAt": "2016-11-09 09:53:39.0"
				}
			],
			"createdAt": "2016-11-09 09:53:39.0"
		}
	];

/***/ })
/******/ ]);